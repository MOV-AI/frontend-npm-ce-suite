!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MovaiCE=t():e.MovaiCE=t()}(self,(()=>(()=>{"use strict";var e,t,n={22:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(537),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([e.id,".App {\n  display: flex;\n  height: 100%;\n}\n\n/* Center titles */\nh1,\nh2,\nh3,\nh4 {\n  text-align: center;\n}\n\n/* Scrollbar */\n::-webkit-scrollbar {\n  width: 7px;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n  background: lightgray;\n  border-radius: 10px;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: gray;\n  border-radius: 10px;\n}\n\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #ee9500;\n}\n","",{version:3,sources:["webpack://./src/App/App.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,YAAY;AACd;;AAEA,kBAAkB;AAClB;;;;EAIE,kBAAkB;AACpB;;AAEA,cAAc;AACd;EACE,UAAU;AACZ;;AAEA,UAAU;AACV;EACE,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA,WAAW;AACX;EACE,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA,oBAAoB;AACpB;EACE,mBAAmB;AACrB",sourcesContent:[".App {\n  display: flex;\n  height: 100%;\n}\n\n/* Center titles */\nh1,\nh2,\nh3,\nh4 {\n  text-align: center;\n}\n\n/* Scrollbar */\n::-webkit-scrollbar {\n  width: 7px;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n  background: lightgray;\n  border-radius: 10px;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: gray;\n  border-radius: 10px;\n}\n\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #ee9500;\n}\n"],sourceRoot:""}]);const c=i},852:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(537),o=n.n(r),a=n(645),i=n.n(a),c=n(667),s=n.n(c),l=new URL(n(590),n.b),u=i()(o()),d=s()(l);u.push([e.id,".ghost {\n  opacity: 0.5;\n}\n.node_ghost {\n  opacity: 0.5;\n  fill: #b0bec5;\n}\n.nodeLinkTemp {\n  stroke-dasharray: 3, 3;\n}\n.selectedPort {\n  fill: #11ee1a;\n}\n.squareNode {\n  /*THIS DOES NOT WORK ON RECT ELEMENTS!!!!! */\n  border-radius: 100px;\n}\n.children-container,\n.ports-container,\n.links-container,\n.belong-lines {\n  overflow: visible;\n}\n.text-flow-interface {\n  color: #ffffff;\n  fill: #ffffff;\n}\nsvg text.unselectable {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.warningBadge span {\n  background-color: #dbb763;\n  color: black;\n}\n.port-exposed {\n  stroke: darkorange;\n  stroke-width: 2.2;\n}\n\n.port-default {\n  fill: white;\n  /*filter: drop-shadow(0 0 0.03rem black); Firefox issues*/\n}\n.port-default:hover {\n  fill: green;\n}\n.port-over {\n  fill: red;\n}\n.port-movai_msgs-transition {\n  fill: #81334e;\n}\n\n.port-disabled {\n  fill: #717171;\n}\n.port-disabled:hover {\n  fill: red;\n}\n\n.ROS1-Nodelet {\n  fill: #ef5b5b;\n}\n.ROS1-Nodelet-active {\n  fill: #ff7171;\n}\n.ROS1-Node {\n  fill: #684551;\n}\n.ROS1-Node-active {\n  fill: #86636f;\n}\n.ROS1-Plugin {\n  fill: #20a39e;\n}\n.ROS1-Plugin-active {\n  fill: #3dc0bb;\n}\n.ROS1-StateM {\n  fill: #006494;\n}\n.ROS1-StateM-active {\n  fill: #1e82b2;\n}\n.MovAI-Node {\n  fill: #be2424;\n}\n.MovAI-Node-active {\n  fill: #f05656;\n}\n.MovAI-State {\n  fill: #52528c;\n}\n.MovAI-State-active {\n  fill: #6f6fa9;\n}\n.MovAI-Server {\n  fill: #dec5e3;\n}\n.MovAI-Server-active {\n  fill: #f2d9f7;\n}\n.MovAI-Flow {\n  fill: #252125;\n}\n.MovAI-Flow-active {\n  fill: #3b353b;\n}\n.start {\n  fill: #007d56;\n}\n.start-active {\n  fill: #007d56;\n}\n.unknown {\n  fill: #d7dae5;\n}\n.unknown-active {\n  fill: #cfe3f0;\n}\n.ROS2-Node {\n  fill: #f7b05b;\n}\n.ROS2-Node-active {\n  fill: #ffca75;\n}\n.ROS2-LifecycleNode {\n  fill: #a5907e;\n}\n.ROS2-LifecycleNode-active {\n  fill: #bea997;\n}\n.flow-interface-rect {\n  background-color: #424242;\n}\n\n.flow-interface {\n  background-image: url("+d+");\n}\n","",{version:3,sources:["webpack://./src/editors/Flow/view/Resources/css/Flow.css"],names:[],mappings:"AAAA;EACE,YAAY;AACd;AACA;EACE,YAAY;EACZ,aAAa;AACf;AACA;EACE,sBAAsB;AACxB;AACA;EACE,aAAa;AACf;AACA;EACE,4CAA4C;EAC5C,oBAAoB;AACtB;AACA;;;;EAIE,iBAAiB;AACnB;AACA;EACE,cAAc;EACd,aAAa;AACf;AACA;EACE,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,yBAAyB;EACzB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,yDAAyD;AAC3D;AACA;EACE,WAAW;AACb;AACA;EACE,SAAS;AACX;AACA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;;AAEA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yDAAwrD;AAC1rD",sourcesContent:[".ghost {\n  opacity: 0.5;\n}\n.node_ghost {\n  opacity: 0.5;\n  fill: #b0bec5;\n}\n.nodeLinkTemp {\n  stroke-dasharray: 3, 3;\n}\n.selectedPort {\n  fill: #11ee1a;\n}\n.squareNode {\n  /*THIS DOES NOT WORK ON RECT ELEMENTS!!!!! */\n  border-radius: 100px;\n}\n.children-container,\n.ports-container,\n.links-container,\n.belong-lines {\n  overflow: visible;\n}\n.text-flow-interface {\n  color: #ffffff;\n  fill: #ffffff;\n}\nsvg text.unselectable {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.warningBadge span {\n  background-color: #dbb763;\n  color: black;\n}\n.port-exposed {\n  stroke: darkorange;\n  stroke-width: 2.2;\n}\n\n.port-default {\n  fill: white;\n  /*filter: drop-shadow(0 0 0.03rem black); Firefox issues*/\n}\n.port-default:hover {\n  fill: green;\n}\n.port-over {\n  fill: red;\n}\n.port-movai_msgs-transition {\n  fill: #81334e;\n}\n\n.port-disabled {\n  fill: #717171;\n}\n.port-disabled:hover {\n  fill: red;\n}\n\n.ROS1-Nodelet {\n  fill: #ef5b5b;\n}\n.ROS1-Nodelet-active {\n  fill: #ff7171;\n}\n.ROS1-Node {\n  fill: #684551;\n}\n.ROS1-Node-active {\n  fill: #86636f;\n}\n.ROS1-Plugin {\n  fill: #20a39e;\n}\n.ROS1-Plugin-active {\n  fill: #3dc0bb;\n}\n.ROS1-StateM {\n  fill: #006494;\n}\n.ROS1-StateM-active {\n  fill: #1e82b2;\n}\n.MovAI-Node {\n  fill: #be2424;\n}\n.MovAI-Node-active {\n  fill: #f05656;\n}\n.MovAI-State {\n  fill: #52528c;\n}\n.MovAI-State-active {\n  fill: #6f6fa9;\n}\n.MovAI-Server {\n  fill: #dec5e3;\n}\n.MovAI-Server-active {\n  fill: #f2d9f7;\n}\n.MovAI-Flow {\n  fill: #252125;\n}\n.MovAI-Flow-active {\n  fill: #3b353b;\n}\n.start {\n  fill: #007d56;\n}\n.start-active {\n  fill: #007d56;\n}\n.unknown {\n  fill: #d7dae5;\n}\n.unknown-active {\n  fill: #cfe3f0;\n}\n.ROS2-Node {\n  fill: #f7b05b;\n}\n.ROS2-Node-active {\n  fill: #ffca75;\n}\n.ROS2-LifecycleNode {\n  fill: #a5907e;\n}\n.ROS2-LifecycleNode-active {\n  fill: #bea997;\n}\n.flow-interface-rect {\n  background-color: #424242;\n}\n\n.flow-interface {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n"],sourceRoot:""}]);const p=u},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([a]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var p=n(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},590:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27100%27 height=%27100%27 viewBox=%270 0 100 100%27%3E%3Cg fill-rule=%27evenodd%27%3E%3Cg fill=%27%239C92AC%27 fill-opacity=%270.4%27%3E%3Cpath opacity=%27.5%27 d=%27M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z%27/%3E%3Cpath d=%27M6 5V0H5v5H0v1h5v94h1V6h94V5H6z%27/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"},506:e=>{e.exports=require("joi")},32:e=>{e.exports=require("web-vitals")}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,exports:{}};return n[e](a,a.exports,o),a.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);o.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var c=2&r&&n;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.b=document.baseURI||self.location.href;var a={};return(()=>{o.r(a),o.d(a,{BaseApp:()=>rc,CallbackModel:()=>tl,CallbackStore:()=>cl,CallbackView:()=>Yl,ConfigurationModel:()=>Qc,ConfigurationStore:()=>gs,ConfigurationView:()=>Us,DBSubscriber:()=>vs,FlowModel:()=>Gp,FlowStore:()=>Up,FlowView:()=>Ob,Manager:()=>wc,Model:()=>vc,NodeModel:()=>Wl,NodeStore:()=>ru,NodeView:()=>Ud,Store:()=>is,installEditor:()=>tc,installTool:()=>nc,withAlerts:()=>go,withEditorPlugin:()=>Is,withKeyBinds:()=>ws,withTheme:()=>Vt,withViewPlugin:()=>rr});const e=require("react");var t=o.n(e);const n=require("react-dom");var r=o.n(n);const i=require("@mov-ai/mov-fe-lib-react"),c=require("@material-ui/core/styles"),s=require("@babel/runtime/helpers/esm/defineProperty");var l=o.n(s);const u=require("lodash");var d=o.n(u);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m="#000000",v="#ffffff",h={MuiAppBar:{positionStatic:{zIndex:10}}},g={dark:{background:m,topBarColor:i.Themes.dark.palette.background.default,dockLayout:{background:v},backdrop:{color:i.Themes.dark.textColor,background:i.Themes.dark.palette.background.secondary},saveBar:{backgroundColor:i.Themes.dark.palette.background.secondary},nodeEditor:{backgroundColor:"#292929",stripeColor:"#3b3b3b"},robotDetails:{interfaceColor:i.Themes.dark.palette.background.primary,backgroundColor:"#292929",stripeColor:"#3b3b3b"},codeEditor:{theme:"vs-dark"},flowEditor:{interfaceColor:i.Themes.dark.palette.background.primary},diffTool:{background:"#505050",removedBackground:"#632F34",addedBackground:"#044B53",color:"#24292e",jsonEditor:{background:"#363946",color:i.Themes.dark.textColor,readOnly:"#acacac"}},layoutEditor:{background:i.Themes.dark.palette.background.secondary,gridItemDev:"#ffdeb7",gridItemPreview:v,itemBoxColor:"#969696",itemBoxColorHover:v}},light:{dockLayout:{background:m},background:i.Themes.light.palette.background.primary,topBarColor:i.Themes.light.palette.background.secondary,backdrop:{color:i.Themes.light.textColor,background:i.Themes.light.palette.background.secondary},saveBar:{backgroundColor:i.Themes.light.palette.background.secondary},nodeEditor:{backgroundColor:"whitesmoke",stripeColor:"#cfcfcf"},robotDetails:{interfaceColor:"#afafaf",backgroundColor:"whitesmoke",stripeColor:"#cfcfcf"},flowEditor:{interfaceColor:"#afafaf"},layoutEditor:{background:i.Themes.light.palette.background.primary,gridItemDev:"lightgrey",gridItemPreview:v,itemBoxColor:"#3e3e3e",itemBoxColorHover:m},diffTool:{background:i.Themes.light.palette.background.secondary,removedBackground:"#ffdce0",addedBackground:"#cdffd8",color:"#24292e",jsonDiff:{color:"#4a6b08"},jsonEditor:{background:"lightslategray",color:i.Themes.light.textColor,readOnly:"#d8d6d6"}},codeEditor:{theme:"light"}}};Object.keys(g).forEach((function(e){var t;g[e].overrides=f(f({},null!==(t=g[e].overrides)&&void 0!==t?t:{}),h)}));var y=d().merge(i.Themes,g);const b=require("@material-ui/core"),E=require("@material-ui/core/Grid");var A=o.n(E);const O=require("@babel/runtime/helpers/esm/asyncToGenerator");var C=o.n(O);const w=require("@babel/runtime/helpers/esm/toConsumableArray");var D=o.n(w);const k=require("@babel/runtime/helpers/esm/classCallCheck");var P=o.n(k);const N=require("@babel/runtime/helpers/esm/createClass");var R=o.n(N);const T=require("@babel/runtime/helpers/esm/assertThisInitialized");var S=o.n(T);const x=require("@babel/runtime/helpers/esm/inherits");var I=o.n(x);const L=require("@babel/runtime/helpers/esm/possibleConstructorReturn");var M=o.n(L);const j=require("@babel/runtime/helpers/esm/getPrototypeOf");var B=o.n(j);const z=require("@babel/runtime/regenerator");var F=o.n(z);const G=require("@mov-ai/mov-fe-lib-core"),V=require("i18next");var Y=o.n(V);const H=require("react-i18next");var q,K,U={en:{translation:JSON.parse('{"About":"About","Actions":"Actions","Add":"Add","AddAction":"Add {{actionTitle}}","AddGroup":"Add Group","AddImport":"Add Import","AddNode":"Add Node","AddNodeOrSubFlow":"Add Node / Sub-flow","AddSubFlow":"Add Sub-flow","Alert":"Alert","AllDependenciesLabel":"All dependencies","AnotherFlowRunningConfirmationTitle":"Another flow is running!","AnotherFlowRunningConfirmationMessage":"\'{{robotName}}\' is running flow \'{{activeFlow}}\'.\\nAre you sure you want to run the flow \'{{id}}\'?","AppDescription":"App Description","AppKeybindLabel":"Global","AppKeybindDescription":"Keyboard Shortcuts that can be used all over the app.","Callback":"Callback","CallbackCreated":"Callback created","Callbacks":"Callbacks","CallbackDetailsMenuTitle":"Callback Details Menu","Cancel":"Cancel","CancelKeybindDescription":"Use to cancel an action.","ChangeAllOcurrencesKeybindLabel":"Change all ocurrences","ChangeAllOcurrencesKeybindDescription":"Use to select all ocurrences of the selected word, then you can change them all at once.","CloseModalOpenTemplate":"Close modal and open \'{{templateName}}\'","CommandLine":"Command Line","CommandPaletteKeybindLabel":"Command Palette","CommandPaletteKeybindDescription":"Use to open the command palette with all the available commands.","Compare":"Compare","Configuration":"Configuration","Configurations":"Configurations","ConfigurationFile-Colon":"Configuration File:","ConfigurationDetailsMenuTitle":"Configuration Details Menu","ConfigurationNotFound":"Configuration/key not found","Confirm":"Confirm","ConfirmDelete":"Confirm to delete","ConfirmDeleteParam":"Confirm to delete \'{{paramName}}\'","Copy":"Copy","CopyCode":"Copy selected code","CopyCodeKeybindDescription":"Use to copy a selected block of code.","CopyKeybindDescription":"Use to copy something.","CopyDocTo":"Copy \'{{docName}}\' to","CopyingDoc":"Copying Document","CopyNode":"Copy Node","CopyNodeKeybindDescription":"Use to copy a node.","Create":"Create","CreateCallback":"Create Callback","CreateNewDoc":"Create new Document","CustomConfigurationFile-Colon":"Custom Configuration File:","CutCode":"Cut selected code","CutCodeKeybindDescription":"Use to cut a selected block of code.","DataValidationFailed":"Data validation failed","Default":"Default","DefaultDialogTitle":"Are you sure?","DefaultFlowView":"Default Flow view","DefaultValue":"Default Value","Delete":"Delete","DeleteKeybindDescription":"Use to delete something.","DeleteGroup":"Delete Group","DeleteDocConfirmationTitle":"Confirm Delete","DeleteDocConfirmationMessage":"Are you sure you want to delete the document \'{{docName}}\'?","DeleteKeyConfirmationMessage":"Are you sure you want to delete the key \'{{key}}\'?","DependenciesLevel":"Dependencies level","DependencyInfoTitle":"Colors by Dependency","MinifiedDependencyInfoTitle":"Info","Description":"Description","DisableParamType":"Disable {{paramType}}","DisabledParamType":"{{paramType}} Disabled","Documentation":"Documentation","DontSave":"Don\'t Save","Edit":"Edit","EditCallback":"Edit Callback","EditDescription":"Edit Description","EditGroup":"Edit Group","EditMessage":"Edit Message","EditParamType":"Edit {{paramType}}","EditorMonacoKeybindLabel":"Monaco Code Editor","EditorMonacoKeybindDescription":"Keyboard Shortcuts that are to be used inside the Monaco Code Editor. Monaco Editor is being used for Callbacks and Configurations.","EditorGeneralKeybindLabel":"All Editors","EditorGeneralKeybindDescription":"Keyboard Shortcuts that can be used in all Editors.","EditorFlowKeybindLabel":"Flow Editor","EditorFlowKeybindDescription":"Keyboard Shortcuts that are to be used inside the Flow Editor.","EnvVars":"Env. Variables","EnvironmentVariable":"Environment Variable","EnvironmentVariables":"Environment Variables","Examples":"Examples","ExecutionParameters":"Execution Parameters","ErrorRunningSpecificCallback":"Error running {{callbackName}} callback","FailedFlowAction":"Failed to {{action}} flow","FailedToLoadLibraries":"Failed to load libraries","FailedToLoadMessages":"Failed to load messages","FailedToSave":"Failed to save","File":"File","FileUrlDoesntExist":"The file \'{{FILE_URL}}\' doesn\'t exist.","Fix":"Fix","Flow":"Flow","FlowDetailsMenuTitle":"Flow Details","Flows":"Flows","FlowTemplate":"Flow Template","FlowTemplate-Colon":"Flow Template:","From":"From","Forum":"Forum","GroupName":"Group Name","HomeTabTitle":"Get Started","HomeTabKeybindDescription":"Use to open the Welcome Tab.","IOConfiguration":"I/O Configuration","Imports":"Imports","Inputs":"Inputs","InvalidContainersParamTitle":"Sub-Flows with invalid parameters","InvalidContainersParamMessagePre":"The parameters of the sub-flow should come from the flow template.\\nThe following sub-flows contains custom parameters that are not present on its template:","InvalidContainersParamMessagePost":"To fix it, you can either remove the custom parameter on the sub-flow or add the parameter on the template.","InvalidExposedPorts":"Invalid Exposed Ports","InvalidExposedPortsFound":"Invalid Exposed Ports found","InvalidExposedPortsMessagePre":"The Node Ports are added in the template.\\nThe following Node Instances contain invalid Exposed Ports that might have been deleted from the template.","InvalidExposedPortsMessagePost":"Do you want to fix this? This will remove all invalid Exposed Ports and save the Flow.","InvalidExposedPorts-Colon":"Invalid Exposed Ports:","InvalidInstanceName":"Invalid {{instance}} name","InvalidLinksFoundTitle":"Invalid links found","InvalidLinksFoundMessage":"Do you want to fix this? This will remove all invalid links and save the Flow","InvalidName":"Invalid Name","InvalidSubFlowParameters":"Invalid Sub-Flow Parameters","InvalidTypeName":"Invalid {{typeName}} name","IsPersistent":"Is persistent","IsRemappable":"Is remappable","Label":"Label","LastUpdate-Colon":"Last Updated:","Launch":"Launch","LaunchDescription":"Controls whether the Node is to be launched or not.","Link":"Link","LinkDependencies":"Link Dependencies","LinkDependenciesHelperText":"Checks node dependencies","LinkInstanceMenuTitle":"Link Instance Menu","LinkSource":"Link Source","LinkTarget":"Link Target","Loading":"Loading","MandatoryName":"Name is mandatory","MandatoryStringQuotes":"String must be in quotes","MandatoryInstanceName":"{{instance}} name is mandatory","MandatoryTypeName":"{{typeName}} name is mandatory","Message":"Message","MessageMismatchedLinks":"There\'re links with message mismatch","MoveNode":"Move selected nodes","MoveNodeKeybindDescription":"Move selected nodes with arrow keys","MultipleInstancesSameName":"Cannot have multiple instances with same name","Name":"Name","Name-Colon":"Name:","NewDoc":"New Document","NewDocTitle":"New {{scope}}","NoDependenciesLabel":"No Dependencies","NoGroups":"No Groups","NoImports":"No imports","NoHomeTabExamples":"No examples available","NoMessageDefined":"No message defined","NoMessageChosen":"No Message chosen","NoPackageChosen":"No Package chosen","NoParameters":"No Parameters","NoRecordsMessage":"No records to display","NoTransportProtocolChosen":"No Transport and Protocol chosen","Node":"Node","Node-Colon":"Node:","Nodes":"Nodes","NodeDeleteConfirmation":"Are you sure you want to delete {{nodes}}?","NodeDetailsMenuTitle":"Node Details Menu","NodeInstanceMenuTitle":"Node Instance Menu","NodeInstance-Colon":"Node Instance:","NodeTemplate":"Node Template","NodeTemplate-Colon":"Node Template:","NotPersistent":"Not persistent","NotRemappable":"Not remappable","NotToLaunch":"Not to launch","Ok":"Ok","OnlyFromLabel":"Only From -> To","OnlyToLabel":"Only To -> From","OpenCallbackName":"Open {{callbackName}}","OpenDocUrl":"Open {{docUrl}}","OpenRecent":"Open Recent","Outputs":"Outputs","OverwriteDoc":"Overwrite Document","Package":"Package","Parameter":"Parameter","Parameters":"Parameters","Parameters-Colon":"Parameters:","ParameterDeleteConfirmationMessage":"Are you sure you want to delete the parameter \'{{paramName}}\' with the value \'{{value}}\'?","Paste":"Paste","PasteCode":"Paste copied code","PasteCodeKeybindDescription":"Use to paste copied code.","PasteKeybindDescription":"Use to paste something.","PasteNode":"Paste Node","PasteNodeKeybindDescription":"Use to paste a node.","PasteNodeModel":"Paste {{nodeModel}}","Path":"Path","Persistent":"Persistent","PersistentNodeTitle":"Persistent node","PersistentNodeDescription":"After launch, the node will remain active during the flow execution.","Port":"Port","Port-Colon":"Port:","Ports-Colon":"Ports:","PreviewHelperText":"Hover a node to see more information","Properties":"Properties","QuickAccess":"Quick Access","Recent":"Recent","Redo":"Redo","RedoKeybindDescription":"Use to rollforward changes.","RemoveAll":"Remove All","RemoveImport":"Remove import","RemoveMessage":"Remove message","Remappable":"Remappable","RemappableDescription":"Allows, or not, the ports of the node to be remapped.","ResetSearch":"Reset Search","ResetZoom":"Reset Zoom","ResetZoomKeybindDescription":"Reset the flow original Zoom","Run":"Run","Save":"Save","SaveDoc":"Save Document","SaveDocKeybindDescription":"Use to save currently active Document.","SaveAllDocs":"Save All","SaveAllDocsKeybindDescription":"Use to save all dirty Documents.","SaveAndRun":"Save & Run","SaveChangesConfirmationTitle":"Do you want to save the changes?","SaveChangesConfirmationMessage":"Your changes to the {{scope}} \'{{name}}\' will be lost if you don\'t save them.","SaveOutdatedDocTitle":"The document \'{{docName}}\' is outdated","SaveOutdatedDocMessage":"\'{{docName}}\' of type \'{{docType}}\' has recent updates in the Database. The version you are working is outdated.\\n\\nIf you update document your changes will be lost.","SavedSuccessfully":"Saved Successfully","Scope":"Scope","Scope-Colon":"Scope:","Search":"Search","SearchNode":"Search node...","SearchNodeKeybindDescription":"Search for nodes visible in the current flow","SearchSomething":"Write something to Search","SelectCallback":"Select a callback","Shortcut":"Shortcut","ShortcutsTabTitle":"Keyboard Shortcuts","ShortcutsTabKeybindDescription":"Use to open the Shortcut Tab.","SomethingWentWrong":"Something went wrong","SourcePort":"Source Port","StartFlow":"Start Flow","StartLinkNotFound":"Start link(s) not found","StopFlow":"Stop Flow","SubFlow":"Sub-Flow","Submit":"Submit","TargetPort":"Target Port","TemplateName-Colon":"Template Name:","TheSelectedNodes":"the selected nodes","ToLaunch":"To launch","ToggleExposed":"Toggle Exposed","ToggleFlowDebug":"Debug Links","ToggleFlowDebugDescription":"Toggle Links Debug mode to see dependency colors","TransportProtocol":"Transport / Protocol","TreeView":"Tree view","Type":"Type","Type-Colon":"Type:","Undo":"Undo","UndoKeybindDescription":"Use to rollback changes.","UpdateDoc":"Update Document","UseCustomValue":"Use Custom Value","UseDefaultValue":"Use Default Value","User-Colon":"User:","Value":"Value","ValidationMethodNotImplemented":"Validation method not implemented","Version-Colon":"Version","Yes":"Yes"}')},pt:{translation:JSON.parse('{"About":"Sobre","Actions":"Ações","Add":"Adicionar","AddAction":"Adicionar {{actionTitle}}","AddGroup":"Adicionar Grupo","AddImport":"Adicionar Importação","AddNode":"Adicionar Node","AddNodeOrSubFlow":"Adicionar Node / Sub-Flow","AddSubFlow":"Addicionar Sub-Flow","Alert":"Alerta","AllDependenciesLabel":"Todas as dependências","AnotherFlowRunningConfirmationTitle":"Outro Flow já está a correr!","AnotherFlowRunningConfirmationMessage":"\'{{robotName}}\' está a correr o Flow \'{{activeFlow}}\'.\\nTem a certeza que quer correr o Flow \'{{id}}\'?","AppDescription":"Descrição da App","AppKeybindLabel":"Atalhos de teclado da App","AppKeybindDescription":"Atalhos de teclado que podem ser usados em toda a aplicação.","Callback":"Callback","CallbackCreated":"Callback criada","Callbacks":"Callbacks","CallbackDetailsMenuTitle":"Menu de detalhes da Callback","Cancel":"Cancelar","CancelKeybindDescription":"Use para cancelar uma ação.","ChangeAllOcurrencesKeybindLabel":"Alterar todas as ocorrências","ChangeAllOcurrencesKeybindDescription":"Use para selecionar todas as ocorrências da palavra seleccionada, depois pode fazer alterações a todas elas ao mesmo tempo.","CloseModalOpenTemplate":"Fechar modal e abrir \'{{templateName}}\'","CommandLine":"Linha de Comando","CommandPaletteKeybindLabel":"Lista de Comandos","CommandPaletteKeybindDescription":"Use para abrir a Lista de Comandos com todos os comandos disponíveis.","Compare":"Comparar","Configuration":"Configuração","Configurations":"Configurações","ConfigurationFile-Colon":"Ficheiro de Configurações:","ConfigurationDetailsMenuTitle":"Menu de detalhes da Configuração","ConfigurationNotFound":"Configuração/Chave não encontrados","Confirm":"Confirmar","ConfirmDelete":"Confirme para apagar","ConfirmDeleteParam":"Confirme para apagar \'{{paramName}}\'","Copy":"Copiar","CopyCode":"Copiar seleção de código","CopyCodeKeybindDescription":"Use para copiar um bloco selecionado de código.","CopyKeybindDescription":"Use para copiar algo.","CopyDocTo":"Copiar \'{{docName}}\' para","CopyingDoc":"Copiando Documento","CopyNode":"Copiar Node","CopyNodeKeybindDescription":"Use para copiar um Node.","Create":"Criar","CreateCallback":"Criar Callback","CreateNewDoc":"Criar novo Documento","CustomConfigurationFile-Colon":"Ficheiro de Configurações Personalizado:","CutCode":"Cortar seleção de código","CutCodeKeybindDescription":"Use para cortar um bloco selecionado de código.","DataValidationFailed":"Validação de dados falhou","Default":"Padrão","DefaultDialogTitle":"Tem a certeza?","DefaultFlowView":"Visão de Flow Padrão","DefaultValue":"Valor Padrão","Delete":"Apagar","DeleteKeybindDescription":"Use para apagar algo.","DeleteGroup":"Apagar Grupo","DeleteDocConfirmationTitle":"Confirme para Apagar","DeleteDocConfirmationMessage":"Tem a certeza que quer apagar o documento \'{{docName}}\'?","DeleteKeyConfirmationMessage":"Tem a certeza que quer apagar a chave \'{{key}}\'?","DependenciesLevel":"Nível de Dependências","DependencyInfoTitle":"Cores por Dependência","MinifiedDependencyInfoTitle":"Info","Description":"Descrição","DisableParamType":"Desabilitar {{paramType}}","DisabledParamType":"{{paramType}} Desabilitado","Documentation":"Documentação","DontSave":"Não Salvar","Edit":"Editar","EditCallback":"Editar Callback","EditDescription":"Editar Descrição","EditGroup":"Editar Grupo","EditMessage":"Editar Mensagem","EditParamType":"Editar {{paramType}}","EditorMonacoKeybindLabel":"Editor de Código Monaco","EditorMonacoKeybindDescription":"Atalhos de teclado que podem ser usados dentro do Editor de Código Monaco. O Editor de Código Monaco está a ser usado nas Callbacks e Configurações.","EditorGeneralKeybindLabel":"Atalhos de teclado dos Editores","EditorGeneralKeybindDescription":"Atalhos de teclado que podem ser usados em todos os Editores.","EditorFlowKeybindLabel":"Atalhos de teclado do Editor de Flows","EditorFlowKeybindDescription":"Atalhos de teclado que podem ser usados dentro do Editor de Flows.","EnvVars":"Var. de Ambiente","EnvironmentVariable":"Variável de Ambiente","EnvironmentVariables":"Variáveis de Ambiente","Examples":"Exemplos","ExecutionParameters":"Parâmetros de Execução","ErrorRunningSpecificCallback":"Erro ao tentar correr a Callback {{callbackName}}","FailedFlowAction":"Falha ao {{action}} o Flow","FailedToLoadLibraries":"Falha ao Carregar as Bibliotecas","FailedToLoadMessages":"Falha ao Carregar as Mensagens","FailedToSave":"Falha ao Salvar","File":"Ficheiro","FileUrlDoesntExist":"O Ficheiro \'{{FILE_URL}}\' não existe.","Fix":"Arranjar","Flow":"Flow","FlowDetailsMenuTitle":"Detalhes do Flow","Flows":"Flows","FlowTemplate":"Modelo do Flow","FlowTemplate-Colon":"Modelo do Flow:","From":"De","Forum":"Forúm","GroupName":"Nome do Grupo","HomeTabTitle":"Início","HomeTabKeybindDescription":"Use para abrir a Aba de Início.","IOConfiguration":"Configuração E/S","Imports":"Importações","Inputs":"Entradas","InvalidContainersParamTitle":"Sub-Fuxos com parâmetros inválidos","InvalidContainersParamMessagePre":"Os parâmetros do Sub-Flow devem vir do modelo de Flow.\\\\nOs seguintes Sub-Flows contêm parâmetros personalizados que não estão presentes em seu modelo:","InvalidContainersParamMessagePost":"Para corrigir isso, você pode remover o parâmetro personalizado no Sub-Flow ou adicionar o parâmetro no modelo.","InvalidExposedPorts":"Portas Expostas Inválidas","InvalidExposedPortsFound":"Foram encontradas Portas Expostas inválidas","InvalidExposedPortsMessagePre":"As Portas dos Nós são adicionadas no template.\\nAs seguintes instâncias de Nó contêm Portas Expostas que podem ter sido apagadas do template.","InvalidExposedPortsMessagePost":"Quer corrigir isso? Esta ação vai remover todos as Portas Expostas inválidas do Fluxo e salvá-lo.","InvalidExposedPorts-Colon":"Portas Expostas Inválidas:","InvalidInstanceName":"Nome de {{instance}} inválido","InvalidLinksFoundTitle":"Foram encontradas ligações inválidas","InvalidLinksFoundMessage":"Quer corrigir isso? Esta ação vai remover todos as ligações inválidas do Flow e salvá-lo.","InvalidName":"Nome inválido","InvalidSubFlowParameters":"Parâmetros de Sub-Flow inválidos","InvalidTypeName":"Nome de {{typeName}} inválido","IsPersistent":"É persistente","IsRemappable":"É remapeável","Label":"Nome","LastUpdate-Colon":"Última atualização:","Launch":"Enviar","LaunchDescription":"Controla se o Node deve ser lançado ou não.","Link":"Ligação","LinkDependencies":"Dependências de Ligações","LinkDependenciesHelperText":"Verifica as dependências do Node","LinkInstanceMenuTitle":"Menu de detalhes da instância da Ligação","LinkSource":"Saída da Ligação","LinkTarget":"Entrada da Ligação","Loading":"Carregando","MandatoryName":"Nome é obrigatório","MandatoryStringQuotes":"String deve estar entre aspas","MandatoryInstanceName":"Nome de {{instance}} é obrigatório","MandatoryTypeName":"Nome do {{typeName}} é obrigatório","Message":"Mensagem","MessageMismatchedLinks":"Existem Ligações em portas com mensagens diferentes","MoveNode":"Mover Nodes selecionados","MoveNodeKeybindDescription":"Mover Nodes selecionados com as teclas direcionais","MultipleInstancesSameName":"Cannot have multiple instances with same name","Name":"Nome","Name-Colon":"Nome:","NewDoc":"Novo Documento","NewDocTitle":"Novo {{scope}}","NoDependenciesLabel":"Sem Dependências","NoGroups":"Sem Grupos","NoImports":"Sem Importações","NoHomeTabExamples":"Sem abas disponíveis","NoMessageDefined":"Nenhuma mensagem definida","NoMessageChosen":"Mensagem não foi seleccionada","NoPackageChosen":"Pacote não foi seleccionado","NoParameters":"Sem Parâmetros","NoRecordsMessage":"Não há dados a serem exibidos","NoTransportProtocolChosen":"Transporte e Protocolo não foram seleccionados","Node":"Node","Node-Colon":"Node:","Nodes":"Nodes","NodeDeleteConfirmation":"Tem a certeza que quer apagar {{nodes}}?","NodeDetailsMenuTitle":"Menu de detalhes do Node","NodeInstanceMenuTitle":"Menu de detalhes da instância do Node","NodeInstance-Colon":"Instância do Nó:","NodeTemplate":"Template do Nó","NodeTemplate-Colon":"Template do Nó:","NotPersistent":"Não persistente","NotRemappable":"Não remapeável","NotToLaunch":"Não enviar","Ok":"Ok","OnlyFromLabel":"Apenas De -> Para","OnlyToLabel":"Apenas Para -> De","OpenCallbackName":"Abrir {{callbackName}}","OpenDocUrl":"Abrir {{docUrl}}","OpenRecent":"Abrir Recentes","Outputs":"Saídas","OverwriteDoc":"Substituir Documento","Package":"Pacote","Parameter":"Parâmetro","Parameters":"Parâmetros","Parameters-Colon":"Parâmetros:","ParameterDeleteConfirmationMessage":"Tem a certeza que deseja apagar o Parâmetro \'{{paramName}}\' que tem o valor \'{{value}}\'?","Paste":"Colar","PasteCode":"Colar código copiado","PasteCodeKeybindDescription":"Use para colar o código copiado.","PasteKeybindDescription":"Use para colar algo.","PasteNode":"Colar Node","PasteNodeKeybindDescription":"Use para colar um Node.","PasteNodeModel":"Colar {{nodeModel}}","Path":"Caminho","Persistent":"Persistente","PersistentNodeTitle":"Node Persistente","PersistentNodeDescription":"Depois do início, o Node ficará ativo durante a execução do Flow.","Port":"Porta","Port-Colon":"Porta:","Ports-Colon":"Portas:","PreviewHelperText":"Passe com o rato por cima de um Node para ver mais informações","Properties":"Propriedades","QuickAccess":"Acesso Rápido","Recent":"Recente","Redo":"Refazer","RedoKeybindDescription":"Use para voltar para refazer as alterações.","RemoveAll":"Remover Todos","RemoveImport":"Remover importação","RemoveMessage":"Remover mensagem","Remappable":"Remapeável","RemappableDescription":"Permite, ou não, que as portas do Node sejam remapeadas.","ResetSearch":"Limpar Pesquisa","ResetZoom":"Restaurar Zoom","ResetZoomKeybindDescription":"Restaurar o Zoom original","Run":"Correr","Save":"Salvar","SaveDoc":"Salvar Documento","SaveDocKeybindDescription":"Use para salvar o Documento activo.","SaveAllDocs":"Savar Todos","SaveAllDocsKeybindDescription":"Use para salvar todos os Documentos abertos com alterações.","SaveAndRun":"Salvar e Correr","SaveChangesConfirmationTitle":"Quer salvar as alterações?","SaveChangesConfirmationMessage":"As suas alterações ao ficheiro {{scope}} \'{{name}}\' vão ser perdidas se não as salvar.","SaveOutdatedDocTitle":"O documento \'{{docName}}\' está desatualizado","SaveOutdatedDocMessage":"\'{{docName}}\' do tipo \'{{docType}}\' tem uma versão mais recente na base de dados. A versão em que está a trabalhar está desatualizada.\\n\\nSe fez alterações ao ficheiro estas serão perdidas.","SavedSuccessfully":"Salvo com Sucesso","Scope":"Escopo","Scope-Colon":"Escopo:","Search":"Procurar","SearchNode":"Procurar node...","SearchNodeKeybindDescription":"Procurar por nodes visíveis no flow actual","SearchSomething":"Escreva algo para Procurar","SelectCallback":"Seleccionar uma Callback","Shortcut":"Atalho","ShortcutsTabTitle":"Atalhos de teclado","ShortcutsTabKeybindDescription":"Use para abrir a Aba de Atalhos de teclado.","SomethingWentWrong":"Algo errado aconteceu","SourcePort":"Porta de Saída","StartFlow":"Começar Flow","StartLinkNotFound":"Ligação inicial não encontrada","StopFlow":"Parar Flow","SubFlow":"Sub-Flow","Submit":"Enviar","TargetPort":"Porta de Entrada","TemplateName-Colon":"Nome do Template:","TheSelectedNodes":"os Nodes seleccionados.","ToLaunch":"Para Enviar","ToggleExposed":"Alternar Exposição","ToggleFlowDebug":"Debuggar Ligações","ToggleFlowDebugDescription":"Alternar Modo de Debug das Ligações do Flow para ver as cores das dependencias","TransportProtocol":"Transporte / Protocolo","TreeView":"Visualização em árvore","Type":"Tipo","Type-Colon":"Tipo:","Undo":"Desfazer","UndoKeybindDescription":"Use para desfazer as alterações.","UpdateDoc":"Atualizar Documento","UseCustomValue":"Definir Valor","UseDefaultValue":"Usar Valor Inicial","User-Colon":"Utilizador:","Value":"Valor","ValidationMethodNotImplemented":"Método de Validação não implementado.","Version-Colon":"Versão:","Yes":"Sim"}')}},W=void 0===(null===(q=window)||void 0===q||null===(K=q.SERVER_DATA)||void 0===K?void 0:K.Language)?"en":window.SERVER_DATA.Language;Y().use(H.initReactI18next).init({resources:U,lng:W,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1}});const X=Y();var _="global",Z=void 0,Q="None",J="boolean",$="string",ee="number",te="object",ne="array",re="any",oe="Callback",ae="Flow",ie="abstractHost",ce={NAME:"topBar"},se={NAME:"leftPanel"},le={NAME:"mainPanel"},ue={NAME:"leftDrawer",CALL:{OPEN:"open",CLOSE:"close",TOGGLE:"toggle"}},de="bottomBar",pe={APP_KEYBINDINGS:{NAME:"appKeybindings"},DOC_MANAGER:{NAME:"docManager",CALL:{READ:"read",SAVE:"save",BROADCAST:"broadcast",GET_STORE:"getStore",GET_DOC_FACTORY:"getDocFactory",GET_DOC_TYPES:"getDocTypes",SUBSCRIBE_TO_CHANGES:"subscribeToChanges",UNSUBSCRIBE_TO_CHANGES:"unSubscribeToChanges",GET_DOC_FROM_NAME_TYPE:"getDocFromNameType",CHECK_DOCUMENT_EXISTS:"checkDocumentExists",DISCARD_DOC_CHANGES:"discardDocChanges",RELOAD_DOC:"reloadDoc",COPY:"copy",DELETE:"delete",CREATE:"create",SAVE_ACTIVE_EDITOR:"saveActiveEditor",SAVE_DIRTIES:"saveDirties"},ON:{FLOW_EDITOR:"flowEditor",UPDATE_DOC_DIRTY:"updateDocDirty",DELETE_DOC:"deleteDoc",UPDATE_DOCS:"updateDocs",LOAD_DOCS:"loadDocs",SAVE_DOC:"saveDoc",BEFORE_SAVE_DOC:"beforeSaveDoc"}},TABS:{NAME:"tabs",CALL:{OPEN:"open",CLOSE:"close",OPEN_EDITOR:"openEditor",UPDATE_TAB_ID:"updateTabId",FOCUS_ACTIVE_TAB:"focusActiveTab",GET_ACTIVE_TAB:"getActiveTab"},ON:{OPEN_EDITOR:"openEditor",ACTIVE_TAB_CHANGE:"activeTabChange"}},RIGHT_DRAWER:{NAME:"rightDrawer",CALL:{ADD_BOOKMARK:"addBookmark",SET_BOOKMARK:"setBookmark",REMOVE_BOOKMARK:"removeBookmark",RESET_BOOKMARKS:"resetBookmarks"},ON:{CHANGE_BOOKMARK:"changeBookmark"}},DIALOG:{NAME:"dialog",CALL:{NEW_DOC:"newDocument",SAVE_OUTDATED_DOC:"saveOutdatedDocument",CONFIRMATION:"confirmation",COPY_DOC:"copyDocument",FORM_DIALOG:"formDialog",SELECT_SCOPE_MODAL:"selectScopeModal",CLOSE_DIRTY_DOC:"closeDirtyDocument",CUSTOM:"custom",CUSTOM_DIALOG:"customDialog",ALERT:"alert"}},ALERT:{NAME:"alert",CALL:{SHOW:"show"}},MAIN_MENU:{NAME:"mainMenu"},EXPLORER:{NAME:"explorer"},PLACEHOLDER:{NAME:"placeholder"},FLOW_EXPLORER:{NAME:"FlowExplorer",CALL:{},ON:{ADD_NODE:"addNode"}},SYSTEM_BAR:{NAME:"systemBar"}},fe="parameters",me="envVars",ve="commands",he={PARAMETERS:"No Parameters",ENVVARS:"No Environment Variables",COMMANDS:"No Command Lines"},ge={PARAMETERS:"Parameter",ENVVARS:"EnvironmentVariable",COMMANDS:"Command Line"},ye="updateDoc",be="overwriteDoc",Ee={name:"",description:"",type:re,value:""},Ae=new RegExp(/(?!.*__.*)^[a-zA-Z~/]{1}?[a-zA-Z0-9_/]*$/),Oe=new RegExp(/(?!.*__.*)^[a-zA-Z_~/]{1}?[a-zA-Z0-9_/]*$/),Ce="success",we="error",De="warning",ke={ALL_DEPENDENCIES:{LABEL:"AllDependenciesLabel",VALUE:0,COLOR:"white"},ONLY_FROM:{LABEL:"OnlyFromLabel",VALUE:1,COLOR:"violet"},ONLY_TO:{LABEL:"OnlyToLabel",VALUE:2,COLOR:"steelblue"},NO_DEPENDENCIES:{LABEL:"NoDependenciesLabel",VALUE:3,COLOR:"darkseagreen"}},Pe={DOCK:"dockbox",WINDOW:"windowbox",MAX:"maxbox",FLOAT:"floatbox"},Ne="maximize",Re={name:"FlowExplorer",title:"AddNodeOrSubFlow"},Te={name:"HomeTab",title:X.t("HomeTabTitle")},Se={name:"ShortcutsTab",title:X.t("ShortcutsTabTitle")},xe=new Map(Object.entries(l()({},Te.name,{id:Te.name}))),Ie={dockbox:{mode:"horizontal",children:[{tabs:[{id:Te.name}]}]},windowbox:{children:[]},maxbox:{children:[]},floatbox:{children:[]}},Le="ROS1/Nodelet",Me="ROS1/Node",je="ROS1/Plugin",Be="ROS1/StateM",ze="MovAI/Node",Fe="MovAI/State",Ge="MovAI/Server",Ve="MovAI/Flow",Ye="ROS2/Node",He="ROS2/LifecycleNode",qe="movai_msgs/Transition",Ke="movai_msgs/Nodelet",Ue={ERROR_MESSAGES:{INVALID_NAME:"InvalidName",NAME_IS_MANDATORY:"MandatoryName",SOMETHING_WENT_WRONG:"SomethingWentWrong",DATA_VALIDATION_FAILED:"DataValidationFailed",FILE_DOESNT_EXIST:"FileUrlDoesntExist",FAILED_TO_SAVE:"FailedToSave",ERROR_RUNNING_SPECIFIC_CALLBACK:"ErrorRunningSpecificCallback",TYPE_NAME_IS_MANDATORY:"MandatoryTypeName",INSTANCE_NAME_IS_MANDATORY:"MandatoryInstanceName",INVALID_TYPE_NAME:"InvalidTypeName",INVALID_INSTANCE_NAME:"InvalidInstanceName",MULTIPLE_ENTRIES_WITH_SAME_NAME:"MultipleInstancesSameName",NO_TRANSPORT_PROTOCOL_CHOSEN:"NoTransportProtocolChosen",NO_PACKAGE_CHOSEN:"NoPackageChosen",NO_MESSAGE_CHOSEN:"NoMessageChosen"},WARNING_MESSAGES:{},SUCCESS_MESSAGES:{SAVED_SUCCESSFULLY:"SavedSuccessfully",CALLBACK_CREATED:"CallbackCreated"}},We=Ue.ERROR_MESSAGES,Xe=Ue.SUCCESS_MESSAGES;const _e=Ue,Ze=require("@remixproject/engine");function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=function(){function e(){if(P()(this,e),e.instance)return e.instance;e.instance=this,this.engine=new Ze.Engine,this.manager=new Ze.PluginManager,this.topics={},this.install("manager",this.manager),window.engine=this.engine,window.manager=this.manager}var t,n,r;return R()(e,[{key:"register",value:function(e){this.engine.register(e)}},{key:"activatePlugin",value:(r=C()(F().mark((function e(t){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.manager.activatePlugin(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"install",value:(n=C()(F().mark((function e(t,n){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.engine.isRegistered(t)||this.engine.register(n),e.next=3,this.manager.activatePlugin(t);case 3:Object.values(this.topics).forEach((function(e){var n=e.plugin,r=e.topics;Object.keys(r).forEach((function(e){n.on(t,e,r[e])}))}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"addTopic",value:function(e,t,n){var r,o=null!==(r=this.topics[t.profile.name])&&void 0!==r?r:{topics:{}};o.plugin=t,o.topics=Je(Je({},o.topics),{},l()({},e,n)),this.topics[t.profile.name]=o}},{key:"removeTopic",value:function(e,t){delete this.topics[t.profile.name].topics[e]}},{key:"getTopics",value:function(){return this.topics}},{key:"getPlugin",value:function(e){var t,n;return null===(t=this.engine)||void 0===t||null===(n=t.plugins)||void 0===n?void 0:n[e]}}],[{key:"getInstance",value:function(){return new e}},{key:"install",value:(t=C()(F().mark((function t(n,r){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getInstance().install(n,r);case 2:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)})},{key:"getPlugin",value:function(t){return e.getInstance().getPlugin(t)}}]),e}();var et=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"onTopic",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return console.log("Not implemented")},r=$e.getInstance();r.addTopic(t,S()(e),n)})),e}return R()(o)}(Ze.Plugin),tt={};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e){I()(i,e);var t,n,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B()(r);if(o){var n=B()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M()(this,e)});function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P()(this,i);var r=Array.from(new Set([].concat(D()(null!==(e=n.methods)&&void 0!==e?e:[]),D()(Object.values(pe.DOC_MANAGER.CALL)))));return t=a.call(this,rt(rt({},n),{},{methods:r})),l()(S()(t),"onBeforeUnload",(function(e){if(t.hasDirties())return e.preventDefault(),"You have unsaved documents. Are you sure you want to quit?"})),l()(S()(t),"onUnload",(function(e){t.getStores().forEach((function(e){e.getDirties().forEach((function(e){var n=e.serialize(),r=n.url,o=n.name,a=n.scope;t.discardDocChanges({scope:a,name:o}),e.getIsNew()&&t.emit(pe.DOC_MANAGER.ON.DELETE_DOC,{url:r,name:o,scope:a})})),e.destroy()}))})),window.DocManager=S()(t),window.onbeforeunload=t.onBeforeUnload,window.onunload=t.onUnload,t.docSubscriptions=new Map,t.saveStack=new Map,t}return R()(i,[{key:"getName",value:function(){return"DocManager"}},{key:"activate",value:function(){var e=this,t={onLoad:function(t){return e.onStoreLoad(t)},onUpdate:function(t,n,r){return e.onStoreUpdate(t,n,r)},onDocumentDirty:function(t,n,r){return e.onDocumentDirty(t,n,r)},onDocumentDeleted:function(t,n){return e.onDocumentDeleted(t,n)}};this.docsMap=function(e,t,n){return Object.keys(tt).forEach((function(r){var o=tt[r],a=o.store;tt[r]={store:new a(e,t,n),plugin:o.plugin}})),tt}(_,t,this)}},{key:"onDocumentUpdate",value:function(e){this.docSubscriptions.forEach((function(t){t(e.serializeToDB())}))}},{key:"subscribeToChanges",value:function(e,t){this.docSubscriptions.set(e,t)}},{key:"unSubscribeToChanges",value:function(e){if(this.docSubscriptions.has(e))return this.docSubscriptions.delete(e)}},{key:"getDocFactory",value:function(e){return this.docsMap[e]}},{key:"getDocTypes",value:function(){return Object.values(this.docsMap).map((function(e){return{name:e.store.name,title:e.store.title,scope:e.store.scope}}))}},{key:"getStores",value:function(){return Object.values(this.docsMap).map((function(e){return e.store}))}},{key:"getStore",value:function(e){var t;return null===(t=this.docsMap[e])||void 0===t?void 0:t.store}},{key:"getDocFromNameType",value:function(e,t){return this.read({name:e,scope:t})}},{key:"checkDocumentExists",value:function(e){var t,n=e.name,r=e.scope;return null===(t=this.getStore(r))||void 0===t?void 0:t.checkDocExists(n)}},{key:"discardDocChanges",value:function(e){var t,n=e.name,r=e.scope;return null===(t=this.getStore(r))||void 0===t?void 0:t.discardDocChanges(n)}},{key:"reloadDoc",value:function(e){var t,n=e.name,r=e.scope;return null===(t=this.getStore(r))||void 0===t?void 0:t.loadDoc(n)}},{key:"read",value:function(e){var t,n,r=e.name,o=e.scope;return null!==(t=null===(n=this.getStore(o))||void 0===n?void 0:n.readDoc(r))&&void 0!==t?t:Promise.reject()}},{key:"save",value:(n=C()(F().mark((function e(t,n,r){var o,a,i,c,s,l,u,d=this;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.name,a=t.scope,i=t.data,e.next=3,this.read(t);case 3:if(c=e.sent,s=c.isNew,l=c.isDirty,u=c.isOutdated,i&&c.setData(i),this.emit(pe.DOC_MANAGER.ON.BEFORE_SAVE_DOC,{docManager:this,doc:G.Document.parsePath(o,a),thisDoc:c}),l){e.next=9;break}return e.abrupt("return");case 9:if(s||u){e.next=11;break}return e.abrupt("return",this.doSave(t,n,void 0,r));case 11:if(!this.saveStack.has("".concat(o,"_").concat(a))){e.next=13;break}return e.abrupt("return");case 13:if(this.saveStack.set("".concat(o,"_").concat(a),{name:o,scope:a}),!u){e.next=16;break}return e.abrupt("return",this.call(pe.DIALOG.NAME,pe.DIALOG.CALL.SAVE_OUTDATED_DOC,{name:o,scope:a,onSubmit:function(){var e=C()(F().mark((function e(i){var s;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i,e.next=e.t0===ye?3:e.t0===be?10:(e.t0,12);break;case 3:return d.discardDocChanges(t),e.next=6,d.read(t);case 6:return s=e.sent,d.docSubscriptions.has(c.id)&&d.docSubscriptions.get(c.id)(s.serializeToDB()),d.saveStack.delete("".concat(o,"_").concat(a)),e.abrupt("break",13);case 10:return d.doSave(t,n,void 0,r),e.abrupt("break",13);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onClose:function(){return d.saveStack.delete("".concat(o,"_").concat(a))}}));case 16:if(null==r||!r.ignoreNew){e.next=18;break}return e.abrupt("return");case 18:return e.abrupt("return",this.call(pe.DIALOG.NAME,pe.DIALOG.CALL.NEW_DOC,{scope:a,placeholder:o,onSubmit:function(e){return d.doSave(t,n,e,r)},onClose:function(){return d.saveStack.delete("".concat(o,"_").concat(a))}}));case 19:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"doSave",value:(t=C()(F().mark((function e(t,n,r,o){var a,i,c,s;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,i=t.scope,c={success:!1},e.prev=2,e.next=5,this.getStore(i).saveDoc(a,r);case 5:s=e.sent,this.emit(pe.DOC_MANAGER.ON.SAVE_DOC,{docManager:this,doc:G.Document.parsePath(a,i),newName:r}),null!=o&&o.preventAlert||this.call(pe.ALERT.NAME,pe.ALERT.CALL.SHOW,{message:X.t(Xe.SAVED_SUCCESSFULLY),severity:Ce}),c=s,e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),c.message=e.t0,console.warn("failed to save document",e.t0),this.call(pe.ALERT.NAME,pe.ALERT.CALL.SHOW,{message:X.t(We.FAILED_TO_SAVE),severity:we});case 16:return n&&n(c),this.saveStack.delete("".concat(a,"_").concat(i)),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e,n,r,o){return t.apply(this,arguments)})},{key:"saveActiveEditor",value:function(){var e=this;this.call(pe.TABS.NAME,pe.TABS.CALL.GET_ACTIVE_TAB).then((function(t){return e.save({name:t.name,scope:t.scope},t.isNew)}))}},{key:"create",value:function(e){var t,n=e.name,r=e.scope;return null===(t=this.getStore(r))||void 0===t?void 0:t.newDoc(n)}},{key:"copy",value:function(e,t){var n,r=e.name,o=e.scope;return null===(n=this.getStore(o))||void 0===n?void 0:n.copyDoc(r,t)}},{key:"delete",value:function(e){var t,n=e.name,r=e.scope;return null===(t=this.getStore(r))||void 0===t?void 0:t.deleteDoc(n)}},{key:"hasDirties",value:function(){return this.getStores().some((function(e){return e.hasDirties()}))}},{key:"saveDirties",value:function(){var e=this;this.getStores().forEach((function(t){t.getDirties().forEach((function(t){var n=t.name,r=t.isNew,o=t.getScope();e.save({name:n,scope:o},r)}))}))}},{key:"broadcast",value:function(e,t){this.emit(e,t)}},{key:"onStoreLoad",value:function(){this.emit(pe.DOC_MANAGER.ON.LOAD_DOCS,this)}},{key:"onStoreUpdate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"set";this.emit(pe.DOC_MANAGER.ON.UPDATE_DOCS,this,rt({action:n},t))}},{key:"onDocumentDirty",value:function(e,t,n){this.emit(pe.DOC_MANAGER.ON.UPDATE_DOC_DIRTY,{instance:t,value:n})}},{key:"onDocumentDeleted",value:function(e,t){this.emit(pe.DOC_MANAGER.ON.DELETE_DOC,rt(rt({},t),{},{scope:e}))}}]),i}(et);const at=ot,it=require("@babel/runtime/helpers/esm/extends");var ct=o.n(it);const st=require("@babel/runtime/helpers/esm/objectWithoutProperties");var lt=o.n(st);const ut=require("hotkeys-js");var dt=o.n(ut);const pt=require("@material-ui/icons/AccountTree");var ft=o.n(pt);const mt=require("@material-ui/icons/Build");var vt=o.n(mt);const ht=require("@material-ui/icons/Code");var gt=o.n(ht);const yt=require("@material-ui/icons/Description");var bt=o.n(yt);const Et=require("@material-ui/icons/DeviceHub");var At=o.n(Et);const Ot=require("@material-ui/icons/Keyboard");var Ct=o.n(Ot);const wt="data:image/png;base64,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Hvz11/HEkT1LgiBYWllHkT8VwD475AxAaQYMSE/joB9+AMaNszumosJ8D3G7806zij4rrrnGDGxxGzDAvr7EuHHmtU6D669P56LYLLHtAWE7y5tfXwNAZQLAnwpgPwPQqlV6PsFm1aWXAief7DsK46WX7I9JqunRxRdH0zUvbo8/DvzpT8lcy+Vn7/Iax+HUU4Hf/953FNkmYv8h7FsueSuYA/ycAJRRIfIa2GaHderwMUAU7rgD2GMP31GYdQm2dtsN6NYt+ljWFYZmNX1a968DwPjxySVz3bqZn70tl9c4anvume7CWFnRrp19QzYmAJW+AQoJgKp+4TeWlHBpyPKLX0QfR7mpbBy0+eZ+45gwAZgyxf64s8+OPpaqLFpk6ujPTuG63S++APr3t6+n4MrlZz5liv/Oi2zwEx2XrpxMAAAAqjoLKCQAIsIEADA3MVtMAKLRooVZDR33orraPPmk/TEnnZRc3LNmmefGSQ20xVi82Az+SSUmzZu7zTS4vLZRatHCzED4/h3PC5d77+efRx9HBonIl8DPjwCYAADAzJn2xzABiE7XrmYmwGfjoIcftm/I06QJcN558cRTlXHjzACYhsZBYQj8+tf2hZRKcd559m1gVc1r60tlgx/fs1x54nLvdbnH59PPMwCV/1H2XH45ouwNT6YJyh13+Lv+J58Ao0fbH3fBBW51yV09/jhw1VXJXa86l18OPPtsctdr2tT8rG2NHh19F0Ibd96ZjnUueeJy7427LkV2fAEwAVjbvHn2XQFdnkNRzU45xTRF8eWee+yPadYs+WZHV19tain4cv/9wA03JHvN3//erQmXy2salTTtdMkT23vvokWmwiYBa84AqOpsABksNxYD21mArl1jCaPsXXcdcNhhfq79xBNuz7N/97vkHwmdcgrwzjvJXhMwn6jPOCPZa/7iF8BFF9kfN3u2eU19SFOti7yxvfdy+r/SqsKYbxKAIAhCADN9RpQatr8knTr5fWadVz4bB61YAQwZYn9cw4bJfyJescIkSkne3KZPBw4/3DQtStLf/+5WPnrIEPNzShob/MSnosL+EQATgEozC2P+T48AAOBTT8Gky2ef2X19nTpmaw9Fr1Ejs2raR5302293a2Jz1FHx9whY15w55poLFsR/rfnzTYOfpKdSDz7Y9EWwtWiReS2TxgY/8dpiC/saAGls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";function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&console.warn("".concat(e," not implemented"))},Nt=function(t){var n=t;return"function"==typeof t&&(n=(0,e.forwardRef)((function(e,n){return t(e,n)}))),n},Rt=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},Tt=function(e,t){var n=function(e){var t={Callback:"cadetblue",Layout:"darkred",Flow:"orchid",Node:"khaki",Configuration:"goldenrod"};return e in t?t[e]:"inherit"}(e=e||"Default"),r=React.createElement("img",{src:wt,alt:"MOV.AI Logo",style:kt({maxWidth:13},t)});return{Callback:React.createElement(gt(),{style:kt({color:n},t)}),Layout:React.createElement("i",{className:"icon-Layouts",style:kt({color:n},t)}),Flow:React.createElement(ft(),{style:kt({color:n},t)}),Annotation:React.createElement(bt(),{style:kt({color:n},t)}),GraphicScene:React.createElement(At(),{style:kt({color:n},t)}),Node:React.createElement("i",{className:"icon-Nodes",style:kt({color:n},t)}),Configuration:React.createElement(vt(),{style:kt({color:n},t)}),HomeTab:r,ShortcutsTab:React.createElement(Ct(),{style:kt({color:n},t)}),Default:React.createElement(React.Fragment,null)}[e]};function St(e){if(!e)return"";var t=e.split("/");return 1===t.length?e:t[2]}function xt(e){if(G.Utils.validateEntityName(e))return!0;throw new Error(We.INVALID_NAME)}function It(e){var t,n=e.scope,r=e.name,o=null!==(t=e.workspace)&&void 0!==t?t:_;return"".concat(o,"/").concat(n,"/").concat(r)}var Lt={true:"True",false:"False"},Mt={True:!0,False:!1};function jt(e){var t;return null!==(t=Lt[e])&&void 0!==t?t:Lt[!1]}function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=e;return Array.isArray(n)&&(n=e.join(t)),n}function zt(e){null==e||e.stopPropagation()}const Ft=require("@babel/runtime/helpers/esm/slicedToArray");var Gt=o.n(Ft);function Vt(n){var r=Nt(n);return function(n){var o=(0,e.useState)("dark"),a=Gt()(o,2),i=a[0],s=a[1];return(0,e.useEffect)((function(){var e=y.getTheme();s(e),document.body.classList.add(e),document.body.style.backgroundColor=y[e].background}),[i]),t().createElement(c.ThemeProvider,{theme:y[i]},t().createElement(r,ct()({handleToggleTheme:function(){var e="dark"===i?"light":"dark";document.body.classList.remove(i),y.setTheme(e),s(e)},theme:i},n)))}}const Yt=require("prop-types");var Ht=o.n(Yt);const qt=require("@material-ui/core/DialogContentText");var Kt=o.n(qt);const Ut=require("@material-ui/core/Button");var Wt=o.n(Ut);const Xt=require("@material-ui/core/Dialog");var _t=o.n(Xt);const Zt=require("@material-ui/core/DialogActions");var Qt=o.n(Zt);const Jt=require("@material-ui/core/DialogContent");var $t=o.n(Jt);const en=require("@material-ui/core/DialogTitle");var tn=o.n(en);const nn=require("@material-ui/icons/Close");var rn=o.n(nn),on=(0,c.makeStyles)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}})),an=(0,c.makeStyles)((function(e){return{dialogContent:{minWidth:450}}})),cn=function(e){var n=e.children,r=e.onClose,o=e.hasCloseButton,a=on();return t().createElement(tn(),{"data-testid":"section_dialog-title",disableTypography:!0,className:a.root},t().createElement(b.Typography,{variant:"h6"},n),o?t().createElement(b.IconButton,{"data-testid":"input_close","aria-label":"close",className:a.closeButton,onClick:r},t().createElement(rn(),null)):null)},sn=function(n){var r=(0,H.useTranslation)().t,o=n.actions,a=n.onSubmit,i=n.onClose,c=n.closeOnBackdrop,s=n.title,l=void 0===s?r("DefaultDialogTitle"):s,u=n.submitText,d=void 0===u?r("Submit"):u,p=n.testId,f=void 0===p?"section_app-dialog":p,m=(0,e.useState)(!0),v=Gt()(m,2),h=v[0],g=v[1],y=an(),b=function(e,t){(c||"backdropClick"!==t&&"escapeKeyDown"!==t)&&(g(!1),i())};return t().createElement(_t(),{open:h,onClose:b},t().createElement("div",{"data-testid":f},t().createElement(cn,ct()({onClose:b},n),l),t().createElement($t(),{dividers:!0,className:y.dialogContent},n.children),null!=o?o:t().createElement(Qt(),{"data-testid":"section_dialog-actions"},t().createElement(Wt(),{"data-testid":"input_close",onClick:b,color:"default"},r(a?"Cancel":"Ok")),a&&t().createElement(Wt(),{"data-testid":"input_confirm",onClick:function(){a(),b()},color:"primary"},d))))};sn.propTypes={title:Ht().string,submitText:Ht().string,onSubmit:Ht().func,onClose:Ht().func,actions:Ht().element,hasCloseButton:Ht().bool,closeOnBackdrop:Ht().bool},sn.defaultProps={onClose:function(){return Pt("onClose")},hasCloseButton:!0,closeOnBackdrop:!1};const ln=Vt(sn);var un=function(e){var n=e.title,r=e.message,o=e.onSubmit,a=e.onClose,i=e.submitText;return t().createElement(ln,{title:n,onSubmit:o,onClose:a,submitText:i},t().createElement(Kt(),null,r))};un.propTypes={title:Ht().string,message:Ht().string,submitText:Ht().string,onSubmit:Ht().func,onClose:Ht().func},un.defaultProps={submitText:"Submit",title:"Confirmation",message:"Are you sure do you want to continue?",onSubmit:function(){return console.log("Not Implemented")},onClose:function(){return console.log("Not Implemented")}};const dn=un,pn=require("@material-ui/core/TextField");var fn=o.n(pn),mn=(0,c.makeStyles)((function(e){return{loadingContainer:{height:"100px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:{minWidth:450},textfield:{width:"100%"}}})),vn=function(){return{result:!0,error:""}},hn=function(n){var r=(0,H.useTranslation)().t,o=n.size,a=n.onClose,i=n.title,c=n.message,s=n.onSubmit,l=n.onPostValidation,u=n.placeholder,d=n.multiline,p=n.loadingMessage,f=n.defaultValue,m=n.maxLength,v=n.onValidation,h=void 0===v?vn:v,g=n.inputLabel,y=void 0===g?r("Name"):g,E=n.submitText,A=void 0===E?r("Submit"):E,O=(0,e.useState)(!0),C=Gt()(O,2),w=C[0],D=C[1],k=(0,e.useState)(!1),P=Gt()(k,2),N=P[0],R=P[1],T=(0,e.useState)(f),S=Gt()(T,2),x=S[0],I=S[1],L=(0,e.useState)({error:!1,message:""}),M=Gt()(L,2),j=M[0],B=M[1],z=mn(),F=(0,e.useRef)();(0,e.useEffect)((function(){setTimeout((function(){var e,t;null===(e=F.current)||void 0===e||null===(t=e.querySelector("input"))||void 0===t||t.focus()}))}),[]);var G=function(e){var t=h(e);return B({error:!t.result,message:t.error}),I(e),l&&t.result&&l(e).then((function(e){B(e)})),t},V=function(e,t){"backdropClick"!==t&&(D(!1),a&&a())},Y=function(){if(!G(x).error){var e=s(x);e instanceof Promise?(R(!0),e.then((function(){R(!1),V()}))):V()}};return t().createElement(_t(),{open:w,onClose:V,fullWidth:!!o,maxWidth:o},t().createElement("div",{"data-testid":"section_form-dialog"},t().createElement(tn(),null,p&&N?p:i),t().createElement($t(),{className:z.dialogContent},c&&t().createElement(Kt(),null,c),N?t().createElement("div",{className:z.loadingContainer},t().createElement(b.CircularProgress,null)):t().createElement(fn(),{ref:F,autoFocus:!0,error:j.error,helperText:j.message,className:z.textfield,label:r(y),InputLabelProps:{shrink:!0},defaultValue:x,placeholder:u,multiline:d,onPaste:function(e){e.preventDefault();var t=e.target.value,n=e.target.selectionStart,r=e.clipboardData.getData("text/plain").trim().replace(/(\r\n|\n|\r)/gm,""),o=[t.slice(0,n),r,t.slice(n)].join("");G(o),e.target.value=o},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),Y())},onChange:function(e){G(e.target.value)},inputProps:{"data-testid":"input_value",maxLength:d?"":m},margin:"normal"})),t().createElement(Qt(),{"data-testid":"section_dialog-actions"},t().createElement(Wt(),{"data-testid":"input_close",onClick:V,color:"secondary"},r("Cancel")),t().createElement(Wt(),{"data-testid":"input_confirm",onClick:Y,disabled:j.error,color:"primary"},A))))};hn.propTypes={onValidation:Ht().func,onPostValidation:Ht().func,inputLabel:Ht().string,submitText:Ht().string,placeholder:Ht().string,defaultValue:Ht().string,maxLength:Ht().number,multiline:Ht().bool,size:Ht().string},hn.defaultProps={onValidation:function(){return{result:!0,error:""}},defaultValue:"",multiline:!1,maxLength:40};const gn=Vt(hn);var yn=function(e){var n=e.call,r=e.title,o=e.submitText,a=e.placeholder,i=e.scope,c=e.onSubmit,s=e.onClose,l=e.loadingMessage,u=function(e){var t=e.call,n=e.scope;return{onValidation:function(e){try{return{result:xt(e),error:""}}catch(e){return{result:!1,error:e.message}}},onPostValidation:function(e){return t(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.CHECK_DOCUMENT_EXISTS,{scope:n,name:e}).then((function(e){return{error:e,message:e?"Document already exists":""}}))}}}({scope:i,call:n}),d=u.onValidation,p=u.onPostValidation;return t().createElement(gn,{title:r,scope:i,loadingMessage:l,submitText:o,placeholder:a,onSubmit:c,onClose:s,onValidation:d,onPostValidation:p})};yn.propTypes={call:Ht().func.isRequired,scope:Ht().string.isRequired,onSubmit:Ht().func.isRequired,onClose:Ht().func.isRequired,loadingMessage:Ht().string,submitText:Ht().string,placeholder:Ht().string,title:Ht().string},yn.defaultProps={title:"New",submitText:"Submit"};const bn=yn;var En=(0,c.makeStyles)((function(e){return{icon:{float:"left",marginRight:20},message:{whiteSpace:"pre-wrap"}}})),An=(0,c.makeStyles)((function(e){return{container:{whiteSpace:"pre-wrap"}}})),On=function(e){var n=e.title,r=e.message,o=e.onClose,a=An();return t().createElement(ln,{title:n,onClose:o},t().createElement(Kt(),{className:a.container},r))};On.propTypes={title:Ht().string,message:Ht().string.isRequired,onClose:Ht().func},On.defaultProps={title:"Alert",onClose:function(){return console.log("Not Implemented")}};const Cn=On,wn=require("@material-ui/icons/Warning");var Dn=o.n(wn),kn=function(e){var n=En(),r=(0,H.useTranslation)().t,o=e.onSubmit,a=e.onClose,i=e.actions,c=e.message,s=e.showAlertIcon,l=e.title;return t().createElement(ln,{testId:"section_alert-before-action-dialog",hasCloseButton:!1,title:l,onClose:a,actions:t().createElement(Qt(),{"data-testid":"section_dialog-actions"},Object.keys(i).map((function(e){var n;return t().createElement(Wt(),{"data-testid":null!==(n=i[e].testId)&&void 0!==n?n:"input_confirm",key:e,onClick:function(){return o(e),void a()},color:"default"},r(i[e].label))})))},s&&t().createElement(Dn(),{fontSize:"large",className:n.icon}),t().createElement(b.DialogContentText,{className:n.message},c))};kn.propTypes={message:Ht().string,onSubmit:Ht().func.isRequired,actions:Ht().object,showAlertIcon:Ht().bool,onClose:Ht().func},kn.defaultProps={message:"",actions:{},showAlertIcon:!0,onClose:function(){return console.log("not implemented")}};const Pn=kn;var Nn=["title","actions","onSubmit","submitText"];function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(e){I()(a,e);var t,n,o=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function a(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P()(this,a);var r=Array.from(new Set([].concat(D()(null!==(e=n.methods)&&void 0!==e?e:[]),D()(Object.values(pe.DIALOG.CALL)))));return(t=o.call(this,Tn(Tn({},n),{},{methods:r}))).oldScope="all",t}return R()(a,[{key:"alert",value:function(e){var t=this,n=this._handleDialogOpen();r().render(React.createElement(Cn,{title:e.title,message:e.message,onClose:function(){return t._handleDialogClose(n,e.onClose)}}),n)}},{key:"confirmation",value:function(e){var t=this,n=this._handleDialogOpen();r().render(React.createElement(dn,{title:e.title,onSubmit:e.onSubmit,message:e.message,submitText:e.submitText,onClose:function(){return t._handleDialogClose(n,e.onClose)}}),n)}},{key:"newDocument",value:function(e){var t=this,n=this._handleDialogOpen();r().render(React.createElement(bn,{call:this.call,title:X.t("NewDocTitle",{scope:e.scope}),submitText:X.t("Create"),placeholder:e.placeholder,scope:e.scope,onSubmit:e.onSubmit,onClose:function(){return t._handleDialogClose(n,e.onClose)}}),n)}},{key:"copyDocument",value:function(e){var t=this,n=this._handleDialogOpen();r().render(React.createElement(bn,{call:this.call,scope:e.scope,title:X.t("CopyDocTo",{docName:e.name}),loadingMessage:X.t("CopyingDoc"),submitText:X.t("Copy"),onSubmit:e.onSubmit,onClose:function(){return t._handleDialogClose(n,e.onClose)}}),n)}},{key:"formDialog",value:function(e){var t=this,n=this._handleDialogOpen(),o=e.title,a=e.submitText,i=e.onSubmit,c=e.onClose,s=e.size,l=e.multiline,u=e.inputLabel,d=e.value,p=e.onValidation;r().render(React.createElement(gn,{call:this.call,size:s,title:o,multiline:l,defaultValue:d,inputLabel:u,submitText:a,onSubmit:i,onValidation:p,onClose:function(){return t._handleDialogClose(n,c)}}),n)}},{key:"closeDirtyDocument",value:function(e){var t=this,n=this._handleDialogOpen(),o=X.t("SaveChangesConfirmationTitle"),a=X.t("SaveChangesConfirmationMessage",{scope:e.scope,name:e.name}),i={dontSave:{label:X.t("DontSave"),testId:"input_dont-save"},cancel:{label:X.t("Cancel"),testId:"input_close"},save:{label:X.t("Save"),testId:"input_save"}};r().render(React.createElement(Pn,{title:o,message:a,actions:i,onSubmit:e.onSubmit,onClose:function(){return t._handleDialogClose(n,e.onClose)}}),n)}},{key:"saveOutdatedDocument",value:function(e){var t,n=this,o=this._handleDialogOpen(),a=X.t("SaveOutdatedDocTitle",{docName:e.name}),i=X.t("SaveOutdatedDocMessage",{docType:e.scope,docName:e.name}),c=(t={},l()(t,ye,{label:X.t("UpdateDoc"),testId:"input_update"}),l()(t,be,{label:X.t("OverwriteDoc"),testId:"input_overwrite"}),l()(t,"cancel",{label:X.t("Cancel"),testId:"input_cancel"}),t);r().render(React.createElement(Pn,{title:a,message:i,actions:c,onSubmit:e.onSubmit,onClose:function(){return n._handleDialogClose(o,e.onClose)}}),o)}},{key:"custom",value:function(e,t){var n=this,o=e.title,a=e.actions,i=e.onSubmit,c=e.submitText,s=lt()(e,Nn),l=this._handleDialogOpen(),u=function(){return n._handleDialogClose(l,e.onClose)};r().render(React.createElement(ln,{title:o,actions:a,submitText:c,onSubmit:i,onClose:u},React.createElement(t,ct()({},s,{closeModal:u}))),l)}},{key:"customDialog",value:function(e,t){var n=this,o=this._handleDialogOpen();r().render(React.createElement(t,ct()({},e,{onClose:function(){return n._handleDialogClose(o,e.onClose)}})),o)}},{key:"selectScopeModal",value:function(e){var t=this,n=e.onSubmit,o=e.message,a=e.selected,c=e.scopeList,s=e.onClose,l=this._handleDialogOpen(),u=Vt(i.SelectScopeModal);r().render(React.createElement(u,{open:!0,message:o,selected:a,allowArchive:!1,scopeList:c,onCancel:function(){return t._handleDialogClose(l,s)},onSubmit:function(e){n(e),t._handleDialogClose(l,s)}}),l)}},{key:"_handleDialogOpen",value:function(){document.body.classList.add(a.BODY_CLASS_NAME);var e=document.getElementById("alertPanel"),t=document.createElement("div");return t.id=Rt(),e.appendChild(t),this.oldScope=dt().getScope(),dt().setScope("all"),t}},{key:"_handleDialogClose",value:function(e,t){document.body.classList.remove(a.BODY_CLASS_NAME),r().unmountComponentAtNode(e),e.parentNode.removeChild(e),this.call(pe.TABS.NAME,pe.TABS.CALL.FOCUS_ACTIVE_TAB),dt().setScope(this.oldScope),t&&t()}}]),a}(et);l()(Sn,"BODY_CLASS_NAME","react-portal-body-dialog"),l()(Sn,"TARGET_ELEMENT_ID","dialog-container");const xn=Sn;function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Mn=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P()(this,o);var n=Array.from(new Set([].concat(D()(null!==(e=t.methods)&&void 0!==e?e:[]),["show"])));return r.call(this,Ln(Ln({},t),{},{methods:n}))}return R()(o,[{key:"show",value:function(e){var t=this,n=e.title,r=e.message,o=e.severity,a=e.location;({snackbar:function(){return(0,i.snackbar)({message:r,severity:o})},modal:function(){return t.call(pe.DIALOG.NAME,pe.DIALOG.CALL.ALERT,{title:n,message:r})}})[void 0===a?"snackbar":a]()}}]),o}(et);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var Fn={call:function(){return Pt("call")},emit:function(){return Pt("emit")},on:function(){return Pt("on")},off:function(){return Pt("off")},onTopic:function(){return Pt("onTopic")}},Gn=function(e){I()(n,e);var t=zn(n);function n(e){var r;P()(this,n);var o=Array.from(new Set([].concat(D()(null!==(r=e.methods)&&void 0!==r?r:[]),["addView","removeView","update"])));return t.call(this,Bn(Bn({},e),{},{methods:o}))}return R()(n,[{key:"addView",value:function(e,t){}},{key:"removeView",value:function(e){}},{key:"update",value:function(e,t){}}]),n}(et);function Vn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=function(r){var o=t().useRef(),a=Nt(e),i=Yn({name:r.hostName,methods:n},o),c=i.viewPlugins,s=i.plugin;return t().createElement(a,ct()({},r,{ref:o,viewPlugins:c,onTopic:s.onTopic,call:s.call,emit:s.emit,off:s.off,on:s.on}))};return r.propTypes={hostName:Ht().string.isRequired},r}var Yn=function(e,n){var r=e.name,o=e.methods,a=t().useState([]),i=Gt()(a,2),c=i[0],s=i[1],u=t().useState(Fn),d=Gt()(u,2),p=d[0],f=d[1];return t().useEffect((function(){var e=function(e){I()(a,e);var r=zn(a);function a(e){var t;return P()(this,a),t=r.call(this,e),l()(S()(t),"initMethods",(function(){o.forEach((function(e){t[e]=function(){var t;return(t=n.current)[e].apply(t,arguments)}}))})),t.name2Component={},t.initMethods(),t}return R()(a,[{key:"addView",value:function(e,t){e.name in this.name2Component||(this.name2Component[e.name]=t),s(t)}},{key:"update",value:function(e,n){e in this.name2Component&&s(t().cloneElement(this.name2Component[e],n))}},{key:"removeView",value:function(e){e.name in this.name2Component&&(delete this.name2Component[e.name],s([]))}}]),a}(Gn),a=new e({name:r,methods:o});$e.install(r,a),f(a)}),[r,o,n]),{viewPlugins:c,plugin:p}};function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e){var n=e.viewPlugins,r=e.hostName,o=e.style,a=e.className;return t().createElement("div",{id:r,style:qn({},o),className:a},n)}Yn.propTypes={profile:Ht().object.isRequired};const Un=Vn(Kn);function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _n(e){var n=e.viewPlugins,r=e.hostName,o=e.style,a=e.className;return t().createElement("div",{id:r,style:Xn({},o),className:a},n)}Kn.propTypes={hostName:Ht().string.isRequired};const Zn=Vn(_n);_n.propTypes={hostName:Ht().string.isRequired};const Qn=require("@babel/runtime/helpers/esm/get");var Jn=o.n(Qn);function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var nr=function(e){I()(r,e);var n=tr(r);function r(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];P()(this,r);var c=$e.getPlugin(e.name);return c?M()(o,c):(o=n.call(this,er(er({},e),{},{methods:["render"].concat(D()(i))})),l()(S()(o),"initMethods",(function(){o.methods.forEach((function(e){o[e]=function(){var t;return o.ref.current?(t=o.ref.current)[e].apply(t,arguments):console.warn("debug method not implemented in component")}}))})),o.methods=i,o.ref=t().createRef(),o.initMethods(),o.props=a,o)}return R()(r)}(function(e){I()(r,e);var t,n=tr(r);function r(){return P()(this,r),n.apply(this,arguments)}return R()(r,[{key:"render",value:function(){}},{key:"activate",value:(t=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.profile.location){e.next=3;break}return e.next=3,this.call(this.profile.location,"addView",this.profile,this.render());case 3:Jn()(B()(r.prototype),"activate",this).call(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"deactivate",value:function(){this.profile.location&&this.call(this.profile.location,"removeView",this.profile),Jn()(B()(r.prototype),"deactivate",this).call(this)}}]),r}(et));function rr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Nt(e);return function(e){I()(a,e);var o=tr(a);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P()(this,a),o.call(this,e,t,n)}return R()(a,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t().createElement(r,ct()({},this.props,e,{ref:this.ref,call:this.call,profile:this.profile,emit:this.emit,off:this.off,on:this.on,onTopic:this.onTopic}))}}]),a}(nr)}var or=function(e,n){t().useImperativeHandle(e,(function(){return er({},n)}))};const ar=require("@material-ui/core/Tooltip");var ir=o.n(ar);const cr=require("@material-ui/core/IconButton");var sr=o.n(cr);const lr=function(n){var r=n.active,o=n.bookmark,a=n.classes,i=n.selectBookmark,c=(0,e.useCallback)((function(){i(o.name)}),[o.name,i]);return t().createElement(ir(),{title:o.title||o.name,placement:"left"},t().createElement(sr(),{"data-testid":"input_bookmark-tab",onClick:c,"aria-label":o.title,className:a.bookmark,size:"small"},t().createElement("p",{className:r!==o.name?a.unselectedBookmark:""},o.icon)))};var ur=(0,c.makeStyles)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column","& > div[class^='container-']":{height:"100%"},"& > div.container-Node":{overflow:"auto"}}}}));function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fr=Object.values(pe.RIGHT_DRAWER.CALL);function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hr=(0,e.forwardRef)((function(n,r){var o,a,i=n.viewPlugins,s=n.hostName,u=n.style,d=n.anchor,p=n.initialOpenState,f=n.className,m=(0,e.useState)(p),v=Gt()(m,2),h=v[0],g=v[1],y=(o="left"===d,a=h,(0,c.makeStyles)((function(e){var t;return{content:{background:e.palette.background.primary,color:e.backdrop.color,height:"100%",display:"flex",flexDirection:"column"},drawer:(t={overflow:"hidden",position:"relative"},l()(t,o?"marginRight":"marginLeft","auto"),l()(t,"width",a?340:"auto"),l()(t,"height","100%"),l()(t,"& .MuiBackdrop-root",{display:"none"}),l()(t,"& .MuiDrawer-paper",{width:340,position:"absolute",transition:"none !important"}),t)}})))();return or(r,{toggleDrawer:function(){g((function(e){return!e}))},openDrawer:function(){g(!0)},closeDrawer:function(){g(!1)}}),t().createElement(b.Drawer,{id:s,open:h,anchor:d,variant:"persistent",style:vr({},u),className:"".concat(y.drawer," ").concat(f)},t().createElement(b.Typography,{component:"div",className:y.content},i,n.children))}));hr.pluginMethods=[].concat(D()(fr),[ue.CALL.OPEN,ue.CALL.CLOSE,ue.CALL.TOGGLE]);const gr=Vn(function(n){function r(e,t){return e[t]?t:Object.keys(e)[0]}return function(o,a){var i=o.anchor,s=o.emit,u=(0,e.useState)({}),d=Gt()(u,2),p=d[0],f=d[1],m=(0,e.useState)(),v=Gt()(m,2),h=v[0],g=v[1],y=(0,e.useState)(t().createElement(t().Fragment,null)),b=Gt()(y,2),E=b[0],A=b[1],O=(0,e.useRef)(),C=function(e){return"left"===e?"right":"left"}(i),w=function(e,t){return(0,c.makeStyles)((function(n){var r,o;return{bookmarksContainer:{position:"relative"},bookmarkHolder:{height:"100%"},panel:(r={position:"absolute"},l()(r,t,-40),l()(r,"background","#fff0"),l()(r,"top","60px"),l()(r,"width","40px"),l()(r,"zIndex",n.zIndex.drawer),r),bookmark:(o={width:"40px",height:"40px",margin:"3px 0 !important",border:"solid 1px ".concat(n.palette.background.primary," !important")},l()(o,"border-".concat(e),"none !important"),l()(o,"borderRadius","0px !important"),l()(o,"background","".concat(n.palette.background.secondary," !important")),o),unselectedBookmark:{color:"white"}}}))}(i,C)(),D=(0,e.useCallback)((function(e){h!==e?(O.current.openDrawer(),g(e),s(pe.RIGHT_DRAWER.ON.CHANGE_BOOKMARK,{name:e})):O.current.toggleDrawer()}),[h,s]),k=(0,e.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.name,i=n&&a;f((function(n){var o=pr(pr({},n),{},l()({},a,e));return i=r(o,t),pr(pr({},n),{},l()({},a,e))})),g(i),o&&O.current.openDrawer()}),[]),P=(0,e.useCallback)((function(e,t){f((function(t){var n=pr({},t);return delete n[e],n})),g((function(n){return n!==e?n:r(p,t)}))}),[p]),N=(0,e.useCallback)((function(){f({}),A([]),O.current.closeDrawer()}),[]),R=(0,e.useCallback)((function(e,t){e&&(f(e),g(r(e,t)))}),[]);(0,e.useEffect)((function(){if(p[h]){var e=p[h].view;A(e)}}),[h,p]),or(a,{setBookmark:R,addBookmark:k,resetBookmarks:N,removeBookmark:P,open:function(){return O.current.openDrawer()},close:function(){return O.current.closeDrawer()},toggle:function(){return O.current.toggleDrawer()}});var T=(0,e.useCallback)((function(e){return e===i&&t().createElement("div",{className:w.panel},Object.values(p).map((function(e,n){return t().createElement(lr,{"data-testid":"section_bookmark-tab",key:n,classes:w,bookmark:e,active:h,selectBookmark:D})})))}),[h,i,p,w,D]);return t().createElement("div",{className:w.bookmarksContainer},T("left"),t().createElement(n,ct()({},o,{ref:O}),t().createElement("div",{className:w.bookmarkHolder},E)),T("right"))}}(hr),hr.pluginMethods);function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}hr.propTypes={hostName:Ht().string.isRequired,initialOpenState:Ht().bool},hr.defaultProps={initialOpenState:!1};var Er=function(e){var n=e.viewPlugins,r=e.hostName,o=e.style;return t().createElement("div",{id:r,style:br({},o)},n)};const Ar=Vn(Er);function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Er.propTypes={hostName:Ht().string.isRequired};var wr=function(e){var n=e.viewPlugins,r=e.hostName,o=e.style;return t().createElement("div",{id:r,style:Cr({width:"100%"},o)},n)};const Dr=Vn(wr);wr.propTypes={hostName:Ht().string.isRequired};var kr=function(e){var n=e.viewPlugins,r=e.hostName;return t().createElement("div",{id:r},n)};const Pr=Vn(kr);kr.propTypes={hostName:Ht().string.isRequired};const Nr=require("@material-ui/core/ClickAwayListener");var Rr=o.n(Nr);const Tr=require("@material-ui/core/Popper");var Sr=o.n(Tr);const xr=require("@material-ui/core/List");var Ir=o.n(xr);const Lr=require("@material-ui/core/Divider");var Mr=o.n(Lr);const jr=require("@material-ui/core/Fade");var Br=o.n(jr);const zr=require("@material-ui/core/Paper");var Fr=o.n(zr);const Gr=require("@material-ui/core/ListItem");var Vr=o.n(Gr);const Yr=require("@material-ui/icons/Link");var Hr=o.n(Yr);const qr=require("@material-ui/icons/ArrowRight");var Kr=o.n(qr);function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xr={margin:"0px",padding:"0px",lineHeight:"26px",textTransform:"none",borderRadius:"0px","& > .MuiTouchRipple-root":{borderRadius:"0px"}},_r=(0,c.makeStyles)((function(e){return{popper:{zIndex:999999},listHolder:{minWidth:"300px",borderRadius:"0px 0px 5px 5px",background:e.topBarColor},list:Wr(Wr({},Xr),{},{marginTop:"1px"}),menuDivider:{background:e.palette.grey[200]}}})),Zr=(0,c.makeStyles)((function(e){return{listItem:Wr(Wr({},Xr),{},{"&:last-of-type > button":{borderRadius:"0px 0px 5px 5px"}}),menuButton:Wr(Wr({},Xr),{},{fontFamily:"Open Sans",display:"inline-flex",fontSize:"0.875rem",width:"100%",justifyContent:"space-between",color:e.palette.grey[200],"& > .MuiButton-label":{paddingLeft:"10px"},"&:hover":{background:e.palette.grey[900],"& > .MuiButton-label > ul":{opacity:"1",maxWidth:"500px"}}}),icon:{verticalAlign:"text-top",marginRight:"10px","& > svg":{fontSize:"1rem"}},keybind:{paddingRight:"10px",fontStyle:"italic",color:e.palette.grey[400]},subMenuHolder:{position:"absolute",top:"0px",right:"0px",minWidth:"300px",maxWidth:"0px",opacity:"0",borderRadius:"3px",boxShadow:"1px 1px 2px 1px #333",margin:"0",padding:"0",background:e.topBarColor,transform:"translate(99%)",transition:"opacity .3s, max-width .3s"}}})),Qr=(0,c.makeStyles)((function(e){return{movaiIcon:{height:"24px",verticalAlign:"sub",marginRight:"5px"},contentHolder:{"& > p":{margin:"0px"}}}})),Jr=function n(r){var o=r.item,a=r.closeMenu,i=o.id,c=o.title,s=o.icon,l=o.callback,u=o.keybind,d=o.externalLink,p=o.data,f=Zr(),m=(0,e.useCallback)((function(){return t().createElement("ul",{className:f.subMenuHolder},p.map((function(e,r){return e.id?t().createElement(n,{key:e.id,item:e,closeMenu:a}):t().createElement(Mr(),{key:r,className:f.menuDivider})})))}),[f,p,a]),v=(0,e.useCallback)((function(e){l&&l(e),a(e)}),[l,a]);return t().createElement(Vr(),{className:f.listItem,key:i},p?t().createElement("div",{className:f.menuButton},t().createElement("span",{className:"MuiButton-label"},s&&t().createElement("span",{className:f.icon},s),c,t().createElement(t().Fragment,null,t().createElement(Kr(),null),m()))):t().createElement(Wt(),{"data-testid":"input_menu-item",className:f.menuButton,onClick:v},t().createElement("span",null,s&&t().createElement("span",{className:f.icon},s),c),u&&t().createElement("span",{className:f.keybind},u),d&&t().createElement(Hr(),{className:f.keybind})))};const $r=Jr;Jr.propTypes={item:Ht().object.isRequired};var eo=function(e){var n=e.data,r=e.menuOpen,o=e.anchorEl,a=e.closeMenu,i=_r();return t().createElement(Sr(),{className:i.popper,open:r,anchorEl:o,placement:"bottom-start",transition:!0},(function(e){var r=e.TransitionProps;return t().createElement(Br(),ct()({},r,{timeout:350}),t().createElement(Rr(),{onClickAway:a},t().createElement(Fr(),{className:i.listHolder},t().createElement(Ir(),{component:"nav",className:i.list},n&&n.map((function(e,n){return e.id?t().createElement($r,{key:e.id,item:e,closeMenu:a}):t().createElement(Mr(),{key:n,className:i.menuDivider})}))))))}))};const to=eo;eo.propTypes={data:Ht().array.isRequired,anchorEl:Ht().object.isRequired,menuOpened:Ht().bool};var no,ro=function(e){var n=e.name,r=(0,c.useTheme)();return t().createElement("h1",{style:{color:r.palette.text.primary}},n," not installed :(")},oo={},ao=function(e){var n=e.id,r=e.name,o=n in oo?oo[n].tabData:function(e,n){var r=n||e;return{id:e,name:n,tabTitle:n,scope:e,extension:"",content:t().createElement(ro,{name:r})}}(n,r);return"parent"in o&&delete o.parent,o},io=function(e){return e in oo},co={GENERAL:{NAME:"appShortcuts",LABEL:X.t("AppKeybindLabel"),DESCRIPTION:X.t("AppKeybindDescription"),KEYBINDS:{OPEN_WELCOME_TAB:{NAME:"openWelcomeTab",LABEL:X.t("HomeTabTitle"),DESCRIPTION:X.t("HomeTabKeybindDescription"),SHORTCUTS:"ctrl+alt+home"},OPEN_SHORTCUTS_TAB:{NAME:"openShortcutsTab",LABEL:X.t("ShortcutsTabTitle"),DESCRIPTION:X.t("ShortcutsTabKeybindDescription"),SHORTCUTS:"ctrl+alt+k"},SAVE_ALL:{NAME:"saveAll",LABEL:X.t("SaveAllDocs"),DESCRIPTION:X.t("SaveAllDocsKeybindDescription"),SHORTCUTS:"ctrl+alt+s"}}},EDITOR_GENERAL:{NAME:"editorGeneral",LABEL:X.t("EditorGeneralKeybindLabel"),DESCRIPTION:X.t("EditorGeneralKeybindDescription"),KEYBINDS:{SAVE:{NAME:"save",LABEL:X.t("SaveDoc"),DESCRIPTION:X.t("SaveDocKeybindDescription"),SHORTCUTS:"ctrl+s"},CANCEL:{NAME:"cancel",LABEL:X.t("Cancel"),DESCRIPTION:X.t("CancelKeybindDescription"),SHORTCUTS:"esc"},DELETE:{NAME:"delete",LABEL:X.t("Delete"),DESCRIPTION:X.t("DeleteKeybindDescription"),SHORTCUTS:["del","backspace"]}}},MONACO_SPECIFIC:{NAME:"monacoCodeEditor",LABEL:X.t("EditorMonacoKeybindLabel"),DESCRIPTION:X.t("EditorMonacoKeybindDescription"),KEYBINDS:{CHANGE_ALL_OCURRENCES:{NAME:"changeAllOcurrences",LABEL:X.t("ChangeAllOcurrencesKeybindLabel"),DESCRIPTION:X.t("ChangeAllOcurrencesKeybindDescription"),SHORTCUTS:"ctrl+F2"},COMMAND_PALETTE:{NAME:"commandPalette",LABEL:X.t("CommandPaletteKeybindLabel"),DESCRIPTION:X.t("CommandPaletteKeybindDescription"),SHORTCUTS:"F1"},UNDO:{NAME:"undo",LABEL:X.t("Undo"),DESCRIPTION:X.t("UndoKeybindDescription"),SHORTCUTS:"ctrl+z"},REDO:{NAME:"redo",LABEL:X.t("Redo"),DESCRIPTION:X.t("RedoKeybindDescription"),SHORTCUTS:["ctrl+shift+z","ctrl+y"]},CUT:{NAME:"monacoEditorCutCode",LABEL:X.t("CutCode"),DESCRIPTION:X.t("CutCodeKeybindDescription"),SHORTCUTS:"ctrl+x"},COPY:{NAME:"monacoEditorCopyCode",LABEL:X.t("CopyCode"),DESCRIPTION:X.t("CopyCodeKeybindDescription"),SHORTCUTS:"ctrl+c"},PASTE:{NAME:"monacoEditorPasteCode",LABEL:X.t("PasteCode"),DESCRIPTION:X.t("PasteCodeKeybindDescription"),SHORTCUTS:"ctrl+v"}}},FLOW:{NAME:"editorFlow",LABEL:X.t("EditorFlowKeybindLabel"),DESCRIPTION:X.t("EditorFlowKeybindDescription"),KEYBINDS:{COPY_NODE:{NAME:"copyNode",LABEL:X.t("CopyNode"),DESCRIPTION:X.t("CopyNodeKeybindDescription"),SHORTCUTS:"ctrl+c"},PASTE_NODE:{NAME:"pasteNode",LABEL:X.t("PasteNode"),DESCRIPTION:X.t("PasteNodeKeybindDescription"),SHORTCUTS:"ctrl+v"},MOVE_NODE:{NAME:"moveNode",LABEL:X.t("MoveNode"),DESCRIPTION:X.t("MoveNodeKeybindDescription"),SHORTCUTS:["left","right","up","down"]},SEARCH_NODE:{NAME:"searchNode",LABEL:X.t("SearchNode"),DESCRIPTION:X.t("SearchNodeKeybindDescription"),SHORTCUTS:"ctrl+f"},RESET_ZOOM:{NAME:"resetZoom",LABEL:X.t("ResetZoom"),DESCRIPTION:X.t("ResetZoomKeybindDescription"),SHORTCUTS:"ctrl+i"}}}};function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uo=null===(no=window.SERVER_DATA)||void 0===no?void 0:no.Application,po="MOV.AI Flow™",fo={NAME:po,LOGO:"data:image/png;base64,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",SHORTCUTS:co,HELP:{DOCUMENTATION:"https://flow.mov.ai/",FORUM:"https://forum.flow.mov.ai/"},APP_INFORMATION:{VERSION:(null==uo?void 0:uo.Version)||"0.0.1",LAST_UPDATE:(null==uo?void 0:uo.LastUpdate)||"-",CONFIGURATION_FILE:(null==uo?void 0:uo.Configuration)||"-",CUSTOM_CONFIGURATION_FILE:(null==uo?void 0:uo.CustomConfiguration)||"-",DESCRIPTION:(null==uo?void 0:uo.Description)||"-",LABEL:(null==uo?void 0:uo.Label)||po}};const mo=fo;var vo={GENERAL:{NAME:"appShortcuts",LABEL:X.t("AppKeybindLabel"),DESCRIPTION:X.t("AppKeybindDescription"),KEYBINDS:{OPEN_WELCOME_TAB:{NAME:"openWelcomeTab",LABEL:X.t("HomeTabTitle"),DESCRIPTION:X.t("HomeTabKeybindDescription"),SHORTCUTS:"ctrl+alt+home"},OPEN_SHORTCUTS_TAB:{NAME:"openShortcutsTab",LABEL:X.t("ShortcutsTabTitle"),DESCRIPTION:X.t("ShortcutsTabKeybindDescription"),SHORTCUTS:"ctrl+alt+k"},SAVE_ALL:{NAME:"saveAll",LABEL:X.t("SaveAllDocs"),DESCRIPTION:X.t("SaveAllDocsKeybindDescription"),SHORTCUTS:"ctrl+alt+s"}}},EDITOR_GENERAL:{NAME:"editorGeneral",LABEL:X.t("EditorGeneralKeybindLabel"),DESCRIPTION:X.t("EditorGeneralKeybindDescription"),KEYBINDS:{SAVE:{NAME:"save",LABEL:X.t("SaveDoc"),DESCRIPTION:X.t("SaveDocKeybindDescription"),SHORTCUTS:"ctrl+s"},CANCEL:{NAME:"cancel",LABEL:X.t("Cancel"),DESCRIPTION:X.t("CancelKeybindDescription"),SHORTCUTS:"esc"},DELETE:{NAME:"delete",LABEL:X.t("Delete"),DESCRIPTION:X.t("DeleteKeybindDescription"),SHORTCUTS:["del","backspace"]}}},MONACO_SPECIFIC:{NAME:"monacoCodeEditor",LABEL:X.t("EditorMonacoKeybindLabel"),DESCRIPTION:X.t("EditorMonacoKeybindDescription"),KEYBINDS:{CHANGE_ALL_OCURRENCES:{NAME:"changeAllOcurrences",LABEL:X.t("ChangeAllOcurrencesKeybindLabel"),DESCRIPTION:X.t("ChangeAllOcurrencesKeybindDescription"),SHORTCUTS:"ctrl+F2"},COMMAND_PALETTE:{NAME:"commandPalette",LABEL:X.t("CommandPaletteKeybindLabel"),DESCRIPTION:X.t("CommandPaletteKeybindDescription"),SHORTCUTS:"F1"},UNDO:{NAME:"undo",LABEL:X.t("Undo"),DESCRIPTION:X.t("UndoKeybindDescription"),SHORTCUTS:"ctrl+z"},REDO:{NAME:"redo",LABEL:X.t("Redo"),DESCRIPTION:X.t("RedoKeybindDescription"),SHORTCUTS:["ctrl+shift+z","ctrl+y"]},CUT:{NAME:"monacoEditorCutCode",LABEL:X.t("CutCode"),DESCRIPTION:X.t("CutCodeKeybindDescription"),SHORTCUTS:"ctrl+x"},COPY:{NAME:"monacoEditorCopyCode",LABEL:X.t("CopyCode"),DESCRIPTION:X.t("CopyCodeKeybindDescription"),SHORTCUTS:"ctrl+c"},PASTE:{NAME:"monacoEditorPasteCode",LABEL:X.t("PasteCode"),DESCRIPTION:X.t("PasteCodeKeybindDescription"),SHORTCUTS:"ctrl+v"}}},FLOW:{NAME:"editorFlow",LABEL:X.t("EditorFlowKeybindLabel"),DESCRIPTION:X.t("EditorFlowKeybindDescription"),KEYBINDS:{COPY_NODE:{NAME:"copyNode",LABEL:X.t("CopyNode"),DESCRIPTION:X.t("CopyNodeKeybindDescription"),SHORTCUTS:"ctrl+c"},PASTE_NODE:{NAME:"pasteNode",LABEL:X.t("PasteNode"),DESCRIPTION:X.t("PasteNodeKeybindDescription"),SHORTCUTS:"ctrl+v"},MOVE_NODE:{NAME:"moveNode",LABEL:X.t("MoveNode"),DESCRIPTION:X.t("MoveNodeKeybindDescription"),SHORTCUTS:["left","right","up","down"]},SEARCH_NODE:{NAME:"searchNode",LABEL:X.t("SearchNode"),DESCRIPTION:X.t("SearchNodeKeybindDescription"),SHORTCUTS:"ctrl+f"},RESET_ZOOM:{NAME:"resetZoom",LABEL:X.t("ResetZoom"),DESCRIPTION:X.t("ResetZoomKeybindDescription"),SHORTCUTS:"ctrl+i"}}}},ho=function(){var e=C()(F().mark((function e(t){var n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_DOC_TYPES).then((function(e){e.forEach((function(e){n.push({id:e.name,title:e.scope,icon:Tt(e.scope),callback:function(){t(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.CREATE,{scope:e.scope}).then((function(n){t(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,{id:n.getUrl(),name:n.getName(),scope:e.scope,isNew:!0})}))}})}))}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const go=function(e){var n=Nt(e);return function(e,r){var o=e.call;return t().createElement(n,ct()({},e,{ref:r,alert:function(e){o(pe.ALERT.NAME,pe.ALERT.CALL.SHOW,e)},confirmationAlert:function(e){var t=e.title,n=e.message,r=e.onSubmit,a=e.submitText;o(pe.DIALOG.NAME,pe.DIALOG.CALL.CONFIRMATION,{title:t,message:n,onSubmit:r,submitText:a})}}))}};var yo=function(){function e(){if(P()(this,e),bo)return bo;bo=this}return R()(e,[{key:"set",value:function(e,t){return localStorage[e]=JSON.stringify(t),this}},{key:"get",value:function(e,t){try{return e in localStorage?JSON.parse(localStorage[e]):t}catch(n){return console.warn("failed to load layout",localStorage[e]),t}}},{key:"hasKey",value:function(e){return e in localStorage}},{key:"keys",value:function(){return Object.keys(localStorage)}}],[{key:"getInstance",value:function(){return new e}},{key:"set",value:function(t,n){return e.getInstance().set(t,n)}},{key:"get",value:function(t){return e.getInstance().get(t)}},{key:"hasKey",value:function(t){return e.getInstance().hasKey(t)}},{key:"keys",value:function(){return e.getInstance().keys()}}]),e}(),bo=null;const Eo=yo;function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Co=function(){function e(){var t;if(P()(this,e),wo)return wo;wo=this,this.user=new G.User;var n="movai-ide-ce",r=null!==(t=this.user.getUsername())&&void 0!==t?t:"";this.storage=new Eo,this.TABS_KEY="movai.".concat(r,".").concat(n,".tabs"),this.TAB_STACK_KEY="movai.".concat(r,".").concat(n,".tabStack"),this.LAYOUT_KEY="movai.".concat(r,".").concat(n,".layout"),this.SELECTED_ROBOT_KEY="movai.".concat(r,".").concat(n,".selectedRobot"),this.RECENT_DOCUMENTS_KEY="movai.".concat(r,".").concat(n,".recentDocuments"),this.DEBUGGING_FLOW_KEY="movai.".concat(r,".").concat(n,".flowIsDebugging"),this.layoutAndTabs=this.getLayoutAndTabs(),this.layout=this.layoutAndTabs[0],this.tabs=this.layoutAndTabs[1],this.tabStack=this.getTabStack(),this.defaultTabStack=Object.values(Pe).reduce((function(e,t){return Oo(Oo({},e),{},l()({},t,[]))}),{}),this.recentDocuments=this.getRecentDocuments(),this.selectedRobot=this.getSelectedRobot(),this.defaultRecentDocuments=[]}return R()(e,[{key:"destroy",value:function(){wo=null}},{key:"setLayout",value:function(e){this.storage.set(this.LAYOUT_KEY,e),this.layout=e}},{key:"getLayout",value:function(){return this.getStoredTabs().size?this.storage.get(this.LAYOUT_KEY):Ie}},{key:"getLayoutAndTabs",value:function(){var e=this.getStoredTabs();return e.size?[this.storage.get(this.LAYOUT_KEY,Ie),e]:[Ie,xe]}},{key:"setTabs",value:function(e){var t=Object.fromEntries(e);this.storage.set(this.TABS_KEY,t),this.tabs=e}},{key:"getTabs",value:function(){return this.tabs}},{key:"getStoredTabs",value:function(){var e,t=null!==(e=this.storage.get(this.TABS_KEY,xe))&&void 0!==e?e:{};return new Map(Object.entries(t))}},{key:"setTabStack",value:function(e){this.storage.set(this.TAB_STACK_KEY,e)}},{key:"getTabStack",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultTabStack,n=null!==(e=this.storage.get(this.TAB_STACK_KEY))&&void 0!==e?e:t;for(var r in n)n[r]=n[r].map((function(e){return{id:e.id||e,isNew:e.isNew}}));return n}},{key:"getFlowIsDebugging",value:function(){var e;return null!==(e=this.storage.get(this.DEBUGGING_FLOW_KEY))&&void 0!==e&&e}},{key:"setFlowIsDebugging",value:function(e){this.storage.set(this.DEBUGGING_FLOW_KEY,null!=e&&e)}},{key:"setSelectedRobot",value:function(e){this.storage.set(this.SELECTED_ROBOT_KEY,e),this.selectedRobot=e}},{key:"getSelectedRobot",value:function(){var e;return null!==(e=this.storage.get(this.SELECTED_ROBOT_KEY))&&void 0!==e?e:""}},{key:"setRecentDocuments",value:function(e){this.storage.set(this.RECENT_DOCUMENTS_KEY,e),this.recentDocuments=e}},{key:"getRecentDocuments",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultRecentDocuments;return null!==(e=this.storage.get(this.RECENT_DOCUMENTS_KEY))&&void 0!==e?e:t}}]),e}(),wo=null;const Do=Co,ko=require("@material-ui/icons/Add");var Po=o.n(ko);const No=require("@material-ui/icons/ChromeReaderMode");var Ro=o.n(No);function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xo={paper:{margin:"10px",flex:1,borderRadius:"5px"},columnTitle:{padding:"14px",fontSize:"24px"},columnBody:{margin:"7px",display:"flex",flexFlow:"column"}},Io=(0,c.makeStyles)((function(e){return{root:{height:"100%",width:"100%",display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.robotDetails.backgroundColor},body:{flex:"1 1 auto",display:"flex",height:"calc(100% - 56px - 48px - 12px)",padding:"0 5px",marginTop:"15px"},column:{flex:"0 0 50%",display:"flex",flexDirection:"column"},footer:{display:"flex",justifyContent:"center",marginTop:"2px",marginBottom:"10px"},socialIconBadge:{color:e.palette.text.primary,"&:hover":{color:e.palette.text.primary}},title:{padding:"15px",paddingBottom:"0px"},movaiLogo:{padding:"15px",paddingBottom:"0px",width:"178px",height:"56px"},movaiIcon:{height:"30px"}}})),Lo=(0,c.makeStyles)((function(e){return So(So({},xo),{},{link:{color:"#3db5e6",fontSize:"16px",padding:"5px 10px",fontWeight:600,display:"flex","&:hover":{cursor:"pointer",backgroundColor:"".concat(e.palette.primary.main,"26"),color:e.palette.text.primary,textDecoration:"none"}},linkIcon:{color:e.palette.text.primary,marginRight:"10px",fontSize:"20px"}})})),Mo=(0,c.makeStyles)((function(e){return So(So({},xo),{},{flexTitle:{display:"flex",justifyContent:"space-between",alignItems:"center"},recentPaper:{maxHeight:"calc(100% - 78px)",overflow:"auto"},clearIcon:{color:e.palette.text.primary,fontSize:"8px"}})})),jo=(0,c.makeStyles)((function(e){return So(So({},xo),{},{examplePaper:{maxHeight:"calc(100% - 20px)"},cardDivider:{height:"3px",margin:"0 20px"},columnExample:{margin:"3px",overflow:"auto",maxHeight:"calc(100% - 90px)"},defaultMessage:{textAlign:"center","& i":{fontSize:"80px"}}})})),Bo=(0,c.makeStyles)((function(e){return{card:{display:"flex",margin:"2px",padding:"5px",borderRadius:"2px",alignItems:"center","&:hover":{cursor:"pointer",backgroundColor:"".concat(e.palette.primary.main,"26")}},haveImage:{width:"calc(100% - 185px)",marginRight:"15px"},fullWidth:{width:"100%"},exampleImage:{width:170,height:170,borderRadius:"5px",border:"4px solid white",boxShadow:"1px 1px 8px 0px #000","& > img":{width:"100%",height:"100%",objectFit:"cover"}},cardHeader:{display:"flex",flexFlow:"row",margin:"10px 5px",fontSize:"20px",color:e.palette.text.primary,alignItems:"center"},cardBody:{display:"flex",flexFlow:"column",margin:"0px 5px"},cardFooter:{margin:"30px 5px 10px","& > button":{margin:"0px"}},cardIcon:{backgroundColor:e.palette.text.primary,color:"rgb(0, 127, 255)",borderRadius:"5px",marginRight:"10px",fontSize:"15px"},title:{fontWeight:600,display:"flex",alignItems:"flex-start"},icon:{color:e.palette.text.primary,padding:"3px",paddingRight:"20px","&:hover":{color:e.palette.text.primary}},avatar:{display:"inherit",marginLeft:"10px"},paragraph:{marginBottom:"0px"},movaiIcon:{width:"15px",height:"15px"},externalLinkButton:{fontWeight:600,color:e.palette.text.primary,"&:hover":{color:e.palette.text.primary,textDecoration:"none",backgroundColor:"".concat(e.palette.primary.main,"c4"),"& $externalLinkLabel":{color:e.palette.text.primary}}},externalLinkLabel:{color:e.palette.text.primary,"&:hover":{textDecoration:"none"}}}})),zo=(0,c.makeStyles)((function(e){return{deleteDocument:{visibility:"hidden"},row:{display:"flex",justifyContent:"space-between",padding:"2px 10px","&:hover":{cursor:"pointer",backgroundColor:"".concat(e.palette.primary.main,"26"),"& $link":{color:e.palette.text.primary},"& $deleteDocument":{visibility:"visible"}}},deleted:{textDecoration:"line-through"},link:{color:e.palette.primary.light,fontSize:"16px",margin:"2px 10px",fontWeight:600},iconLink:{display:"flex",alignItems:"center","& svg":{fontSize:"20px"}},iconFont:{fontSize:"20px"}}})),Fo=function(n){var r=n.call,o=(0,H.useTranslation)().t,a=Lo(),c=(0,e.useState)([]),s=Gt()(c,2),l=s[0],u=s[1];return(0,e.useEffect)((function(){r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_DOC_TYPES).then((function(e){u(e)}))}),[r]),t().createElement(Fr(),{"data-testid":"section_quick-access",className:a.paper},t().createElement("div",{className:a.columnTitle},o("QuickAccess")),t().createElement(Mr(),null),t().createElement("div",{className:a.columnBody},t().createElement(i.ContextMenu,{element:t().createElement("div",{className:a.link},t().createElement(Po(),{className:a.linkIcon}),o("CreateNewDoc")),menuList:l.map((function(e){return{onClick:function(){return r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.CREATE,{scope:e.scope}).then((function(t){r(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,{id:t.getUrl(),name:t.getName(),scope:e.scope,isNew:!0})}))},element:e.scope,icon:Tt(e.scope),onClose:!0}}))}),mo.HELP.DOCUMENTATION?t().createElement("a",{"data-testid":"input_documentation",href:mo.HELP.DOCUMENTATION,target:"_blank",rel:"noreferrer",className:a.link},t().createElement(Ro(),{className:a.linkIcon}),o("Documentation")):t().createElement(t().Fragment,null),mo.HELP.FORUM?t().createElement("a",{"data-testid":"input_forum",href:mo.HELP.FORUM,target:"_blank",rel:"noreferrer",className:a.link},t().createElement(Ro(),{className:a.linkIcon}),o("Forum")):t().createElement(t().Fragment,null),Object.values(oo).filter((function(e){return e.quickAccess})).map((function(e){var n=e.icon,o=e.profile,i=o.name,c=o.title;return t().createElement("div",{"data-testid":"input_tool_".concat(i),className:a.link,onClick:function(){return Sa(r,i)}},t().createElement(n,{className:a.linkIcon}),c)}))))};Fo.propTypes={call:Ht().func};const Go=Fo,Vo=require("@material-ui/icons/DeleteForever");var Yo=o.n(Vo);const Ho=require("@material-ui/icons/Delete");var qo=o.n(Ho);const Ko=function(n){var r=n.doc,o=n.openRecentDocument,a=n.removeRecentDocument,i=r.id,c=r.scope,s=r.name,l=r.isDeleted,u=(0,H.useTranslation)().t,d=zo(),p=l?[d.row,d.deleted]:d.row,f=(0,e.useCallback)((function(){return o(r)}),[r,o]),m=(0,e.useCallback)((function(e){a(i),e.stopPropagation()}),[i,a]);return t().createElement(b.Tooltip,{arrow:!0,title:u("OpenDocUrl",{docUrl:n.doc.url}),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"right-start"},t().createElement("div",{"data-testid":"input_open-document",className:p,onClick:f},t().createElement(b.Tooltip,{title:i},t().createElement("div",{className:d.iconLink},Tt(c),t().createElement("span",{href:"#",underline:"none",className:d.link},s))),t().createElement("div",null,t().createElement(b.Tooltip,{title:u("Remove")},t().createElement(sr(),{onClick:m,size:"small",className:d.deleteDocument},t().createElement(qo(),{fontSize:"small"}))))))};var Uo=function(n){var r,o=Mo(),a=n.workspaceManager,i=n.openRecentDocument,c=n.on,s=n.off,l=(0,H.useTranslation)().t,u=(0,e.useState)(a.getRecentDocuments()),d=Gt()(u,2),p=d[0],f=d[1],m=(0,e.useCallback)((function(e){a.setRecentDocuments(e),f(e)}),[a]),v=(0,e.useCallback)((function(e){return a.getRecentDocuments().filter((function(t){return t.id!==e}))}),[a]),h=(0,e.useCallback)((function(e){var t=v(e);m(t)}),[m,v]),g=(0,e.useCallback)((function(e,t,n){var r=v(e);10===r.length&&r.shift(),r.push({id:e,name:t,scope:n}),m(r)}),[m,v]),y=(0,e.useCallback)((function(e){var t=a.getRecentDocuments(),n=t.find((function(t){return t.id===e}));n&&(n.isDeleted=!0),m(t)}),[a,m]),b=(0,e.useCallback)((function(){m([])}),[m]);return(0,e.useEffect)((function(){return f(a.getRecentDocuments()),c(pe.TABS.NAME,pe.TABS.ON.OPEN_EDITOR,(function(e){e.isNew||g(e.id,e.name,e.scope)})),c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.DELETE_DOC,(function(e){y(e.url)})),c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.SAVE_DOC,(function(e){if(e.newName){var t=e.doc,n=t.workspace,r=t.type,o="".concat(n,"/").concat(r,"/").concat(e.newName);g(o,e.newName,r)}})),function(){s(pe.TABS.NAME,pe.TABS.ON.OPEN_EDITOR),s(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.DELETE_DOC),s(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.SAVE_DOC)}}),[a,g,y,c,s]),t().createElement(Fr(),{"data-testid":"section_recent-documents",className:o.paper},t().createElement("div",{className:"".concat(o.columnTitle," ").concat(o.flexTitle)},t().createElement("span",null,l("Recent")),t().createElement(ir(),{title:l("RemoveAll")},t().createElement("span",null,t().createElement(sr(),{"data-testid":"input_clear-recent-documents",onClick:b,className:o.clearIcon,disabled:0===p.length},t().createElement(Yo(),{fontSize:"small"}))))),t().createElement(Mr(),null),t().createElement("div",{className:"".concat(o.columnBody," ").concat(o.recentPaper)},null===(r=D()(p))||void 0===r?void 0:r.reverse().map((function(e){return t().createElement(Ko,{key:e.id,doc:e,openRecentDocument:i,removeRecentDocument:h})}))))};Uo.propTypes={workspace:Ht().object,openRecentDocument:Ht().func,on:Ht().func};const Wo=Uo,Xo=require("@material-ui/icons/CallMade");var _o=o.n(Xo);const Zo=function(n){var r=Bo(),o=n.example,a=n.openDocument,i=(0,e.useCallback)((function(){return a({id:o.url,scope:o.scope})}),[o,a]);return t().createElement("div",{"data-testid":"input_open-example",className:r.card,onClick:i},t().createElement("div",{className:o.imageLink?r.haveImage:r.fullWidth},t().createElement("div",{className:r.cardHeader},t().createElement("div",{className:r.title},o.title)),t().createElement("div",{className:r.cardBody},t().createElement("p",{className:r.paragraph},o.description)),o.externalLink&&t().createElement("div",{className:r.cardFooter},t().createElement(Wt(),{className:r.externalLinkButton,variant:"outlined",endIcon:t().createElement(_o(),null)},t().createElement("a",{"data-testid":"section_external-link",href:o.externalLink,rel:"noopener noreferrer",target:"_blank",onClick:zt,className:r.externalLinkLabel},o.externalLinkLabel||o.externalLink)))),o.imageLink&&t().createElement("div",{className:r.exampleImage},t().createElement("img",{src:o.imageLink,alt:o.imageDescription||o.title})))};var Qo,Jo=(null===(Qo=window.SERVER_DATA)||void 0===Qo?void 0:Qo.Examples)||[],$o=function(n){var r=jo(),o=n.openExistingDocument,a=(0,H.useTranslation)().t,i=(0,e.useCallback)((function(){return null==Jo?void 0:Jo.map((function(e,n){return t().createElement("div",{key:e.title+n},0!==n&&t().createElement(Mr(),{light:!0,className:r.cardDivider}),t().createElement(Zo,{example:e,openDocument:o}))}))}),[r.cardDivider,o]),c=(0,e.useCallback)((function(){return t().createElement("div",{className:r.defaultMessage},t().createElement("i",{className:"icon-Happy"}),t().createElement("h2",null,a("NoHomeTabExamples")))}),[a,r.defaultMessage]);return t().createElement(Fr(),{"data-testid":"section_examples",className:"".concat(r.paper," ").concat(r.examplePaper)},t().createElement("div",{className:r.columnTitle},a("Examples")),t().createElement(Mr(),null),t().createElement("div",{className:r.columnExample},Jo.length?i():c()))};$o.propTypes={openExistingDocument:Ht().func,on:Ht().func};const ea=$o;function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ra=function(n){var r=n.call,o=n.on,a=n.off,i=n.alert,c=(0,e.useMemo)((function(){return new Do}),[]),s=Io(),l=(0,H.useTranslation)().t,u=(0,e.useCallback)((function(e){e.name||(e.name=St(e.id)),e.isDeleted?i({message:l(We.FILE_DOESNT_EXIST,{FILE_URL:e.id}),severity:De}):r(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,e)}),[i,r,l]);return(0,e.useEffect)((function(){return r(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS),o(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE,(function(e){e.id===Te.name&&r(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS)})),function(){a(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE)}}),[r,o,a]),t().createElement("div",{"data-testid":"section_hometab",className:s.root},t().createElement("div",{className:s.body},t().createElement("div",{className:s.column},t().createElement(Go,{call:r}),t().createElement(Wo,{workspaceManager:c,openRecentDocument:u,on:o,off:a})),t().createElement("div",{className:s.column},t().createElement(ea,{openExistingDocument:u}))))};const oa=rr(go(ra));function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ra.propTypes={call:Ht().func.isRequired,on:Ht().func.isRequired};var ca={paper:{margin:"10px",flex:1,borderRadius:"5px"},columnTitle:{padding:"14px",fontSize:"24px"},columnBody:{margin:"7px",display:"flex",flexFlow:"column"}},sa=(0,c.makeStyles)((function(e){return{root:{height:"100%",width:"100%",display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.robotDetails.backgroundColor},body:{flex:"1 1 auto",display:"flex",padding:"0 5px",marginTop:"15px"},smallColumn:{flex:"0 0 30%",display:"flex",flexDirection:"column"},bigColumn:{flex:"0 0 70%",display:"flex",flexDirection:"column"}}})),la=(0,c.makeStyles)((function(e){return ia(ia({},ca),{},{listItem:{padding:"20px 10px",borderBottom:"1px solid #666",borderRadius:"3px","&.activeItem":{backgroundColor:"rgba(54,181,230, 0.4)"}},listContent:{display:"inline-flex",width:"100%",justifyContent:"space-between","& > MuiSvgIcon-root":{fontSize:"26px"}}})})),ua=(0,c.makeStyles)((function(e){return ia(ia({},ca),{},{columnBody:ia(ia({},ca.columnBody),{},{"& .MuiToolbar-root":{paddingLeft:"0px"}}),description:{fontSize:"20px",fontStyle:"italic",padding:"0 15px"}})})),da=function(e){var n=e.scopes,r=e.selectedScope,o=e.setSelectedScope,a=(0,H.useTranslation)().t,i=la(),c=function(e){return r===e},s=function(e){var t=e.currentTarget.id;o(t)};return t().createElement(b.Paper,{"data-testid":"section_shortcuts-list",className:i.paper},t().createElement("div",{className:i.columnTitle},a("Scope")),t().createElement(b.Divider,null),t().createElement("div",{className:i.columnBody},n.map((function(e){return t().createElement(b.MenuItem,{"data-testid":"input_shortcut-scope",key:e.id,id:e.id,className:"".concat(i.listItem," ").concat(c(e.id)?"activeItem":""),onClick:s},t().createElement(b.Tooltip,{title:e.description,placement:"bottom-start"},t().createElement("span",{className:i.listContent},e.label,c(e.id)&&t().createElement(Kr(),null))))}))))};da.propTypes={call:Ht().func};const pa=da,fa=require("@material-table/core");var ma=o.n(fa),va=(0,c.makeStyles)((function(e){return{tableContainer:{"& .MuiPaper-root":{boxShadow:"none",justifyContent:"center"}}}}));function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ya=(0,e.forwardRef)((function(n,r){var o=n.columns,a=n.actions,i=n.data,s=n.editable,l=n.options,u=n.title,d=void 0===u?"":u,p=n.detailPanel,f=n.components,m=(0,c.useTheme)(),v=va(),h=(0,H.useTranslation)().t,g=(0,e.useRef)(),y=(0,e.useRef)({}),b=(0,e.useRef)(),E=r||g;return(0,e.useEffect)((function(){var e,t;b.current||(b.current=null===(t=E.current)||void 0===t?void 0:t.onToggleDetailPanel),b.current===(null===(e=E.current)||void 0===e?void 0:e.onToggleDetailPanel)&&(E.current.onToggleDetailPanel=function(e,t){var n,r=(null===(n=E.current.state.data[e[0]])||void 0===n?void 0:n.id)||e[0];y.current[r]?delete y.current[r]:y.current[r]=t,b.current(e,t)})}),[E]),t().createElement("div",{className:v.tableContainer},t().createElement(ma(),{tableRef:E,title:d,detailPanel:p,columns:o,actions:a,editable:s,components:f,data:i,options:ga(ga({},l),{},{rowStyle:function(e,t){return t%2!=0&&{backgroundColor:m.nodeEditor.stripeColor}},search:!0,searchFieldAlignment:"left",actionsCellStyle:{textAlign:"right",color:m.palette.primary.main},actionsColumnIndex:-1,draggable:!1,grouping:!1,paging:!1}),localization:{toolbar:{searchPlaceholder:h("Search")},pagination:{labelDisplayedRows:"{from}-{to} of {count}"},header:{actions:h("Actions")},body:{emptyDataSourceMessage:h("NoRecordsMessage"),deleteTooltip:h("Delete"),editTooltip:h("Edit"),addTooltip:h("Add"),editRow:{cancelTooltip:h("Cancel"),saveTooltip:h("Confirm")}}}}))}));ya.propTypes={data:Ht().array,options:Ht().object},ya.defaultProps={options:{},data:[]};const ba=(0,e.memo)(ya);var Ea=function(n){var r=n.data,o=n.scope,a=(0,H.useTranslation)().t,i=ua(),c=(0,e.useRef)([{title:a("Label"),field:"label"},{title:a("Description"),field:"description"},{title:a("Shortcut"),field:"shortcut",render:function(e){return Bt(e.shortcut,", ")}}]);return t().createElement(Fr(),{className:i.paper},t().createElement("div",{className:i.columnTitle},t().createElement("strong",null,o.label)," - ",a("ShortcutsTabTitle")),t().createElement(Mr(),null),t().createElement("div",{className:i.columnBody},t().createElement("p",{className:i.description},o.description),t().createElement(ba,{columns:c.current,data:r})))};Ea.propTypes={call:Ht().func};const Aa=Ea;function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wa=function(n){var r=n.call,o=n.off,a=n.on,i=(0,e.useRef)(function(e){var t={scopes:[]};return Object.values(e).forEach((function(e){t.scopes.push({id:e.NAME,label:e.LABEL,description:e.DESCRIPTION}),t[e.NAME]=[],Object.values(e.KEYBINDS).forEach((function(n){t[e.NAME].push({id:n.NAME,label:n.LABEL,description:n.DESCRIPTION,shortcut:n.SHORTCUTS})}))})),t}(vo)),c=(0,e.useState)(vo.GENERAL.NAME),s=Gt()(c,2),l=s[0],u=s[1],d=sa();return(0,e.useEffect)((function(){return r(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS),a(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE,(function(e){e.id===Se.name&&r(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS)})),function(){o(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE)}}),[r,a,o]),t().createElement("div",{"data-testid":"section_shortcuts",className:d.root},t().createElement("div",{className:d.body},t().createElement("div",{className:d.smallColumn},t().createElement(pa,{scopes:i.current.scopes,setSelectedScope:u,selectedScope:l})),t().createElement("div",{className:d.bigColumn},t().createElement(Aa,{scope:i.current.scopes.find((function(e){return e.id===l})),data:i.current[l]}))))};wa.propTypes={call:Ht().func.isRequired,on:Ht().func.isRequired};const Da=rr(wa);function ka(e){return React.createElement("div",{className:e.contentHolder},React.createElement("p",null,X.t("Version-Colon")," ",mo.APP_INFORMATION.VERSION),React.createElement("p",null,X.t("LastUpdate-Colon")," ",mo.APP_INFORMATION.LAST_UPDATE),React.createElement("p",null,X.t("ConfigurationFile-Colon")," ",mo.APP_INFORMATION.CONFIGURATION_FILE),React.createElement("p",null,X.t("CustomConfigurationFile-Colon"),mo.APP_INFORMATION.CUSTOM_CONFIGURATION_FILE),React.createElement("p",null,X.t("AppDescription"),": ",mo.APP_INFORMATION.DESCRIPTION))}function Pa(e){e(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE_ACTIVE_EDITOR)}function Na(e){e(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE_DIRTIES)}function Ra(e,t){e(pe.DIALOG.NAME,pe.DIALOG.CALL.ALERT,{title:React.createElement(React.Fragment,null,React.createElement("img",{className:t.movaiIcon,src:wt,alt:"MOV.AI Logo"}),React.createElement("span",null,mo.NAME)),message:ka(t),submitText:X.t("Ok")})}function Ta(e){window.open(e,"_blank")}function Sa(e,t){var n=ao({id:t});e(pe.TABS.NAME,pe.TABS.CALL.OPEN,n)}const xa=function(){var e=C()(F().mark((function e(t,n){var r,o,a,i,c;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){return(c=C()(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.t0=t,e.next=4,r();case 4:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),t.push(o()),(n=a()).data.length&&t.push(n),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return c.apply(this,arguments)},a=function(){return{id:"toolsMenu",title:X.t("Tools"),data:Object.values(oo).filter((function(e){return e.toolBar})).map((function(e){return{id:e.id,title:e.profile.title,callback:function(){return Sa(t,e.profile.name)}}}))}},o=function(){var e=io(Te.name),r=io(Se.name),o=Boolean(mo.HELP.DOCUMENTATION),a=Boolean(mo.HELP.FORUM);return{id:"helpMenu",title:"Help",data:[e?{id:"getStarted",title:X.t(vo.GENERAL.KEYBINDS.OPEN_WELCOME_TAB.LABEL),keybind:Bt(vo.GENERAL.KEYBINDS.OPEN_WELCOME_TAB.SHORTCUTS),callback:function(){return Sa(t,Te.name)}}:null,r?{id:"keyboardShortcuts",title:X.t(vo.GENERAL.KEYBINDS.OPEN_SHORTCUTS_TAB.LABEL),keybind:Bt(vo.GENERAL.KEYBINDS.OPEN_SHORTCUTS_TAB.SHORTCUTS),callback:function(){return Sa(t,Se.name)}}:null,e||r?{}:null,o?{id:"documentation",title:X.t("Documentation"),externalLink:!0,callback:function(){return Ta(mo.HELP.DOCUMENTATION)}}:null,a?{id:"forum",title:X.t("Forum"),externalLink:!0,callback:function(){return Ta(mo.HELP.FORUM)}}:null,o||a?{}:null,{id:"about",title:X.t("About"),callback:function(){return Ra(t,n)}}].filter((function(e){return e}))}},r=function(){var e=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=X.t("NewDoc"),e.next=3,ho(t);case 3:return e.t1=e.sent,e.t2={id:"newFile",title:e.t0,data:e.t1},e.t3={},e.t4={id:"saveFile",title:X.t(vo.EDITOR_GENERAL.KEYBINDS.SAVE.LABEL),keybind:Bt(vo.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS),callback:function(){return Pa(t)}},e.t5={id:"saveAllFiles",title:X.t(vo.GENERAL.KEYBINDS.SAVE_ALL.LABEL),keybind:Bt(vo.GENERAL.KEYBINDS.SAVE_ALL.SHORTCUTS),callback:function(){return Na(t)}},e.t6=[e.t2,e.t3,e.t4,e.t5],e.abrupt("return",{id:"fileMenu",title:"File",data:e.t6});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",i());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var Ia=function(n){var r,o=n.debugMode,a=n.call,i=n.on,s=(0,e.useState)(null),l=Gt()(s,2),u=l[0],d=l[1],p=(0,e.useState)(null),f=Gt()(p,2),m=f[0],v=f[1],h=(0,e.useState)(!1),g=Gt()(h,2),y=g[0],b=g[1],E=(0,e.useState)(!1),A=Gt()(E,2),O=A[0],C=A[1],w=function(e){return(0,c.makeStyles)((function(t){return{systemBar:{background:t.topBarColor,height:"26px",borderBottom:e?"solid 5px purple":"1px solid #000",width:"100%"},menuButton:Wr(Wr({},Xr),{},{minWidth:"40px",color:t.palette.grey[200],"&:hover":{background:t.palette.grey[900]}}),activeMenu:{background:t.palette.grey[900]}}}))}(o)(),D=Qr(),k=(0,H.useTranslation)().t,P=(0,e.useCallback)((function(e){var t;(null===(t=e.target.parentElement.dataset)||void 0===t?void 0:t.menuId)||(d(null),v(null),b(!1))}),[]),N=(0,e.useCallback)((function(e){b((function(t){var n=!1,r=null,o=null;return e.currentTarget.dataset.menuId!==u&&(n=!0,r=e.currentTarget.dataset.menuId,o=e.currentTarget),d(r),v(o),n}))}),[u]);return(0,e.useEffect)((function(){i(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE,(function(e){xa(a,D).then((function(e){C(e)}))}))}),[i,a,D]),t().createElement(t().Fragment,null,O&&t().createElement("div",{"data-testid":"section_system-bar",className:w.systemBar},O.map((function(e){var n=u===e.id?w.activeMenu:"";return t().createElement(Wt(),{"data-testid":"input_menu-item",key:e.id,className:"".concat(w.menuButton," ").concat(n),onClick:N,"data-menu-id":e.id},k(e.title))})),y&&u&&t().createElement(to,{"data-testid":"section_sub-menu",menuOpen:y,anchorEl:m,data:null===(r=O.find((function(e){return e.id===u})))||void 0===r?void 0:r.data,closeMenu:P})))};const La=rr(Ia);function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ia.propTypes={call:Ht().func.isRequired,on:Ht().func.isRequired,height:Ht().oneOfType([Ht().string,Ht().number])};var Ba=function(e){var n=e.viewPlugins,r=e.hostName,o=e.style,a=e.className;return t().createElement("div",{id:r,style:ja({},o),className:a},n)};const za=Vn(Ba);Ba.propTypes={hostName:Ht().string.isRequired},Ba.defaultProps={hostName:"alertPanel"};const Fa=require("@babel/runtime/helpers/esm/typeof");var Ga=o.n(Fa);const Va=require("@material-ui/icons/Search");var Ya=o.n(Va);const Ha=require("@material-ui/icons/Clear");var qa=o.n(Ha),Ka=(0,c.makeStyles)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:10,flex:1,"& input::placeholder":{color:e.backdrop.color}},iconButton:{padding:10},icon:{color:e.palette.primary.main}}}));const Ua=function(n){var r=n.onSearch,o=(0,e.useState)(""),a=Gt()(o,2),i=a[0],c=a[1],s=(0,H.useTranslation)().t,l=Ka();return t().createElement(b.TextField,{fullWidth:!0,placeholder:s("Search"),value:i,onChange:function(e){var t;t=e.target.value,c(t),r(t)},inputProps:{"data-testid":"input_search"},InputProps:{endAdornment:t().createElement(b.IconButton,{"data-testid":"input_reset-search",className:l.iconButton,onClick:function(){c(""),r("")}},null===i||""===i.trim()?t().createElement(b.Tooltip,{title:s("SearchSomething")},t().createElement(Ya(),{className:l.icon})):t().createElement(b.Tooltip,{title:s("ResetSearch")},t().createElement(qa(),{className:l.icon})))}})},Wa=require("react-window"),Xa=require("react-virtualized-auto-sizer");var _a=o.n(Xa),Za=function(e){var n=e.itemData,r=e.rowRender,o=e.fixedHeight,a=e.fixedWidth,i={listItem:{display:"flex",alignItems:"center",justifyContent:"center"}},c=function(e){var n=e.index,r=e.style,o=e.data;return t().createElement("div",{className:i.listItem,style:r},o[n].label," ",n)};return t().createElement(_a(),null,(function(e){var i=e.height,s=e.width;return t().createElement(Wa.FixedSizeList,{height:null!=o?o:i,width:null!=a?a:s,itemCount:n.length,itemData:n,itemSize:40},null!=r?r:c)}))};Za.propTypes={itemData:Ht().array.isRequired,rowRender:Ht().func,fixedHeight:Ht().number,fixedWidth:Ht().number};const Qa=Za;var Ja=(0,c.makeStyles)((function(e){return{list:{paddingLeft:"0px",paddingRight:"0px",height:"100%",display:"flex",flexDirection:"column"},listHolder:{height:"100%",paddingBottom:"10px"}}})),$a=(0,c.makeStyles)((function(e){return{listItem:{height:40,cursor:"pointer"},spaceBetween:{display:"flex",width:"100%",justifyContent:"space-between"},preContainer:{paddingLeft:"20px",boxSizing:"border-box",justifyContent:"space-between","& button":{display:"none"},"&:hover":{backgroundColor:"".concat(e.palette.primary.main,"26"),"& button":{display:"inline-flex"}}},ellipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:2},displayContents:{display:"contents"},iconSpace:{flex:1,textAlign:"right",maxWidth:38,"& button":{position:"relative",bottom:7,padding:7}},contextMenuIcon:{color:"white",fontSize:18}}}));const ei=require("@material-ui/icons/MoreHoriz");var ti=o.n(ei);const ni=require("@material-ui/icons/DeleteOutline");var ri=o.n(ni);const oi=require("@material-ui/icons/FileCopy");var ai=o.n(oi);const ii=require("@material-ui/icons/ExpandMore");var ci=o.n(ii);const si=require("@material-ui/icons/ChevronRight");var li=o.n(si);const ui=require("@material-ui/core/Box");var di=o.n(ui),pi=function(n){var r,o=n.showIcons,a=n.style,c=n.node,s=(0,e.useRef)(),l=(0,e.useState)(!1),u=Gt()(l,2),d=u[0],p=u[1],f=$a(),m=(0,H.useTranslation)().t,v=function(){var e=s.current.scrollWidth>s.current.clientWidth;p(e)};return(0,e.useEffect)((function(){return v(),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}}),[]),t().createElement("div",{"data-testid":"input_node",style:a,onMouseEnter:function(){n.onMouseEnter&&n.onMouseEnter(c)},onMouseLeave:function(){n.onMouseLeave&&n.onMouseLeave(c)},onClick:function(){n.onClickNode&&n.onClickNode(c)},onDoubleClick:function(){n.onDoubleClickNode&&n.onDoubleClickNode(c)},p:2,className:"".concat(f.listItem," ").concat(c.children?"":f.preContainer)},t().createElement(di(),{p:1,className:f.inlineFlex},t().createElement(A(),{alignContent:"space-between",container:!0},c.children&&(null!==(r=c.state)&&void 0!==r&&r.expanded?t().createElement(ci(),null):t().createElement(li(),null)),t().createElement("div",{className:c.children?f.displayContents:f.spaceBetween},t().createElement(ir(),{arrow:!0,title:c.title,disableFocusListener:!d,disableHoverListener:!d,disableTouchListener:!d,placement:"right-start"},t().createElement("div",{ref:s,className:f.ellipsis},c.title)),o&&!c.children&&t().createElement("div",{className:f.iconSpace},t().createElement(i.ContextMenu,{styledMenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},element:t().createElement(sr(),{onClick:zt},t().createElement(ti(),null)),menuList:[{onClick:function(e){n.handleCopyClick(c)},icon:t().createElement(ai(),{className:f.contextMenuIcon}),element:m("Copy")},{onClick:function(){n.handleDeleteClick(c)},icon:t().createElement(ri(),{className:f.contextMenuIcon}),element:m("Delete")}]}))))))};pi.propTypes={style:Ht().object.isRequired,node:Ht().object.isRequired,showIcons:Ht().bool};const fi=pi;function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t){var n,r,o,a=D()(t),i=null!==(n=null===(r=t[e.id])||void 0===r||null===(o=r.state)||void 0===o?void 0:o.expanded)&&void 0!==n&&n;return a[e.id].state=vi(vi({},a[e.id].state),{},{expanded:!i}),t.filter((function(t){return t.id!==e.id})).forEach((function(e){a[e.id].state=vi(vi({},a[e.id].state),{},{expanded:!1})})),a}var gi=function(n){var r=n.data,o=(0,e.useState)([]),a=Gt()(o,2),i=a[0],c=a[1],s=(0,e.useState)(""),l=Gt()(s,2),u=l[0],d=l[1],p=Ja();function f(e){var t=[];return e.forEach((function(e){var n;t.push(e),null!==(n=e.state)&&void 0!==n&&n.expanded&&e.children&&e.children.sort((function(e,t){return e.name.localeCompare(t.name)})).forEach((function(e){t.push(vi(vi({},e),{},{id:"".concat(e.scope,"_").concat(e.id)}))}))})),t}var m=(0,e.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase(),r=e.filter((function(e){return!e.name.includes("@SM")&&e.name.toLowerCase().includes(n)||e.children.findIndex((function(e){return e.name.toLowerCase().includes(n)}))>=0})).map((function(e){var t;return vi(vi({},e),{},{children:(null!==(t=null==e?void 0:e.children)&&void 0!==t?t:[]).filter((function(t){return t.name&&!t.name.includes("@SM")&&(e.name.toLowerCase().includes(n)||t.name.toLowerCase().includes(n))}))})}));return r.forEach((function(e){e.children.forEach((function(e,t){var n,r;e.id=null!==(n=e.id)&&void 0!==n?n:t,e.url=null!==(r=e.url)&&void 0!==r?r:e.id,e.children&&e.children.forEach((function(e,t){var n,r;e.id=null!==(n=e.id)&&void 0!==n?n:t,e.url=null!==(r=e.url)&&void 0!==r?r:e.id}))}))})),f(r)}),[]);return(0,e.useEffect)((function(){c(m(r,u))}),[r,u,m,c]),t().createElement(b.List,{className:p.list,dense:!0,component:"div"},t().createElement(b.ListItem,null,t().createElement(Ua,{onSearch:function(e){d(e),c(m(r,e))}})),t().createElement(b.Divider,null),t().createElement("div",{className:p.listHolder},t().createElement(Qa,{itemData:i,rowRender:function(e){var r=e.index,o=e.style,a=e.data[r];return t().createElement(fi,ct()({node:a},n,{style:o}))}})))};gi.propTypes={data:Ht().array.isRequired};const yi=gi;var bi=(0,c.makeStyles)((function(e){return{typography:{overflow:"hidden",justifyContent:"center",width:"100%",flex:"1 1 auto","& + div":{height:"0px"}},header:{marginBottom:"6px","& img":{maxWidth:"65%",marginRight:"10px"}}}}));function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oi=function(n){var r=n.call,o=n.on,a=bi(),i=(0,e.useState)([]),c=Gt()(i,2),s=c[0],l=c[1],u=(0,H.useTranslation)().t,d=(0,e.useCallback)((function(e,t){return e.push(t),e.sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})).map((function(e,t){return Ai(Ai({},e),{},{id:t})}))}),[]),p=(0,e.useCallback)((function(e){var t=e.documentName,n=e.documentType;l((function(e){var r=D()(e),o=r.findIndex((function(e){return e.name===n}));if(o>=0){var a=r[o].children.findIndex((function(e){return e.name===t}));a>=0&&r[o].children.splice(a,1)}return r}))}),[]),f=(0,e.useCallback)((function(e,t){var n=t.documentName,r=t.documentType,o=t.document;l((function(e){var t=D()(e),a=t.findIndex((function(e){return e.name===r}));return a>=0&&t[a].children.findIndex((function(e){return e.name===n}))<0&&d(t[a].children,{name:o.getName(),title:o.getName(),scope:o.getScope(),url:o.getUrl()}),t}))}),[d]),m=(0,e.useCallback)((function(e){var t;null!==(t=e.children)&&void 0!==t&&t.length?l(hi(e,s)):r(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,{id:e.url,name:e.name,scope:e.scope})}),[s,r]),v=(0,e.useCallback)((function(e){var t=e.name,n=e.scope;r(pe.DIALOG.NAME,pe.DIALOG.CALL.COPY_DOC,{scope:n,name:t,onSubmit:function(e){return new Promise((function(o){r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.COPY,{name:t,scope:n},e).then((function(e){o(),m({scope:n,deepness:1,name:e.getName(),url:e.getUrl()})}))}))}})}),[r,m]),h=(0,e.useCallback)((function(e){var t=e.name,n=e.scope;r(pe.DIALOG.NAME,pe.DIALOG.CALL.CONFIRMATION,{submitText:u("Delete"),title:u("DeleteDocConfirmationTitle"),onSubmit:function(){return r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.DELETE,{name:t,scope:n}).catch((function(e){var n;return console.warn("Could not delete ".concat(t," \n ").concat(null!==(n=e.statusText)&&void 0!==n?n:e))}))},message:u("DeleteDocConfirmationMessage",{docName:t})})}),[r,u]),g=(0,e.useCallback)((function(e){return l((function(t){return e.getStores().map((function(e,t){return{id:t,name:e.name,title:e.title,children:e.getDocs().map((function(e,t){return{id:t,name:e.getName(),title:e.getName(),scope:e.getScope(),url:e.getUrl()}}))}}))}))}),[]),y=(0,e.useCallback)((function(e,t){var n=t.action,r={del:function(){return p(t)},set:function(){return f(e,t)}};r[n]&&r[n]()}),[p,f]);return(0,e.useEffect)((function(){o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.LOAD_DOCS,g),o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.UPDATE_DOCS,y)}),[o,g,y]),t().createElement(t().Fragment,null,t().createElement("h1",{className:a.header},t().createElement("img",{src:mo.LOGO,alt:mo.APP_INFORMATION.LABEL})),t().createElement(b.Typography,{"data-testid":"section_explorer",component:"div",className:a.typography},s&&t().createElement(yi,{data:s,onClickNode:m,handleCopyClick:v,handleDeleteClick:h,showIcons:!0})))};const Ci=rr(Oi);Oi.propTypes={call:Ht().func.isRequired,on:Ht().func.isRequired};const wi=require("@material-ui/icons/AddBox");var Di=o.n(wi),ki=t().createContext({selectedTheme:"dark",handleToggleTheme:function(){return Pt("handleToggleTheme")},handleLogOut:function(){return Pt("handleLogOut")}});const Pi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AABFmklEQVR4nO3dd7wlRZn/8U8dcpAkSJIMBpBgwuy6CEjGsCISlEVdFdQf5rQiuybEDCImkokgEkURA6ggKApXBEEkiSAgM4QRBphQz++P7rtchpm55/RT3VXnnO/79arXrsPt7qeqz+mqU10BRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERkfIHUDbDFYCtgI2N9gI2CDAesDjgdWo/vtyCxw2B7gHmAHcbHBzgJuBUwPc0lnwIiIykAibAvsD69XP+vWAFaekJab8+YPAv4CZwN0Gt1I9728ErgGuDHBfl/GLQ4TNDN4c4TsGNxhYovSbCEvlzp+IiCxahKUMLk747L8pwncN3hLhSbnzJwsweG6ELxhcl/CmT013GTwxdz5FRGR6Busa/LOl+uCvEb5o8Lw4Br3oRTJY0+AjBn9t6SZPpvkRdsidXxER6V+E7Q3mt1w/XG9wqMGaufM7FiJsHuHbBnNavrFmYBEOy51nEREZnMFHu6gnDOZE+HaEzXPneSRFeGqEkw1iRzfU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";var Ni=(0,c.makeStyles)((function(e){return{mainMenuHolder:{height:"100%"},icon:{color:e.palette.primary.main,cursor:"pointer","& svg":{color:e.palette.primary.main}},movaiIcon:{padding:"10px",width:"25px",height:"25px"}}})),Ri=function(n){var r=n.call,o=(0,e.useState)([]),a=Gt()(o,2),s=a[0],l=a[1],u=Ni(),d=(0,c.useTheme)(),p=(0,H.useTranslation)().t,f=(0,e.useContext)(ki),m=f.isDarkTheme,v=f.handleLogOut,h=[{name:pe.EXPLORER.NAME,icon:function(e){return t().createElement(bt(),e)},title:"Explorer",isActive:!0,getOnClick:function(){r(ue.NAME,ue.CALL.TOGGLE)}}].concat(D()(Object.values(oo).filter((function(e){return e.mainMenu})).map((function(e){var n=e.icon;return{name:e.id,icon:function(e){return t().createElement(n,e)},title:e.profile.title,isActive:!0,getOnClick:function(){Sa(r,e.profile.name)}}}))));(0,e.useEffect)((function(){r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_DOC_TYPES).then((function(e){l(e)}))}),[r]);var g=(0,e.useCallback)((function(){return v(window.location.href)}),[v]);return t().createElement("div",{className:u.mainMenuHolder,"data-testid":"section_main-menu"},t().createElement(i.VerticalBar,{unsetAccountAreaPadding:!0,backgroundColor:d.palette.background.default,upperElement:t().createElement(i.ContextMenu,{element:t().createElement(b.Tooltip,{title:p("CreateNewDoc"),placement:"right",arrow:!0},t().createElement(Di(),{id:"mainMenuCreateNewDocument",className:u.icon})),menuList:s.map((function(e){return{onClick:function(){return r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.CREATE,{scope:e.scope}).then((function(t){r(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,{id:t.getUrl(),name:t.getName(),scope:e.scope,isNew:!0})}))},element:e.scope,icon:Tt(e.scope),onClose:!0}}))}),navigationList:h.map((function(e){return t().createElement(b.Tooltip,{key:e.name,title:e.title,placement:"right",arrow:!0},e.icon({className:u.icon,onClick:function(){return e.getOnClick()}}))})),lowerElement:[t().createElement(i.ProfileMenu,{key:"profileMenu",version:mo.APP_INFORMATION.VERSION,isDarkTheme:m,handleLogout:g}),t().createElement("img",{key:"movaiIcon",src:Pi,className:u.movaiIcon,alt:"MOV.AI"})]}))};Ri.propTypes={call:Ht().func.isRequired,emit:Ht().func.isRequired,profile:Ht().object.isRequired};const Ti=rr(Ri),Si=require("rc-dock");var xi=o.n(Si);function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Mi=function(n,r){var o=n.emit,a=n.call,i=n.on,c=n.off,s=(0,e.useMemo)((function(){return new Do}),[]),l=(0,e.useRef)(null),u=(0,e.useRef)(!0),d=(0,e.useRef)(new Map),p=(0,e.useState)(Li({},Ie)),f=Gt()(p,2),m=f[0],v=f[1],h=function(n){var r=t().useRef({}),o=(0,e.useCallback)((function(){var e=r.current,t={};for(var o in e){var a=e[o];t[o]=a.filter((function(e){return!e.isNew}))}n.setTabStack(t)}),[n]),a=(0,e.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.DOCK,o=(r.current[t]||[]).filter((function(t){return t.id!==e}));r.current[t]=o,n.setTabStack(r.current)}),[n]),i=(0,e.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.DOCK,o=e.id,i=e.isNew;a(o,t);var c=r.current[t]||[];c.push({id:o,isNew:i}),r.current[t]=c,n.setTabStack(r.current)}),[n,a]),c=(0,e.useCallback)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe.DOCK,n=r.current[t]||[];return null===(e=n[n.length-1])||void 0===e?void 0:e.id}),[]);return(0,e.useEffect)((function(){var e,t;r.current=n.getTabStack(),e=o,t=window.onbeforeunload,window.onbeforeunload=function(n){return e&&e(n),t(n)}}),[n,o]),{addTabToStack:i,removeTabFromStack:a,getNextTabFromStack:c}}(s),g=h.addTabToStack,y=h.removeTabFromStack,E=h.getNextTabFromStack,A=(0,e.useCallback)((function(e){var t=l.current;e.forEach((function(e){if(!Boolean(e.extension)){var t=e.id,n=ao(e);d.current.set(n.id,n),s.setTabs(d.current),r.current.updateTab(t,n,!1)}})),l.current=t,o(pe.TABS.ON.ACTIVE_TAB_CHANGE,{id:t})}),[r,s,o]),O=(0,e.useCallback)((function(e){return r.current.find(e)}),[r]),w=(0,e.useCallback)((function(e){var t=r.current.state.layout.maxbox.children;r.current.updateTab(e,null),t.length&&!t[0].tabs.find((function(t){return t.id===e}))&&r.current.dockMove(t[0],null,Ne)}),[r]),D=(0,e.useCallback)((function(e){var t,n,o,a=r.current.state.layout,i=O(e),c=null==i||null===(t=i.parent)||void 0===t||null===(n=t.parent)||void 0===n?void 0:n.id,s=null!==(o=Object.values(a).findIndex((function(e){return e.id===c})))&&void 0!==o?o:0;return Object.keys(a)[s]}),[r,O]),k=(0,e.useCallback)((function(e){var t,n=e.maxbox.children[0],r=(null==n?void 0:n.activeId)||(null===(t=e.dockbox.children[0])||void 0===t?void 0:t.activeId),o=null==n?void 0:n.tabs.find((function(e){return e.id===r}));if(o||(o=e.dockbox.children[0].tabs.find((function(e){return e.id===r}))),l.current=r,!o&&r){var a=E();n?n.activeId=a:e.dockbox.children[0].activeId=a,l.current=a}}),[E]),P=(0,e.useCallback)((function(e){k(e),v(e),s.setLayout(e)}),[s,k]),N=(0,e.useCallback)((function(e){var t=e.children[0];return null!=t&&t.tabs?t:N(t)}),[]),R=(0,e.useCallback)((function(e,t){var n;if(null!=e&&null!==(n=e.tabs)&&void 0!==n&&n.map((function(e){return e.id})).includes(t))return e;if(e.children){for(var r=null,o=0;null===r&&o<e.children.length;o++){var a=e.children[o];r=R(a,t)}return r}return null}),[]),T=(0,e.useCallback)((function(e,t,n,r){var o=Li({},e),a=R(o[n],t);if(a){r.id="".concat(r.id.substring(0,r.id.lastIndexOf("/")),"/").concat(r.name);var i=a.tabs.findIndex((function(e){return e.id===t}));a.tabs[i]=r,a.activeId=r.id,d.current.delete(t),d.current.set(r.id,r),g(r,n),s.setTabs(d.current),s.setLayout(o)}return{newLayout:o,box:a}}),[R,s,g]),S=(0,e.useCallback)((function(e,n,r){return t().createElement(b.Tooltip,{title:e.tabTitle||e.id},t().createElement("div",{onAuxClick:function(){return n(e.id)}},Tt(e.scope,{fontSize:13,marginTop:2,marginRight:10,marginLeft:0}),e.name+e.extension,r&&" *"))}),[]),x=(0,e.useCallback)((function(e,t){var n=e.id,r=e.name,o=e.scope;a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE,{name:r,scope:o},(function(e){if(e.success){var r=D(n);y(n,r),t&&P(t)}}))}),[a,P,D,y]),I=(0,e.useCallback)((function(e,t){var n=e.id,r=e.name,o=e.scope;a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.DISCARD_DOC_CHANGES,{name:r,scope:o}).then((function(){var e=D(n);y(n,e),t&&P(t)}))}),[a,P,D,y]),L=(0,e.useCallback)((function(e,t){var n=e.name,r=e.scope;a(pe.DIALOG.NAME,pe.DIALOG.CALL.CLOSE_DIRTY_DOC,{name:n,scope:r,onSubmit:function(n){var r={save:function(){return x(e,t)},dontSave:function(){return I(e,t)}};return n in r&&r[n]()}})}),[a,x,I]),M=(0,e.useCallback)((function(e,t,n){var r=d.current.get(t),o=r.name,i=r.scope,c=r.isNew,l=r.isDirty;if(l&&!n)L({id:t,name:o,scope:i,isNew:c},e);else{c&&!l&&a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.DISCARD_DOC_CHANGES,{name:o,scope:i}),d.current.delete(t),s.setTabs(d.current);var u=D(t);y(t,u),P(e),a(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS)}}),[a,s,P,L,D,y]),j=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t,n){var o,a,i,c,s,l,u;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(t)){e.next=3;break}return e.abrupt("return");case 3:o=r.current.saveLayout(),a=Object.values(Pe),i=0,c=a;case 6:if(!(i<c.length)){e.next=20;break}if(s=c[i],!(l=R(o[s],t))){e.next=17;break}if(s!==Pe.MAX||1!==l.tabs.length){e.next=15;break}return u=r.current.state.layout.maxbox.children[0],e.next=14,r.current.dockMove(u,null,Ne);case 14:return e.abrupt("return",j(t));case 15:return l.tabs=l.tabs.filter((function(e){return e.id!==t})),e.abrupt("return",M(o,t,n));case 17:i++,e.next=6;break;case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r,R,M,O]),B=(0,e.useCallback)((function(e){var t=e.instance,n=e.value,o=t.getUrl(),a=d.current.get(o),i=Boolean(null==a?void 0:a.isDirty);if(a&&i!==n){var c=Li(Li({},a),{},{isDirty:n});if(d.current.set(o,c),r.current){var s=O(o);r.current.updateTab(o,s,!1)}}}),[r,O]),z=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t,n){var r,o,a;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=$e.getPlugin(n.id))){e.next=5;break}return e.abrupt("return",Promise.resolve(r));case 5:return o=t.plugin,a=new o({name:n.id},{id:n.id,name:n.name,scope:n.scope}),e.abrupt("return",$e.install(n.id,a).then((function(){return a})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),G=(0,e.useCallback)((function(e){return a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_DOC_FACTORY,e.scope).then((function(t){return t?z(t,e).then((function(n){var r,o=null!==(r=t.store.model.EXTENSION)&&void 0!==r?r:"";return{id:e.id,name:e.name,isNew:e.isNew,isDirty:e.isDirty,title:S(e,j,e.isDirty),extension:o,scope:e.scope,content:n.render()}})).catch((function(t){return console.warn("debug can't open tab",t),e})):e}))}),[a,S,j,z]),V=(0,e.useCallback)((function(){return r.current.state.layout.maxbox.children.length?Pe.MAX:Pe.DOCK}),[r]),Y=(0,e.useCallback)((function(e){var t,n,r=null!==(t=e.dockPosition)&&void 0!==t?t:V(),a=null!==(n=e.position)&&void 0!==n?n:{h:500,w:600,x:145,y:100,z:1};o(pe.TABS.ON.ACTIVE_TAB_CHANGE,{id:e.id}),g(e,r),d.current.set(e.id,e),s.setTabs(d.current),O(e.id)?w(e.id):(l.current=e.id,v((function(t){var n=Li({},t);if(0===n[r].children.length)return n[r].children=[Li(Li({},a),{},{tabs:[e]})],s.setLayout(n),Li({},n);if(r===Pe.FLOAT)n[r].children.push(Li(Li({},a),{},{tabs:[e]}));else{var o=N(n[r]);o.tabs.push(e),o.activeId=e.id}return s.setLayout(n),Li({},n)})))}),[s,N,V,w,g,O,o]),H=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t){var n,r,i;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{name:t.name,scope:t.scope});case 3:i=e.sent,t.isNew=null!==(n=t.isNew)&&void 0!==n?n:i.isNew,t.isDirty=null!==(r=t.isDirty)&&void 0!==r?r:i.isDirty,G(t).then((function(e){o(pe.TABS.ON.OPEN_EDITOR,e),Y(e)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[a,o,G,Y]),q=(0,e.useCallback)((function(e){var t=e.tabId,n=e.keepBookmarks;j(t),!n&&a(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS)}),[a,j]),K=(0,e.useCallback)((function(e){var t=d.current.get(e.id);if(t||e.content){var n=null!=t?t:e,r=n.id,o=n.content,a=n.scope,i=n.name,c=n.tabTitle,s=n.extension,l=n.isDirty,u=n.isNew;return d.current.set(r,{id:r,scope:a,name:i,tabTitle:c,content:o,extension:s,isNew:u,isDirty:l}),{id:r,title:S({id:r,scope:a,name:i,tabTitle:c,extension:s},j,l),content:o,closable:!0}}}),[S,j]),U=(0,e.useCallback)((function(e,t,n){var r=D(t),i=d.current.get(t),c=t;"remove"===n?(j(t),i.isDirty||(c=E(r)||N(e.dockbox).activeId)):(P(e),!u.current&&g(i,r),u.current=!1),t&&(c?(l.current=c,o(pe.TABS.ON.ACTIVE_TAB_CHANGE,{id:c})):a(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS))}),[o,a,N,j,P,D,g,E]),W=(0,e.useCallback)((function(e,t){G(t).then((function(t){l.current=t.id,v((function(n){for(var r=0,o=Object.values(Pe);r<o.length;r++){var a=o[r],i=T(n,e,a,t);if(i.box)return i.newLayout}return n}))}))}),[G,T]),X=(0,e.useCallback)((function(){return d.current.get(l.current)}),[]),_=(0,e.useCallback)((function(){w(l.current)}),[w]);return(0,e.useEffect)((function(){return i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.UPDATE_DOC_DIRTY,(function(e){return B(e)})),i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.DELETE_DOC,(function(e){return j(e.url,!0)})),i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.SAVE_DOC,(function(e){if(e.newName){var t=e.doc,n=t.type,r=e.newName,o={id:It({workspace:t.workspace,scope:n,name:r}),name:r,scope:n};W(t.path.replace("/".concat(t.version),""),o),a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.RELOAD_DOC,{scope:n,name:r})}})),function(){c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.UPDATE_DOC_DIRTY),c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.DELETE_DOC),c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.SAVE_DOC)}}),[i,a,c,B,W,j]),(0,e.useEffect)((function(){var e=s.getLayoutAndTabs(),t=Gt()(e,2),n=t[0],r=t[1],o=[];return k(n),d.current=r,r.forEach((function(e){var t=e.id,n=e.name,r=e.scope;o.push(G({id:t,name:n,scope:r}))})),Promise.allSettled(o).then((function(e){e.forEach((function(e){"fulfilled"===e.status&&d.current.set(e.value.id,e.value)})),v(n),A(r)})),function(){s.destroy()}}),[r,s,G,k,A]),{layout:m,open:Y,openEditor:H,close:q,loadTab:K,onLayoutChange:U,focusExistingTab:w,getActiveTab:X,focusActiveTab:_,updateTabId:W}};require("rc-dock/dist/rc-dock.css");var ji=(0,c.makeStyles)((function(e){return{"@global":{".dock-dropdown-menu":{background:e.palette.background.default},".dock-dropdown-menu-item":{color:e.palette.text.primary,background:e.palette.background.default},".dock-dropdown-menu-item-active:hover":{background:e.palette.background.primary}},root:{position:"relative",width:"100%",height:"100%","& .dock-layout":{width:"100%",height:"100%",background:e.dockLayout.background,"& .dock-panel":{background:e.palette.background.default,borderColor:e.palette.background.default,"& .dock-bar":{borderColor:e.background,background:e.palette.background.primary,"& .dock-nav-more":{color:e.palette.text.primary},"& .dock-tab":{borderTopLeftRadius:"5px",borderTopRightRadius:"5px",background:e.backdrop.background,color:e.backdrop.color,padding:"0 10px","& .dock-tab-close-btn":{right:"1px"},"& > div":{padding:"4px 15px 4px 5px"}},"& .dock-ink-bar":{backgroundColor:e.palette.primary.main}},"& .dock-drop-layer .dock-drop-square":{background:e.palette.background.primary,color:e.backdrop.color,borderColor:"".concat(e.backdrop.color,"95")}},"& .dock-style-place-holder":{background:e.palette.background.default},"& .dock-divider":{background:"".concat(e.palette.background.primary,"95")}}},dockLayout:{position:"absolute",left:"10px",top:"10px",right:"10px",bottom:"10px"}}})),Bi=function(n,r){var o=ji(),a=(0,e.useRef)(),i=Mi(n,a),c=i.layout,s=i.open,l=i.openEditor,u=i.close,d=i.onLayoutChange,p=i.focusExistingTab,f=i.getActiveTab,m=i.focusActiveTab,v=i.loadTab,h=i.updateTabId;return or(r,{open:s,openEditor:l,updateTabId:h,getActiveTab:f,focusActiveTab:m,close:u}),t().createElement("div",{"data-testid":"input_tab-panel",className:o.root,onClick:function(e){var t,n=e.target;if(null!=n&&null!==(t=n.classList)&&void 0!==t&&t.contains("dock-nav-wrap")){var r=n.querySelector(".dock-tab-active>.dock-tab-btn"),o=r.id.substring(r.id.indexOf("tab-")+4);f!==o&&p(o)}}},t().createElement(xi(),{ref:a,layout:c,loadTab:v,onLayoutChange:d,className:o.dockLayout}))};const zi=rr(Bi,Bi.pluginMethods=D()(Object.values(pe.TABS.CALL)));Bi.propTypes={call:Ht().func.isRequired,on:Ht().func.isRequired,emit:Ht().func.isRequired,onTopic:Ht().func.isRequired,profile:Ht().object.isRequired};var Fi=function(){return t().createElement(t().Fragment,null)};const Gi=rr(Fi);Fi.propTypes={call:Ht().func.isRequired,profile:Ht().object.isRequired};var Vi=o(379),Yi=o.n(Vi),Hi=o(795),qi=o.n(Hi),Ki=o(569),Ui=o.n(Ki),Wi=o(565),Xi=o.n(Wi),_i=o(216),Zi=o.n(_i),Qi=o(589),Ji=o.n(Qi),$i=o(22),ec={};ec.styleTagTransform=Ji(),ec.setAttributes=Xi(),ec.insert=Ui().bind(null,"head"),ec.domAPI=qi(),ec.insertStyleElement=Zi(),Yi()($i.Z,ec),$i.Z&&$i.Z.locals&&$i.Z.locals;function tc(e){var t=e.scope,n=e.store,r=e.editorPlugin,o=e.otherPlugins,a=void 0===o?[]:o;!function(e,t,n){tt[e]={store:t,plugin:n}}(t,n,r),a.forEach((function(e){var t=e.factory(e.profile);$e.install(e.profile.name,t)}))}function nc(e){var t=e.Plugin,n=e.profile,r=e.id,o=new t(n);$e.install(r,o).then((function(){e.tabData.content=o.render(),function(e,t){oo[e]=t}(r,e)}))}const rc=function(n){var r=n.theme,o=n.handleToggleTheme,a=n.handleLogOut,s=n.logo,l=n.links,u=n.shortcuts,d=n.appName,p=(!1,(0,c.makeStyles)((function(e){return{leftPanel:{border:"",borderRight:"1px solid ".concat(e.background),display:"flex",position:"relative"},mainGrid:{flexGrow:1},sidePanel:{height:"100%"},centralPanel:{flexGrow:1,border:""},rightDrawer:{border:"",borderLeft:"1px solid ".concat(e.background),position:"relative"},bottomBar:{border:"",width:"100%"}}})))();return(0,e.useEffect)((function(){[{profile:{name:pe.DOC_MANAGER.NAME},factory:function(e){return new at(e)}},{profile:{name:pe.DIALOG.NAME},factory:function(e){return new xn(e)}},{profile:{name:pe.ALERT.NAME},factory:function(e){return new Mn(e)}}].forEach((function(e){var t=e.factory(e.profile);$e.install(e.profile.name,t)})),[{profile:{name:pe.MAIN_MENU.NAME,location:se.NAME},factory:function(e){return new Ti(e)}},{profile:{name:pe.EXPLORER.NAME,location:ue.NAME},factory:function(e){return new Ci(e)}},{profile:{name:pe.TABS.NAME,location:le.NAME},factory:function(e){return new zi(e)}},{profile:{name:pe.PLACEHOLDER.NAME,location:pe.RIGHT_DRAWER.NAME},factory:function(e){return new Gi(e)}},{profile:{name:pe.SYSTEM_BAR.NAME,location:ce.NAME},factory:function(e){return new La(e)}}].forEach((function(e){var t=e.factory(e.profile);$e.install(e.profile.name,t)})),console.log("\n███╗   ███╗ ████████╗ ██╗   ██╗         █████╗ ██╗ \n████╗ ████║ ██║   ██║ ██║   ██║        ██╔══██╗██║\n██╔████╔██║ ██║   ██║ ██║   ██║ █████╗ ███████║██║\n██║╚██╔╝██║ ██║   ██║  █║  ██╔╝ ╚════╝ ██╔══██║██║\n██║ ╚═╝ ██║ ╚██████═╝   ╚███═╝         ██║  ██║██║\n")}),[]),(0,e.useEffect)((function(){s&&function(e){fo.LOGO=e}(s)}),[s]),(0,e.useEffect)((function(){var e,t,n;l&&(t=(e=l).documentation,n=e.forum,fo.HELP.DOCUMENTATION=t,fo.HELP.FORUM=n)}),[l]),(0,e.useEffect)((function(){u&&function(e,t){var n={};fo.SHORTCUTS=lo(lo({},n),{},{shortcuts:e})}(u)}),[u]),(0,e.useEffect)((function(){var e;d&&(e=d,fo.NAME=e,fo.APP_INFORMATION.LABEL=e)}),[d]),t().createElement(ki.Provider,{value:{selectedTheme:r,isDarkTheme:"dark"===r,handleToggleTheme:o,handleLogOut:a}},t().createElement(i.Style,null),t().createElement("div",{className:"App",onContextMenu:function(e){return e.preventDefault()}},function(e){return t().createElement(A(),{container:!0,direction:"column"},t().createElement(Pr,{hostName:ie}),t().createElement(A(),{container:!0,alignItems:"flex-start"},t().createElement(Dr,{hostName:ce.NAME,debugMode:false})),t().createElement(A(),{container:!0,alignItems:"stretch",className:e.mainGrid},t().createElement(b.Typography,{component:"div",className:e.leftPanel},t().createElement(Ar,{hostName:se.NAME,className:e.sidePanel}),t().createElement(gr,{hostName:ue.NAME,anchor:"left",initialOpenState:!0})),t().createElement(Zn,{className:e.centralPanel,hostName:le.NAME}),t().createElement(gr,{className:e.rightDrawer,hostName:pe.RIGHT_DRAWER.NAME,anchor:"right"})),t().createElement(A(),{container:!0,alignItems:"flex-end"},t().createElement(Un,{hostName:de,className:e.bottomBar})),t().createElement(za,{hostName:"alertPanel"}))}(p)))};var oc;function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ic={timer:Symbol(),enabled:Symbol()};oc=ic.enabled;var cc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t,n=e.id,a=e.name,i=e.version,c=void 0===i?"-":i,s=e.workspace,u=void 0===s?_:s;return P()(this,o),t=r.call(this),l()(S()(t),"details",{user:"N/A",date:"N/A"}),l()(S()(t),"isNew",!0),l()(S()(t),"isLoaded",!1),l()(S()(t),"isDirty",!0),l()(S()(t),"isOutdated",!1),l()(S()(t),"observables",["name","details"]),t.id=null!=n?n:a,t.name=a,t.version=c,t.workspace=u,t.enableObservables(),t}return R()(o,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){return this.id=e,this}},{key:"getWorkspace",value:function(){return this.workspace}},{key:"getUrl",value:function(){return"".concat(this.getWorkspace(),"/").concat(this.getScope(),"/").concat(this.getName())}},{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){return this.name=e,this}},{key:"getVersion",value:function(){return this.version}},{key:"getDetails",value:function(){return this.details}},{key:"setDetails",value:function(e){return this.details=e,this}},{key:"getIsLoaded",value:function(){return this.isLoaded}},{key:"setIsLoaded",value:function(e){return this.isLoaded=Boolean(e),this}},{key:"getDirty",value:function(){return this.isDirty}},{key:"setDirty",value:function(e){return this.isDirty=Boolean(e),this}},{key:"getIsNew",value:function(){return this.isNew}},{key:"setIsNew",value:function(e){return this.isNew=Boolean(e),this}},{key:"getOutdated",value:function(){return this.isOutdated}},{key:"setOutdated",value:function(e){return this.isOutdated=e,this}},{key:"setData",value:function(e){var t=this;return Object.entries(null!=e?e:{}).forEach((function(e){var n=Gt()(e,2),r=n[0],o=n[1];Reflect.has(t,r)&&void 0!==o&&Reflect.set(t,r,o)})),this.setOutdated(!1),this}},{key:"getScope",value:function(){return"NA"}},{key:"getFileExtension",value:function(){return".NA"}},{key:"dispatch",value:function(){this.setDirty(!0),Jn()(B()(o.prototype),"dispatch",this).apply(this,arguments)}},{key:"serialize",value:function(){return{id:this.getId(),url:this.getUrl(),name:this.getName(),scope:this.getScope(),workspace:this.getWorkspace(),details:this.getDetails(),version:this.getVersion()}}},{key:"serializeToDB",value:function(){return this.serialize()}},{key:"destroy",value:function(){Jn()(B()(o.prototype),"destroy",this).call(this)}}],[{key:"serializeOfDB",value:function(e){return e}},{key:"ofJSON",value:function(e){var t=this.serializeOfDB(e);return new this(t).setData(t).setDirty(!1)}}]),o}(function(){function e(){return P()(this,e),l()(this,oc,!1),l()(this,"observables",[]),l()(this,"subscribers",new Map),this[ic.timer]=void 0,new Proxy(this,{set:function(e,t,n){if(e.observables.includes(t)&&e[ic.enabled]){var r=Reflect.set.apply(Reflect,arguments);return e.dispatch(t,n),r}return Reflect.set.apply(Reflect,arguments)}})}return R()(e,[{key:"enableObservables",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this[ic.enabled]=e,this}},{key:"subscribe",value:function(e){var t=Symbol();return this.subscribers.set(t,e),t}},{key:"unsubscribe",value:function(e){return this.subscribers.delete(e)}},{key:"dispatch",value:function(e,t){var n=this;if(this[ic.enabled])try{var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(this.subscribers.values());try{var a=function(){var o=r.value;setTimeout((function(){return o.call(n,n,e,t)}),0)};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}catch(e){console.error(e)}}},{key:"destroy",value:function(){this.subscribers.clear()}}]),e}()),sc=R()((function e(t){var n=this;P()(this,e),l()(this,"validate",(function(e){return n.schema.validate(e)})),this.schema=t}));const lc=sc;var uc=["schema"];function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);var t=arguments[0],n=t.schema,a=lt()(t,uc);return(e=r.call(this,pc({},a))).schema=new lc(null!=n?n:{}),e}return R()(o,[{key:"validate",value:function(){return this.schema.validate(this.serialize())}}]),o}(cc);const mc=fc,vc=mc,hc="onUpdate",gc="onCreate",yc="onDelete",bc="onAny";function Ec(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ac(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const wc=function(){function e(t,n,r){P()(this,e),l()(this,"data",new Map),this.events=null!=r?r:{},this.propName=t,this.model=n}return R()(e,[{key:"checkExists",value:function(e){return this.data.has(e)}},{key:"getItem",value:function(e){return this.data.get(e)}},{key:"hasItems",value:function(){return Boolean(this.data.size)}},{key:"setItem",value:function(e){var t=this,n=e.name,r=e.content,o=new this.model;return o.setData(Cc({name:n},r)),this.data.set(n,o),o.subscribe((function(){t.emit(hc)})),this.emit(gc),this}},{key:"updateItem",value:function(e){var t,n=e.name,r=e.content;return null===(t=this.getItem(n))||void 0===t||t.setData(r),this.emit(hc),this}},{key:"renameItem",value:function(e,t){var n=e.prevName,r=e.name,o=this.getItem(n);return o&&(o.setName(r),this.data.delete(n),this.data.set(r,o),!t&&this.emit(hc)),this}},{key:"deleteItem",value:function(e){var t;null===(t=this.getItem(e))||void 0===t||t.destroy();var n=this.data.delete(e);return this.emit(yc),n}},{key:"setData",value:function(e){var t=this;return Object.entries(null!=e?e:{}).forEach((function(e){var n=Gt()(e,2),r=n[0],o=n[1];t.setItem({name:r,content:o})})),this}},{key:"serialize",value:function(){var e,t={},n=Ec(this.data.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.getItem(r);t[o.getName()]=o.serialize()}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"serializeToDB",value:function(){var e,t={},n=Ec(this.data.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.getItem(r);t[o.getName()]=o.serializeToDB()}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"emit",value:function(e){var t=this.propName,n=this.serialize(),r=this.events[e];"function"==typeof r&&r.call(this,e,t,n);var o=this.events[bc];"function"==typeof o&&o.call(this,e,t,n)}},{key:"clear",value:function(){return this.data.clear(),this}},{key:"destroy",value:function(){Array.from(this.data.values()).destroy(),this.data.clear()}}],[{key:"serializeOfDB",value:function(e,t){var n={};return Object.entries(null!=e?e:{}).forEach((function(e){var r=Gt()(e,2),o=r[0],a=r[1];n[o]=t.serializeOfDB(l()({},o,Cc({},a)))})),n}}]),e}(),Dc=o(506).object({});function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Pc({schema:Dc},arguments[0]))).value="",e.description="",e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getDescription",value:function(){return this.description}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"serialize",value:function(){return{name:this.getName(),value:this.getValue(),description:this.getDescription()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{Value:e.value,Description:e.description}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];return{name:t,value:n.Value,description:n.Description}}}]),o}(mc);l()(Nc,"OBSERVABLE_KEYS",{NAME:"name",VALUE:"value",DESCRIPTION:"description"});const Rc=Nc,Tc=o(506).object({});function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ic=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,xc({schema:Tc},arguments[0]))).value="",e.description="",e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getDescription",value:function(){return this.description}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"serialize",value:function(){return{name:this.getName(),value:this.getValue(),description:this.getDescription()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{Value:e.value,Description:e.description}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];return{name:t,value:n.Value,description:n.Description}}}]),o}(mc);l()(Ic,"OBSERVABLE_KEYS",{NAME:"name",VALUE:"value",DESCRIPTION:"description"});const Lc=Ic,Mc=o(506).object({});function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Bc({schema:Mc},arguments[0]))).value="",e.type=o.defaults.type,e.description="",e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){return this.type=e,this}},{key:"getDescription",value:function(){return this.description}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"serialize",value:function(){return{name:this.getName(),value:this.getValue(),type:this.getType(),description:this.getDescription()}}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=e.value,n=e.description;return{Value:t,Type:e.type,Description:n}}}],[{key:"serializeOfDB",value:function(e){var t,n=Object.keys(e)[0],r=Object.values(e)[0],a=null!==(t=r.Type)&&void 0!==t?t:o.defaults.type;return{name:n,value:r.Value,type:a,description:r.Description}}}]),o}(mc);l()(zc,"OBSERVABLE_KEYS",{NAME:"name",VALUE:"value",DESCRIPTION:"description",TYPE:"type"}),l()(zc,"defaults",{type:re});const Fc=zc,Gc=o(506).object({}),Vc=o(506).object({});function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const qc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),e=r.call(this,Hc({schema:Vc},arguments[0])),l()(S()(e),"message",""),l()(S()(e),"callback",null),l()(S()(e),"parameters",{}),l()(S()(e),"observables",["name","message","callback","parameters"]),e}return R()(o,[{key:"getMessage",value:function(){return this.message}},{key:"setMessage",value:function(e){return this.message=e,this}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(e){return this.callback=e,this}},{key:"getParameters",value:function(){return this.parameters}},{key:"setParameters",value:function(e){return this.parameters=e,this}},{key:"setParameter",value:function(e,t){this.parameters[e]=t,this.dispatch("parameters",this.getParameters())}},{key:"serialize",value:function(){return{name:this.getName(),message:this.getMessage(),callback:this.getCallback(),parameters:this.getParameters()}}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=e.message,n=e.callback;return Hc({Message:t,Parameter:e.parameters},n?{Callback:n}:{})}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];return{name:t,message:n.Message,callback:n.Callback,parameters:n.Parameter}}}]),o}(vc);function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Wc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),e=r.call(this,Uc({schema:Gc},arguments[0])),l()(S()(e),"events",{onAny:function(t,n,r){return e.propsUpdate(t,n,r)}}),l()(S()(e),"id",Rt()),l()(S()(e),"description",""),l()(S()(e),"template",""),l()(S()(e),"msgPackage",""),l()(S()(e),"message",""),l()(S()(e),"portIn",new wc("portIn",qc,e.events)),l()(S()(e),"portOut",new wc("portOut",qc,e.events)),l()(S()(e),"observables",["name","description","template","msgPackage","message"]),e}return R()(o,[{key:"getId",value:function(){return this.id}},{key:"getDescription",value:function(){return this.description}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"getTemplate",value:function(){return this.template}},{key:"setTemplate",value:function(e){return this.template=e,this}},{key:"getPackage",value:function(){return this.msgPackage}},{key:"setPackage",value:function(e){return this.msgPackage=e,this}},{key:"getMessage",value:function(){return this.message}},{key:"setMessage",value:function(e){return this.message=e,this}},{key:"getPortIn",value:function(){return this.portIn}},{key:"getPortOut",value:function(){return this.portOut}},{key:"setData",value:function(e){var t=e.name,n=e.details,r=e.description,a=e.template,i=e.msgPackage,c=e.message,s=e.portIn,l=e.portOut;return Jn()(B()(o.prototype),"setData",this).call(this,{name:t,details:n,description:r,template:a,msgPackage:i,message:c}),this.portIn.setData(s),this.portOut.setData(l),this}},{key:"propsUpdate",value:function(e,t,n){this.dispatch(t,n)}},{key:"serialize",value:function(){return{id:this.getId(),name:this.getName(),description:this.getDescription(),template:this.getTemplate(),msgPackage:this.getPackage(),message:this.getMessage(),portIn:this.getPortIn().serialize(),portOut:this.getPortOut().serialize()}}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=e.description,n=e.template,r=e.message;return{Info:t,Template:n,Package:e.msgPackage,Message:r,In:this.portIn.serializeToDB(),Out:this.portOut.serializeToDB()}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0],r=n.Id,o=n.Info,a=n.Template,i=n.Message,c=n.Package,s=n.In,l=n.Out;return{id:r,name:t,description:o,template:a,message:i,msgPackage:c,portIn:wc.serializeOfDB(s,qc),portOut:wc.serializeOfDB(l,qc)}}}]),o}(vc),Xc=o(506).object({});function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qc=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Zc({schema:Xc},arguments[0]))).code="",e.extension="yaml",e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getCode",value:function(){return this.code}},{key:"setCode",value:function(e){return this.code=e,this}},{key:"getExtension",value:function(){return this.extension}},{key:"setExtension",value:function(e){return this.extension=e||this.extension,this}},{key:"getScope",value:function(){return o.SCOPE}},{key:"getFileExtension",value:function(){return o.EXTENSION}},{key:"serialize",value:function(){return Zc(Zc({},Jn()(B()(o.prototype),"serialize",this).call(this)),{},{code:this.getCode(),extension:this.getExtension()})}},{key:"serializeToDB",value:function(){var e=this.serialize();return{Label:e.name,Yaml:e.code,Type:e.extension,LastUpdate:e.details}}}],[{key:"serializeOfDB",value:function(e){var t=e.Type||o.defaults.extension;return{id:e.Label,name:e.Label,code:e.Yaml,extension:t,details:e.LastUpdate,workspace:e.workspace,version:e.version}}}]),o}(vc);function Jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}l()(Qc,"SCOPE","Configuration"),l()(Qc,"EXTENSION",".conf"),l()(Qc,"OBSERVABLE_KEYS",{NAME:"name",CODE:"code",DETAILS:"details",EXTENSION:"extension"}),l()(Qc,"KEYS_TO_DISCONSIDER",[Qc.OBSERVABLE_KEYS.CODE]),Qc.defaults={extension:"yaml"};var $c=Symbol,es=function(){function e(t){P()(this,e),this.initPlugins(t)}return R()(e,[{key:"plugins",get:function(){return this[$c]}},{key:"getPlugin",value:function(e){return this.plugins.get(e)}},{key:"initPlugins",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[$c]=new Map,t.forEach((function(t){var n=new t(e);e[$c].set(n.getName(),n)}))}},{key:"destroy",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(this.plugins.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}}]),e}();const ts=es,ns=function(){function e(){P()(this,e),l()(this,"name",void 0)}return R()(e,[{key:"getName",value:function(){if(!this.name)throw new Error("Plugin name must be defined");return this.name}},{key:"destroy",value:function(){throw new Error("Destroy method of the plugin not implemented.")}}]),e}(),rs=function(){function e(t){var n=t.pattern;t._onLoad,t._onUpdate,P()(this,e),this.pattern=n}return R()(e,[{key:"subscribe",value:function(e,t){G.MasterDB.subscribe(this.pattern,e,t)}},{key:"unsubscribe",value:function(){G.MasterDB.unsubscribe(this.pattern)}},{key:"destroy",value:function(){this.unsubscribe(),G.MasterDB.close()}}]),e}();var os=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t;P()(this,o);var n=e.workspace,a=e.model,i=e.plugin,c=e.name,s=e.title,u=e.pattern,d=e.observer,p=e.docManager,f=e.plugins;return t=r.call(this,f),l()(S()(t),"data",new Map),t._workspace=n||_,t._plugin=i,t._model=a,t._scope=a.SCOPE,t._name=c||"Store",t._title=s||"Generic Store",t.pattern=u||{Scope:t.scope,Name:"*",Label:"*"},t.observer=d,t.docManager=p,t.protectedDocs=[],t.enableSubscriber(),t}return R()(o,[{key:"workspace",get:function(){return this._workspace}},{key:"name",get:function(){return this._name}},{key:"plugin",get:function(){return this._plugin}},{key:"model",get:function(){return this._model}},{key:"scope",get:function(){return this._scope}},{key:"title",get:function(){return this._title}},{key:"loadDoc",value:function(e){var t=this;return this.fetchDoc(e).then((function(n){var r=t.getDoc(e)||t.newDoc(e).setIsNew(!1),o=r.constructor.serializeOfDB(n);return r.enableObservables(!1).setData(o).setIsLoaded(!0).setDirty(!1).enableObservables(!0)})).catch((function(n){if(404===n.status)return t.newDoc(e)}))}},{key:"fetchDoc",value:function(e){var t=this.scope;return new G.Document(G.Document.parsePath(e,t)).read()}},{key:"getDoc",value:function(e){return this.data.get(e)}},{key:"setDoc",value:function(e,t){return this.data.set(e,t)}},{key:"delDoc",value:function(e){return this.data.delete(e)}},{key:"deleteDocFromStore",value:function(e){var t;return null===(t=this.getDoc(e))||void 0===t||t.destroy(),this.delDoc(e)}},{key:"generateName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="untitled-".concat(e);return this.data.has(t)?this.generateName(e+1):t}},{key:"renameDoc",value:function(e,t){this.delDoc(e.getName()),this.setDoc(t,e),e.setName(t),e.setId(t)}},{key:"getUpdateDoc",value:function(){var e=this,t=this.scope,n={del:function(t){e.deleteDocFromStore(t.name)},set:function(t){e.getDoc(t.name)||e.newDoc(t.name)}};return function(r){if(r.event in n){var o,a=Object.keys(r.key[t])[0],i=Object.values(r.key[t])[0];n[r.event]({name:a,content:i}),"function"==typeof(null===(o=e.observer)||void 0===o?void 0:o.onUpdate)&&e.observer.onUpdate(e.name,{document:e.data.get(a),documentName:a,documentType:t},r.event)}}}},{key:"loadDocs",value:function(e){var t,n=this,r=this.scope;Object.values(e.value[r]).forEach((function(e){var t=e.Label,r=n.protectedDocs.includes(e.Label);n.getDoc(t)||r||n.newDoc(t).enableObservables(!1).setIsNew(!1).setIsLoaded(!1).setDirty(!1).enableObservables(!0)})),"function"==typeof(null===(t=this.observer)||void 0===t?void 0:t.onLoad)&&this.observer.onLoad(this.name)}},{key:"onDocumentUpdate",value:function(e,t,n){"function"==typeof this.observer.onDocumentDirty&&this.observer.onDocumentDirty(this.name,e,e.getDirty())}},{key:"enableSubscriber",value:function(){var e=this;this.subscriber=new rs({pattern:this.pattern}),this.subscriber.subscribe(this.getUpdateDoc(),(function(t){return e.loadDocs(t)}))}},{key:"destroy",value:function(){Jn()(B()(o.prototype),"destroy",this).call(this),this.subscriber&&this.subscriber.destroy()}}]),o}(ts);var as=function(e){I()(a,e);var t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B()(n);if(r){var o=B()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return M()(this,e)});function a(){return P()(this,a),o.apply(this,arguments)}return R()(a,[{key:"getDocs",value:function(){return Array.from(this.data.values())}},{key:"readDoc",value:function(e){var t=this.getDoc(e);return null!=t&&t.isLoaded?Promise.resolve(t):this.loadDoc(e)}},{key:"newDoc",value:function(e){var t=this,n=e||this.generateName(),r=new this.model({name:n});return r.setIsNew(!0),r.setIsLoaded(!0),r.subscribe((function(e,n,r){return t.onDocumentUpdate(e,n,r)})),this.setDoc(n,r),r}},{key:"deleteDoc",value:function(e){var t=this,n=this.data.get(e).getUrl();return new G.Document.delete({name:e,type:this.scope,body:{}}).then((function(n){return t.deleteDocFromStore(e)})).then((function(r){return t.observer.onDocumentDeleted(t.name,{name:e,url:n}),r}))}},{key:"saveDoc",value:function(e,t){var n=this,r=this.scope,o=this.getDoc(e);t&&this.renameDoc(o,t);var a=o.serializeToDB();return{true:function(e){var t={type:r,name:e.Label,body:e};return G.Document.create(t)},false:function(t){return new G.Document(G.Document.parsePath(e,r)).overwrite(t)}}[o.getIsNew()](a).then((function(e){return e.success&&(o.setIsNew(!1).setDirty(!1),n.observer.onDocumentDirty(n.name,o,o.getDirty()),e.model=o),e}))}},{key:"copyDoc",value:(t=C()(F().mark((function e(t,n){var r=this;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readDoc(t).then((function(e){var t=r.model.ofJSON(e.serializeToDB()).setIsNew(!0).setName(n);return r.setDoc(n,t),r.saveDoc(n),t.subscribe((function(e,t,n){return r.onDocumentUpdate(e,t,n)})),t})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"checkDocExists",value:function(e){return this.data.has(e)}},{key:"discardDocChanges",value:function(e){var t=this.getDoc(e);return t.getIsNew()?this.deleteDocFromStore(e):Boolean(null==t?void 0:t.setIsLoaded(!1).setDirty(!1)),this.observer.onDocumentDirty(this.name,t,t.getDirty())}},{key:"getDirties",value:function(){return Array.from(this.data.values()).filter((function(e){return e.getDirty()}))}},{key:"hasDirties",value:function(){return this.getDirties().length>0}},{key:"saveDirties",value:function(){var e=this,t=this.getDirties().map((function(t){return e.saveDoc(t.getName())}));return Promise.allSettled(t)}}]),a}(os);const is=as,cs=require("lodash/isEqual");var ss,ls,us=o.n(cs),ds=["_schema_version"];function ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fs={timer:Symbol(),subscribers:Symbol()};ss=fs.timer,ls=fs.subscribers;var ms=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t;return P()(this,o),t=r.call(this),l()(S()(t),"name","DBSubscriber"),l()(S()(t),ss,null),l()(S()(t),ls,new Map),t.iStore=e,t}return R()(o,[{key:"scope",get:function(){return this.iStore.scope}},{key:"subscribe",value:function(e){var t=this,n=new rs({pattern:this.getPattern(e)});n.subscribe((function(e){return t.onUpdate(e)}),(function(e){return t.onLoad(e)})),this[fs.subscribers].set(this.generateId(e),n)}},{key:"unsubscribe",value:function(e){var t=this.generateId(e);this[fs.subscribers].get(t).destroy(),this[fs.subscribers].delete(t)}},{key:"getPattern",value:function(e){return{Scope:this.scope,Name:e,LastUpdate:"*"}}},{key:"generateId",value:function(e){return"".concat(this.scope,"/").concat(e)}},{key:"getDoc",value:function(e){return this.iStore.getDoc(e)}},{key:"onLoad",value:function(e){}},{key:"onUpdate",value:function(e){var t=this;clearTimeout(this[fs.timer]),this[fs.timer]=setTimeout((function(){return t.updateDocument(e.patterns[0].Name)}),100)}},{key:"updateDocument",value:function(e){var t=this;this.iStore.fetchDoc(e).then((function(n){var r=t.getDoc(e),o=r.serializeToDB(),a=(n._schema_version,lt()(n,ds));t.shouldUpdate(o,a)&&(r.getDirty()?r.setOutdated(!0):t.overwriteDoc(e,a))})).catch((function(e){return console.log(e)}))}},{key:"shouldUpdate",value:function(e,t){return!us()(e,t)}},{key:"overwriteDoc",value:function(e,t){var n,r=this.getDoc(e),o=r.constructor.serializeOfDB(t);r.setData(o).setDirty(!1),null===(n=this.iStore.docManager)||void 0===n||n.onDocumentUpdate(r)}},{key:"destroy",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ps(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ps(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(this[fs.subscribers].values());try{for(t.s();!(e=t.n()).done;)e.value.unsubscribe()}catch(e){t.e(e)}finally{t.f()}this[fs.subscribers].clear()}}]),o}(ns);const vs=ms;var hs=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t){return P()(this,o),r.call(this,{workspace:e,model:Qc,name:Qc.SCOPE,title:"Configurations",plugins:[vs],observer:t})}return R()(o,[{key:"loadDoc",value:function(e){return this.getPlugin("DBSubscriber").subscribe(e),Jn()(B()(o.prototype),"loadDoc",this).call(this,e)}}]),o}(is);l()(hs,"SCOPE",Qc.SCOPE);const gs=hs,ys=require("@mov-ai/mov-fe-lib-code-editor"),bs=require("@material-ui/lab"),Es=require("@material-ui/icons/Info");var As=o.n(Es);const Os=require("@babel/runtime/helpers/esm/toArray");var Cs=o.n(Os);dt().filter=function(){return!0},dt()(vo.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS,(function(e){e.preventDefault()}));const ws=function(n){var r=Nt(n);return function(n,o){var a=n.id,i=(0,e.useRef)(),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.current;dt().setScope(e)};return(0,e.useEffect)((function(){return i.current=a,function(){dt().deleteScope(i.current)}}),[a]),t().createElement(r,ct()({},n,{ref:o,addKeyBind:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.current;if(n){var r=Bt(e);c(n),dt()(r,n,t)}},removeKeyBind:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.current,n=Bt(e);dt().unbind(n,t)},activateKeyBind:c,deactivateKeyBind:function(){dt().setScope("all")}}))}},Ds=function(n){var r=Nt(n);return function(n,o){var a=n.call,i=(0,e.useRef)(),c=(0,e.useCallback)((function(){a(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.RESET_BOOKMARKS)}),[a]),s=(0,e.useCallback)((function(){var e=null==o?void 0:o.current;if(e){var t=e.renderRightMenu?e.renderRightMenu:c;t(),i.current=t}}),[o,c]),l=(0,e.useCallback)((function(){i.current||s(),i.current()}),[s]);return t().createElement(r,ct()({},n,{ref:o,initRightMenu:s,updateRightMenu:l}))}};var ks=(0,c.makeStyles)((function(e){return{root:{display:"flex",flexDirection:"column",flexGrow:1,maxHeight:"100%",minHeight:"300px",position:"relative"},loaderContainer:{height:"100%",position:"absolute",textAlign:"center",top:0,left:0,width:"100%",zIndex:1051},loaderImage:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},linearProgress:{marginTop:20}}}));const Ps=function(e){var n=ks(),r=(0,H.useTranslation)().t;return t().createElement("div",{className:n.root},t().createElement("div",{id:"loader",className:n.loaderContainer},t().createElement("div",{className:n.loaderImage},t().createElement("img",{src:Pi,alt:r("Loading"),width:200}),t().createElement(b.LinearProgress,{color:"secondary",className:n.linearProgress}))))},Ns=function(e){var n=Nt(e);return function(e,r){var o=e.loading,a=ur();return t().createElement(b.Typography,{component:"div",className:a.root},o?t().createElement(Ps,null):t().createElement(n,ct()({},e,{ref:r})))}};var Rs=function(t){var n=t.children,r=t.call,o=t.scope,a=t.name,i=(0,e.useState)(),c=Gt()(i,2),s=c[0],l=c[1],u=(0,e.useState)(!0),d=Gt()(u,2),p=d[0],f=d[1],m=(0,e.useRef)(),v=function(){r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE,{scope:o,name:a})};return(0,e.useEffect)((function(){r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:o,name:a}).then((function(e){l(e.serialize()),m.current=e,f(!1)}))}),[r,o,a]),e.Children.map(n,(function(t){return(0,e.cloneElement)(t,{data:s,save:v,instance:m,loading:p})}))},Ts=function(e){var n=Nt(e);return function(e,r){return t().createElement(Rs,e,t().createElement(n,ct()({},e,{ref:r})))}};function Ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var xs=function t(n,r){var o=Cs()(r),a=o[0],i=o.slice(1),c=(0,e.forwardRef)((function(e,t){return a(n)(e,t)}));return i.length?t(c,i):c};function Is(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=(0,e.forwardRef)((function(e,t){return n(e,t)})),a=(0,e.forwardRef)((function(n,r){var a=n.id,i=n.on,c=n.off,s=n.scope,l=n.addKeyBind,u=n.removeKeyBind,d=n.save,p=n.activateKeyBind,f=n.deactivateKeyBind,m=n.initRightMenu,v=n.updateRightMenu,h=(0,e.useRef)(),g=(0,e.useCallback)((function(){p(),v()}),[p,v]),y=(0,e.useCallback)((function(e){var t=e.instance;t&&t.id===St(a)&&h.current.focus()}),[a]);return(0,e.useEffect)((function(){return m(),l(vo.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS,d),i(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE,y),i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.UPDATE_DOC_DIRTY,y),function(){u(vo.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS),c(pe.TABS.NAME,pe.TABS.ON.ACTIVE_TAB_CHANGE),c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.UPDATE_DOC_DIRTY)}}),[a,l,u,m,i,c,d,y]),t().createElement("div",{tabIndex:"-1",ref:h,onFocus:g,onBlur:f,className:"container-".concat(s)},t().createElement(o,ct()({},n,{activateEditor:g,saveDocument:d,deactivateKeyBind:f,ref:r})))})),i=xs(a,[Ds,Ns,ws,Ts,go]);return function(e){I()(o,e);var n=Ss(o);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P()(this,o),n.call(this,e,t,r)}return R()(o,[{key:"render",value:function(){return t().createElement(i,ct()({},this.props,{ref:this.ref,call:this.call,profile:this.profile,emit:this.emit,on:this.on,off:this.off,onTopic:this.onTopic}))}}]),o}(nr)}function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var js=function(e){var n=e.instance,r=e.keysToDisconsider,o=e.propsData,a=void 0===o?{}:o,i=t().useState(a),c=Gt()(i,2),s=c[0],u=c[1],d=t().useState({}),p=Gt()(d,2),f=p[0],m=p[1];return t().useEffect((function(){var e,t=n.current;if(t)return u(t.serialize()),m(t.getDetails()),e=t.subscribe((function(e,n,o){r&&(r.includes(n)||(u((function(e){return us()(e[n],o)?e:Ms(Ms({},e),{},l()({},n,o))})),m((function(e){var n=t.getDetails();return e===n?e:n}))))})),function(){e&&t.unsubscribe(e)}}),[n,a,r]),{data:s,details:f}};js.propTypes={instance:Ht().object.isRequired,keysToDisconsider:Ht().array.isRequired,propsData:Ht().object.isRequired};const Bs=js;var zs=(0,c.makeStyles)((function(e){return{detailsName:{textAlign:"center"}}}));const Fs=function(e){var n=e.name,r=e.details,o=zs(),a=(0,H.useTranslation)().t;return t().createElement("div",null,t().createElement("h2",{className:o.detailsName},n),t().createElement(b.List,{sx:{width:"100%",bgcolor:"background.paper"},component:"nav"},t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:a("Name-Colon")}),t().createElement(b.Typography,null,n)),t().createElement(b.Divider,null),t().createElement(b.ListItem,{divider:!0},t().createElement(b.ListItemText,{primary:a("LastUpdate-Colon")}),t().createElement(b.Typography,null,r.date||"N/A")),t().createElement(b.Divider,null),t().createElement(b.ListItem,{divider:!0},t().createElement(b.ListItemText,{primary:a("User-Colon")}),t().createElement(b.Typography,null,r.user||"N/A"))))},Gs=function(e){var n=e.name,r=e.model,o=e.details,a=Bs({instance:r,propsData:o}).details;return t().createElement(Fs,{"data-testid":"section_configuration-details-menu",name:n,details:a})};function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hs={display:"flex",flexDirection:"column",flexGrow:1,height:"100%"},qs=(0,c.makeStyles)((function(e){return{container:Ys({},Hs),codeContainer:Ys(Ys({},Hs),{},{maxHeight:"calc(100% - 48px)"}),appBar:{background:e.palette.background.default,color:e.palette.text.primary,"& button span":{color:e.palette.text.primary}}}})),Ks=function(n,r){var o=n.id,a=n.name,i=n.call,s=n.instance,u=n.activateEditor,d=void 0===u?function(){return Pt("activateEditor")}:u,p=n.saveDocument,f=void 0===p?function(){return Pt("saveDocument")}:p,m=n.editable,v=void 0===m||m,h=Bs({instance:s,propsData:n.data,keysToDisconsider:Qc.KEYS_TO_DISCONSIDER}).data,g=qs(),y=(0,c.useTheme)(),E=(0,H.useTranslation)().t,A=(0,e.useCallback)((function(){var e,r=(null===(e=n.data)||void 0===e?void 0:e.details)||{},c="".concat(o,"-detail-menu"),u=E("ConfigurationDetailsMenuTitle");i(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.SET_BOOKMARK,l()({},c,{icon:t().createElement(As(),null),name:c,title:u,view:t().createElement(Gs,{id:o,name:a,details:r,model:s})}))}),[i,o,a,s,n.data,E]);or(r,{renderRightMenu:A});return t().createElement("div",{"data-testid":"section_configuration-editor",className:g.container},t().createElement(b.AppBar,{"data-testid":"section_app-bar",position:"static",className:g.appBar},t().createElement(b.Toolbar,{"data-testid":"input-toolbar",variant:"dense",onClick:d},t().createElement(bs.ToggleButtonGroup,{size:"small",exclusive:!0,value:h.extension,onChange:function(e,t){var n;e.stopPropagation(),n=t,s.current&&s.current.setExtension(n)}},t().createElement(bs.ToggleButton,{value:"xml"},"XML"),t().createElement(bs.ToggleButton,{value:"yaml"},"YAML")))),t().createElement("div",{"data-testid":"section_configuration-editor",className:g.codeContainer},t().createElement(ys.MonacoCodeEditor,{value:h.code,language:h.extension,theme:y.codeEditor.theme,options:{readOnly:!v},onChange:function(e){e!==s.current.getCode()&&s.current&&s.current.setCode(e)},onSave:f,onLoad:function(e){o||e.focus()}})))};Ks.scope="Configuration",Ks.propTypes={id:Ht().string.isRequired,name:Ht().string.isRequired,call:Ht().func.isRequired,instance:Ht().object,data:Ht().object,editable:Ht().bool,saveDocument:Ht().func,activateEditor:Ht().func};const Us=Is(Ks),Ws=o(506).object({}),Xs=o(506).object({});function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Qs=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),e=r.call(this,Zs({schema:Xs},arguments[0])),l()(S()(e),"module",""),l()(S()(e),"libClass",""),l()(S()(e),"observables",["name","module","libClass"]),e}return R()(o,[{key:"getModule",value:function(){return this.module}},{key:"setModule",value:function(e){return this.module=e,this}},{key:"getClass",value:function(){return this.libClass}},{key:"setClass",value:function(e){return this.libClass=e,this}},{key:"serialize",value:function(){return{name:this.getName(),module:this.getModule(),libClass:this.getClass()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{Module:e.module,Class:e.libClass}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];return{name:t,module:n.Module,libClass:n.Class}}}]),o}(vc);function Js(e){var t=function(e,t){if("object"!==Ga()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==Ga()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ga()(t)?t:String(t)}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tl=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,el({schema:Ws},arguments[0]))).pyLibs=new wc("pyLibs",Qs,{onAny:function(t,n,r){return e.propsUpdate(t,n,r)}}),e.code="",e.message="",e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getCode",value:function(){return this.code}},{key:"setCode",value:function(e){return this.code=e,this}},{key:"getMessage",value:function(){return this.message}},{key:"setMessage",value:function(e){return this.message=e,this}},{key:"getPyLibs",value:function(){return this.pyLibs}},{key:"addPythonLibs",value:function(e){return this.pyLibs=el(el({},this.pyLibs),e),this}},{key:"deletePythonLib",value:function(e){var t=this.pyLibs,n=(t[e],lt()(t,[e].map(Js)));return this.pyLibs=el({},n),this}},{key:"getScope",value:function(){return o.SCOPE}},{key:"getFileExtension",value:function(){return o.EXTENSION}},{key:"setData",value:function(e){var t=e.name,n=e.details,r=e.code,a=e.message,i=e.pyLibs;return Jn()(B()(o.prototype),"setData",this).call(this,{name:t,details:n,code:r,message:a}),this.pyLibs.setData(i),this}},{key:"propsUpdate",value:function(e,t,n){this.dispatch(t,n)}},{key:"serialize",value:function(){return el(el({},Jn()(B()(o.prototype),"serialize",this).call(this)),{},{code:this.getCode(),message:this.getMessage(),pyLibs:this.getPyLibs().serialize()})}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=e.name,n=e.details;return{Label:t,Code:e.code,Message:e.message,LastUpdate:n,Py3Lib:this.pyLibs.serializeToDB()}}}],[{key:"serializeOfDB",value:function(e){var t=e.Label,n=e.Label,r=e.Code,o=e.Message,a=e.Py3Lib;return{id:t,name:n,code:r,message:o,details:e.LastUpdate,workspace:e.workspace,version:e.version,pyLibs:wc.serializeOfDB(a,Qs)}}}]),o}(vc);l()(tl,"SCOPE","Callback"),l()(tl,"EXTENSION",".cb"),l()(tl,"OBSERVABLE_KEYS",{NAME:"name",CODE:"code",DETAILS:"details",MESSAGE:"message"}),l()(tl,"KEYS_TO_DISCONSIDER",[tl.OBSERVABLE_KEYS.CODE]);var nl={},rl={},ol=function(){var e=C()(F().mark((function e(t){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.Rest.cloudFunction({cbName:"backend.CallbackEditor",func:t}).then((function(e){return e.success?e.result:null})).catch((function(e){return console.warn("debug err",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();rl.getAllLibraries=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nl.pyLibs){e.next=2;break}return e.abrupt("return",Promise.resolve(nl.pyLibs));case 2:return e.abrupt("return",ol("get_all_libraries").then((function(e){return nl.pyLibs=e,nl.pyLibs})));case 3:case"end":return e.stop()}}),e)}))),rl.getAllMessages=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nl.messages){e.next=2;break}return e.abrupt("return",Promise.resolve(nl.messages));case 2:return e.abrupt("return",ol("get_messages").then((function(e){return nl.messages=e,nl.messages})));case 3:case"end":return e.stop()}}),e)})));const al=rl;var il=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t){var n;return P()(this,o),n=r.call(this,{workspace:e,model:tl,name:tl.SCOPE,title:"Callbacks",plugins:[vs],observer:t}),l()(S()(n),"helper",al),n.protectedDocs=["place_holder","backend.CallbackEditor","backend.DataValidation","backend.FlowTopBar","backend.getPortsData"],n}return R()(o,[{key:"loadDoc",value:function(e){return this.getPlugin("DBSubscriber").subscribe(e),Jn()(B()(o.prototype),"loadDoc",this).call(this,e)}}]),o}(is);l()(il,"SCOPE",tl.SCOPE);const cl=il,sl=require("@material-ui/icons/ExpandLess");var ll=o.n(sl);const ul=require("@material-ui/icons/Edit");var dl=o.n(ul);const pl=require("lodash/debounce");var fl=o.n(pl);const ml=require("@material-ui/core/SvgIcon");var vl=o.n(ml);const hl=require("@material-ui/lab/TreeView");var gl=o.n(hl);const yl=require("@material-ui/lab/TreeItem");var bl=o.n(yl);function El(e){return t().createElement(vl(),ct()({fontSize:"inherit"},e),t().createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"}))}function Al(e){return t().createElement(vl(),ct()({fontSize:"inherit"},e),t().createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"}))}function Ol(e){return t().createElement(vl(),ct()({className:"close",fontSize:"inherit"},e),t().createElement("path",{d:"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z"}))}var Cl=(0,c.withStyles)((function(e){return{iconContainer:{"& .close":{opacity:.3}},group:{marginLeft:12,paddingLeft:12,borderLeft:"1px dashed ".concat((0,c.alpha)(e.palette.text.primary,.4))}}}))((function(e){return t().createElement(bl(),e)})),wl=function(e){var n=e.data,r=e.multiSelect,o=e.onNodeSelect,a=e.onSelectItem,i=function(e,n){return Object.keys(e).sort().map((function(r){var o=n?"".concat(n,".").concat(r):r;return t().createElement(Cl,{"data-testid":"input_select-tree-item",key:o,nodeId:o,label:r,onClick:function(){return a(r,n||r)}},Object.keys(e[r]).map((function(c){return e[r][c].length>0?t().createElement(Cl,{"data-testid":"input_select-tree-item",key:o+"."+c,nodeId:o+"."+c,label:c,onClick:function(){return a(r,n||r)}},e[r][c].map((function(e){return t().createElement(Cl,{"data-testid":"input_select-tree-item",key:o+"."+c+"."+e,nodeId:o+"."+c+"."+e,label:e,onClick:function(){return a(e,o+".")}})}))):function(e,n,r,o){var a=n?n+"."+r:r,c=[a,o].join(".");return void 0!==e[r].modules&&"modules"===o?t().createElement(Cl,{key:c,nodeId:c,label:o},i(e[r].modules,a)):t().createElement("div",{key:c})}(e,n,r,c)})))}))};return t().createElement(gl(),{"data-testid":"section_tree-view",multiSelect:r,style:{marginTop:15},onNodeSelect:function(e,t){return o(t)},defaultExpanded:["1"],defaultCollapseIcon:t().createElement(El,null),defaultExpandIcon:t().createElement(Al,null),defaultEndIcon:t().createElement(Ol,null)},Array.isArray(n)?function e(n,r){return n.map((function(n){var o=r?"".concat(r,"/").concat(n.text):n.text;return void 0===n.children?t().createElement(Cl,{"data-testid":"input_select-tree-item",key:o,nodeId:o,label:n.text,onClick:function(){return a(n,o.split("/"))}}):t().createElement(Cl,{"data-testid":"input_select-tree-item",key:o,nodeId:o,label:n.text},e(n.children,o))}))}(n,null):i(n,null))};function Dl(e,t){return us()(e.data,t.data)}wl.propTypes={data:Ht().object,onNodeSelect:Ht().func,onSelectItem:Ht().func,multiSelect:Ht().bool},wl.defaultProps={data:{},onSelectItem:function(e,t){return console.log(e,t)},onNodeSelect:function(e,t){return console.log(e,t)},multiSelect:!1};const kl=(0,e.memo)(wl,Dl);var Pl=(0,c.makeStyles)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:10,flex:1,"& input::placeholder":{color:e.backdrop.color}},iconButton:{padding:10},icon:{color:e.palette.primary.main}}})),Nl=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()};function Rl(e,t){e=Nl(e);switch(Ga()(t)){case $:return(t=Nl(t)).includes(e);case te:var n;if(Array.isArray(t))return t=null===(n=t)||void 0===n?void 0:n.filter((function(t){var n=Rl(e,t);return Ga()(n)===J?n:Boolean(0!==(null==n?void 0:n.length))}));var r=Object.values(t||{});return Rl(e,r).length>0&&t;case ee:case J:return(t=Nl(t.toString())).includes(e);default:return t}}const Tl=function(n){var r=n.onSearch,o=(0,e.useState)(""),a=Gt()(o,2),i=a[0],c=a[1],s=(0,H.useTranslation)().t,l=Pl();return t().createElement(b.TextField,{fullWidth:!0,placeholder:s("Search"),value:i,onChange:function(e){var t;t=e.target.value,c(t),r(t)},inputProps:{"data-testid":"input_search"},InputProps:{endAdornment:t().createElement(b.IconButton,{"data-testid":"input_reset-search",className:l.iconButton,onClick:function(){c(""),r("")}},null===i||""===i.trim()?t().createElement(b.Tooltip,{title:s("SearchSomething")},t().createElement(Ya(),{className:l.icon})):t().createElement(b.Tooltip,{title:s("ResetSearch")},t().createElement(qa(),{className:l.icon})))}})};var Sl=["functions","consts","classes"],xl=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()},Il=function(e,t){if(!e)return t;var n={};return e=xl(e),Object.keys(t).forEach((function(r){xl(r).includes(e)?n[r]=t[r]:n=function(e,t,n,r){var o={},a={},i=!1;return void 0!==n[r].modules&&(o=Il(t,n[r].modules)),Sl.forEach((function(e){var o=e in n[r]?n[r][e].filter((function(e){return xl(e).includes(t)})):[];o.length>0&&(a[e]=o,i=!0)})),Object.keys(o).length>0&&(a.modules=o),(i||Object.keys(o).length>0)&&(e[r]=a),e}(n,e,t,r)})),n},Ll=(0,c.makeStyles)((function(e){return{paper:{minWidth:"40%"}}}));const Ml=Vt((function(n){var r=n.call,o=n.scope,a=n.onClose,i=n.onSubmit,c=(0,e.useState)(!1),s=Gt()(c,2),l=s[0],u=s[1],d=(0,e.useState)(),p=Gt()(d,2),f=p[0],m=p[1],v=(0,e.useState)(),h=Gt()(v,2),g=h[0],y=h[1],E=(0,e.useState)(),A=Gt()(E,2),O=A[0],C=A[1],w=Ll(),D=(0,H.useTranslation)().t;(0,e.useEffect)((function(){u(!0),r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_STORE,o).then((function(e){e.helper.getAllLibraries().then((function(e){e&&(m(e),y(e)),u(!1)}))}))}),[r,o]);var k=fl()((function(e){var t=Il(e,f);y(t)}),500);return t().createElement(b.Dialog,{"data-testid":"section_add-import-dialog",open:!0,onClose:a,classes:{paper:w.paper}},t().createElement(cn,{onClose:a,hasCloseButton:!0},D("Add Import")),t().createElement(b.DialogContent,null,t().createElement(Tl,{onSearch:k}),l?t().createElement(Ps,null):f?t().createElement(kl,{data:g,onNodeSelect:function(e){var t={};e.forEach((function(e){var n=e.split(".").filter((function(e){return!Sl.includes(e)})),r=n.pop();r===e||0===n.length?t[r]={module:r,libClass:!1}:t[r]={module:n.join("."),libClass:r}})),C(t)},multiSelect:!0}):t().createElement(t().Fragment,null,t().createElement("h2",null,D(We.SOMETHING_WENT_WRONG)),t().createElement("h3",null,D("FailedToLoadLibraries")))),t().createElement(b.DialogActions,null,t().createElement(b.Button,{"data-testid":"input_cancel",onClick:a},D("Cancel")),t().createElement(b.Button,{"data-testid":"input_confirm",color:"primary",onClick:function(){i(O),a()},disabled:!O},D("Add"))))}));var jl=(0,c.makeStyles)((function(e){return{treeRoot:{overflowY:"auto",overflowX:"hidden",paddingLeft:5,justifyContent:"center",width:"100%"},paper:{minWidth:"40%"}}}));const Bl=Vt((function(n){var r=n.call,o=n.scope,a=n.selectedMessage,i=n.onClose,c=n.onSubmit,s=(0,e.useState)(!1),l=Gt()(s,2),u=l[0],d=l[1],p=(0,e.useState)(),f=Gt()(p,2),m=f[0],v=f[1],h=(0,e.useState)(),g=Gt()(h,2),y=g[0],E=g[1],A=(0,e.useState)(a),O=Gt()(A,2),C=O[0],w=O[1],D=jl(),k=(0,H.useTranslation)().t,P=(0,e.useCallback)((function(e){var t=[];Object.keys(e).sort().forEach((function(n,r){t.push({id:100*(r+1),text:n,children:e[n].sort().map((function(e,t){return{id:100*(r+1)+t+1,text:e,isLeaf:!0}}))})})),v(t),E(t)}),[]),N=(0,e.useCallback)((function(e){var t=function(e,t){if(e){var n=[];return e=xl(e),t.forEach((function(t){if(xl(t.text).includes(e))n.push(t);else if(void 0!==t.children){var r=t.children.filter((function(t){return xl(t.text).includes(e)}));r.length>0&&n.push({text:t.text,children:r})}})),n}return t}(e,m);E(t)}),[m]);return(0,e.useEffect)((function(){d(!0),r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_STORE,o).then((function(e){e.helper.getAllMessages().then((function(e){e&&P(e),d(!1)}))}))}),[r,o,P]),t().createElement(b.Dialog,{"data-testid":"section_edit-message",open:!0,onClose:i,classes:{paper:D.paper}},t().createElement(cn,{onClose:i,hasCloseButton:!0},k("EditMessage")),t().createElement(b.DialogContent,null,t().createElement(Tl,{onSearch:N}),t().createElement(b.Typography,{component:"div",className:D.treeRoot},u?t().createElement(Ps,null):m?t().createElement(kl,{data:y,onNodeSelect:function(e){e.split("/").length<=1||w(e)}}):t().createElement(t().Fragment,null,t().createElement("h2",null,k(We.SOMETHING_WENT_WRONG)),t().createElement("h3",null,k("FailedToLoadMessages")))),t().createElement(b.TextField,{fullWidth:!0,label:k("Message"),value:C,margin:"normal",disabled:!0})),t().createElement(b.DialogActions,null,t().createElement(b.Button,{"data-testid":"input_cancel",onClick:i},k("Cancel")),t().createElement(b.Button,{"data-testid":"input_confirm",color:"primary",onClick:function(){c(C),i()},disabled:!C},k("Submit"))))}));var zl=(0,c.makeStyles)((function(e){return{itemValue:{padding:"15px 15px 15px 25px",fontSize:"14px"},itemLibValue:{paddingLeft:"10px","& span":{fontSize:"14px"}},disabled:{color:"gray"}}}));const Fl=Ts((function(n){var r=n.call,o=n.scope,a=n.name,i=n.instance,c=n.editable,s=void 0===c||c,l=(0,e.useState)(0),u=Gt()(l,2),d=u[0],p=u[1],f=zl(),m=(0,H.useTranslation)().t,v=Bs({instance:i,propsData:n.data,keysToDisconsider:tl.KEYS_TO_DISCONSIDER}).data,h=(0,e.useCallback)((function(e){i.current&&i.current.getPyLibs().deleteItem(e.key)}),[i]),g=(0,e.useCallback)((function(e){i.current&&i.current.getPyLibs().setData(e),p(1)}),[i]),y=(0,e.useCallback)((function(e){i.current&&i.current.setMessage(e),p(2)}),[i]),E=(0,e.useCallback)((function(e){e.stopPropagation(),r(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM_DIALOG,{onSubmit:y,selectedMessage:v.message,scope:o,call:r},Bl)}),[o,v.message,r,y]),A=(0,e.useCallback)((function(e){e.stopPropagation(),r(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM_DIALOG,{onSubmit:g,scope:o,call:r},Ml)}),[o,g,r]),O=(0,e.useCallback)((function(e){var t=parseInt(e.currentTarget.dataset.activeItem);p((function(e){return e===t?0:t}))}),[]),C=(0,e.useCallback)((function(){i.current&&i.current.setMessage(""),p(2)}),[i]),w=(0,e.useCallback)((function(e){return d===e}),[d]),D=(0,e.useCallback)((function(e,t,n){return void 0===t?e===n?"import "+n:"import "+n+" as "+e:e===t?"from "+n+" import "+t:"from "+n+" import "+t+" as "+e}),[]),k=(0,e.useCallback)((function(){var e=v.pyLibs||{},t=[];return Object.keys(e).forEach((function(n){var r=e[n],o=r.module?r.module:void 0,a=r.libClass?r.libClass:void 0,i={name:D(n,a,o),key:n};o&&t.push(i)})),t}),[v.pyLibs,D]),P=(0,e.useCallback)((function(){var e=k();return e.length>0?e.map((function(e,n){return t().createElement(b.Typography,{key:"imports_"+n},t().createElement(b.Divider,null),t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{className:f.itemLibValue,primary:e.name}),t().createElement(b.ListItemSecondaryAction,null,t().createElement(b.Tooltip,{title:m("RemoveImport")},t().createElement(b.IconButton,{"data-testid":"input_delete-import",edge:"end",onClick:function(){return h(e)}},t().createElement(qo(),{fontSize:"small"}))))))})):t().createElement(b.Typography,{className:"".concat(f.itemValue," ").concat(f.disabled)},m("NoImports"))}),[f,k,h,m]),N=(0,e.useCallback)((function(){return v.message?t().createElement(b.Typography,null,t().createElement(b.Divider,null),t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{className:f.itemLibValue,primary:v.message}),t().createElement(b.ListItemSecondaryAction,null,t().createElement(b.Tooltip,{title:m("RemoveMessage")},t().createElement(b.IconButton,{"data-testid":"input_delete-message",edge:"end",onClick:C},t().createElement(qo(),{fontSize:"small"})))))):t().createElement(b.Typography,{className:"".concat(f.itemValue," ").concat(f.disabled)},m("NoMessageDefined"))}),[f,v.message,C,m]);return t().createElement("div",null,t().createElement(Fs,{"data-testid":"section_callback-details-menu",name:a,details:v.details||{}}),t().createElement(b.List,null,t().createElement(b.ListItem,{"data-testid":"input_imports-expand",button:!0,"data-active-item":1,onClick:O},t().createElement(b.ListItemText,{primary:m("Imports")}),t().createElement(b.IconButton,{"data-testid":"input_add-import",disabled:!s,onClick:A},t().createElement(Po(),null)),w(1)?t().createElement(ll(),null):t().createElement(ci(),null)),t().createElement(b.Collapse,{in:w(1),unmountOnExit:!0},P(),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_message-expand",button:!0,"data-active-item":2,onClick:O},t().createElement(b.ListItemText,{primary:m("Message")}),t().createElement(b.IconButton,{"data-testid":"input_edit-message",disabled:!s,onClick:E},t().createElement(dl(),null)),w(2)?t().createElement(ll(),null):t().createElement(ci(),null)),t().createElement(b.Collapse,{in:w(2),unmountOnExit:!0},N(),t().createElement(b.Divider,null))))}));var Gl=(0,c.makeStyles)((function(e){return{container:{display:"flex",flexDirection:"column",flexGrow:1,height:"100%",maxHeight:"100%"}}})),Vl=function(n,r){var o=n.id,a=n.name,i=n.call,s=n.scope,u=n.instance,d=n.data,p=n.saveDocument,f=n.editable,m=void 0===f||f,v=Gl(),h=(0,c.useTheme)(),g=(0,H.useTranslation)().t,y=(0,e.useCallback)((function(){var e="".concat(o,"-detail-menu"),n=g("CallbackDetailsMenuTitle");i(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.SET_BOOKMARK,l()({},e,{icon:t().createElement(As(),null),name:e,title:n,view:t().createElement(Fl,{id:o,call:i,name:a,scope:s})}))}),[i,o,a,s,g]);return or(r,{renderRightMenu:y}),t().createElement("div",{"data-testid":"section_callback-editor",className:v.container},t().createElement(ys.MonacoCodeEditor,{value:null==d?void 0:d.code,language:"python",theme:h.codeEditor.theme,options:{readOnly:!m},onChange:function(e){e!==u.current.getCode()&&u.current&&u.current.setCode(e)},onSave:p,onLoad:function(e){o||e.focus()}}))};Vl.propTypes={id:Ht().string.isRequired,name:Ht().string.isRequired,scope:Ht().string.isRequired,call:Ht().func.isRequired,data:Ht().object,instance:Ht().object,editable:Ht().bool,saveDocument:Ht().func};const Yl=Is(Vl),Hl=o(506).object({});function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ul=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Kl({schema:Hl},arguments[0]))).events={onAny:function(t,n,r){return e.propsUpdate(t,n,r)}},e.description="",e.path="",e.type="",e.persistent=!1,e.launch=!0,e.remappable=!0,e.packageDep="",e.parameters=new wc("parameters",Fc,e.events),e.envVars=new wc("envVars",Lc,e.events),e.commands=new wc("commands",Rc,e.events),e.ports=new wc("ports",Wc,e.events),e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getDescription",value:function(){return this.description}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"getPath",value:function(){return this.path}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){return this.type=e,this}},{key:"setExecutionParameter",value:function(e,t){return Jn()(B()(o.prototype),"setData",this).call(this,l()({},e,t)),this}},{key:"getPersistent",value:function(){return this.persistent}},{key:"setPersistent",value:function(e){return this.persistent=e,this}},{key:"getLaunch",value:function(){return this.launch}},{key:"setLaunch",value:function(e){return this.launch=e,this}},{key:"getRemappable",value:function(){return this.remappable}},{key:"setRemappable",value:function(e){return this.remappable=e,this}},{key:"getPackageDep",value:function(){return this.packageDep}},{key:"setPackageDep",value:function(e){return this.packageDep=e,this}},{key:"getParameters",value:function(){return this.parameters}},{key:"setKeyValue",value:function(e,t){return this[e].setData(t),this}},{key:"updateKeyValueItem",value:function(e,t,n){var r=t.name;return n!==r&&this[e].renameItem({prevName:n,name:r},!0),this[e].updateItem({name:r,content:t}),this}},{key:"deleteKeyValue",value:function(e,t){return this[e].deleteItem(t),this}},{key:"getKeyValue",value:function(e,t){return this[e].getItem(t)}},{key:"getEnvVars",value:function(){return this.envVars}},{key:"getCommands",value:function(){return this.commands}},{key:"setPort",value:function(e){return this.setKeyValue("ports",e),this}},{key:"updatePort",value:function(e,t){return this.updateKeyValueItem("ports",t,e),this}},{key:"getPort",value:function(e){return this.getKeyValue("ports",e)}},{key:"deletePort",value:function(e){return this.deleteKeyValue("ports",e),this}},{key:"getPorts",value:function(){return this.ports}},{key:"setPortCallback",value:function(e,t,n){return this.getPorts().getItem(e).getPortIn().getItem(t).setCallback(n),this}},{key:"setPortParameter",value:function(e,t,n,r,o){return this.getPorts().getItem(e)[t].getItem(n).setParameter(r,o),this}},{key:"getScope",value:function(){return o.SCOPE}},{key:"getFileExtension",value:function(){return o.EXTENSION}},{key:"setData",value:function(e){var t=e.name,n=e.details,r=e.description,a=e.path,i=e.type,c=e.persistent,s=e.packageDep,l=e.launch,u=e.remappable,d=e.parameters,p=e.envVars,f=e.commands,m=e.ports;return Jn()(B()(o.prototype),"setData",this).call(this,{name:t,details:n,description:r,path:a,type:i,persistent:c,packageDep:s,launch:l,remappable:u}),this.parameters.setData(d),this.envVars.setData(p),this.commands.setData(f),this.ports.setData(m),this}},{key:"propsUpdate",value:function(e,t,n){this.dispatch(t,n)}},{key:"serialize",value:function(){return Kl(Kl({},Jn()(B()(o.prototype),"serialize",this).call(this)),{},{name:this.getName(),details:this.getDetails(),description:this.getDescription(),path:this.getPath(),type:this.getType(),persistent:this.getPersistent(),packageDep:this.getPackageDep(),launch:this.getLaunch(),remappable:this.getRemappable(),parameters:this.getParameters().serialize(),envVars:this.getEnvVars().serialize(),commands:this.getCommands().serialize(),ports:this.getPorts().serialize()})}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=e.name,n=e.details,r=e.description,o=e.path,a=e.type,i=e.persistent,c=e.packageDep;return{Label:t,Info:r,Path:o,Type:a,Persistent:i,Launch:e.launch,Remappable:e.remappable,LastUpdate:n,PackageDepends:c,Parameter:this.getParameters().serializeToDB(),EnvVar:this.getEnvVars().serializeToDB(),CmdLine:this.getCommands().serializeToDB(),PortsInst:this.getPorts().serializeToDB()}}}],[{key:"serializeOfDB",value:function(e){var t=e.Label,n=e.Label,r=e.LastUpdate,o=e.workspace,a=e.version,i=e.Info,c=e.Path,s=e.Type,l=e.Persistent,u=e.Launch,d=e.Remappable,p=e.PackageDepends,f=e.Parameter,m=e.EnvVar,v=e.CmdLine,h=e.PortsInst;return{id:t,name:n,details:r,workspace:o,version:a,description:i,path:c,type:s,persistent:l,launch:u,remappable:d,packageDep:p,parameters:wc.serializeOfDB(f,Fc),envVars:wc.serializeOfDB(m,Lc),commands:wc.serializeOfDB(v,Rc),ports:wc.serializeOfDB(h,Wc)}}}]),o}(vc);l()(Ul,"SCOPE","Node"),l()(Ul,"EXTENSION",".nd"),l()(Ul,"OBSERVABLE_KEYS",{NAME:"name",DETAILS:"details",DESCRIPTION:"description",PATH:"path",TYPE:"type",PERSISTENT:"persistent",LAUNCH:"launch",REMAPPABLE:"remappable",PACKAGE_DEP:"packageDep"}),l()(Ul,"KEYS_TO_DISCONSIDER",[Ul.OBSERVABLE_KEYS.NAME,Ul.OBSERVABLE_KEYS.DESCRIPTION,Ul.OBSERVABLE_KEYS.PATH]),Ul.defaults={description:"",path:"",type:"",persistent:!1,launch:!0,remappable:!0,packageDep:""};const Wl=Ul;var Xl={},_l={},Zl={},Ql={Scope:"Callback",Name:"*",Label:"*"},Jl={Scope:"Callback",Name:"*",Message:"*"},$l=function(e){return console.log("".concat(e," not implemented"))},eu=function(e,t){var n={};return Object.keys(e.value.Callback).forEach((function(r){n[r]={},n[r].Message=e.value.Callback[r].Message,void 0!==t.value.Callback[r]&&(n[r].Label=t.value.Callback[r].Label)})),n};_l.getAllTransportProtocol=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xl.scopePorts){e.next=2;break}return e.abrupt("return",Promise.resolve(Xl.scopePorts));case 2:return e.abrupt("return",new Promise((function(e,t){try{var n={Scope:"Ports",Name:"*"};Zl.ports=n,G.MasterDB.subscribe(n,(function(){return $l("updateScopePorts")}),(function(t){var n,r=(null==t||null===(n=t.value)||void 0===n?void 0:n.Ports)||{};Xl.scopePorts=r,e(r)}))}catch(e){t(e),console.warn("debug fail to get transport/protocol",e)}})));case 3:case"end":return e.stop()}}),e)}))),_l.getPortsData=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xl.scopeSystemPortsData){e.next=2;break}return e.abrupt("return",Promise.resolve(Xl.scopeSystemPortsData));case 2:return e.abrupt("return",G.Rest.cloudFunction({cbName:"backend.getPortsData",func:""}).then((function(e){if(e)return Xl.scopeSystemPortsData=e,Xl.scopeSystemPortsData})).catch((function(e){console.warn("debug fail to get ports data",e)})));case 3:case"end":return e.stop()}}),e)}))),_l.getScopeCallback=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xl.scopeCallback){e.next=2;break}return e.abrupt("return",Promise.resolve(Xl.scopeCallback));case 2:return e.abrupt("return",new Promise((function(e,t){try{Zl.callbackMessages=Jl,G.MasterDB.subscribe(Jl,(function(){return $l("updateMessage")}),(function(t){Zl.callbackLabels=Ql,G.MasterDB.subscribe(Ql,(function(){return $l("updateLabel")}),(function(n){var r=eu(t,n);Xl.scopeCallback=r,e(r)}))}))}catch(e){t(e),console.warn("debug fail to get transport/protocol",e)}})));case 3:case"end":return e.stop()}}),e)}))),_l.destroy=function(){Object.values(Zl).forEach((function(e){G.MasterDB.unsubscribe(e)}))};const tu=_l;var nu=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n){var a;return P()(this,o),a=r.call(this,{workspace:e,model:Wl,name:Wl.SCOPE,title:"Nodes",plugins:[vs],docManager:n,observer:t}),l()(S()(a),"helper",tu),a}return R()(o,[{key:"loadDoc",value:function(e){return this.getPlugin("DBSubscriber").subscribe(e),Jn()(B()(o.prototype),"loadDoc",this).call(this,e)}},{key:"destroy",value:function(){Jn()(B()(o.prototype),"destroy",this).call(this),this.helper.destroy()}}]),o}(is);l()(nu,"SCOPE",Wl.SCOPE);const ru=nu,ou=require("@material-ui/core/Accordion");var au=o.n(ou);const iu=require("@material-ui/core/AccordionSummary");var cu=o.n(iu);const su=require("@material-ui/core/AccordionDetails");var lu=o.n(su),uu=(0,c.makeStyles)((function(e){return{marginTop:{marginTop:"15px"},valueOptions:{flexDirection:"row"},disabledValue:{color:"grey",fontStyle:"italic"}}})),du=(0,c.makeStyles)((function(e){return{input:{fontSize:"13px"},label:{marginTop:"20px",fontSize:"16px",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",color:"rgba(255, 255, 255, .7)"},marginTop:{marginTop:"15px"},paper:{minWidth:"50%"},container:{display:"flex",flexDirection:"column",overflow:"hidden"},codeContainer:{height:"200px",width:"100%"},accordion:{margin:"0px !important"},accordionSummary:{paddingLeft:"0px",paddingRight:"0px",minHeight:"auto !important",alignItems:"flex-end","& > div":{margin:"0px !important",padding:"0px"}},noHorizontalPadding:{paddingLeft:0,paddingRight:0}}}));function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mu="name",vu="value",hu=function(n){var r=n.onClose,o=n.onSubmit,a=n.nameValidation,i=n.valueValidation,c=n.validate,s=n.title,l=n.isNew,u=n.disabled,d=n.disableName,p=n.disableDescription,f=n.showDescription,m=n.renderCustomContent,v=n.renderValueEditor,h=n.showDefault,g=(0,e.useState)({}),y=Gt()(g,2),E=y[0],A=y[1],O=(0,e.useState)({component:null,error:!1,message:""}),C=Gt()(O,2),w=C[0],D=C[1],k=du(),P=(0,H.useTranslation)().t,N=(0,e.useCallback)((function(e){return w.component===e}),[w.component]);(0,e.useEffect)((function(){A(n.data)}),[n.data]);var R=(0,e.useCallback)((function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.value,r=Promise.resolve(!0);return a&&c&&(r=a({name:n}).then((function(e){return D({component:mu,error:!e.result,message:P(e.error)}),e.result}))),A((function(e){return fu(fu({},e),{},{name:n})})),r}),[a,P,c]),T=(0,e.useCallback)((function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;A((function(e){return fu(fu({},e),{},{description:n})}))}),[]),S=(0,e.useCallback)((function(e){i&&c&&c({value:e}).then((function(e){D({component:vu,error:!e.result,message:P(e.error)})})),A((function(t){return fu(fu({},t),{},{value:e})}))}),[P,c,i]),x=(0,e.useCallback)((function(){R({target:{value:E.name}}).then((function(e){e&&c(E).then((function(e){var t;(null!==(t=e.result)&&void 0!==t?t:e.success)?(o(e.data),r()):D({error:!0,message:e.error})}))}))}),[E,r,o,c,R]);return t().createElement(b.Dialog,{open:!0,onClose:r,classes:{paper:k.paper}},t().createElement("div",{"data-testid":"section_key-value-editor-dialog"},t().createElement(cn,{onClose:r,hasCloseButton:!0},s),t().createElement(b.DialogContent,null,t().createElement(b.Typography,{component:"div",className:k.container},t().createElement(b.TextField,{label:"".concat(P("Name")," *"),error:N(mu)&&w.error,helperText:N(mu)&&w.message,value:E.name,autoFocus:l,disabled:d||u,className:k.input,onChange:R,inputProps:{"data-testid":"input_name"}}),f&&t().createElement(b.FormControl,{className:k.marginTop},t().createElement(b.TextField,{label:P("Description"),value:E.description,className:k.input,multiline:!0,minRows:3,maxRows:10,disabled:p||u,onChange:T,inputProps:{"data-testid":"input_description"}})),m&&m(),t().createElement(b.InputLabel,{className:k.label},P("Value")),t().createElement(b.FormControl,{className:k.marginTop},v(E.value,{isNew:l,onChange:S,error:N(vu)&&w.error,helperText:N(vu)&&w.message,disabled:u,defaultValue:E.defaultValue})),h&&t().createElement(au(),{className:k.accordion,defaultExpanded:!0},t().createElement(cu(),{className:k.accordionSummary,expandIcon:t().createElement(ci(),null)},t().createElement(b.Typography,{className:k.label},P("Default Value"))),t().createElement(lu(),{className:k.noHorizontalPadding},v(E.defaultValue,{isNew:l,onChange:S,isDefault:!0,disabled:!0}))))),t().createElement(b.DialogActions,{"data-testid":"section_dialog-actions"},t().createElement(b.Button,{"data-testid":"input_close",onClick:r},P("Cancel")),t().createElement(b.Button,{"data-testid":"input_confirm",color:"primary",onClick:x,disabled:N(mu)&&w.error||u},P("Save")))))};function gu(e,t){return us()(e,t)}hu.propTypes={title:Ht().string.isRequired,isNew:Ht().bool,disabled:Ht().bool,disableName:Ht().bool,disableDescription:Ht().bool,showDefault:Ht().bool,showDescription:Ht().bool,defaultValue:Ht().string,onClose:Ht().func,validate:Ht().func,onSubmit:Ht().func,renderValueEditor:Ht().func,renderCustomContent:Ht().func,nameValidation:Ht().func,valueValidation:Ht().func},hu.defaultProps={disableName:!1,disableDescription:!1,showDescription:!0,showDefault:!1,validate:function(e){return Promise.resolve({success:!0,data:e})}};const yu=(0,e.memo)(Vt(hu),gu),bu=require("lodash/toString");var Eu=o.n(bu);const Au=function(){function e(n){var r=this,o=n.theme;P()(this,e),l()(this,"key",""),l()(this,"label",""),l()(this,"default",""),l()(this,"editComponent",this.defaultStringEditor),l()(this,"_theme",{}),l()(this,"codeEditComponent",(function(e){return t().createElement(b.Typography,{"data-testid":"section_data-type-code-editor",component:"div",style:{height:"100px",width:"100%"}},t().createElement(ys.MonacoCodeEditor,{value:Eu()(e.rowData.value),onLoad:function(t){e.isNew||t.focus(),e.onLoadEditor&&e.onLoadEditor(t)},language:"python",disableMinimap:!0,theme:r._theme.codeEditor.theme,options:{readOnly:e.disabled},onChange:function(t){return e.onChange(t)}}))})),this._theme=o,this.defaultStringEditor=this.defaultStringEditor.bind(this)}return R()(e,[{key:"getKey",value:function(){return this.key}},{key:"getLabel",value:function(){return this.label}},{key:"getEditComponent",value:function(){return this.editComponent}},{key:"validate",value:function(){return console.warn("debug validation method not implemented for data type",this.key),Promise.resolve({success:!1,error:"ValidationMethodNotImplemented"})}},{key:"toString",value:function(e){return Eu()(e)}},{key:"getParsedValue",value:function(e){return Ga()(e)===$?JSON.parse(e):e}},{key:"defaultStringEditor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row",r={row:function(e){return t.stringEditComponent(e,"")},dialog:this.codeEditComponent};return r[n](e)}},{key:"stringEditComponent",value:function(e,n,r){var o=void 0!==r?r:e.rowData.value;return t().createElement(b.TextField,{inputProps:{"data-testid":"input_value"},fullWidth:!0,placeholder:n,value:o||"",onChange:function(t){return e.onChange(t.target.value)}})}}]),e}();const Ou=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"key",re),l()(S()(e),"label","Any"),l()(S()(e),"editComponent",e.defaultStringEditor),e}return R()(o,[{key:"validate",value:function(e){return Promise.resolve({success:!0,value:e})}}]),o}(Au);function Cu(e){return e===Z||e===Q}const wu=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"key",ne),l()(S()(e),"label","Array"),l()(S()(e),"default","[]"),l()(S()(e),"editComponent",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row",r={row:function(t){return e.stringEditComponent(t,e.default)},dialog:e.codeEditComponent};return r[n](t)})),e}return R()(o,[{key:"validate",value:function(e){var t,n=this;return e=null===(t=e)||void 0===t?void 0:t.replace(/'/g,'"'),new Promise((function(t){try{if(Cu(e))return t({success:!0,value:e});var r=n.getParsedValue(e);t({success:Array.isArray(r),value:e})}catch(n){t({success:!1,value:e})}}))}}]),o}(Au);const Du=function(e){I()(a,e);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B()(n);if(r){var o=B()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return M()(this,e)});function a(){var e;P()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),l()(S()(e),"key",J),l()(S()(e),"label","Boolean"),l()(S()(e),"default",jt(!1)),l()(S()(e),"editComponent",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row",r=e.toString(t.rowData.value).toLowerCase(),o={row:function(){return e.booleanEditComponent(t,r)},dialog:function(){return e.booleanEditComponent(t,r,!0)}};return o[n]()})),e}return R()(a,[{key:"validate",value:function(e){return new Promise((function(t){try{var n=function(e){return Mt[e]}(e);t({success:Ga()(n)===J})}catch(e){t({success:!1})}}))}},{key:"booleanEditComponent",value:function(e,n,r){var o=!1;try{o=JSON.parse(n),Ga()(o)===$&&(o=JSON.parse(o))}catch(e){o=!1}return t().createElement(b.Checkbox,{color:"primary",style:{width:"fit-content"},checked:o,onChange:function(t){var n=t.target.checked,o=r?jt(n):n;e.onChange(o)},disabled:e.disabled})}}]),a}(Au);const ku=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"key","config"),l()(S()(e),"label","Configuration"),l()(S()(e),"editComponent",e.defaultStringEditor),e}return R()(o,[{key:"validate",value:function(e){return G.Rest.cloudFunction({cbName:"backend.DataValidation",func:"validateConfiguration",args:e}).then((function(e){return{success:e.success&&e.result,error:"ConfigurationNotFound"}})).catch((function(e){return console.log("Configuration validation err",e),{success:!1}}))}}]),o}(Au);const Pu=function(e){I()(a,e);var n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B()(n);if(r){var o=B()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return M()(this,e)});function a(){var e;P()(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=o.call.apply(o,[this].concat(r)),l()(S()(e),"key",ee),l()(S()(e),"label","Number"),l()(S()(e),"default","0"),l()(S()(e),"editComponent",(function(e){return t().createElement(b.TextField,{fullWidth:!0,type:ee,placeholder:"0",value:e.rowData.value||"",disabled:e.disabled,onChange:function(t){return e.onChange(t.target.value)}})})),e}return R()(a,[{key:"validate",value:function(e){var t=this;return new Promise((function(n){try{if(Cu(e))return n({success:!0,value:e});var r=t.parseValueToFloat(e);n({success:Ga()(r)===ee&&!isNaN(r),parsed:r})}catch(e){n({success:!1})}}))}},{key:"parseValueToFloat",value:function(e){return!(e.indexOf(",")>=0)&&parseFloat(e)}}]),a}(Au);const Nu=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"key",te),l()(S()(e),"label","Object"),l()(S()(e),"default","{}"),l()(S()(e),"editComponent",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row",r={row:function(t){return e.stringEditComponent(t,e.default)},dialog:e.codeEditComponent};return r[n](t)})),e}return R()(o,[{key:"validate",value:function(e){return new Promise((function(t){try{if(Cu(e))return t({success:!0,value:e});t({success:JSON.parse(e).constructor===Object})}catch(e){t({success:!1})}}))}}]),o}(Au);const Ru=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"key",$),l()(S()(e),"label","String"),l()(S()(e),"default",'""'),l()(S()(e),"editComponent",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row",r={row:function(){return e.stringEditComponent(t,'""')},dialog:function(){return e.codeEditComponent(t)}};return r[n]()})),e}return R()(o,[{key:"validate",value:function(e){var t=this;return new Promise((function(n){try{if(Cu(e))return n({success:!0,value:e});var r=t.getParsedValue(e);n({success:Ga()(r)===$||r instanceof String})}catch(e){n({success:!1,error:"MandatoryStringQuotes"})}}))}}]),o}(Au),Tu=function(){function e(t){var n=t.theme,r=t.selfProvision,o=void 0===r||r;P()(this,e),this.theme=n,this.dataTypes=new Map,o&&(this.setDataType(Ru),this.setDataType(Pu),this.setDataType(Du),this.setDataType(Nu),this.setDataType(wu),this.setDataType(ku),this.setDataType(Ou))}return R()(e,[{key:"setDataType",value:function(e){var t=new e({theme:this.theme});this.dataTypes.set(t.getKey(),t)}},{key:"getTypeKeys",value:function(){return D()(this.dataTypes.keys())}},{key:"getType",value:function(e){return this.dataTypes.get(e)}}]),e}(),Su=function(){var e=(0,c.useTheme)(),t=new Tu({theme:e}),n=function(){var e=C()(F().mark((function e(n,r){var o,a;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getType(n),e.next=3,o.validate(r);case 3:return a=e.sent,e.abrupt("return",a.success?r:o.default);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{getLabel:function(e){var n;return null===(n=t.getType(e))||void 0===n?void 0:n.getLabel()},getDataTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["config"];return t.getTypeKeys().filter((function(t){return!e.includes(t)}))},getEditComponent:function(e){var n;return null===(n=t.getType(e))||void 0===n?void 0:n.getEditComponent()},getValidValue:n,validate:function(e){var n=t.getType(e.type);return n?n.validate(e.value):Promise.resolve({success:!0,data:e})}}};function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lu="custom",Mu="default",ju="disabled",Bu=function(n){var r=n.isNew,o=n.disabled,a=n.disableType,i=n.customValidation,c=n.preventRenderType,s=n.showValueOptions,l=n.alert,u=(0,e.useState)({}),d=Gt()(u,2),p=d[0],f=d[1],m=(0,e.useState)(Mu),v=Gt()(m,2),h=v[0],g=v[1],y=(0,H.useTranslation)().t,E=uu(),A=Su(),O=A.getDataTypes,C=A.getLabel,w=A.getEditComponent,D=A.getValidValue,k=A.validate,P=(0,e.useCallback)((function(e){return n.data.type===$?'"'.concat(e,'"'):e}),[n.data.type]),N=(0,e.useCallback)((function(e){var t=Lu;return e===Q&&(t=ju),e===Z&&(t=Mu),t}),[]),R=(0,e.useCallback)((function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:e.defaultValue;return(null==e?void 0:e.type)===$?JSON.stringify(n):n}),[]),T=(0,e.useCallback)((function(e){var t=e.type;if(s){if(h===Mu)return Z;if(h===ju)return Q}return t===$?JSON.parse(e.value):e.value}),[s,h]),S=(0,e.useCallback)((function(e){var t=Iu(Iu({},e),{},{value:s&&h===Mu?Z:p.value,type:p.type});return i?i(t):k(t).then((function(e){if(!e.success)throw new Error(y(e.error)||y(We.DATA_VALIDATION_FAILED));e.parsed&&(p.value=e.parsed.toString());var n=Iu(Iu({},t),{},{value:T(p)});return Iu(Iu({},e),{},{data:n})})).catch((function(e){return l({message:e.message,severity:we}),e}))}),[s,h,p,l,k,T,i,y]),x=(0,e.useCallback)((function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;D(n,p.value).then((function(e){f((function(t){return Iu(Iu({},t),{},{type:n,value:null!=e?e:t.value})}))}))}),[p,D]),I=(0,e.useCallback)((function(e){var t=e.target.value;f((function(e){return t===ju?Iu(Iu({},e),{},{value:Q}):t===Mu||t===Lu?Iu(Iu({},e),{},{value:P(n.data.defaultValue)}):e})),g(t)}),[n.data.defaultValue,P]);(0,e.useEffect)((function(){s&&g(N(n.data.value)),f(Iu(Iu({},n.data),{},{value:R(n.data)}))}),[n.data,s,R,N]);var L=(0,e.useCallback)((function(){return c?null:t().createElement(b.FormControl,{className:E.marginTop},t().createElement(b.InputLabel,null,"".concat(y("Type")," *")),t().createElement(b.Select,{fullWidth:!0,value:p.type||re,onChange:x,disabled:a||o,inputProps:{"data-testid":"input_type"}},O().map((function(e){return t().createElement(b.MenuItem,{key:e,value:e},C(e))}))))}),[o,E,p,c,a,O,C,x,y]),M=(0,e.useCallback)((function(){return t().createElement(b.FormControl,{component:"fieldset"},t().createElement(b.RadioGroup,{"data-testid":"section_value-option",value:h,onChange:I,className:E.valueOptions},t().createElement(b.FormControlLabel,{value:Lu,disabled:o,control:t().createElement(b.Radio,{inputProps:{"data-testid":"input_custom"}}),label:y("UseCustomValue")}),t().createElement(b.FormControlLabel,{value:Mu,disabled:o,control:t().createElement(b.Radio,{inputProps:{"data-testid":"input_default"}}),label:y("UseDefaultValue")}),t().createElement(b.FormControlLabel,{value:ju,disabled:o,control:t().createElement(b.Radio,{inputProps:{"data-testid":"input_disabled"}}),label:y("DisableParamType",{paramType:p.paramType||y("Value")})})))}),[p.paramType,h,E,I,y,o]),j=(0,e.useCallback)((function(e,n){var a;return w(p.type)?t().createElement(t().Fragment,null,!n.isDefault&&s&&M(),n.isDefault||h!==ju?w(p.type)({rowData:{value:n.isDefault?P(e):p.value},onChange:function(e){h!==Lu&&P(n.defaultValue)!==e&&g(Lu),f((function(t){return Iu(Iu({},t),{},{value:e})}))},disabled:n.disabled||o,isNew:null!==(a=n.isNew)&&void 0!==a?a:r},"dialog"):t().createElement("p",{className:E.disabledValue},y("DisabledParamType",{paramType:p.paramType||y("Value")}))):t().createElement(t().Fragment,null)}),[h,s,o,p,r,E,M,P,w,y]);return t().createElement(yu,ct()({},n,{validate:S,renderValueEditor:j,renderCustomContent:L}))};Bu.propTypes={data:Ht().object.isRequired,isNew:Ht().bool,disableType:Ht().bool,disabled:Ht().bool,showDescription:Ht().bool,preventRenderType:Ht().bool,showValueOptions:Ht().bool,customValidation:Ht().func,alert:Ht().func};const zu=go(Vt(Bu)),Fu=require("@material-ui/core/Typography");var Gu=o.n(Fu),Vu=(0,c.makeStyles)((function(e){return{root:{padding:"5px 0px 5px 0px",width:"100%"},heading:{fontSize:"1.5rem"},details:{display:"flex",flexDirection:"column"},column:{flexBasis:"90%"}}})),Yu=function(e){var n=e.title,r=e.children,o=e.defaultExpanded,a=e.testId,i=void 0===a?"section_accordion":a,c=Vu();return t().createElement(Gu(),{"data-testid":i,component:"div",className:c.root},t().createElement(au(),{defaultExpanded:o},t().createElement(cu(),{expandIcon:t().createElement(ci(),null)},t().createElement(Gu(),{component:"div",className:c.column},t().createElement(Gu(),{className:c.heading},n))),t().createElement(Mr(),null),t().createElement(lu(),{className:c.details},r)))};Yu.propTypes={title:Ht().oneOfType([Ht().element,Ht().string]),defaultExpanded:Ht().bool},Yu.defaultProps={title:t().createElement("div",null,"Title"),defaultExpanded:!1};const Hu=Yu;var qu=function(e){var n,r,o=e.varName,a=e.data,i=e.title,c=e.onRowDelete,s=e.openEditDialog,l=e.editable,u=e.columns,d=e.testId,p=void 0===d?"section_key-value-table":d,f=(0,H.useTranslation)().t;return t().createElement(Hu,{testId:p,title:i},t().createElement(ba,{columns:u,data:(r=a,Array.isArray(r)?r:Object.values(r).map((function(e,t){return{id:"".concat(t,"_").concat(e.name),name:e.name,value:e.value,type:e.type,description:e.description}}))),actions:(n=[function(e){return{icon:function(){return t().createElement(dl(),null)},disabled:!l,tooltip:f("Edit"),onClick:function(){return s(o,e.name)}}}],l&&n.push({icon:function(){return t().createElement(Di(),null)},tooltip:f("AddAction",{actionTitle:i}),isFreeAction:!0,onClick:function(){return s(o)}}),n),editable:{isEditable:function(){return l},isDeletable:function(){return l},onRowDelete:function(e){return c(o,e.name)}}}))};function Ku(e,t){return us()(e.data,t.data)}qu.propTypes={varName:Ht().string.isRequired,onRowDelete:Ht().func.isRequired,openEditDialog:Ht().func.isRequired,title:Ht().string,data:Ht().oneOfType([Ht().array,Ht().object]),columns:Ht().array,editable:Ht().bool},qu.defaultProps={data:[],editable:!1};const Uu=(0,e.memo)(qu,Ku);var Wu,Xu=(0,c.makeStyles)((function(e){return{root:{padding:"5px 0px 5px 0px",width:"100%"},container:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},input:{margin:e.spacing(1),fontFamily:"inherit",width:"80%",fontWeight:"bold"},text:{display:"flex",justifyContent:"center",alignItems:"center"},center:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},nodeTypeMini:{width:"12px",height:"12px",marginRight:"6px",borderRadius:"3px"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},typeContainer:{display:"flex",alignItems:"center",position:"absolute",right:"100px",top:"20px"},details:{display:"flex",flexDirection:"column"},row:{display:"flex",flexDirection:"row"},heading:{fontSize:"1.5rem"},column:{flexBasis:"90%"}}})),_u=(Wu={},l()(Wu,Le,"#ef5b5b"),l()(Wu,Me,"#684551"),l()(Wu,je,"#20a39e"),l()(Wu,Be,"#006494"),l()(Wu,ze,"#be2424"),l()(Wu,Fe,"#52528c"),l()(Wu,Ge,"#dec5e3"),l()(Wu,Ve,"#252125"),l()(Wu,Ye,"#f7b05b"),l()(Wu,He,"#a5907e"),Wu),Zu=function(e){var n=e.onChangeDescription,r=e.value,o=e.nodeType,a=e.editable,i=(0,H.useTranslation)().t,c=Xu();return t().createElement(Hu,{testId:"section_description",title:t().createElement(t().Fragment,null,t().createElement(Gu(),{component:"span",className:c.heading},i("Description")),o&&t().createElement(Gu(),{component:"span",className:c.typeContainer},t().createElement(t().Fragment,null,t().createElement(Gu(),{component:"span",className:c.nodeTypeMini,style:{backgroundColor:_u[o]}}),t().createElement(Gu(),{component:"span"},o)))),defaultExpanded:!0},t().createElement(fn(),{inputProps:{"data-testid":"input_description"},disabled:!a,className:c.textField,label:i("Description"),minRows:"4",multiline:!0,defaultValue:r,onChange:function(e){return n(e.target.value)},margin:"normal",variant:"outlined"}))};function Qu(e,t){var n=e.value===t.value;return e.nodeType===t.nodeType&&n}Zu.propTypes={value:Ht().string,nodeType:Ht().string,onChangeDescription:Ht().func,editable:Ht().bool},Zu.defaultProps={nodeType:"",value:"",onChangeDescription:function(e,t){return console.log(e.target.value,t)},editable:!1};const Ju=(0,e.memo)(Zu,Qu),$u=require("@material-ui/core/FormControlLabel");var ed=o.n($u);const td=require("@material-ui/core/Checkbox");var nd=o.n(td),rd=(0,c.withStyles)((function(e){return{tooltip:{backgroundColor:e.palette.accent.background,borderColor:e.palette.accent.border,color:e.palette.accent.color,padding:e.spacing(1),maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid"}}}))(ir()),od=(0,c.makeStyles)((function(e){return{root:{padding:"5px 0px 5px 0px",width:"100%"},heading:{fontSize:"1.5rem"},details:{display:"flex",flexDirection:"column"},column:{flexBasis:"90%"},input:{margin:e.spacing(1),fontFamily:"inherit",width:"80%",fontWeight:"bold"},text:{display:"flex",justifyContent:"center",alignItems:"center"},row:{display:"flex",flexDirection:"row"},center:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"},centerCheckboxTooltip:{justifyContent:"center",display:"flex",flexDirection:"row",flexGrow:1},logo:{margin:"12px 12px 12px 12px",padding:"0px"},formControlLabel:{margin:"0%"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},noMargin:{margin:0}}})),ad=["onChangeExecutionParams","onChangePath"],id=["onChangeExecutionParams","onChangePath"],cd=function(n){var r=n.persistent,o=n.remappable,a=n.launch,i=n.path,c=n.onChangePath,s=n.onChangeExecutionParams,l=n.editable,u=(0,e.useState)(0),d=Gt()(u,2),p=d[0],f=d[1],m=od(),v=(0,H.useTranslation)().t,h=(0,e.useCallback)((function(e){e===p&&f(0)}),[p]),g=(0,e.useCallback)((function(e){f((function(t){return t===e?0:e}))}),[]),y=function(e,n,r,o){return t().createElement(Gu(),{component:"div",className:m.centerCheckboxTooltip},t().createElement(ed(),{className:m.formControlLabel,control:t().createElement(nd(),{inputProps:{"data-testid":"input_".concat(e)},disabled:!l,checked:r,onChange:function(){return s(e,!r)},color:"primary"}),label:n}),t().createElement(Rr(),{onClickAway:function(){return h(o.id)}},t().createElement(Gu(),{"data-testid":"section_tooltip",component:"div"},t().createElement(rd,{PopperProps:{disablePortal:!0},onClose:h,open:p===o.id,disableFocusListener:!0,disableHoverListener:!0,title:t().createElement(t().Fragment,null,t().createElement(Gu(),{color:"inherit"},o.title),o.description)},t().createElement(sr(),{"data-testid":"input_toggle-tooltip",className:m.logo,onClick:function(){return g(o.id)}},t().createElement(As(),{className:"tooltipIcon"}))))))};return t().createElement(Hu,{testId:"section_execution-parameters",title:v("ExecutionParameters")},t().createElement(Gu(),{component:"div",className:m.center},y("persistent",v("Persistent"),r,{id:1,title:v("PersistentNodeTitle"),description:v("PersistentNodeDescription")}),y("remappable",v("Remappable"),o,{id:2,title:v("Remappable"),description:v("RemappableDescription")}),y("launch",v("Launch"),a,{id:3,title:v("Launch"),description:v("LaunchDescription")})),t().createElement(fn(),{inputProps:{"data-testid":"input_path"},label:v("Path"),disabled:!l,className:m.textField,defaultValue:i,onChange:function(e){return c(e.target.value)},margin:"normal",variant:"outlined"}))};function sd(e,t){e.onChangeExecutionParams,e.onChangePath;var n=lt()(e,ad),r=(t.onChangeExecutionParams,t.onChangePath,lt()(t,id));return us()(n,r)}cd.propTypes={persistent:Ht().bool,remappable:Ht().bool,launch:Ht().bool,path:Ht().string,onChangePath:Ht().func,onChangeExecutionParams:Ht().func,editable:Ht().bool},cd.defaultProps={persistent:!1,remappable:!0,launch:!0,path:"",onChangePath:function(e){return console.log(e)},onChangeExecutionParams:function(e,t){return console.log(e,t)},editable:!0};const ld=(0,e.memo)(cd,sd);var ud=function(e){var n=e.editable,r=e.data,o=e.openEditDialog,a=e.onRowDelete,i=e.defaultColumns,c=Su().getLabel,s=(0,H.useTranslation)().t,l={title:s("Type"),field:"type",width:150,tableData:{columnOrder:1.5},cellStyle:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},render:function(e){return t().createElement("span",{"data-testid":"output_type"},c(e.type))}},u=D()(i);return u.push(l),t().createElement(Uu,{testId:"section_parameters",title:s("Parameters"),varName:"parameters",editable:n,data:r,columns:u,onRowDelete:a,openEditDialog:function(e,t){return o(e,t,zu)}})};function dd(e,t){return us()(e.data,t.data)}ud.propTypes={data:Ht().oneOfType([Ht().array,Ht().object]),defaultColumns:Ht().array,onRowDelete:Ht().func,openEditDialog:Ht().func,editable:Ht().bool},ud.defaultProps={data:[],defaultColumns:[],onRowDelete:function(){return Pt("onRowDelete")},openEditDialog:function(){return Pt("openEditDialog")},editable:!1};const pd=(0,e.memo)(ud,dd),fd=require("material-table");function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hd=(0,c.makeStyles)((function(e){return{formHolder:{width:"100%"},formControl:{margin:e.spacing(1),minWidth:"120px"},control:{fontSize:"0.875rem"}}}));function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const bd=function(n){var r=n.autoFocus,o=n.scopePorts,a=n.scopeSystemPortsData,i=hd(),c=(0,H.useTranslation)().t,s=function(t){var n=t.scopeSystemPortsData,r=t.scopePorts,o=function(e,t){return e.label>t.label?1:t.label>e.label?-1:0};return{getGroupOptions:(0,e.useCallback)((function(){var e=[],t=-1;try{void 0!==r&&Object.keys(r).forEach((function(n){var o=r[n].Label.split("/"),a=Gt()(o,2),i=a[0],c=a[1],s={value:n,label:c||i};if(c)if(-1===(t=e.findIndex((function(e){return e.label===i}))))e.push({label:i,options:[s]});else{var l=vd({},e[t]);e[t]=function(e,t){for(var n=0;n<e.options.length;n++){var r=e.options[n].label;if(t.label<=r){e.options.splice(n,0,t);break}if(n===e.options.length-1){e.options.push(t);break}}return e}(l,s)}else e.push(s)}))}catch(e){console.warn("debug : Error getting Transport/Protocol Options")}return e}),[r]),getPackageOptions:(0,e.useCallback)((function(e){if(void 0===e||void 0===e.template||""===e.template)return[];try{var t=vd({},r[e.template].Data);return(Object.keys(t).length>1?[{value:t.Package,label:t.Package}]:Object.keys(n[t.type]).map((function(e){return{value:e,label:e}}))).sort(o)}catch(e){return console.warn("debug : Error getting Package Options"),[]}}),[r,n]),getMessageOptions:(0,e.useCallback)((function(e){if(void 0===e||void 0===e.template||""===e.template||void 0===e.msgPackage||""===e.msgPackage)return[];try{var t=vd({},r[e.template].Data);return(Object.keys(t).length>1?[{value:t.Message,label:t.Message}]:n[t.type][e.msgPackage].map((function(e){return{value:e,label:e}}))).sort(o)}catch(e){return console.warn("debug : Error in getting Message Options"),[]}}),[r,n])}}({scopeSystemPortsData:a,scopePorts:o}),l=s.getGroupOptions,u=s.getPackageOptions,d=s.getMessageOptions,p=function(e){return void 0!==e&&e.map((function(e,n){return t().createElement("option",{key:n,value:e.value},e.label)}))},f=(0,e.useCallback)((function(e){var n=Object.keys(e.portIn).length?t().createElement(b.Tooltip,{title:"Iport"},t().createElement("i",{className:"icon-in",style:{fontSize:"1.5rem"}})):void 0,r=Object.keys(e.portOut).length?t().createElement(b.Tooltip,{title:"Oport"},t().createElement("i",{className:"icon-out",style:{fontSize:"1.5rem"}})):void 0;return t().createElement(t().Fragment,null,n,r)}),[]),m=(0,e.useCallback)((function(e){return t().createElement(b.TextField,{autoFocus:r,placeholder:e.columnDef.title,value:void 0===e.value?"":e.value,onChange:function(t){return e.onChange(t.target.value)},inputProps:{"data-testid":"input_name",style:{fontSize:13,textAlign:"left"}}})}),[r]),v=(0,e.useCallback)((function(e){var n=l(o);return t().createElement("div",{className:i.formHolder},t().createElement(b.FormControl,{className:i.formControl},t().createElement(b.NativeSelect,{inputProps:{"data-testid":"input_protocol"},className:i.control,value:e.value,onChange:function(t){var n=yd({},e.rowData);n.template=t.target.value;var r=u(n);if(1===r.length){n.message="",n.msgPackage=r[0].value;var o=d(n);1===o.length&&(n.message=o[0].value)}else n.msgPackage="",n.message="";e.onRowDataChange(n)}},t().createElement("option",{value:""}),n.map((function(e,n){return void 0!==e.options?t().createElement("optgroup",{key:n,label:" - ".concat(e.label)},e.options.map((function(e,n){return t().createElement("option",{key:n,value:e.value},e.label)}))):t().createElement("option",{key:"standalone"+n,value:e.value},e.label)})))))}),[i,o,l,d,u]),h=(0,e.useCallback)((function(e){var n=u(e.rowData);return t().createElement("div",{className:i.formHolder},t().createElement(b.FormControl,{className:i.formControl},t().createElement(b.NativeSelect,{inputProps:{"data-testid":"input_package"},className:i.control,value:e.value,onChange:function(t){var n=yd({},e.rowData);n.msgPackage=t.target.value,n.message="",e.onRowDataChange(n)}},t().createElement("option",{value:""}),p(n))))}),[i,u]),g=(0,e.useCallback)((function(e){var n=d(e.rowData);return t().createElement("div",{className:i.formHolder},t().createElement(b.FormControl,{className:i.formControl},t().createElement(b.NativeSelect,{inputProps:{"data-testid":"input_message"},className:i.control,value:e.value,onChange:function(t){var n=yd({},e.rowData);n.message=t.target.value,e.onRowDataChange(n)}},t().createElement("option",{value:""}),p(n))))}),[i,d]);return{getColumns:(0,e.useCallback)((function(){return[{title:"",field:"portType",render:f,editable:"never",width:50},{title:c("Name"),field:"name",defaultSort:"asc",render:function(e){return t().createElement("span",{"data-testid":"output_name"},e.name)},editComponent:m},{title:c("TransportProtocol"),field:"template",render:function(e){var n;return t().createElement("span",{"data-testid":"output_protocol"},null===(n=o[null==e?void 0:e.template])||void 0===n?void 0:n.Label)},editComponent:v},{title:c("Package"),field:"msgPackage",render:function(e){return t().createElement("span",{"data-testid":"output_package"},e.msgPackage)},editComponent:h},{title:c("Message"),field:"message",render:function(e){return t().createElement("span",{"data-testid":"output_message"},e.message)},editComponent:g}]}),[o,f,m,g,h,v,c])}},Ed=require("@material-ui/icons/FolderOpen");var Ad=o.n(Ed);const Od=require("@material-ui/icons/FiberManualRecord");var Cd=o.n(Od);const wd=require("@material-ui/icons");function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pd={gridContainer:{width:"100%",display:"flex",flexWrap:"wrap",boxSizing:"border-box",padding:"10px",alignItems:"center"},titleColumn:{margin:"auto"},circle:{width:"0.25em",height:"0.25em",margin:"5px"}},Nd=(0,c.makeStyles)((function(e){return kd(kd({},Pd),{},{actionColumn:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},iconPadding:{paddingRight:"5px"},icon:{color:e.icon.color,"&:hover":{color:e.icon.hoverColor}}})})),Rd=(0,c.makeStyles)((function(e){return kd(kd({},Pd),{},{input:{width:"100%",fontSize:"0.875rem",padding:"0px 8px 0px 8px"}})}));const Td=function(n){var r=n.id,o=n.ioPort,a=n.message,i=n.callback,c=n.portName,s=n.protectedCallbacks,l=n.handleNewCallback,u=n.handleOpenCallback,d=n.handleOpenSelectScopeModal,p=Nd(),f=(0,H.useTranslation)().t,m=(0,e.useCallback)((function(){d({message:a,selectedIoPort:o,selected:i,scopeList:[oe]},c,o)}),[i,d,o,a,c]),v=(0,e.useCallback)((function(){u(r)}),[r,u]),h=(0,e.useCallback)((function(){l(a,c,o)}),[a,c,o,l]);return t().createElement(A(),{className:p.gridContainer},t().createElement(A(),{item:!0,xs:3,className:p.titleColumn},t().createElement(Cd(),{className:p.circle}),f("Callback"),":"),t().createElement(A(),{className:p.gridContainer,item:!0,xs:6},t().createElement(b.Tooltip,{title:r},t().createElement(b.Typography,{"data-testid":"output_selected-callback"},r))),t().createElement(A(),{item:!0,xs:3,className:p.actionColumn},n.editable&&t().createElement(b.Tooltip,{title:f("SelectCallback")},t().createElement(b.IconButton,{"data-testid":"input_select-callback",className:p.icon,component:"button",onClick:m},t().createElement(Ad(),null))),t().createElement(b.Tooltip,{title:f("EditCallback")},t().createElement(t().Fragment,null,t().createElement(b.IconButton,{"data-testid":"input_edit-callback",disabled:s.includes(r),className:p.icon,component:"button",onClick:v},t().createElement(wd.Edit,null)))),n.editable&&t().createElement(b.Tooltip,{title:f("CreateCallback")},t().createElement(b.IconButton,{"data-testid":"input_create-callback",className:p.icon,component:"button",onClick:h},t().createElement(wd.AddBox,null)))))},Sd=function(n){var r=n.param,o=n.paramValue,a=n.direction,i=n.ioPort,c=n.editable,s=n.handleIOPortsInputs,l=n.rowData.name,u=Rd(),d=(0,e.useCallback)((function(e){s(e.target.value,l,a,i,r)}),[l,a,i,r,s]);return t().createElement(A(),{className:u.gridContainer},t().createElement(A(),{item:!0,xs:3,className:u.titleColumn},t().createElement(Cd(),{className:u.circle}),"".concat(r,":")),t().createElement(A(),{item:!0,xs:9},t().createElement(fn(),{inputProps:{"data-testid":"input_parameter"},disabled:!c,defaultValue:o,className:u.input,onChange:d})))};var xd=(0,c.makeStyles)((function(e){return{details:{padding:"8px 24px 24px","&.editing div[class^='MTableToolbar-actions'] .MuiIconButton-root, &.editing .Mui-selected, &.editing .child-row":{opacity:"0.2",transition:"all 300ms ease 0s",cursor:"default",pointerEvents:"none"}},formControl:{margin:e.spacing(1),minWidth:120},control:{fontSize:"0.875rem"},toolbar:{display:"flex",flexDirection:"row",alignItems:"center"},toolbarComponents:{width:"100%"}}})),Id=(0,c.makeStyles)((function(e){return{root:{padding:"0 12px",width:"calc(100% - 24px)"},heading:{fontSize:"0.875rem"},ioPortTitle:{boxShadow:"none",padding:"0px 50px 0px 50px"},portBase:{fontSize:"1.5rem"},row:{display:"flex",flexDirection:"row",alignItems:"center"},paddingLR:{padding:"0px 12px",lineHeight:"100%"},details:{display:"flex",flexDirection:"column",padding:"0px 100px 0px 100px"}}}));const Ld=function(e){var n=e.editable,r=e.handleOpenCallback,o=e.protectedCallbacks,a=e.handleNewCallback,i=e.handleOpenSelectScopeModal,c=Id(),s=function(s){return t().createElement("div",null,void 0!==e.rowData[s]&&Object.keys(e.rowData[s]).map((function(l,u){var d=e.rowData[s][l],p=null==d?void 0:d.callback,f=null==d?void 0:d.message,m=(null==d?void 0:d.parameters)||{},v=0===Object.keys(m).length&&!p;return t().createElement(au(),{defaultExpanded:!0,className:c.ioPortTitle,key:"".concat(u," ").concat(s),expanded:!!v||void 0},t().createElement(cu(),{expandIcon:v?void 0:t().createElement(ci(),null)},t().createElement("div",{className:c.heading},t().createElement("div",{className:c.row},function(e){return t().createElement("i",{className:"".concat(c.portBase," ").concat({portIn:"icon-in",portOut:"icon-out"}[e])})}(s),t().createElement("div",{className:c.paddingLR},t().createElement("b",null,l)),t().createElement("div",{className:c.paddingLR},"(".concat(f,")"))))),t().createElement(Mr(),null),t().createElement(lu(),{className:c.details},null!==p&&t().createElement("div",{"data-testid":"section_callback"},t().createElement(Td,{id:p,ioPort:l,editable:n,message:f,direction:s,portName:e.rowData.name,protectedCallbacks:o,handleNewCallback:a,handleOpenCallback:r,handleOpenSelectScopeModal:i})),t().createElement("div",{"data-testid":"section_parameters"},Object.keys(m).map((function(r,o){return t().createElement("div",{"data-testid":"section_parameter-".concat(r)},t().createElement(Sd,ct()({},e,{key:o+s,editable:n,param:r,paramValue:m[r],direction:s,ioPort:l})))})))))})))};return t().createElement("div",{"data-testid":"section_io-ports",className:"".concat(c.root," ").concat(e.classNames)},s("portIn"),s("portOut"))};function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bd=function(n){var r=(0,e.useRef)(),o=(0,e.useRef)(),a=n.ioConfig,i=n.call,c=n.scope,s=n.protectedCallbacks,l=n.onIOConfigRowSet,u=n.onIOConfigRowDelete,d=n.handleIOPortsInputs,p=n.handleOpenSelectScopeModal,f=n.handleOpenCallback,m=n.handleNewCallback,v=n.autoFocus,h=n.editable,g=(0,e.useState)({}),y=Gt()(g,2),E=y[0],A=y[1],O=(0,e.useState)({}),C=Gt()(O,2),w=C[0],D=C[1],k=(0,e.useState)([]),P=Gt()(k,2),N=P[0],R=P[1],T=xd(),S=(0,H.useTranslation)().t,x=function(e,t,n){try{var r=e.message,o=e.msgPackage,a=e[t][n].Message.split("&"),i=Gt()(a,2),c=i[0],s=i[1];return void 0===s?c:o+"/"+c+r+s}catch(e){return void console.log(":: ERROR ::\n In replaceAmpersandWithMessage()",e)}},I=bd({scopeSystemPortsData:w,scopePorts:E,autoFocus:v}).getColumns,L=function(){r.current&&o.current&&setTimeout((function(){var e,t,n,a=r.current.dataManager.lastEditingRow,i=null==o||null===(e=o.current)||void 0===e?void 0:e.querySelector("tr[mode='add']");a||i?null==o||null===(t=o.current)||void 0===t||t.classList.add("editing"):null==o||null===(n=o.current)||void 0===n||n.classList.remove("editing")}))},M=(0,e.useCallback)((function(e){var t=Array.isArray(e)?e:Object.values(e).map((function(e){return jd(jd({},e),{},{name:e.name})}));R((function(e){return us()(e,t)?e:t}))}),[R]),j=(0,e.useCallback)((function(e,t,n){var r=x(e,t,n);return e[t][n].message=r,e[t][n].callback=e[t][n].Callback,e[t][n].parameters=e[t][n].Parameter,delete e[t][n].LinkEnabled,e}),[x]),B=(0,e.useCallback)((function(e){var t;return e.portIn=(null===(t=E[e.template])||void 0===t?void 0:t.In)||{},Object.keys(e.portIn).forEach((function(t){e=j(e,"portIn",t)})),e}),[E,j]),z=(0,e.useCallback)((function(e){var t;return e.portOut=(null===(t=E[e.template])||void 0===t?void 0:t.Out)||{},Object.keys(e.portOut).forEach((function(t){e=j(e,"portOut",t)})),e}),[E,j]),F=(0,e.useCallback)((function(e){return new Promise((function(t,n){e=B(e),e=z(e),l(e,t,n)}))}),[l,B,z]),G=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var o,a,i=e.template!==t.template;!i&&null!==(o=e.portIn)&&void 0!==o&&o.in||(e=B(e)),!i&&null!==(a=e.portOut)&&void 0!==a&&a.out||(e=z(e)),l(e,n,r,t)}))}),[l,B,z]),V=(0,e.useCallback)((function(e){return new Promise((function(t){u(e,t)}))}),[u]);(0,e.useEffect)((function(){i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_STORE,c).then((function(e){e.helper.getAllTransportProtocol().then((function(e){e&&A(e)})),e.helper.getPortsData().then((function(e){e&&D(e)}))}))}),[i,c]),(0,e.useEffect)((function(){M(a)}),[a,M]);var Y=(0,e.useCallback)((function(e){return t().createElement(Ld,{classNames:"child-row",editable:h,rowData:e.rowData,protectedCallbacks:s,handleIOPortsInputs:d,handleOpenCallback:f,handleNewCallback:m,handleOpenSelectScopeModal:p})}),[h,s,d,f,m,p]);return t().createElement(Hu,{testId:"section_io-configuration",title:S("IOConfiguration"),defaultExpanded:!0},t().createElement(b.Typography,{component:"div",className:T.details,ref:o},t().createElement(ba,{ref:r,columns:I(),data:N,detailPanel:Y,editable:{isEditable:function(){return h},isDeletable:function(){return h},onRowAdd:h?F:null,onRowUpdate:G,onRowDelete:V},components:{Toolbar:function(e){return t().createElement(b.Typography,{component:"div",className:T.toolbar},t().createElement(b.Typography,{component:"div",className:T.toolbarComponents},t().createElement(fd.MTableToolbar,e)))},EditRow:function(e){return L(),t().createElement(fd.MTableEditRow,ct()({},e,{onEditingCanceled:function(t){e.onEditingCanceled(t),L()},onEditingApproved:function(t,n,r){e.onEditingApproved(t,n,r),L()}}))}}})))};function zd(e,t){var n=us()(e.ioConfig,t.ioConfig),r=us()(e.protectedCallbacks,t.protectedCallbacks);return n&&r}Bd.propTypes={ioConfig:Ht().object.isRequired,onIOConfigRowSet:Ht().func.isRequired,onIOConfigRowDelete:Ht().func.isRequired,handleIOPortsInputs:Ht().func.isRequired,handleOpenSelectScopeModal:Ht().func.isRequired,handleOpenCallback:Ht().func.isRequired,handleNewCallback:Ht().func.isRequired,protectedCallbacks:Ht().array,editable:Ht().bool},Bd.defaultProps={editable:!0,protectedCallbacks:[]};const Fd=(0,e.memo)(Bd,zd);var Gd=(0,c.makeStyles)((function(e){return{logo:{margin:"2px",padding:"0px"}}}));const Vd=function(e){var n=e.name,r=e.model,o=e.details,a=Bs({instance:r,propsData:o}).details;return t().createElement("div",{"data-testid":"section_node-details-menu"},t().createElement(Fs,{name:n,details:a}))};var Yd=(0,c.makeStyles)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},container:{flexGrow:1,padding:"15px",overflowY:"auto"}}}));function Hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kd=function(n,r){var o=n.id,a=n.name,i=n.call,c=n.alert,s=n.instance,u=n.editable,d=void 0===u||u,p=(0,e.useState)([]),f=Gt()(p,2),m=f[0],v=f[1],h=Yd(),g=(0,H.useTranslation)().t,y=function(){var e=Gd(),n=(0,H.useTranslation)().t,r=function(n){return t().createElement(rd,{title:t().createElement(t().Fragment,null,t().createElement(Gu(),{color:"inherit",component:"h3"},t().createElement("b",null,n.name)),t().createElement("p",null,n.description))},t().createElement(sr(),{className:e.logo},t().createElement(As(),null)))},o=function(e){return e.type===$?t().createElement("span",{"data-testid":"output_value"},JSON.stringify(e.value)):t().createElement("span",{"data-testid":"output_value"},e.value)};return{getColumns:function(){return[{title:"",field:"description",width:"5%",cellStyle:{padding:"10px",textAlign:"start"},sorting:!1,render:r},{title:n("Name"),field:"name",width:"45%",defaultSort:"asc",cellStyle:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},render:function(e){return t().createElement("span",{"data-testid":"output_name"},e.name)}},{title:n("Value"),field:"value",width:"45%",cellStyle:{maxWidth:200,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},render:o}]}}}().getColumns,E=Bs({instance:s,propsData:n.data,keysToDisconsider:Wl.KEYS_TO_DISCONSIDER}).data,A=y(),O=(0,e.useCallback)((function(e,t,n){var r,o,a=null!==(r=ge[t.toUpperCase()])&&void 0!==r?r:t,i=null!==(o=e.name)&&void 0!==o?o:e,c="ports"===t?Ae:Oe;try{var s;if(!e)throw new Error(g(We.TYPE_NAME_IS_MANDATORY,{typeName:a}));if(!c.test(i))throw new Error(g(We.INVALID_TYPE_NAME,{typeName:a}));var l=null!==(s=null==n?void 0:n.name)&&void 0!==s?s:n,u=!l&&E[t][i];if(l&&l!==i&&E[t][i]||u)throw new Error(g(We.MULTIPLE_ENTRIES_WITH_SAME_NAME))}catch(e){return{result:!1,error:e.message}}return{result:!0,error:""}}),[E,g]),C=(0,e.useCallback)((function(e,t,n){s.current.setPortCallback(e,t,n)}),[s]),w=(0,e.useCallback)((function(e,t,n,r){try{var o=t.name,a=l()({},o,t),i=O(o,e,n.name);if(!i.result)throw new Error(i.error);r?s.current&&s.current.setKeyValue(e,a):s.current&&s.current.updateKeyValueItem(e,t,n.name)}catch(e){e.message&&c({message:e.message,severity:we})}}),[s,c,O]),D=function(e,t){return new Promise((function(n,r){s.current&&s.current.deleteKeyValue(e,t),s.current.getKeyValue(e,t)?r():n()}))},k=(0,e.useCallback)((function(){var e,r,c=null!==(e=null===(r=n.data)||void 0===r?void 0:r.details)&&void 0!==e?e:{},u="".concat(o,"-detail-menu"),d=g("NodeDetailsMenuTitle");i(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.SET_BOOKMARK,l()({},u,{icon:t().createElement(As(),null),name:u,title:d,view:t().createElement(Vd,{id:o,name:a,details:c,model:s})}))}),[i,o,a,n.data,s,g]);or(r,{renderRightMenu:k});var P=(0,e.useCallback)((function(e,t){var n,r=g(ge[e.toUpperCase()]),o=!t,a=E[e][t]||Ee,c=qd(qd({},a),{},{varName:e,type:null!==(n=a.type)&&void 0!==n?n:re,name:a.key||t,paramType:r}),s={onSubmit:function(t){return w(e,t,c,o)},nameValidation:function(t){return Promise.resolve(O(t,e,c.name))},title:g("EditParamType",{paramType:r}),data:c,preventRenderType:e!==fe,call:i};i(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM_DIALOG,s,zu)}),[E,O,w,i,g]),N=(0,e.useCallback)((function(e,t,n){var r=tl.SCOPE;i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE,{scope:r,name:" new_callback ",data:{message:e}},(function(e){if(e.success){var o={id:"".concat(e.model.workspace,"/").concat(r,"/").concat(e.name),name:e.name,scope:r};i(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,o),C(t,n,e.name)}}))}),[i,C]),R=(0,e.useCallback)((function(e){if(e){var t=tl.SCOPE;i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:t,name:e}).then((function(e){i(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,{id:e.getUrl(),name:e.getName(),scope:t})}))}}),[i]),T=(0,e.useCallback)((function(e,t,n){i(pe.DIALOG.NAME,pe.DIALOG.CALL.SELECT_SCOPE_MODAL,qd(qd({},e),{},{onSubmit:function(e){var r=e.split("/"),o=r.length>1?r[2]:e;C(t,n,o)}}))}),[i,C]);return(0,e.useEffect)((function(){i(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_STORE,oe).then((function(e){v(e.protectedDocs)}))}),[i]),t().createElement(b.Typography,{"data-testid":"section_node-editor",component:"div",className:h.container},t().createElement(Ju,{onChangeDescription:function(e){s.current&&s.current.setDescription(e)},editable:d,nodeType:E.type,value:E.description}),t().createElement(Fd,ct()({},n,{editable:d,ioConfig:E.ports,protectedCallbacks:m,onIOConfigRowSet:function(e,t,n,r){try{e.name=e.name.trim();var o=O(e.name,"ports",r);if(!o.result)throw new Error(o.error);if(!e.template)throw new Error(g(We.NO_TRANSPORT_PROTOCOL_CHOSEN));if(!e.msgPackage)throw new Error(We.NO_PACKAGE_CHOSEN);if(!e.message)throw new Error(We.NO_MESSAGE_CHOSEN);if(s.current){if((null==r?void 0:r.template)===e.template)return s.current.updatePort(r.name,e),t();s.current.deletePort(e.id);var a=l()({},e.name,e);s.current.setPort(a),t()}}catch(e){c({message:e.message,severity:we}),n()}},onIOConfigRowDelete:function(e,t){s.current&&s.current.deletePort(e.name),t()},handleIOPortsInputs:function(e,t,n,r,o){s.current.setPortParameter(t,n,r,o,e)},handleOpenSelectScopeModal:T,handleOpenCallback:R,handleNewCallback:N})),t().createElement(ld,{path:E.path,remappable:E.remappable,persistent:E.persistent,launch:E.launch,editable:d,onChangePath:function(e){s.current&&s.current.setPath(e)},onChangeExecutionParams:function(e,t){s.current&&s.current.setExecutionParameter(e,t)}}),t().createElement(pd,{editable:d,data:E.parameters,defaultColumns:A,openEditDialog:P,onRowDelete:D}),t().createElement(Uu,{testId:"section_env-vars",title:g("EnvironmentVariables"),editable:d,data:E.envVars,columns:A,openEditDialog:P,onRowDelete:D,varName:"envVars"}),t().createElement(Uu,{testId:"section_command-line",title:g("CommandLine"),editable:d,data:E.commands,columns:A,openEditDialog:P,onRowDelete:D,varName:"commands"}))};Kd.scope="Node",Kd.propTypes={id:Ht().string.isRequired,name:Ht().string.isRequired,call:Ht().func.isRequired,data:Ht().object,instance:Ht().object,editable:Ht().bool};const Ud=Is(Kd),Wd=o(506).object({});function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zd=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,_d({schema:Wd},arguments[0]))).ports=[],e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getPorts",value:function(){return this.ports}},{key:"setPorts",value:function(e){return this.ports=e,this}},{key:"addPort",value:function(e){return this.ports=[].concat(D()(this.ports),[e]),this.ports}},{key:"removePort",value:function(e){return this.ports=this.ports.filter((function(t){return t!==e})),this.ports}},{key:"togglePort",value:function(e){return this.ports.includes(e)?this.removePort(e):this.addPort(e)}},{key:"count",value:function(){return this.ports.length}},{key:"serialize",value:function(){return{name:this.getName(),ports:this.getPorts()}}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=e.name,n=e.ports;return l()({},t,n)}}],[{key:"serializeOfDB",value:function(e){var t=Object.values(null!=e?e:{})[0];return{name:Object.keys(null!=t?t:{})[0],ports:Object.values(null!=t?t:{})[0]}}}]),o}(vc);l()(Zd,"OBSERVABLE_KEYS",{NAME:"name",PORTS:"ports"});const Qd=Zd;function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jd(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ep(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tp(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const np=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){return P()(this,o),r.apply(this,arguments)}return R()(o,[{key:"setItem",value:function(e){var t=e.name,n=e.content;return this.data.set(t,n),this.emit(gc),this}},{key:"deleteItem",value:function(e){var t;Object.values(null!==(t=this.getItem(e))&&void 0!==t?t:{}).forEach((function(e){e.destroy()}));var n=this.data.delete(e);return this.emit(yc),n}},{key:"setData",value:function(e){var t=this;this.destroy(),Object.entries(null!=e?e:{}).forEach((function(e){var n=Gt()(e,2),r=n[0],o=n[1];Object.entries(null!=o?o:{}).forEach((function(e){var n,o=Gt()(e,2),a=o[0];(null!==(n=o[1].ports)&&void 0!==n?n:[]).forEach((function(e){return t.toggleExposedPort(r,a,e)}))}))}))}},{key:"getExposedPortsByTemplate",value:function(e){return this.data.get(e)}},{key:"addNodeInstance",value:function(e,t){var n=new Qd;return n.setData({name:t}),e[t]=n,n}},{key:"addTemplate",value:function(e){return this.data.set(e,{}),this.emit(gc),this.getItem(e)}},{key:"removeEmpties",value:function(){var e,t=this,n=ep(this.data);try{var r=function(){var n=e.value,r=Gt()(n,2),o=r[0],a=r[1],i={};Object.entries(a).forEach((function(e){var t=Gt()(e,2),n=t[0],r=t[1];r.count()>0&&(i[n]=r)})),0===Object.keys(i).length&&t.deleteItem(o)};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}},{key:"getOrCreateByNodeInstance",value:function(e,t){return e[t]||this.addNodeInstance(e,t)}},{key:"getOrCreateByTemplate",value:function(e){return this.getExposedPortsByTemplate(e)||this.addTemplate(e)}},{key:"toggleExposedPort",value:function(e,t,n){this.getOrCreateByNodeInstance(this.getOrCreateByTemplate(e),t).togglePort(n),this.removeEmpties(),this.emit(hc)}},{key:"serialize",value:function(){var e,t=this,n={},r=ep(this.data.keys());try{var o=function(){var r=e.value,o=t.getItem(r),a={};Object.entries(o).forEach((function(e){var t=Gt()(e,2),n=t[0],r=t[1];a[n]=r.serialize()})),n[r]=a};for(r.s();!(e=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return n}},{key:"serializeToDB",value:function(){var e,t={},n=ep(this.data);try{var r=function(){var n=e.value,r=Gt()(n,2),o=r[0],a=r[1];Object.values(a).forEach((function(e){t[o]=$d($d({},t[o]),e.serializeToDB())}))};for(n.s();!(e=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}return t}},{key:"destroy",value:function(){Array.from(this.data.values()).forEach((function(e){Object.values(null!=e?e:{}).forEach((function(e){return e.destroy()}))})),this.data.clear()}}],[{key:"serializeOfDB",value:function(e,t){var n={};return Object.entries(null!=e?e:{}).forEach((function(e){var r=Gt()(e,2),o=r[0],a=r[1];Object.entries(a).forEach((function(e){var r,a=Gt()(e,2),i=a[0],c=a[1],s=l()({},o,l()({},i,c));n[o]=$d($d({},null!==(r=n[o])&&void 0!==r?r:{}),{},l()({},i,t.serializeOfDB(s)))}))})),n}}]),o}(wc),rp=o(506).object({});function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ip=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,ap({schema:rp},arguments[0]))).id="",e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){return this.id=e,this}},{key:"serialize",value:function(){return{id:this.getId(),name:this.getName()}}},{key:"serializeToDB",value:function(){return{name:this.serialize().name}}}],[{key:"serializeOfDB",value:function(e){return{id:Object.keys(e)[0],name:Object.values(e)[0].name}}}]),o}(vc);l()(ip,"OBSERVABLE_KEYS",{NAME:"name"});const cp=ip,sp=o(506).object({});function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,up({schema:sp},arguments[0]))).id="",e.enabled=!0,e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){return this.enabled=e,this}},{key:"serialize",value:function(){return{id:this.getId(),name:this.getName(),enabled:this.getEnabled()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{name:e.name,on:e.enabled}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];return{id:t,name:n.name,enabled:n.on}}}]),o}(cp);l()(dp,"OBSERVABLE_KEYS",{NAME:"name",ENABLED:"enabled"});const pp=dp,fp=o(506).object({});function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,vp({schema:fp},arguments[0]))).from="",e.to="",e.dependency=0,e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getFrom",value:function(){return this.from}},{key:"setFrom",value:function(e){return this.from=e,this}},{key:"getTo",value:function(){return this.to}},{key:"setTo",value:function(e){return this.to=e,this}},{key:"getDependency",value:function(){return this.dependency}},{key:"setDependency",value:function(e){return this.dependency=e,this}},{key:"getNodes",value:function(){return[this.getFrom(),this.getTo()].map((function(e){return e.split("/")[0].split("__")[0]}))}},{key:"serialize",value:function(){return{id:this.getId(),from:this.getFrom(),to:this.getTo(),dependency:this.getDependency()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{From:e.from,To:e.to,Dependency:e.dependency}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0];return{id:t,from:n.From,to:n.To,dependency:n.Dependency}}}]),o}(vc);l()(hp,"OBSERVABLE_KEYS",{ID:"id",FROM:"from",TO:"to",DEPENDENCY:"dependency"});const gp=hp,yp=o(506).object({});function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ap=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Ep({schema:yp},arguments[0]))).x=0,e.y=0,e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getX",value:function(){return this.x}},{key:"setX",value:function(e){return this.x=e,this}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){return this.y=e,this}},{key:"serialize",value:function(){return{name:this.getName(),x:this.getX(),y:this.getY()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{x:{Value:e.x},y:{Value:e.y}}}}],[{key:"serializeOfDB",value:function(e){if(Array.isArray(e)){var t=null!=e?e:[0,0];return{x:t[0],y:t[1]}}var n={};return Object.entries(null!=e?e:{}).forEach((function(e){var t,r=Gt()(e,2),o=r[0],a=r[1];n[o]=null!==(t=a.Value)&&void 0!==t?t:0})),n}}]),o}(vc);l()(Ap,"OBSERVABLE_KEYS",{X:"x",Y:"y"});const Op=Ap,Cp=o(506).object({});function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Dp({schema:Cp},arguments[0]))).propEvents={onAny:function(t,n,r){return e.propsUpdate(t,n,r)}},e.template="",e.persistent=!1,e.launch=!0,e.remappable=!0,e.groups=[],e.position=new Op,e.parameters=new wc("parameters",Fc,e.propEvents),e.envVars=new wc("envVars",Lc,e.propEvents),e.commands=new wc("commands",Rc,e.propEvents),e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getTemplate",value:function(){return this.template}},{key:"setTemplate",value:function(e){return this.template=e,this}},{key:"getPersistent",value:function(){return this.persistent}},{key:"setPersistent",value:function(e){return this.persistent=e,this}},{key:"getLaunch",value:function(){return this.launch}},{key:"setLaunch",value:function(e){return this.launch=e,this}},{key:"getRemappable",value:function(){return this.remappable}},{key:"setRemappable",value:function(e){return this.remappable=e,this}},{key:"getGroups",value:function(){return this.groups}},{key:"setGroups",value:function(e){return this.groups=e,this}},{key:"addGroup",value:function(e){return this.groups.push(e),this}},{key:"removeGroup",value:function(e){var t=this.groups.indexOf(e);return t>=0&&this.groups.splice(t,1),this}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e,t){return this.position.setData({x:e,y:t}),this.dispatch(o.OBSERVABLE_KEYS.POSITION,this.getPosition().serialize()),this}},{key:"updateKeyValueItem",value:function(e,t){var n,r=t.name;return null===(n=this[e])||void 0===n||n.updateItem({name:r,content:t}),this}},{key:"updateKeyValueProp",value:function(e,t){return this[e]=t,this}},{key:"deleteKeyValue",value:function(e,t){var n;return null===(n=this[e])||void 0===n||n.deleteItem(t),this}},{key:"getKeyValue",value:function(e,t){var n;return null===(n=this[e])||void 0===n?void 0:n.getItem(t)}},{key:"addKeyValue",value:function(e,t){var n,r=t.name;return null===(n=this[e])||void 0===n||n.setItem({name:r,content:t}),this}},{key:"getParameters",value:function(){return this.parameters}},{key:"getEnvVars",value:function(){return this.envVars}},{key:"getCommands",value:function(){return this.commands}},{key:"setData",value:function(e){var t=e.name,n=e.template,r=e.persistent,a=e.launch,i=e.remappable,c=e.groups,s=e.position,l=e.parameters,u=e.envVars,d=e.commands;return Jn()(B()(o.prototype),"setData",this).call(this,{name:t,template:n,persistent:r,launch:a,remappable:i,groups:c}),this.position.setData(s),this.parameters.setData(l),this.envVars.setData(u),this.commands.setData(d),this}},{key:"propsUpdate",value:function(e,t,n){this.dispatch(t,n)}},{key:"serialize",value:function(){return{name:this.getName(),template:this.getTemplate(),persistent:this.getPersistent(),launch:this.getLaunch(),remappable:this.getRemappable(),groups:this.getGroups(),position:this.getPosition().serialize(),parameters:this.getParameters().serialize(),envVars:this.getEnvVars().serialize(),commands:this.getCommands().serialize()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{NodeLabel:e.name,Template:e.template,Persistent:e.persistent,Launch:e.launch,Remappable:e.remappable,NodeLayers:e.groups,Visualization:Dp({},this.getPosition().serializeToDB()),Parameter:this.getParameters().serializeToDB(),EnvVar:this.getEnvVars().serializeToDB(),CmdLine:this.getCommands().serializeToDB()}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0],r=n.Template,o=n.Persistent,a=n.Launch,i=n.Remappable,c=n.NodeLayers,s=n.Visualization,l=n.Parameter,u=n.EnvVar,d=n.CmdLine;return{name:t,template:r,persistent:o,launch:a,remappable:i,groups:c,position:Op.serializeOfDB(s),parameters:wc.serializeOfDB(l,Fc),envVars:wc.serializeOfDB(u,Lc),commands:wc.serializeOfDB(d,Rc)}}}]),o}(vc);l()(kp,"OBSERVABLE_KEYS",{NAME:"name",TEMPLATE:"template",PERSISTENT:"persistent",REMAPPABLE:"remappable",GROUPS:"groups",POSITION:"persistent"});const Pp=kp,Np=o(506).object({});function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),(e=r.call(this,Tp({schema:Np},arguments[0]))).propEvents={onAny:function(t,n,r){return e.propsUpdate(t,n,r)}},e.template="",e.position=new Op,e.parameters=new wc("parameters",Fc,e.propEvents),e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getTemplate",value:function(){return this.template}},{key:"setTemplate",value:function(e){return this.template=e,this}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e,t){return this.position.setData({x:e,y:t}),this.dispatch(o.OBSERVABLE_KEYS.POSITION,this.getPosition().serialize()),this}},{key:"getParameters",value:function(){return this.parameters}},{key:"updateKeyValueItem",value:function(e,t){var n,r=t.name;return null===(n=this[e])||void 0===n||n.updateItem({name:r,content:t}),this}},{key:"deleteKeyValue",value:function(e,t){var n;return null===(n=this[e])||void 0===n||n.deleteItem(t),this}},{key:"getKeyValue",value:function(e,t){var n;return null===(n=this[e])||void 0===n?void 0:n.getItem(t)}},{key:"addKeyValue",value:function(e,t){var n,r=t.name;return null===(n=this[e])||void 0===n||n.setItem({name:r,content:t}),this}},{key:"setData",value:function(e){var t=e.name,n=e.template,r=e.position,a=e.parameters;Jn()(B()(o.prototype),"setData",this).call(this,{name:t,template:n}),this.position.setData(r),this.parameters.setData(a)}},{key:"propsUpdate",value:function(e,t,n){this.dispatch(t,n)}},{key:"serialize",value:function(){return{name:this.getName(),template:this.getTemplate(),position:this.getPosition().serialize(),parameters:this.getParameters().serialize()}}},{key:"serializeToDB",value:function(){var e=this.serialize();return{ContainerLabel:e.name,ContainerFlow:e.template,Visualization:this.getPosition().serializeToDB(),Parameter:this.getParameters().serializeToDB()}}}],[{key:"serializeOfDB",value:function(e){var t=Object.keys(e)[0],n=Object.values(e)[0],r=n.ContainerFlow,o=n.Visualization,a=n.Parameter;return{name:t,template:r,position:Op.serializeOfDB(o),parameters:wc.serializeOfDB(a,Fc)}}}]),o}(vc);l()(Sp,"OBSERVABLE_KEYS",{NAME:"name",TEMPLATE:"template",POSITION:"position"}),Sp.defaults={};const xp=Sp;function Ip(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lp(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Mp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){return P()(this,o),r.apply(this,arguments)}return R()(o,[{key:"serialize",value:function(){var e,t={},n=Ip(this.data.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.getItem(r);t[o.getId()]=o.serialize()}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"serializeToDB",value:function(){var e,t={},n=Ip(this.data.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.getItem(r);t[o.getId()]=o.serializeToDB()}}catch(e){n.e(e)}finally{n.f()}return t}}]),o}(wc),jp=o(506).object({});function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;return P()(this,o),e=r.call(this,zp({schema:jp},arguments[0])),l()(S()(e),"deleteNodeLinks",(function(t){var n=[];return e.getLinks().data.forEach((function(r,o){r.getNodes().includes(t)&&(e.deleteLink(o),n.push(o))})),n})),l()(S()(e),"deleteNodeExposedPorts",(function(t){e.getExposedPorts().data.forEach((function(n,r){t===r&&e.deleteExposedPorts(r)}))})),e.propEvents={onAny:function(t,n,r){return e.propsUpdate(t,n,r)}},e.description="",e.exposedPorts=new np("exposedPorts",Qd,e.propEvents),e.groups=new Mp("groups",pp,e.propEvents),e.links=new wc("links",gp,e.propEvents),e.nodeInstances=new wc("nodeInstances",Pp,e.propEvents),e.parameters=new wc("parameters",Fc,e.propEvents),e.subFlows=new wc("subFlows",xp,e.propEvents),e.observables=Object.values(o.OBSERVABLE_KEYS),e}return R()(o,[{key:"getDescription",value:function(){return this.description}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"getNodeInstances",value:function(){return this.nodeInstances}},{key:"getNodeInstanceItem",value:function(e){return this.nodeInstances.getItem(e)}},{key:"getSubFlows",value:function(){return this.subFlows}},{key:"getSubFlowItem",value:function(e){return this.subFlows.getItem(e)}},{key:"getExposedPorts",value:function(){return this.exposedPorts}},{key:"getLinks",value:function(){return this.links}},{key:"getGroups",value:function(){return this.groups}},{key:"getGroup",value:function(e){return this.groups.getItem(e)}},{key:"getSearchOptions",value:function(){var e=Array.from(this.getNodeInstances().data.values()),t=Array.from(this.getSubFlows().data.values());return e.concat(t)}},{key:"addGroup",value:function(e){var t=Rt();return this.groups.setItem({name:t,content:{id:t,name:e,enabled:!0}}),this}},{key:"deleteGroup",value:function(e){return this.groups.deleteItem(e),this}},{key:"toggleGroupVisibility",value:function(e,t){var n=this.getGroup(e);return this.groups.updateItem({name:e,content:zp(zp({},n),{},{enabled:t})}),this}},{key:"editGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getGroup(e);return this.groups.updateItem({name:e,content:zp(zp({},n),t)}),this}},{key:"getParameters",value:function(){return this.parameters}},{key:"getParameter",value:function(e){return this.parameters.getItem(e)}},{key:"addParameter",value:function(e,t){return this.parameters.setItem({name:e,content:t}),this}},{key:"deleteParameter",value:function(e){return this.parameters.deleteItem(e),this}},{key:"updateKeyValueItem",value:function(e,t,n){var r=t.name;return n!==r&&this[e].renameItem({prevName:n,name:r},!0),this[e].updateItem({name:r,content:t}),this}},{key:"deleteKeyValue",value:function(e,t){return this[e].deleteItem(t),this}},{key:"getKeyValue",value:function(e,t){return this[e].getItem(t)}},{key:"getScope",value:function(){return o.SCOPE}},{key:"getFileExtension",value:function(){return o.EXTENSION}},{key:"setData",value:function(e){var t=e.description,n=e.name,r=e.details,a=e.nodeInstances,i=e.subFlows,c=e.exposedPorts,s=e.links,l=e.groups,u=e.parameters;return Jn()(B()(o.prototype),"setData",this).call(this,{description:t,name:n,details:r}),this.nodeInstances.clear().setData(a),this.subFlows.clear().setData(i),this.exposedPorts.clear().setData(c),this.links.clear().setData(s),this.groups.clear().setData(l),this.parameters.clear().setData(u),this}},{key:"addNode",value:function(e){var t=e.name,n=Pp.serializeOfDB(l()({},t,zp({},e)));this.getNodeInstances().setItem({name:t,content:n})}},{key:"addSubFlow",value:function(e){var t=e.name,n=xp.serializeOfDB(l()({},t,zp({},e)));this.getSubFlows().setItem({name:t,content:n})}},{key:"deleteNode",value:function(e){return this.deleteNodeLinks(e),this.deleteNodeExposedPorts(e),this.getNodeInstances().deleteItem(e)}},{key:"deleteSubFlow",value:function(e){return this.deleteNodeLinks(e),this.deleteNodeExposedPorts(e),this.getSubFlows().deleteItem(e)}},{key:"addLink",value:function(e){var t=Gt()(e,2),n=t[0],r=t[1],o=Rt();return this.getLinks().setItem({name:o,content:{from:n,to:r}}),zp({id:o},this.getLinks().serializeToDB()[o])}},{key:"deleteLink",value:function(e){this.getLinks().deleteItem(e)}},{key:"deleteExposedPorts",value:function(e){this.getExposedPorts().deleteItem(e)}},{key:"setLinkDependency",value:function(e,t){this.getLinks().getItem(e).setDependency(t)}},{key:"getLinkDependency",value:function(e){return this.getLinks().getItem(e).getDependency()}},{key:"toggleExposedPort",value:function(e,t,n){return this.getExposedPorts().toggleExposedPort(e,t,n),this.getExposedPorts().serializeToDB()}},{key:"propsUpdate",value:function(e,t,n){this.dispatch(t,n)}},{key:"serialize",value:function(){return zp(zp({},Jn()(B()(o.prototype),"serialize",this).call(this)),{},{description:this.getDescription(),nodeInstances:this.getNodeInstances().serialize(),subFlows:this.getSubFlows().serialize(),exposedPorts:this.getExposedPorts().serialize(),links:this.getLinks().serialize(),groups:this.getGroups().serialize(),parameters:this.getParameters().serialize()})}},{key:"serializeToDB",value:function(){var e=this.serialize(),t=function(e){return e.hasItems()?e.serializeToDB():void 0};return{Label:e.name,Description:e.description,LastUpdate:e.details,NodeInst:this.getNodeInstances().serializeToDB(),Container:this.getSubFlows().serializeToDB(),ExposedPorts:t(this.getExposedPorts()),Links:t(this.getLinks()),Layers:t(this.getGroups()),Parameter:this.getParameters().serializeToDB()}}}],[{key:"serializeOfDB",value:function(e){var t=e.Label,n=e.Label,r=e.LastUpdate,o=e.workspace,a=e.version,i=e.Description,c=e.NodeInst,s=e.Container,l=e.ExposedPorts,u=e.Links,d=e.Layers,p=e.Parameter;return{id:t,name:n,details:r,workspace:o,version:a,description:i,nodeInstances:wc.serializeOfDB(c,Pp),subFlows:wc.serializeOfDB(s,xp),exposedPorts:np.serializeOfDB(l,Qd),links:wc.serializeOfDB(u,gp),groups:wc.serializeOfDB(d,pp),parameters:wc.serializeOfDB(p,Fc)}}}]),o}(vc);l()(Fp,"SCOPE","Flow"),l()(Fp,"CLASSNAME","flow-interface"),l()(Fp,"EXTENSION",".flo"),l()(Fp,"KEYS_TO_DISCONSIDER",["subFlows","exposedPorts","links","nodeInstances"]),l()(Fp,"OBSERVABLE_KEYS",{NAME:"name",DETAILS:"details",DESCRIPTION:"description"}),Fp.defaults={};const Gp=Fp;var Vp={},Yp={},Hp=function(){var e=C()(F().mark((function e(t,n){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.Rest.cloudFunction({cbName:"backend.FlowTopBar",func:t,args:n}).then((function(e){return e.success?e.result:null})).catch((function(e){return console.warn("debug err",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Yp.getDefaultRobot=C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Vp.defaultRobot){e.next=2;break}return e.abrupt("return",Promise.resolve(Vp.defaultRobot));case 2:return e.abrupt("return",Hp("getDefaultRobot","").then((function(e){return Vp.defaultRobot=e.robotName,Vp.defaultRobot})));case 3:case"end":return e.stop()}}),e)}))),Yp.sendToRobot=function(){var e=C()(F().mark((function e(t){var n,r,o;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.action,r=t.flowPath,o=t.robotId,e.abrupt("return",Hp("sendToRobot",[n,r,o]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const qp=Yp;var Kp=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n){var a;return P()(this,o),a=r.call(this,{workspace:e,model:Gp,name:Gp.SCOPE,title:"Flows",plugins:[vs],docManager:n,observer:t}),l()(S()(a),"helper",qp),a}return R()(o,[{key:"loadDoc",value:function(e){return this.getPlugin("DBSubscriber").subscribe(e),Jn()(B()(o.prototype),"loadDoc",this).call(this,e)}}]),o}(is);l()(Kp,"SCOPE",Gp.SCOPE);const Up=Kp,Wp=require("rxjs/operators"),Xp=require("@material-ui/icons/CompareArrows");var _p=o.n(Xp),Zp="NodesToCopy";const Qp=function(){function e(){if(P()(this,e),e.instance)return e.instance;e.instance=this,this._data={}}return R()(e,[{key:"data",get:function(){return this._data}},{key:"write",value:function(e,t){this._data[e]=t}},{key:"read",value:function(e){return this.data[e]}}]),e}();var Jp=function(){function e(t,n){P()(this,e),this.vec=[t,n].map((function(e){return e||0}))}return R()(e,[{key:"x",get:function(){return this.vec[0]}},{key:"y",get:function(){return this.vec[1]}},{key:"toArray",value:function(){return this.vec}},{key:"add",value:function(e){return this.op(e,(function(e,t){return e+t}))}},{key:"sub",value:function(e){return this.op(e,(function(e,t){return e-t}))}},{key:"mul",value:function(e){return this.op(e,(function(e,t){return e*t}))}},{key:"div",value:function(e){return this.op(e,(function(e,t){return e/t}))}},{key:"dot",value:function(e){return this.vec.reduce((function(t,n,r){return t+n*e.vec[r]}),0)}},{key:"prod",value:function(t){return new e(this.x*t.x-this.y*t.y,this.x*t.y+this.y*t.x)}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"normalize",value:function(){return this.scale(1/this.length())}},{key:"dual",value:function(){return new e(-this.y,this.x)}},{key:"sym",value:function(){return this.scale(-1)}},{key:"conj",value:function(){return new e(this.x,-this.y)}},{key:"scale",value:function(e){return this.map((function(t){return t*e}))}},{key:"map",value:function(t){return e.fromArray(this.vec.map(t))}},{key:"op",value:function(t,n){return e.fromArray(this.vec.map((function(e,r){return n(e,t.vec[r])})))}},{key:"reduce",value:function(e,t){return this.vec.reduce(e,t)}},{key:"toObject",value:function(){return{x:this.x,y:this.y}}},{key:"toString",value:function(){return"{x: ".concat(this.x,", y:").concat(this.y,"}")}}],[{key:"fromArray",value:function(t){if(t.length<2)throw new Error("array must have size > 2");return new e(t[0],t[1])}},{key:"of",value:function(t,n){return new e(t,n)}},{key:"ofBabylon",value:function(t){return new e(t.x,t.y)}}]),e}();l()(Jp,"ZERO",new Jp(0,0)),l()(Jp,"e1",new Jp(1,0)),l()(Jp,"e2",new Jp(0,1));const $p=Jp,ef=require("@material-ui/core/Backdrop");var tf,nf,rf=o.n(ef),of=15e3,af=[[10,14925],[25,14925]],cf="default",sf="treeView",lf=null!==(tf=null===(nf=window.SERVER_DATA)||void 0===nf?void 0:nf.RobotBlackList)&&void 0!==tf?tf:[],uf="MovAI/Flow",df="movai_msgs/Transition",pf="NODE",ff="CONTAINER",mf="TREE_NODE",vf="TREE_CONTAINER",hf="NodeInst",gf="Container",yf=function(e){return"base-".concat(null==e?void 0:e.replace(/\//g,"-"))},bf="default",Ef="loading",Af="onMouseOut",Of="onMouseOver",Cf="selectNode",wf="Link",Df="Port";const kf=require("clsx");var Pf=o.n(kf);const Nf=require("@material-ui/core/SnackbarContent");var Rf=o.n(Nf);const Tf=require("@material-ui/icons/CheckCircle");var Sf=o.n(Tf);const xf=require("@material-ui/icons/Error");var If=o.n(xf);const Lf=require("@material-ui/core/colors"),Mf=require("@material-ui/styles");function jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jf(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zf={display:"flex",justifyContent:"space-between"},Ff=Bf(Bf({},zf),{},{marginBottom:"40px"}),Gf={maxHeight:"35vh",overflowY:"auto",paddingLeft:"10px",paddingRight:"10px"},Vf=Bf(Bf({},zf),{},{paddingTop:"10px",paddingBottom:"10px",borderTop:"1px dashed #ccc",borderBottom:"1px dashed #ccc",marginBottom:"10px","& ~ div":{paddingTop:"0px",borderTop:"0 none"},"& > div":{overflow:"hidden",maxWidth:"230px",textOverflow:"ellipsis","& > p":{margin:"0px"}},"& > div:last-of-type":{textAlign:"right"}}),Yf=(0,Mf.makeStyles)((function(e){return{root:{position:"absolute",top:"20px",right:"50px"},snackbar:{margin:"5px",minWidth:"200px"},success:{backgroundColor:Lf.green[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Lf.amber[700]},clickableSnack:{border:"2px solid #666",cursor:"pointer",transition:"border-color .5s","&:hover":{borderColor:"#000"}},icon:{fontSize:"20px"},iconVariant:{opacity:.9,marginRight:"10px"},message:{display:"flex",whiteSpace:"pre",alignItems:"center"}}})),Hf=(0,Mf.makeStyles)((function(e){return{invalidLinksHeader:Bf({},Ff),invalidLinksMessageHolder:Bf({},Gf),invalidLinkHolder:Bf({},Vf),fixMessage:{marginTop:"40px"}}})),qf=(0,Mf.makeStyles)((function(e){return{invalidParametersHeader:Bf({},Ff),invalidParametersMessageHolder:Bf({},Gf),postMessage:{marginTop:"40px"}}})),Kf=(0,Mf.makeStyles)((function(e){return{root:{"& p":{whiteSpace:"pre-wrap"}},invalidExposedPortsHeader:Bf({},Ff),invalidExposedPortsMessageHolder:Bf({},Gf),postMessage:{marginTop:"40px"}}})),Uf=(0,Mf.makeStyles)((function(e){return{invalidParameterHolder:Bf({},Vf),paramsList:{marginTop:"0px"},linkButton:{textTransform:"none",fontSize:"16px"}}})),Wf={success:Sf(),warning:Dn(),error:If(),info:As()},Xf=function(e){var n=e.warnings,r=void 0===n?[]:n,o=e.isVisible,a=Yf();return t().createElement(t().Fragment,null,o&&t().createElement("div",{className:a.root},r.map((function(e,n){var r=e.type,o=e.message,i=e.onClick,c=Wf[r],s=e.html?e.html:function(){};return t().createElement(Rf(),{key:n,className:"".concat(Pf()(a[r])," ").concat(a.snackbar," ").concat(i?a.clickableSnack:""),onClick:function(){i&&i(e)},message:t().createElement("span",{className:a.message},t().createElement(c,{className:Pf()(a.icon,a.iconVariant)}),o,s())})}))))};Xf.propTypes={warnings:Ht().array.isRequired,isVisible:Ht().bool};const _f=Xf,Zf=require("@material-ui/core/Card");var Qf=o.n(Zf);const Jf=require("@material-ui/core/CardContent");var $f=o.n(Jf);const em=require("@material-ui/icons/ArrowDropDown");var tm=o.n(em),nm=(0,Mf.makeStyles)((function(e){return{root:{position:"absolute",bottom:"15px",right:"15px",cursor:"pointer",border:"2px solid transparent",transition:"border-color .5s","&:hover":{borderColor:e.palette.grey[500]},"& h3":{marginTop:"0",fontSize:"24px",display:"flex",alignItems:"center",transition:"font-size .5s"},"& h3 > svg":{transition:"transform .5s"},"&.minified":{maxHeight:"35px",maxWidth:"70px",borderColor:e.palette.grey[50],"&:hover":{borderColor:"transparent"},"& > div":{padding:"5px 10px"},"& h3":{fontSize:"18px"},"& h3 > svg":{transform:"rotate(180deg)"}}},infoContainer:{display:"flex",alignItems:"center",justifyContent:"space-between","& > p":{margin:"0"}},colorChip:{width:"40px",height:"4px"}}}));const rm=function(){var n=(0,e.useState)(!1),r=Gt()(n,2),o=r[0],a=r[1],i=(0,H.useTranslation)().t,c=nm(),s=(0,e.useCallback)((function(){a((function(e){return!e}))}),[]);return t().createElement(Qf(),{"data-testid":"section_dependency-info",className:"".concat(c.root," ").concat(o?"minified":"")},t().createElement($f(),{"data-testid":"input_minify-toggle",onClick:s},t().createElement("h3",null,i(o?"MinifiedDependencyInfoTitle":"DependencyInfoTitle"),t().createElement(tm(),null)),Object.values(ke).map((function(e,n){return t().createElement("div",{key:"".concat(e.LABEL,"_").concat(n),className:c.infoContainer},t().createElement("p",null,i(e.LABEL)),t().createElement("div",{className:c.colorChip,style:{backgroundColor:e.COLOR}}))}))))},om=require("rxjs"),am=require("d3"),im=require("lodash/omit");var cm=o.n(im);function sm(e){if(e){var t;try{t=[d().get(e,"x.Value",e[0]),d().get(e,"y.Value",e[1])]}catch(e){console.error(e)}return t}}function lm(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?"":" node-inst-click-area",o=(null===(t=e.Type)||void 0===t?void 0:t.replace(/\//g,"-"))||"unknown",a="start"===e.Label?"start":o;return"".concat(a).concat(r)}function um(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return am.create("svg").append("line").style("stroke","white").style("stroke-width",1).attr("x1",t).attr("y1",n).attr("x2",r).attr("y2",o).node()}var dm=function(e){var t=e.split("/"),n=t[3]||"-",r=t.slice(0,3).join("/");return["__UNVERSIONED__","-"].includes(n)?"".concat(r,"/-"):"".concat(r,"/").concat(n)};function pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return Object.keys(e).reduce((function(r,o){var a=t.length?t+n:"";return"object"===Ga()(e[o])?Object.assign(r,pm(e[o],a+o,n)):r[a+o]=e[o],r}),{})}function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var mm=function(){function e(t){var n=this;P()(this,e),l()(this,"requiredKeys",["NodeLabel","Template","Visualization"]),l()(this,"noReloadRequired",["Dummy","Persistent","NodeLayers","Parameter","CmdLine","EnvVar","Visualization"]),l()(this,"_ports",new Map),l()(this,"minSize",{h:50,w:50}),l()(this,"padding",{x:25,y:3}),l()(this,"portsSpacing",10),l()(this,"_visible",!0),l()(this,"getNrOfPorts",(function(){var e={In:0,Out:0};return n._ports.forEach((function(t){e[t.type]+=1})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Max:Math.max(e.In,e.Out)},e)})),l()(this,"getHeight",(function(){var e=n.portsSpacing,t=5*e,r=(n.getNrOfPorts().Max+1)*e;return Math.max(t,r)})),l()(this,"getPortsInitialPos",(function(e){var t=n.getNrOfPorts(),r=n.getHeight(),o=n.width,a=n.portsSpacing,i=n.padding,c=i.x,s=i.y,l={In:c/2,Out:o+c/2},u=r/2-(t[e]-1)*a/2+s;return[l[e],u]})),l()(this,"getPortPos",(function(e){var t;return null===(t=n._ports.get(e))||void 0===t?void 0:t.position})),this.data={id:t.id,NodeLabel:t.NodeLabel||"",CmdLine:t.CmdLine||[],name:t.NodeLabel,Parameter:t.Parameter||{},Template:t.Template||"",Visualization:sm(t.Visualization)||[50,50],NodeLayers:t.NodeLayers||[],Persistent:t.Persistent,Remappable:t.Remappable,Launch:t.Launch,type:hf,model:"Node"}}return R()(e,[{key:"posX",get:function(){var e=this.data.Visualization[0];return e<=1?e/(1/of):e}},{key:"posY",get:function(){var e=this.data.Visualization[1];return e<1?e/(1/of):e}},{key:"width",get:function(){return this.minSize.w}},{key:"height",get:function(){return Math.max(this.getHeight(),this.minSize.h)}},{key:"center",get:function(){var e=this.posX,t=this.posY;return{xCenter:e+this.width/2,yCenter:t+this.height/2}}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=Boolean(e)}}]),e}(),vm=["movai_msgs/Any"],hm=function(e,t){return[function(e,t){return n=e.message,r=t.message,n===r||function(e,t){return[e,t].some((function(e){return vm.includes(e)}))}(n,r);var n,r},function(e,t){return e.type!==t.type}].every((function(n){return n(e,t)}))};var gm=["movai_msgs/Any"],ym=function(){function e(t,n){var r=n.name,o=n.type,a=n.Callback,i=n.Message,c=n.Template,s=n.Package,u=n.Parameter,d=n.Exposed,p=n.origin;P()(this,e),l()(this,"requiredKeys",["message","template"]),l()(this,"_visible",!0),this.node=t,this.data={name:r,type:o,callback:a||"",message:i||"",template:c||"",package:s||"",parameters:u||{},exposed:d||!1,origin:p||null}}return R()(e,[{key:"name",get:function(){return this.data.name}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e}}]),e}(),bm=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n){var a;return P()(this,o),a=r.call(this,e,t),l()(S()(a),"object",null),l()(S()(a),"color","white"),l()(S()(a),"radius",10),l()(S()(a),"cx",0),l()(S()(a),"cy",0),l()(S()(a),"links",new Map),l()(S()(a),"linking",!1),l()(S()(a),"destroy",(function(){a.object.remove()})),l()(S()(a),"eventsOn",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];am.event.preventDefault(),am.event.stopPropagation();var n=S()(a),r=n.visible,o=n.readOnly;!r||!t&&o||e()})),l()(S()(a),"onClick",(function(){a.callFunction(a.events.onClick,S()(a))})),l()(S()(a),"onMouseOver",(function(){a.callFunction(a.events.onMouseOver,S()(a))})),l()(S()(a),"onMouseOut",(function(){a.callFunction(a.events.onMouseOut,S()(a))})),l()(S()(a),"onContext",(function(){a.callFunction(a.events.onContext,S()(a))})),l()(S()(a),"checkAny",(function(e,t){return[e,t].some((function(e){return gm.includes(e)}))})),l()(S()(a),"setClass",(function(e){a.object.attr("class",e)})),l()(S()(a),"setLinking",(function(e){var t,n,r=null!==(t=null==e?void 0:e.message)&&void 0!==t?t:a.data.message,o=null!==(n=null==e?void 0:e.type)&&void 0!==n?n:"";a.linking=r;var i=hm({message:r,type:o},a.data)?a.css.default():a.css.unlinkeable();a.setClass(i)})),l()(S()(a),"isValid",(function(){return a.requiredKeys.every((function(e){return!!a.data[e]}))})),l()(S()(a),"callFunction",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1);if("function"==typeof r)return r.apply(void 0,D()(o))})),a.events=n,a.css={default:function(){return"".concat((e=a.data.message,"port-default port-".concat(e.replace(/\//g,"-")).toLowerCase())," ").concat(a.cssExposed);var e},unlinkeable:function(){return"port-disabled ".concat(a.cssExposed)},opacity:{default:1,unlinkeable:.5}},a.render().addEvents(),a}return R()(o,[{key:"render",value:function(){var e=this.css.default();return this.object=am.create("svg:circle").attr("cx",this.cx).attr("cy",this.cy).attr("r",this.radius).attr("stroke-width",0).attr("class",e),this}},{key:"addEvents",value:function(){var e=this;return this.object.on("click",(function(){return e.eventsOn(e.onClick,!1)})),this.object.on("mouseenter",(function(){e.eventsOn(e.onMouseOver)})),this.object.on("mouseout",(function(){e.eventsOn(e.onMouseOut)})),this.object.on("contextmenu",(function(){return e.eventsOn(e.onContext)})),this}},{key:"el",get:function(){return this.object.node()}},{key:"type",get:function(){return this.data.type}},{key:"position",get:function(){var e=this.node;return{data:this.data,nodeSize:{height:e.height,width:e.width},center:e.center,x:e.posX+this.cx,y:e.posY+this.cy}}},{key:"acceptsAny",get:function(){return gm.includes(this.data.message)}},{key:"exposed",get:function(){return this.data.exposed},set:function(e){this.data.exposed=e,this.object.attr("class",this.css.default())}},{key:"readOnly",get:function(){return this.node.canvas.readOnly}},{key:"cssExposed",get:function(){return this.data.exposed?"port-exposed":""}},{key:"setPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cx,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.cy,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.radius;this.cx=e,this.cy=t,this.radius=n,this.object.attr("cx",this.cx).attr("cy",this.cy).attr("r",this.radius)}}]),o}(ym);l()(bm,"parsePortname",(function(e){var t=e.split("/"),n=[t.slice(0,-1).join("/"),t.slice(-1).join()],r=n[1];return[n[0],["in","out"].includes(r.toLowerCase())?null:r].filter((function(e){return null!==e})).join("/")}));const Em=bm,Am=function(){function e(t,n,r){var o=this;P()(this,e),l()(this,"destroy",(function(){o.object.remove()})),this.object=null,this.color="white",this.x=t,this.y=n,this.dx=0,this.dy=15,this.text=r,this.unselectable=!0,this.render()}return R()(e,[{key:"render",value:function(){var e=this.parseText();return this.object=am.create("svg:text").attr("x",this.x).attr("y",this.y-e.length*this.dy).attr("fill",this.color).attr("stroke-width",0).attr("class",this.unselectable?"unselectable":"").style("font-size","18px").style("text-anchor","middle").style("dominant-baseline","central"),this.object.selectAll("tspan").data(e).enter().append("tspan").style("text-anchor","middle").style("dominant-baseline","central").attr("class","text").attr("dx",this.dx).attr("dy",this.dy).attr("x",this.x).text((function(e){return e})),this}},{key:"el",get:function(){return this.object.node()}},{key:"parseText",value:function(){var e=[];try{e=this.text.split("_")}catch(e){console.error(e)}return e}}]),e}(),Om=function(){function e(t,n,r){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;P()(this,e),l()(this,"destroy",(function(){o.object.remove()})),l()(this,"render",(function(){return o.object=am.create("svg:circle").attr("id","status").attr("cx",o.cx).attr("cy",o.cy).attr("r",o.radius).attr("class","node-inst-click-area").attr("stroke",o.color).attr("fill",o.color).style("opacity",o.opacity),o})),l()(this,"statusAnimation",(function(){return o._loading?(o.object.style("fill","yellow").attr("stroke","yellow").style("opacity",.7),o):o._status?(requestAnimationFrame((function e(){if(!1===o._status||o._loading)return o.statusAnimation();o.object.transition().ease(am.easeLinear).duration(800).style("fill","#9dfab0").style("opacity",1).attr("stroke","#9dfab0").transition().ease(am.easeQuad).duration(800).style("fill","#036b18").style("opacity",1).attr("stroke","#036b18").on("end",e)})),o):(o.object.style("fill",o.color).attr("stroke",o.color).style("opacity",o.opacity),o)})),this.object=null,this.cx=t||45,this.cy=n||12,this.radius=a,this._status=!1,this._loading=!1,this._loadingTimeout=null,this.color=r||"grey",this.opacity=.3,this.render()}return R()(e,[{key:"el",get:function(){return this.object.node()}},{key:"isReady",get:function(){return!this._loading}},{key:"status",get:function(){return this._status},set:function(e){this._loading=!1,this._status=e,this.statusAnimation(),clearTimeout(this._loadingTimeout)}},{key:"statusLoading",set:function(e){var t=this;this._loading=e,this.statusAnimation(),clearTimeout(this._loadingTimeout),this._loadingTimeout=setTimeout((function(){t._loading&&(t._loading=!1,t.statusAnimation())}),5e3)}}]),e}();function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dm={width:{default:0,selected:3},color:{default:"black",selected:"white"}},km=function(e){I()(a,e);var t,n,r,o=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B()(n);if(r){var o=B()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return M()(this,e)});function a(e){var t,n=e.canvas,r=e.node,i=e.events,c=e.template;return P()(this,a),t=o.call(this,r),l()(S()(t),"updateSize",(function(){var e=Math.max(t.padding.x,t.padding.y);return t.object.attr("width",t.width+e).attr("height",t.height+e),t.object.select("rect").attr("width",t.width).attr("height",t.height),S()(t)})),l()(S()(t),"addEvents",(function(){return t.object.on("click",(function(){return t.eventsOn(t.onClick)})),t.object.on("mousedown",(function(){return t.eventsOn(t.onMouseDown)})),t.object.on("mouseenter",(function(){return t.eventsOn(t.onMouseEnter)})),t.object.on("mouseleave",(function(){return t.eventsOn(t.onMouseLeave)})),t.object.on("dblclick",(function(){return t.eventsOn(t.onDblClick)})),t.object.on("contextmenu",(function(){return t.eventsOn(t.onContext)})),t.addDrag(),S()(t)})),l()(S()(t),"addDrag",(function(){return t.readOnly||(t._drag.handler=am.drag().on("start",(function(){return t.eventsOn(t.onDragStart)})).on("end",(function(){return t.eventsOn(t.onDragEnd)})).on("drag",(function(){return t.eventsOn(t.onDrag)})),t._drag.handler(t.object)),S()(t)})),l()(S()(t),"renderStatus",(function(){return t._status&&t._status.destroy(),t._status=new Om(t.width/2+t.padding.x/2,t.height/2+t.padding.y),t.object.append((function(){return t._status.el})),S()(t)})),l()(S()(t),"destroy",(function(){t.object.remove()})),l()(S()(t),"setPosition",(function(e,n){t.canvas.inBoundaries(e,n)&&(t.object.attr("x",e).attr("y",n),t.data.Visualization[0]=e,t.data.Visualization[1]=n)})),l()(S()(t),"setPositionDelta",(function(e,n){var r=t.posX+(e||0),o=t.posY+(n||0);t.setPosition(r,o)})),l()(S()(t),"eventsOn",(function(e){t.visible&&e()})),l()(S()(t),"isPort",(function(e){var t=e.nodeName,n=e.className.baseVal;return"circle"===t&&n.includes("port")})),l()(S()(t),"onMouseDown",(function(){if(!t.isPort(am.event.target)){am.event.stopPropagation();var e=am.event.shiftKey;t.selected||e||t.canvas.setMode("default",{event:"onMouseDown"})}})),l()(S()(t),"onMouseEnter",(function(){t.canvas.hoveredNode=S()(t)})),l()(S()(t),"onMouseLeave",(function(){t.canvas.hoveredNode=null})),l()(S()(t),"onClick",(function(){am.event.stopPropagation();var e=am.event.shiftKey;t.handleSelectionChange(e)})),l()(S()(t),"onDblClick",(function(){am.event.preventDefault(),am.event.stopPropagation(),clearTimeout(t.dbClickTimeout),t.canvas.setMode("onDblClick",{node:S()(t)},!0)})),l()(S()(t),"onContext",(function(){am.event.preventDefault(),am.event.stopPropagation(),t.canvas.setMode("nodeCtxMenu",{node:S()(t),event:am.event},!0)})),l()(S()(t),"onDragStart",(function(){t.object.style("cursor","move"),t._drag.delta.x=t.object.attr("x")-am.event.x,t._drag.delta.y=t.object.attr("y")-am.event.y})),l()(S()(t),"onDragEnd",(function(){t.object.style("cursor","default"),"drag"===t.canvas.mode.current.id&&("selectNode"===t.canvas.mode.previous.id?t.canvas.setPreviousMode():t.canvas.setMode("default"))})),l()(S()(t),"onDrag",(function(){var e,n;t.canvas.setMode("drag",S()(t));var r=t._drag.delta;t.setPosition(am.event.x+r.x,am.event.y+r.y),"onDrag"in t.events&&t.events.onDrag(S()(t),am.event),(null!==(e=null===(n=t.canvas.mode.current)||void 0===n?void 0:n.onDrag)&&void 0!==e?e:{next:function(){}}).next(S()(t))})),l()(S()(t),"updateTemplate",C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.object.select("rect").attr("class",lm(t._template)),e.next=3,t.update();case 3:return t.updateSize(),e.abrupt("return",S()(t));case 5:case"end":return e.stop()}}),e)})))),l()(S()(t),"update",(function(){return t.addPorts().renderHeader().renderStatus().renderPorts(),Promise.resolve(S()(t))})),l()(S()(t),"updateNode",(function(e){var n={Visualization:function(e){return t.updatePosition(e)},default:function(n){t.data=wm(wm({},t.data),e),t.updatePosition(n),t.data.name=t.name}};return Object.keys(e).forEach((function(r){(n[r]||n.default)(e),t.noReloadRequired.includes(r)||t.init().addToCanvas()})),!0})),l()(S()(t),"onPortClick",(function(e){var n,r=t.canvas.mode.current;if(!am.event.shiftKey||"selectNode"!==r.id){var o={default:function(){t.canvas.setMode("linking",{src:e,link:null,trg:null,toCreate:!1})},selectNode:function(){t.canvas.setMode("default"),t.canvas.setMode("linking",{src:e,link:null,trg:null,toCreate:!1})},linking:function(){var n=r.props.src;r.props.link.isValid(n,e)&&(r.props.trg=e,r.props.toCreate=!0,t.canvas.setMode("default"))}};(null!==(n=null==o?void 0:o[r.id])&&void 0!==n?n:function(){console.debug("Default mode required to start linking")}).call()}})),l()(S()(t),"onPortMouseOver",(function(e){t.canvas.events.next({name:"onMouseOver",type:"Port",event:am.event,port:e})})),l()(S()(t),"onPortMouseOut",(function(e){t.canvas.events.next({name:"onMouseOut",type:"Port",event:am.event,port:e})})),l()(S()(t),"onPortContext",(function(e){t.canvas.setMode("portCtxMenu",{port:e,event:am.event},!0)})),l()(S()(t),"onSelected",(function(){var e=Dm;t.object.select("rect").attr("stroke",t.selected?e.color.selected:e.color.default).attr("stroke-width",t.selected?e.width.selected:e.width.default)})),l()(S()(t),"onTemplateUpdate",function(){var e=C()(F().mark((function e(n){var r,o;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!(t.data.type===gf&&null!==(r=t.template)&&void 0!==r&&r.NodeInst[n.Label]),n.Label===t.templateName||!o){e.next=3;break}return e.abrupt("return");case 3:return o&&(t._template=Object.assign(t._template,n)),e.next=6,t.updateTemplate();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l()(S()(t),"onGroupsChange",(function(e){var n,r=null!==(n=t.data.NodeLayers)&&void 0!==n?n:[],o=r.every((function(t){var n=e.get(t);return!!n&&!n.enabled}))&&r.length>0;t.visibility=!o})),l()(S()(t),"deleteKey",(function(e){var n=pm(e);return Object.keys(n).forEach((function(e){t.data=cm()(t.data,e)})),t.isValid()})),l()(S()(t),"isValid",(function(){return!t.requiredKeys.some((function(e){return null===t.data[e]||!(e in t.data)}))})),l()(S()(t),"linking",(function(e){t._ports.forEach((function(t){t.setLinking(e)}))})),l()(S()(t),"setExposedPort",(function(e,n){var r=t._ports.get(e);r&&(r.exposed=n)})),l()(S()(t),"setParams",(function(e){t.data.Parameter=e})),t.canvas=n,t.events=i,t._template=c,t.dbClickTimeout=null,t.object=null,t._drag={handler:null,debounce:null,delta:{x:0,y:0}},t._header=null,t._selected=!1,t._status=!1,t}return R()(a,[{key:"el",get:function(){return this.object.node()}},{key:"name",get:function(){return this.data.NodeLabel}},{key:"portSize",get:function(){return.07*this.minSize.w}},{key:"status",get:function(){return this._status.status},set:function(e){this._status.status=e}},{key:"readOnly",get:function(){return this.canvas.readOnly}},{key:"template",get:function(){return this._template}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=Boolean(e),this.onSelected()}},{key:"headerPos",get:function(){return{x:this.width/2+this.padding.x/2,y:-10}}},{key:"templateName",get:function(){return this.data.Template}},{key:"visibility",set:function(e){var t=this;this.visible=Boolean(e),this.object.attr("visibility",this.visible?"visible":"hidden"),this._ports.forEach((function(e){return e.visible=t.visible}))}},{key:"visualizationToDB",get:function(){return{x:{Value:this.data.Visualization[0]},y:{Value:this.data.Visualization[1]}}}},{key:"ports",get:function(){return this._ports}},{key:"init",value:function(){return this.addPorts().renderBody().renderHeader().renderStatus().renderPorts().addEvents(),this}},{key:"renderBody",value:function(){var e=Dm,t=this.padding,n=Math.max(t.x,t.y);return this.object&&this.object.remove(),this.object=am.create("svg").attr("id","".concat(this.canvas.containerId,"-").concat(this.data.id||this.data.Template)).style("overflow","visible").attr("width",this.width+n).attr("height",this.height+n).attr("x",this.posX).attr("y",this.posY),this.object.append("svg:rect").attr("x",t.x/2).attr("y",t.y).attr("rx",6).attr("ry",6).attr("width",this.width).attr("height",this.height).attr("class",lm(this._template)).attr("filter","url(#shadow-".concat(this.canvas.containerId,")")).attr("stroke",e.color.default).attr("stroke-width",e.width.default),this}},{key:"renderHeader",value:function(){var e=this;return this._header&&this._header.destroy(),this._header=new Am(this.headerPos.x,this.headerPos.y,this.name),this.object.append((function(){return e._header.el})),this}},{key:"portEvents",value:function(){var e=this;return{onClick:function(t){return e.onPortClick(t)},onMouseOver:function(t){return e.onPortMouseOver(t)},onMouseOut:function(t){try{var n=document.elementFromPoint(am.event.clientX,am.event.clientY);if(n.classList.contains("portTooltip")||n.classList.contains("MuiTypography-caption"))return}catch(e){console.debug(e)}e.onPortMouseOut(t)},onContext:function(t){return e.onPortContext(t)}}}},{key:"addPorts",value:function(e){var t=this,n=null!=e?e:function(e,t,n){return new Em(e,t,n)},r=this.portEvents();this._ports.size>0&&(this._ports.forEach((function(e){e.destroy()})),this._ports.clear());try{var o,a,i=null!==(o=null===(a=this._template)||void 0===a?void 0:a.PortsInst)&&void 0!==o?o:{};Object.keys(i).forEach((function(e){["In","Out"].forEach((function(o){var a,c,s=null!==(a=null===(c=i[e])||void 0===c?void 0:c[o])&&void 0!==a?a:{};Object.keys(s).forEach((function(a){var c,l,u=wm({name:"".concat(e,"/").concat(a),type:o,Template:null!==(c=null===(l=i[e])||void 0===l?void 0:l.Template)&&void 0!==c?c:""},s[a]),d=n(t,u,r);if(d.isValid()){var p="".concat(e,"/").concat(a);t._ports.set(p,d)}}))}))}))}catch(e){console.error(e)}return this}},{key:"renderPorts",value:function(){var e=this,t=this.portSize,n={In:this.getPortsInitialPos("In"),Out:this.getPortsInitialPos("Out")};return this._ports.forEach((function(r){e.object.append((function(){return r.setPosition.apply(r,D()(n[r.type]).concat([t])),r.el})),n[r.type][1]+=e.portsSpacing})),this}},{key:"handleSelectionChange",value:function(e){var t=this;clearTimeout(this.dbClickTimeout),this.dbClickTimeout=setTimeout((function(){var n=!t.selected;e||t.canvas.setMode(bf,null),t.selected=n,t.canvas.setMode(Cf,{nodes:[t],shiftKey:e},!0)}),100)}},{key:"updatePosition",value:function(e){if("drag"!==this.canvas.mode.current.id){var t={Visualization:sm(wm(wm({},this.data.Visualization),e.Visualization))};this.data=wm(wm({},this.data),t),this.object.attr("x",this.posX).attr("y",this.posY),"onDrag"in this.events&&this.events.onDrag(this,{x:this.posX,y:this.posY})}}},{key:"addToCanvas",value:function(){var e=this;this.canvas.append((function(){return e.el}))}},{key:"getExposedName",value:function(){return this.templateName}}],[{key:"getMiniature",value:(t=C()(F().mark((function e(t){var n,r,o,a,i,c,s,l=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>1&&void 0!==l[1]&&l[1],n=l.length>2&&void 0!==l[2]?l[2]:30,r=18,o=18,a=5,i=Dm,(c=am.create("svg").style("overflow","visible").attr("width",r+a).attr("height",o).attr("x",n)).append("rect").attr("rx",3).attr("ry",3).attr("width",r).attr("height",o).attr("class",lm(t,!0)).attr("stroke",i.color.default).attr("stroke-width",i.width.default),s=new Om(r/2,o/2,"grey",5),c.append((function(){return s.el})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),a}(mm);const Pm=km;function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tm="start",Sm=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t;P()(this,o);var n={id:Tm,NodeLabel:Tm,Paramater:{},Template:Tm,Visualization:{x:{Value:20},y:{Value:20}}},a={Label:Tm,PortsInst:{start:{Out:{start:{Message:df}},Template:"MovAI/TransitionFor",Package:"movai_msgs"}}};return t=r.call(this,Rm(Rm({},e),{},{node:n,template:a})),l()(S()(t),"init",(function(){t.addPorts().renderBody().renderHeader().renderPorts()})),l()(S()(t),"onSelected",(function(){})),l()(S()(t),"portEvents",(function(){return{onClick:function(e){return t.onPortClick(e)},onMouseOver:function(){},onMouseOut:function(){},onContext:function(){}}})),t.data.model=Tm,t.init(),t}return R()(o,[{key:"headerPos",get:function(){return{x:this.width/2+this.padding.x/2,y:this.height+15}}}]),o}(Pm);l()(Sm,"model",Tm);const xm=Sm,Im=require("monet");function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jm=function(e,t){var n=Gm(e,t),r=n.x0,o=n.x1,a=n.xSc,i=n.xTc,c=n.srcSize,s=n.trgSize,l=n.isLink;if(qm(a,i,l))return zm(e,t);var u=Hm(r,c,e),d=Hm(o,s,t);if(u.sub(d).length()<50)return Bm(e,t);var p=u.sub(r),f=d.sub(u),m=p.dot(f),v=p.scale(m/p.dot(p)),h=f.sub(v).normalize(),g=r.sub(a),y=h.dot(g),b=h.scale(y),E=c.y/2,A=b.length()/E;h=y<0?h.scale(2*E*(1-A)*.5):h.scale(E*(1-A));var O=u.add(h),C=d.sub(o),w=u.sub(d),D=C.dot(w),k=C.scale(D/C.dot(C)),P=w.sub(k).normalize(),N=o.sub(i),R=P.dot(N),T=P.scale(R),S=s.y/2,x=T.length()/S;P=R<0?P.scale(2*S*(1-x)*.5):P.scale(S*(1-x));var I=d.add(P),L=[r,u],M=I.sub(O),j=M.dot(h)<0&&M.length()<200;return m<0&&!j&&L.push(O),D<0&&!j&&L.push(I),L.push(d,o),L.map((function(e){return e.toObject()}))},Bm=function(e,t){return[new $p(e.x,e.y),new $p(t.x,t.y)].map((function(e){return e.toObject()}))},zm=function(e,t){return Fm(e,t,{getInitialState:function(e){return{x:e.xOut}},updateState:function(e,t,n){return e.x=e.x.add(t.scale(n)),e},isFinalState:function(e,t){var n=t.xIn;return e.x.sub(n).length()>50}})},Fm=function(e,t,n){var r,o=n.getInitialState,a=n.updateState,i=n.isFinalState,c=Vm(.1,1),s=[],l=Gm(e,t),u=l.x0,d=l.x1,p=l.xIn,f=l.xOut,m=l.xSc,v=l.srcSize,h=l.trgSize,g=function(e){return e.sub(m).length()-v.x/3},y=function(e){return e.sub(p).length()-h.x/3},b=function(e){return e.sub(p).scale(-1e4/(y(e)*y(e)))},E=0,A=.1,O=$p.ZERO,C=o(l);for(s.push(u.toObject(),f.toObject());E++<200&&i(C,l);){var w=(r=C.x,r.sub(m).scale(5e3/(g(r)*g(r)))).add(b(C.x));A=c(1/w.sub(O).length()),O=w,C=a(C,w,A),s.push(C.x.toObject())}return s.push(p.toObject(),d.toObject()),s},Gm=function(e,t){var n=Ym(e),r=Ym(t),o=new $p(n.nodeSize.width,n.nodeSize.height),a=new $p(r.nodeSize.width,r.nodeSize.height),i=new $p(n.center.xCenter,n.center.yCenter),c=new $p(r.center.xCenter,r.center.yCenter),s=new $p(n.x,n.y),l=new $p(r.x,r.y),u=l.sub(new $p(a.x/2,0)),d=s.add(new $p(o.x/2,0));return{x0:s,x1:l,xIn:u,xOut:d,xSc:i,xTc:c,srcSize:o,trgSize:a,isLink:r.isLink}},Vm=function(e,t){return function(n){return Math.max(e,Math.min(t,n))}},Ym=function(e){return Mm(Mm({},e),{},{center:Im.Maybe.fromNull(e.center).orSome({xCenter:e.x,yCenter:e.y}),nodeSize:Im.Maybe.fromNull(e.nodeSize).orSome({width:1,height:1}),isLink:!e.center})},Hm=function(e,t,n){var r=e;return"In"===n.data.type?r=e.sub(new $p(t.x/2,0)):"Out"===n.data.type&&(r=e.add(new $p(t.x/2,0))),r},qm=function(e,t,n){var r=t.sub(e).length();return!n&&r<50};const Km=require("@babel/runtime/helpers/esm/defineEnumerableProperties");var Um,Wm,Xm,_m,Zm=o.n(Km);function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $m="dependency_".concat(ke.ONLY_FROM.VALUE),ev="dependency_".concat(ke.ONLY_TO.VALUE),tv="dependency_".concat(ke.NO_DEPENDENCIES.VALUE),nv=(Xm={_default:{stroke:{default:"white",warning:"#ffc107",overWidth:5,width:3}}},(_m={})[Um=qe]=_m[Um]||{},_m[Um].get=function(){return{stroke:Jm(Jm({},this._default.stroke),{},{default:"#a74165"})}},_m[Wm=Ke]=_m[Wm]||{},_m[Wm].get=function(){return Jm({},this._default)},_m[$m]=_m[$m]||{},_m[$m].get=function(){return{color:ke.ONLY_FROM.COLOR}},_m[ev]=_m[ev]||{},_m[ev].get=function(){return{color:ke.ONLY_TO.COLOR}},_m[tv]=_m[tv]||{},_m[tv].get=function(){return{color:ke.NO_DEPENDENCIES.COLOR}},Zm()(Xm,_m),Xm);function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rv(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var av="__",iv="/",cv=function(){function e(t,n,r,o){var a=this,i=o.id,c=o.sourceNode,s=o.sourcePort,u=o.targetNode,d=o.targetPort,p=o.dependency,f=o.error,m=o.sourceFullPath,v=o.targetFullPath;P()(this,e),l()(this,"calculatePath",(function(e){return a.pathPoints=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jm;try{return n(e,t)}catch(e){return console.error(e),[]}}(a.src,a.trg,e),a})),l()(this,"calculateLine",(function(e){return am.line().curve(am.curveBasis).x((function(e){return e.x})).y((function(e){return e.y}))(e)})),this.canvas=t,this.src=n,this.trg=r,this.error=f,this.maxMovingPixels=t.maxMovingPixels,this.data={id:i,sourceNode:c,sourcePort:s,targetNode:u,targetPort:d,sourceFullPath:m,targetFullPath:v,Dependency:p},this._visible=!0,this._selected=!1}return R()(e,[{key:"id",get:function(){return this.data.id}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e}},{key:"transparent",get:function(){return this._transparent},set:function(e){var t=this;this._transparent=e,!0===this._transparent?setTimeout((function(){return t.styleTransparent()}),300):this.styleTransparent()}}]),e}(),sv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n,a){var i,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return Pt("onLinkErrorMouseOver")};return P()(this,o),i=r.call(this,e,t,n,a),l()(S()(i),"initialize",(function(){i.calculatePath().renderPath().addEvents()})),l()(S()(i),"destroy",(function(){i.object.remove()})),l()(S()(i),"renderPath",(function(){var e=S()(i).pathPoints;return i.object=am.create("svg").attr("id","path-".concat(i.canvas.containerId,"-").concat(i.data.id)).attr("x",0).attr("y",0).attr("width",i.maxMovingPixels).attr("height",i.maxMovingPixels),i.object.append("svg:defs").append("filter").attr("id","link-shadow-".concat(i.canvas.containerId,"-").concat(i.data.id)).append("feDropShadow").attr("dx","1").attr("dy","1").attr("stdDeviation","1"),i.object.append("path").attr("class","nodeLink").attr("d",(function(){return i.calculateLine(e)})).attr("stroke",i.getStrokeColor()).attr("stroke-width",i.style.stroke.width).attr("pointer-events","visibleStroke").attr("fill-opacity","0"),S()(i)})),l()(S()(i),"addEvents",(function(){return i.path.on("mouseover",(function(){return i.eventsOn(i.onMouseOver)})).on("mouseout",(function(){return i.eventsOn(i.onMouseOut)})).on("click",(function(){return i.eventsOn(i.onClick)})).on("contextmenu",(function(){return i.eventsOn(i.onContextMenu)})),S()(i)})),l()(S()(i),"refreshPath",(function(){var e=S()(i).pathPoints;return i.object.select("path.nodeLink").attr("d",(function(){return i.calculateLine(e)})),S()(i)})),l()(S()(i),"eventsOn",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];am.event.preventDefault(),am.event.stopPropagation();var n=S()(i),r=n.visible,o=n.readOnly;!r||!t&&o||e()})),l()(S()(i),"fadeOtherLinks",(function(){i.canvas.events.next({name:"onMouseOver",type:"Link",data:S()(i)})})),l()(S()(i),"removeLinksFade",(function(){i.canvas.events.next({name:"onMouseOut",type:"Link",data:S()(i)})})),l()(S()(i),"styleMouseOver",(function(){i.changeStrokeColor().path.attr("stroke-width",i.style.stroke.overWidth).attr("marker-mid","url(#".concat(i.canvas.containerId,"-markerselected)"))})),l()(S()(i),"styleMouseOut",(function(){i.changeStrokeColor().path.attr("stroke-width",i.style.stroke.width).attr("marker-mid",null)})),l()(S()(i),"onMouseOver",(function(){if("default"===i.canvas.mode.current.id&&i.styleMouseOver(),i.canvas.selectedLink||i.canvas.mode.linking.activelyLinking||i.fadeOtherLinks(),i.error){var e=i.error.message,t={x:am.event.offsetX,y:am.event.offsetY};i.onLinkErrorMouseOver({link:ov(ov({},i.data),{},{message:e,position:t}),mouseover:!0},"Link")}})),l()(S()(i),"onMouseOut",(function(){i._isSelected||i.styleMouseOut(),i.canvas.selectedLink||i.canvas.mode.linking.activelyLinking||i.removeLinksFade(),i.error&&i.onLinkErrorMouseOver({link:i.data,mouseover:!1},"Link")})),l()(S()(i),"onClick",(function(){am.event.shiftKey||(i.canvas.events.next({name:"onClick",type:"Link",data:S()(i)}),i.onSelected(!i._isSelected))})),l()(S()(i),"onContextMenu",(function(){var e,t;i.canvas.setMode("linkCtxMenu",ov(ov({event:am.event,linkId:i.data.id},i.data),{},{linkType:null!==(e=null===(t=i.src.data)||void 0===t?void 0:t.message)&&void 0!==e?e:"_default"}),!0)})),l()(S()(i),"onSelected",(function(e){i._isSelected=e,e?i.styleMouseOver():(i.styleMouseOut(),i.removeLinksFade())})),l()(S()(i),"update",(function(e,t){i.src=e||i.src,i.trg=t||i.trg,i.calculatePath().refreshPath()})),l()(S()(i),"updateData",(function(e){i.data=ov(ov({},i.data),e)})),l()(S()(i),"updateError",(function(e){i.error=e,i.styleMouseOut()})),l()(S()(i),"changeStrokeColor",(function(){return i.path.attr("stroke",i.error?i.style.stroke.warning:i.getStrokeColor()),S()(i)})),l()(S()(i),"isValid",(function(e,t,n){return hm(e.data,t.data)&&!i.linkExists(e,t,n)})),l()(S()(i),"portsAny",(function(e,t){return[e,t].some((function(e){return e.acceptsAny}))})),l()(S()(i),"getSrcTrg",(function(e,t){return["Out","In"].map((function(n){return[e,t].find((function(e){return e.type===n}))}))})),l()(S()(i),"linkExists",(function(e,t,n){if(!n)return!1;for(var r=i.getSrcTrg(e,t),o=Gt()(r,2),a=o[0],c=o[1],s=n.values(),l=s.next();!l.done;){var u=l.value.data;if([["".concat(u.sourceNode,"/").concat(u.sourcePort),"".concat(a.node.data.id,"/").concat(a.data.name)],["".concat(u.targetNode,"/").concat(u.targetPort),"".concat(c.node.data.id,"/").concat(c.data.name)]].every((function(e){return e[0]===e[1]})))return!0;l=s.next()}return!1})),i.object=null,i.flowDebugging=c,i.temporaryDependency=a.Dependency,i.onLinkErrorMouseOver=s,i.initialize(),i}return R()(o,[{key:"styleTransparent",value:function(){var e=this.transparent?.2:1;this.path.attr("opacity",e)}},{key:"el",get:function(){return this.object.node()}},{key:"path",get:function(){return this.object.select("path")}},{key:"style",get:function(){var e,t,n=null===(e=this.src.data)||void 0===e?void 0:e.message;return null!==(t=nv[n])&&void 0!==t?t:nv._default}},{key:"readOnly",get:function(){return this.canvas.readOnly}},{key:"visibility",set:function(e){this.visible=Boolean(e),this.object.attr("visibility",this.visible?"visible":"hidden")}},{key:"setTemporaryDependency",value:function(e){return this.temporaryDependency=e,this}},{key:"getStrokeColor",value:function(){var e,t="dependency_".concat(null!==(e=this.temporaryDependency)&&void 0!==e?e:this.data.Dependency),n=this.style.stroke.default;return this.flowDebugging&&nv[t]?nv[t].color:n}},{key:"toSave",value:function(e,t){return this.getSrcTrg(e,t).map((function(e){var t,n,r=e.node.data.id,o=null!==(t=null===(n=e.node._template)||void 0===n?void 0:n.Type)&&void 0!==t?t:"";return[r,e.data.name].join(o===Ve?av:iv)}))}}],[{key:"parseLink",value:function(e){var t=e.id,n=e.From,r=e.To,a=e.Dependency,i=void 0===a?ke.ALL_DEPENDENCIES.VALUE:a,c=o.getNodePort(n),s=Gt()(c,3),l=s[0],u=s[1],d=s[2],p=o.getNodePort(r),f=Gt()(p,3);return{id:t,sourceNode:l,sourcePort:u,sourceFullPath:d,targetNode:f[0],targetPort:f[1],targetFullPath:f[2],dependency:i}}}]),o}(cv);l()(sv,"getNodePort",(function(e){var t,n,r,o=e.split(iv),a=Cs()(o),i=a[0],c=a.slice(1),s=i.split(av),l=Cs()(s);return[l[0],(t=l.slice(1),n=c,(r=t,r.length?r.join(av).concat(iv):"").concat(n.join(iv))),s]}));const lv=require("@babel/runtime/helpers/esm/wrapNativeSuper");var uv=o.n(lv);function dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var pv=function(e){I()(n,e);var t=dv(n);function n(e){var r;P()(this,n);var o="Link ".concat(e.id," is invalid");return(r=t.call(this,o)).link=e,r}return R()(n)}(uv()(Error)),fv=function(e){I()(n,e);var t=dv(n);function n(e,r,o){var a;P()(this,n);var i=r.source.data.message,c=r.target.data.message,s="Link has mismatch:\n".concat(i," => ").concat(c);return(a=t.call(this,s)).link=e,a.fixError=o,a}return R()(n)}(uv()(Error));function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const vv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t;return P()(this,o),t=r.call(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),t.init(),t}return R()(o)}(Pm);var hv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t,n=e.canvas,a=e.node,i=e.events,c=e.template;return P()(this,o),(t=r.call(this,{canvas:n,node:a,events:i,template:c})).data={id:a.id,ContainerLabel:a.ContainerLabel||"",ContainerFlow:a.ContainerFlow||"",name:a.ContainerLabel,Visualization:sm(a.Visualization)||[50,50],Parameter:a.Parameter||{},type:gf,model:"Flow"},t.requiredKeys=["ContainerFlow","ContainerLabel","Visualization"],t}return R()(o,[{key:"name",get:function(){return this.data.ContainerLabel}},{key:"templateName",get:function(){return this.data.ContainerFlow}},{key:"getExposedName",value:function(){return"__".concat(this.templateName)}}]),o}(Pm);const gv=hv;var yv=["factory"];function bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bv(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Av=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t;P()(this,o);var n=e.factory,a=lt()(e,yv);return t=r.call(this,a),l()(S()(t),"aInit",C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addPorts();case 2:return t.renderBody().renderHeader().renderStatus().renderPorts().addEvents().postInit(),e.abrupt("return",S()(t));case 4:case"end":return e.stop()}}),e)})))),l()(S()(t),"postInit",(function(){return S()(t)})),l()(S()(t),"addPorts",C()(F().mark((function e(){var n,r,o,a,i;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,t){return null!=e?e:t},n=t.portEvents(),t._ports.size>0&&(t._ports.forEach((function(e){e.destroy()})),t._ports.clear()),e.prev=3,a=r(null===(o=t._template)||void 0===o?void 0:o.ExposedPorts,{}),i=[],Object.entries(a).forEach((function(e){var t=Gt()(e,2),n=t[0],r=t[1];Object.entries(r).forEach((function(e){var t=Gt()(e,2),r=t[0];t[1].forEach(function(){var e=C()(F().mark((function e(t){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.push({templateName:n,nodeName:r,portInstName:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))})),e.next=9,Promise.allSettled(i.map(function(){var e=C()(F().mark((function e(o){var a,i,c,s,l,u,d,p,f;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.templateName,c=o.nodeName,s=o.portInstName,l=t.isFlow(i),u="/",d=null===(a=t._template.NodeInst[c])||void 0===a?void 0:a.Template,l&&(u="__",d=null===(p=t._template.Container[c])||void 0===p?void 0:p.ContainerFlow),e.next=7,t.getPort(s,d,l);case 7:if(f=e.sent){e.next=11;break}return console.error("Could not find port ".concat(s,' in node instance "').concat(c,'" of sub flow "').concat(t.data.ContainerFlow,'"')),e.abrupt("return");case 11:Object.keys(f).forEach((function(e){if(["in","out"].includes(e.toLocaleLowerCase())){var o=r(null==f?void 0:f[e],{});Object.keys(o).forEach((function(o){if(!(s.search("".concat(f.PortsLabel,"/").concat(o))<0)){var a=r(null==f?void 0:f[e],{});Object.keys(a).forEach((function(o){var i=Ev({name:"".concat(c).concat(u).concat(s),type:e,Template:r(null==f?void 0:f.Template,""),origin:c},a[o]),l=new Em(S()(t),i,n),d="".concat(c).concat(u).concat(s);t._ports.set(d,l)}))}}))}}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){console.error(e)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return e.abrupt("return",S()(t));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))),l()(S()(t),"isFlow",(function(e){return(null==e?void 0:e.startsWith("__"))||!1})),l()(S()(t),"getPort",function(){var e=C()(F().mark((function e(n,r,o){var a,i,c;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n.split("/"),i=r,c=a.slice(0,-1).join("/"),!o){e.next=9;break}return e.next=7,t.getNodeInstTemplate(r,a[0]);case 7:i=e.sent,c=a.slice(1,-1).join("/");case 9:return e.abrupt("return",t.getNodePort(i,c));case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,r){return e.apply(this,arguments)}}()),l()(S()(t),"update",C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addPorts();case 2:return t.renderHeader().renderStatus().renderPorts(),e.abrupt("return",S()(t));case 4:case"end":return e.stop()}}),e)})))),l()(S()(t),"isNodeInst",(function(e){return e.split("__").length<=1})),l()(S()(t),"getNodeInstTemplate",function(){var e=C()(F().mark((function e(n,r){var o,a,i,c,s,l,u,d,p,f,m,v;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.factory,a=o.factory,i=o.docManager,c=new a(i,a.OUTPUT.CONTAINER),e.next=5,c.getTemplate(n);case 5:if(s=e.sent,!t.isNodeInst(r)){e.next=13;break}if(l=s.NodeInst[r]){e.next=10;break}throw new Error('Node instance "'.concat(r,'" does not exist in flow "').concat(n,'".'));case 10:return e.abrupt("return",l.Template);case 13:return u=r.split("__"),d=Cs()(u),p=d[0],f=d.slice(1),m=s.Container[p].ContainerFlow,e.abrupt("return",t.getNodeInstTemplate(m,f.join("__")));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),v='Could not find the template of the node instance "'.concat(r,'"'),console.error("".concat(v,"; \n").concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()),l()(S()(t),"getNodePort",function(){var e=C()(F().mark((function e(n,r){var o,a,i,c,s,l;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.factory,a=o.factory,i=o.docManager,c=new a(i,a.OUTPUT.NODE),e.next=4,c.getTemplate(n);case 4:return s=e.sent,(l=s.PortsInst[r]||null)&&(l.PortsLabel=r),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.factory=n,t}return R()(o,[{key:"init",value:function(){return this}}]),o}(gv);const Ov=Av;const Cv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(){var e;P()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),l()(S()(e),"postInit",(function(){e.object.attr("opacity","0.5")})),e}return R()(o)}(Ov);function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Dv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t,n=e.canvas,a=e.node,i=e.template,c=e.opacity;P()(this,o);var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"",NodeLabel:a.Template,Paramater:{},Visualization:{x:{Value:50},y:{Value:50}}},a);return t=r.call(this,{canvas:n,node:s,events:{},template:i}),l()(S()(t),"postInit",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.5";t.object.attr("opacity",e)})),l()(S()(t),"onClick",(function(){return Pt("onClick")})),t.init().postInit(c),t}return R()(o)}(Pm);const kv=Dv;var Pv={container:"Flow",node:"Node"};const Nv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n,a,i){var c,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"node";return P()(this,o),(c=r.call(this,e,t,n)).dy=18,c.type=i,c.template="".concat(Pv[s],": ").concat(a),c.render(),c}return R()(o,[{key:"render",value:function(){var e=this.parseText();return this.object=am.create("svg:text").attr("x",this.x).attr("y",this.y).attr("stroke-width",0).attr("fill",this.color).attr("class",this.unselectable?"unselectable":"").style("font-size","16px").style("dominant-baseline","central"),this.object.selectAll("tspan").data(e).enter().append("tspan").style("dominant-baseline","central").attr("class","text").attr("dx",this.dx).attr("dy",this.dy).attr("x",this.x).text((function(e){return e})),this}},{key:"parseText",value:function(){var e=[this.text];return this.type&&e.push(this.type),e}}]),o}(Am);var Rv="#CDCDCD",Tv="evenodd",Sv=R()((function e(){P()(this,e)}));l()(Sv,"getIcon",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.8",t=Mv(32,32).attr("y","-5");return t.append("path").attr("fill",Rv).attr("stroke",Rv).attr("fill-rule",Tv).attr("clip-rule",Tv).attr("transform","scale(".concat(e,")")).attr("d","M27.175 16C27.175 19.5613 24.288 22.4483 20.7267 22.4483C17.5187 22.4483 14.8579 20.1058 14.3615 17.038H17.9925C18.4151 18.1861 19.5187 19.005 20.8134 19.005C22.4731 19.005 23.8185 17.6596 23.8185 16C23.8185 14.3404 22.4731 12.995 20.8134 12.995C19.4902 12.995 18.3668 13.8502 17.9657 15.038H14.3496C14.8141 11.933 17.4923 9.55168 20.7267 9.55168C24.288 9.55168 27.175 12.4387 27.175 16ZM12.3325 15.038C12.81 10.8251 16.3861 7.55168 20.7267 7.55168C25.3925 7.55168 29.175 11.3341 29.175 16C29.175 20.6659 25.3925 24.4483 20.7267 24.4483C16.4122 24.4483 12.8531 21.2142 12.3415 17.038H8.66468C8.25263 18.206 7.13908 19.0431 5.83004 19.0431C4.17041 19.0431 2.825 17.6977 2.825 16.038C2.825 14.3784 4.17041 13.033 5.83004 13.033C7.13908 13.033 8.25263 13.87 8.66468 15.038H12.3325Z"),t.node()}));var xv=R()((function e(){P()(this,e)}));l()(xv,"getIcon",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.8",t=Mv(32,32).attr("y","-5");return t.append("path").attr("fill",Rv).attr("stroke",Rv).attr("fill-rule",Tv).attr("clip-rule",Tv).attr("transform","scale(".concat(e,")")).attr("d","M4.82501 16C4.82501 19.5613 7.71202 22.4483 11.2733 22.4483C14.4813 22.4483 17.1421 20.1058 17.6385 17.038H14.1925C13.7698 18.1861 12.6663 19.005 11.3715 19.005C9.71189 19.005 8.36649 17.6596 8.36649 16C8.36649 14.3404 9.71189 12.995 11.3715 12.995C12.6947 12.995 13.8182 13.8502 14.2193 15.038H17.6504C17.1859 11.933 14.5077 9.55168 11.2733 9.55168C7.71202 9.55168 4.82501 12.4387 4.82501 16ZM19.6675 15.038C19.19 10.8251 15.6139 7.55168 11.2733 7.55168C6.60745 7.55168 2.82501 11.3341 2.82501 16C2.82501 20.6659 6.60745 24.4483 11.2733 24.4483C15.5878 24.4483 19.1469 21.2142 19.6585 17.038H23.3353C23.7474 18.206 24.8609 19.0431 26.17 19.0431C27.8296 19.0431 29.175 17.6977 29.175 16.038C29.175 14.3784 27.8296 13.033 26.17 13.033C24.8609 13.033 23.7474 13.87 23.3353 15.038H19.6675Z"),t.node()}));var Iv=function(){function e(){P()(this,e)}return R()(e,null,[{key:"getIcon",value:function(){var e=Mv(22,22);return e.append((function(){return jv(12,12,9,Rv)})),e.append("path").attr("fill","#424242").attr("stroke","#424242").attr("fill-rule",Tv).attr("clip-rule",Tv).attr("d","M16.59 8.59L12 13.17L7.41 8.59L6 10L12 16L18 10L16.59 8.59Z"),e.node()}}]),e}(),Lv=function(){function e(){P()(this,e)}return R()(e,null,[{key:"getIcon",value:function(){var e=Mv(22,22);return e.append((function(){return jv(12,12,9,Rv)})),e.append("path").attr("fill","#424242").attr("stroke","#424242").attr("fill-rule",Tv).attr("clip-rule",Tv).attr("d","M10 6L8.59 7.41L13.17 12L8.59 16.59L10 18L16 12L10 6Z"),e.node()}}]),e}(),Mv=function(e,t){return am.create("svg").attr("width",e).attr("height",t).attr("viewBox","0 0 ".concat(e," ").concat(t)).attr("fill","none")},jv=function(e,t,n,r){return am.create("svg").append("circle").attr("cx",e).attr("cy",t).attr("r",n).attr("stroke",r).attr("fill",r).attr("stroke-width","2").node()};function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fv=function(){function e(t,n,r){P()(this,e),this.parentNode=r,this.target={port:t.targetPort,node:t.targetNode,templatePath:t.targetTemplatePath},this.source={port:t.sourcePort,node:t.sourceNode,templatePath:t.sourceTemplatePath},this.type=n,this.object=am.create("svg").style("pointer-events","none"),this.render()}return R()(e,[{key:"render",value:function(){var e=this,t=0;this.object.append((function(){var n=("Out"===e.type?Sv:xv).getIcon();return t+=n.width.baseVal.value,n}));var n="Out"===this.type?this.target:this.source,r=this.getTemplates(n),o=this.parseNodePort(n),a=Gt()(o,2),i=a[0],c=a[1];r.forEach((function(n){Pm.getMiniature(n.name,n.type,t).then((function(t){e.object.append((function(){var r=t.node();return r.style.pointerEvents="all",r.ondblclick=function(t){t.stopPropagation(),t.preventDefault(),e.parentNode.onDblClickMini(n)},r.onclick=function(e){e.stopPropagation(),e.preventDefault()},r}))})),t+=25})),this.textBuilder(i,t,4),this.textBuilder(c,t,14)}},{key:"el",get:function(){return this.object.node()}},{key:"textBuilder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:55,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this.object.append("text").attr("class","text unselectable").attr("stroke-width",0).attr("x",t).attr("y",n).style("font-size","10px").style("dominant-baseline","central").text(e)}},{key:"parseNodePort",value:function(e){var t=e.templatePath.length,n=e.port.split("/"),r=n.slice(t-1).join("/");return[t>1?n[0]:e.node,r]}},{key:"getTemplates",value:function(e){var t=e.templatePath.length-1;return e.templatePath.map((function(n,r){var o="flow";return r===t&&(o="start"===n?n:"node"),zv(zv({name:n,type:o},{flow:{model:"Flow",nodeType:gf},node:{model:"Node",nodeType:hf},start:{}}[o]),{},{data:e})}))}}]),e}();const Gv=Fv;var Vv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n){var a;return P()(this,o),(a=r.call(this,e,t,n))._linksObject=am.create("svg").attr("class","links-container").attr("x","25").attr("y","18"),a.object.append((function(){return a._linksObject.node()})),a}return R()(o,[{key:"render",value:function(){var e=this;return this.object=am.create("svg").attr("width","800").attr("class","children-container").attr("fill",this.color),this.object.append((function(){return("In"===e.data.type?Sv:xv).getIcon()})),this.object.append("text").attr("class","text unselectable").attr("stroke-width",0).attr("x",32).attr("y",7).style("font-size","15px").style("dominant-baseline","central").text(this.data.name),this}},{key:"addEvents",value:function(){return this.object.on("mouseenter",this.onMouseOver),this.object.on("mouseout",this.onMouseOut),this}},{key:"setPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cy;return this.object.attr("y",e),this}},{key:"addLink",value:function(e){var t=new Gv(e,this.data.type,this.node);return this.links.set(e.id,t),this._linksObject.append((function(){return t.el})),this}},{key:"removeLink",value:function(e){this.links.delete(e.id),this._linksObject.selectAll("*").remove()}},{key:"updateLinksPosition",value:function(){var e=0;return this.links.forEach((function(t){t.object.attr("y",e),e+=t.el.getBBox().height+5})),this}}]),o}(Em);const Yv=Vv,Hv=function(){function e(t){var n=t.text,r=t.isExpanded,o=void 0===r||r,a=t.parent,i=void 0===a?null:a,c=t.onToggleCollapsePorts,s=void 0===c?function(){return Pt("onToggleCollapsePorts")}:c;P()(this,e),this.text=n,this.parent=i,this.children=new Map,this.isExpanded=o,this.onToggleCollapsePorts=s,this._timerToUpdate=null,this.object=null,this._header=null,this._childrenContainer=null,this.render()}return R()(e,[{key:"render",value:function(){this.object&&this.destroy(),this.object=am.create("svg").attr("x","25").attr("y","65").attr("class","children-container"),this.renderHeader(),this.renderChildren()}},{key:"renderHeader",value:function(){var e=this;this._header&&this._header.remove(),this._header=am.create("svg").attr("fill","white").style("cursor","pointer"),this._header.append((function(){return e.isExpanded?Iv.getIcon():Lv.getIcon()})),this._header.append("svg:text").attr("x","25").attr("y","13").attr("class","text unselectable").attr("stroke-width",0).style("font-size","15px").style("dominant-baseline","central").text(this.text),this._header.on("click",(function(){e.isExpanded=!e.isExpanded,e.onToggleCollapsePorts(),e.renderHeader(),e.isExpanded?e.renderChildren():e.collapse(),e.updatePosition()})),this.object.append((function(){return e._header.node()}))}},{key:"renderChildren",value:function(){var e=this;this._childrenContainer&&this._childrenContainer.remove(),this._childrenContainer=am.create("svg").attr("x","25").attr("y","40").attr("class","children-container"),this.isExpanded&&this.children.forEach((function(t){e._childrenContainer.append((function(){return t.el}))})),this.object.append((function(){return e._childrenContainer.node()})),this.updateBelongLines(this.children)}},{key:"collapse",value:function(){this.children.forEach((function(e){e.removeBelongLine&&e.removeBelongLine()})),this._childrenContainer.remove()}},{key:"updatePosition",value:function(){this.parent&&this.parent.updateChildrenPosition()}},{key:"updateBelongLines",value:function(e){var t=this;e&&e.forEach((function(e){e.updateBelongLines&&e.updateBelongLines(),t.updateBelongLines(e.children)}))}},{key:"el",get:function(){return this.object.node()}},{key:"destroy",value:function(){this.object.remove()}},{key:"addChild",value:function(e){var t=this.children.size+1;this.children.set(t,e),this.isExpanded&&this._childrenContainer.append((function(){return e.el}))}}]),e}();var qv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t,n=e.canvas,a=e.node,i=e.events,c=e._type,s=e.template,u=e.parent;return P()(this,o),t=r.call(this,{canvas:n,node:a,events:i,_type:c,template:s}),l()(S()(t),"addEvents",(function(){return t.object.on("click",(function(){t.parent&&t.eventsOn(t.onClick)})),t.object.on("mousedown",(function(){return t.eventsOn(t.onMouseDown)})),t.object.on("dblclick",(function(){return t.eventsOn(t.onDblClick)})),S()(t)})),l()(S()(t),"renderStatus",(function(){var e=t.status;return t._status&&t._status.destroy(),t._status=new Om(37.5,28),t.object.append((function(){return t._status.el})),t.status=e,S()(t)})),l()(S()(t),"update",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.addPorts((function(e,t,n){return new Yv(e,t,n)})).renderPortsHeader().renderStatus(),e&&t.updateLinks(),S()(t)})),l()(S()(t),"getReferenceOriginPos",(function(e,n){return n.x-=t.width/2,n.y+=t.padding.x-t.padding.y-t.height,{Container:{x:n.x,y:e.y},NodeInst:{x:e.x,y:n.y},State:{x:e.x,y:n.y}}[t.data.type]})),l()(S()(t),"eventsOn",(function(e){var n,r,o,a=null===(n=am.event)||void 0===n||null===(r=n.target)||void 0===r||null===(o=r.className)||void 0===o?void 0:o.baseVal;null!=a&&a.includes("node-inst-click-area")&&t.visible&&e()})),l()(S()(t),"onToggleCollapsePorts",(function(){t._displayPorts=!t._displayPorts})),l()(S()(t),"updateLinks",fl()((function(){t._links.forEach((function(e){t.addLink(e)}))}),500)),l()(S()(t),"getLinkPorts",(function(e){var n=e.sourceFullPath.length-1,r=e.targetFullPath.length-1,o=t.formatPort(e,"sourcePort",n),a=t.formatPort(e,"targetPort",r);return{sourcePort:t._ports.get(o),targetPort:t._ports.get(a)}})),l()(S()(t),"formatPort",(function(e,t,n){return e[t].split("/").splice(n).join("/")})),l()(S()(t),"checkLink",(function(e,n){var r,o;return e[n]===t.data.id||e[n]===(null===(r=t.parent)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.id)})),l()(S()(t),"isParentExpanded",(function(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S()(t),a=null===(e=o.parent)||void 0===e||null===(n=e.collapsableItem)||void 0===n?void 0:n.isExpanded;return null!=o&&null!==(r=o.parent)&&void 0!==r&&r.parent&&a&&(a=t.isParentExpanded(o.parent)),a})),l()(S()(t),"onTemplateUpdate",(function(e){e===t.templateName&&(t._template=void 0,t.update(!0))})),l()(S()(t),"onDblClickMini",(function(e){if(e.model){var n={_template:{url:e.name,name:e.name},data:{model:e.model,type:e.nodeType}};t.canvas.setMode("onDblClick",{node:n},!0)}})),t.parent=u,t.children=[],t._links=new Map,t._displayPorts=!1,t._collapsablePorts=null,t._belongLine=null,t}return R()(o,[{key:"init",value:function(){return this.renderBody().renderHeader().renderStatus().addPorts((function(e,t,n){return new Yv(e,t,n)})).renderPortsHeader().addEvents(),this}},{key:"renderHeader",value:function(){var e=this;return this._header&&this._header.destroy(),this._header=new Nv(this.headerPos.x,this.headerPos.y,this.name,this.templateName,this._type),this.object.append((function(){return e._header.el})),this}},{key:"renderPortsHeader",value:function(){var e=this;return this._collapsablePorts&&this._collapsablePorts.destroy(),this._ports.size&&(this._collapsablePorts=new Hv({text:"PORTS",isExpanded:this._displayPorts,parent:this.parent,onToggleCollapsePorts:this.onToggleCollapsePorts}),this.object.append((function(){return e._collapsablePorts.el})),this._ports=new Map(D()(this._ports.entries()).sort((function(e,t){var n=Gt()(e,2),r=(n[0],n[1]),o=Gt()(t,2),a=(o[0],o[1]);return r.data.type.localeCompare(a.data.type)}))),this._ports.forEach((function(t){e._collapsablePorts.addChild(t)}))),this}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.object.attr("x",e).attr("y",t)}},{key:"getAbsolutePosition",value:function(e){var t=parseFloat(e.object.attr("x")),n=parseFloat(e.object.attr("y"));if(e.parent){var r=this.getAbsolutePosition(e.parent),o=r.x,a=r.y,i=e.el.parentElement,c=i.parentElement;t+=o+i.x.baseVal.value+c.x.baseVal.value,n+=a+i.y.baseVal.value+c.y.baseVal.value}return{x:t,y:n}}},{key:"getBelongLinePoints",value:function(e,t,n){var r={x1:n.x-e.x+this.width/2+this.padding.x/2,y1:n.y-e.y+this.height+this.padding.y,x2:n.x-e.x+this.width/2+this.padding.x/2,y2:t.y-e.y+this.width/2};return[{x1:r.x2,y1:r.y2,x2:r.x2+this.padding.x/2,y2:r.y2},r]}},{key:"getRootNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;return e.parent?this.getRootNode(e.parent):e}},{key:"getPreviousBrother",value:function(){var e,t=this,n=this.parent.children.findIndex((function(e){return e.data.id===t.data.id}))-1;return null!==(e=this.parent.children[n])&&void 0!==e?e:this.parent}},{key:"headerPos",get:function(){return{x:this.width+this.padding.x,y:0}}},{key:"statusLoading",set:function(e){this._status.statusLoading=e}},{key:"isReady",get:function(){return this._status.isReady}},{key:"links",get:function(){return this._links}},{key:"getNodePath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.parent?(e.unshift(this.name),this.parent.getNodePath(e)):e.join("__")}},{key:"addToCanvas",value:function(){var e=this;this.parent?this.parent.renderChild(this):this.canvas.append((function(){return e.object.attr("x",50).attr("y",50),e.el}))}},{key:"addLink",value:function(e){var t=this.getLinkPorts(e),n=t.sourcePort,r=t.targetPort;n&&this.checkLink(e,"sourceNode")&&(n.addLink(e),this.parent.childrenLinks.set(e.id,e)),r&&this.checkLink(e,"targetNode")&&(r.addLink(e),this.parent.childrenLinks.set(e.id,e)),this._links.set(e.id,e)}},{key:"removeLink",value:function(e){var t=this.getLinkPorts(e),n=t.sourcePort,r=t.targetPort;n&&n.removeLink(e),r&&r.removeLink(e),this._links.delete(e.id),this.updateLinks()}},{key:"updatePortsPosition",value:function(){var e=0;this._ports.forEach((function(t){t.updateLinksPosition().setPosition(e),e+=t.el.getBBox().height+5}))}},{key:"updateBelongLines",value:function(){this.parent&&(this.isParentExpanded()?this.drawBelongLine():this.removeBelongLine())}},{key:"removeBelongLine",value:function(){this._belongLine&&this._belongLine.remove(),this.children.forEach((function(e){e.removeBelongLine()}))}},{key:"drawBelongLine",value:function(){var e=this;if(this.parent){this._belongLine&&this._belongLine.remove();var t=this.getRootNode(),n=this.getPreviousBrother(),r=this.getAbsolutePosition(n),o=this.getAbsolutePosition(this),a=this.getAbsolutePosition(t),i=this.getAbsolutePosition(this.parent),c=this.getReferenceOriginPos(i,r),s=this.getBelongLinePoints(a,o,c),l=Gt()(s,2),u=l[0],d=l[1];this._belongLine=am.create("svg").attr("x","50").attr("y","50").attr("class","belong-lines"),this._belongLine.append((function(){return um(d)})),this._belongLine.append((function(){return um(u)})),this.canvas.links.append((function(){return e._belongLine.node()}))}}}]),o}(Pm);const Kv=qv;var Uv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t,n=e.canvas,a=e.node,i=e.events,c=e.template,s=e.parent;return P()(this,o),(t=r.call(this,{canvas:n,node:a,events:i,_type:"node",template:c,parent:s})).init(),t}return R()(o)}(Kv);const Wv=Uv;var Xv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n,a,i,c){var s;return P()(this,o),(s=r.call(this,e,t,n,a,i))._template=i||s._template,s.parent=c,s.children=new Map,s._links=new Map,s._displayPorts=!1,s._collapsablePorts=null,s._belongLine=null,s.init(),s}return R()(o,[{key:"init",value:function(){return this.renderBody().renderHeader().renderStatus(),this}},{key:"renderHeader",value:function(){var e=this;return this._header&&this._header.destroy(),this._header=new Nv(this.headerPos.x,this.headerPos.y,this.name||this.templateName,this.templateName,this.template.Type,this._type),this.object.append((function(){return e._header.el})),this}},{key:"headerPos",get:function(){return{x:this.width+this.padding.x,y:0}}}]),o}(Pm);const _v=Xv;var Zv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n,a,i){var c;return P()(this,o),(c=r.call(this,e,t,n,"node",a,i)).init(),c}return R()(o)}(_v);const Qv=Zv;var Jv=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n,a,i){var c;P()(this,o);var s=a||{start:{id:gf},container:{Type:uf}}.Container;return(c=r.call(this,e,t,n,gf,s,i)).init(),c}return R()(o)}(_v);const $v=Jv;var eh=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e){var t,n=e.canvas,a=e.node,i=e.events,c=e.template,s=e.parent;return P()(this,o),(t=r.call(this,{canvas:n,node:a,events:i,_type:gf,template:c,parent:s})).childrenLinks=new Map,t._collapsableItem=null,t._displayChildren=!0,t._timerToUpdateHeader=null,t._renderingMode=1,t.base=new gv({canvas:n,node:a,events:i,template:c}),t.data=t.base.data,t._template=t.base._template,t.getExposedName=t.base.getExposedName,t._addPorts=function(){return S()(t)},t.init(),t}return R()(o,[{key:"name",get:function(){return this.base.name}},{key:"templateName",get:function(){return this.base.templateName}},{key:"collapsableItem",get:function(){return this._collapsableItem}},{key:"renderNodesHeader",value:function(){var e=this;if(!this._collapsableItem)return this._collapsableItem=new Hv({text:"NODES",isExpanded:this._displayChildren,parent:this.parent}),this.object.append((function(){return e._collapsableItem.el})),this}},{key:"updateChildrenBelongLines",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.children;t.forEach((function(t){t.updateBelongLines(),e.updateChildrenBelongLines(t.children)}))}},{key:"getBelongLinePoints",value:function(e,t,n){if(0===this._renderingMode)return Jn()(B()(o.prototype),"getBelongLinePoints",this).call(this,e,t,n);var r={x1:n.x-e.x+this.width+this.padding.x/2,y1:n.y-e.y+this.height/2+this.padding.y/2,x2:t.x-e.x+this.width/2+this.padding.x/2,y2:n.y-e.y+this.height/2+this.padding.y/2};return[r,{x1:r.x2,y1:r.y2,x2:r.x2,y2:t.y-e.y+this.padding.y}]}},{key:"positionChildren",value:function(e){var t,n=this;return(t={},l()(t,0,(function(){var e=0;n.children.forEach((function(t){t.updatePortsPosition(),t.object.attr("y",e),e+=t.el.getBBox().height+20}))})),l()(t,1,(function(){var e=0,t=0;n.children.forEach((function(n){n.updatePortsPosition();var r=n.el.getBBox().width,o=n.el.getBBox().height;n.data.type!==gf?(t<r&&(t=r),n.object.attr("y",e)):(n.object.attr("x",t),t+=r+20),e+=o+20}))})),t)[e]()}},{key:"renderChild",value:function(e){this.object.attr("width",null).attr("height",null),e.updatePosition(-15),this._collapsableItem.addChild(e)}},{key:"updateChildrenPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.positionChildren(this._renderingMode),this.parent&&e&&this.parent.updateChildrenPosition(),this.parent||this.updateChildrenBelongLines()}},{key:"addChild",value:function(e){this.children.push(e),this.renderNodesHeader()}}]),o}(Kv);const th=eh;function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nh(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oh=function(){function e(t,n){P()(this,e),this.docManager=t,this.output=n}var t,n;return R()(e,[{key:"getTemplate",value:(n=C()(F().mark((function e(t){var n,r,o,a;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.output.scope,e.next=3,this.docManager(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:r,name:t});case 3:return o=e.sent,a=o.serializeToDB(),o.isNew||(a.Type=null!==(n=a.Type)&&void 0!==n?n:Ve),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}],[{key:"create",value:(t=C()(F().mark((function t(n,r,o){var a,i,c,s,l,u;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.node,c=null!==(a=i.Template)&&void 0!==a?a:i.ContainerFlow,s=new e(n,r),t.next=5,s.getTemplate(c);case 5:if(l=t.sent,u=new r.cls(rh(rh({},o),{},{template:l,factory:{factory:e,docManager:n}})),![e.OUTPUT.CONTAINER.cls,e.OUTPUT.TMP_CONTAINER.cls].includes(r.cls)){t.next=10;break}return t.next=10,u.aInit();case 10:return t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();l()(oh,"OUTPUT",{PREV_NODE:{cls:Qv,scope:"Node"},PREV_FLOW:{cls:$v,scope:"Flow"},NODE:{cls:vv,scope:"Node"},TMP_NODE:{cls:kv,scope:"Node"},TREE_NODE:{cls:Wv,scope:"Node"},CONTAINER:{cls:Ov,scope:"Flow"},TMP_CONTAINER:{cls:Cv,scope:"Flow"},TREE_CONTAINER:{cls:th,scope:"Flow"}});const ah=oh;var ih,ch=",",sh=function(e){return Object.entries(pm(e,"",ch)).map((function(e){var t=Gt()(e,2),n=t[0],r=t[1];return[].concat(D()(n.split(ch).slice(0,-1)),[r]).join(ch)}))};function lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dh="startLink",ph="linkMismatchMessage",fh="invalidParameters",mh="invalidExposedPorts",vh="invalidLinks",hh=(ih={},l()(ih,dh,{message:X.t("StartLinkNotFound"),type:De,isRuntime:!0,isPersistent:!1,warningType:dh}),l()(ih,ph,{message:X.t("MessageMismatchedLinks"),type:De,isRuntime:!1,isPersistent:!0,warningType:ph}),l()(ih,fh,{message:X.t("InvalidSubFlowParameters"),type:De,isRuntime:!1,isPersistent:!0,warningType:fh}),l()(ih,mh,{message:X.t("InvalidExposedPorts"),type:De,isRuntime:!1,isPersistent:!0,warningType:mh}),l()(ih,vh,{message:X.t("InvalidLinksFoundTitle"),type:De,isRuntime:!1,isPersistent:!0,warningType:vh}),ih),gh=function(){function e(t){var n=this;P()(this,e),l()(this,"isLinkFromStart",(function(e){return"start"===e.data.sourceNode})),l()(this,"validateLinks",(function(){var t=[],r=n.graph.links,o=n.graph.nodes,a=!1,i=!1;return n.addDeletedLinks(),r.forEach((function(t,r,c){var s=t.data;a=a||n.isLinkFromStart(t);var l=e.validatePorts(s,o);if(Boolean(l))return n.graph.deleteLinks([s.id]),void n.graph.invalidLinks.push(s);var u=e.validateLinkMismatch(s,o);t.updateError(u),i||(i=t.error instanceof fv)})),a||t.push(hh.startLink),i&&t.push(hh.linkMismatchMessage),n.graph.invalidLinks.length&&t.push(uh(uh({},hh.invalidLinks),{},{data:n.graph.invalidLinks,callback:n.graph.clearInvalidLinks})),t})),l()(this,"addDeletedLinks",(function(){n.graph.invalidLinks.forEach((function(e){n.graph.addLink(uh(uh({},e),{},{From:"".concat(e.sourceNode,"/").concat(e.sourcePort),To:"".concat(e.targetNode,"/").concat(e.targetPort)}))}))})),l()(this,"validateExposedPorts",(function(){var e=[],t=[];return Object.values(n.graph.exposedPorts).forEach((function(e){Object.entries(e).forEach((function(e){var r,o=Gt()(e,2),a=o[0],i=o[1],c=[],s=null===(r=n.graph.nodes.get(a))||void 0===r?void 0:r.obj;s&&(i.forEach((function(e){s.ports.has(e)||c.push(e)})),c.length&&t.push({nodeInst:s,invalidPorts:c}))}))})),t.length&&e.push(uh(uh({},hh.invalidExposedPorts),{},{data:t})),e})),l()(this,"validateContainerParams",(function(){var e=[],t=[];return new Map(D()(n.graph.nodes).filter((function(e){var t=Gt()(e,2);return t[0],t[1].obj.data.type===gf}))).forEach((function(t){var n,r,o,a,i=t.obj,c=null!==(n=null==i||null===(r=i.data)||void 0===r?void 0:r.Parameter)&&void 0!==n?n:{},s=null!==(o=null==i||null===(a=i._template)||void 0===a?void 0:a.Parameter)&&void 0!==o?o:{},l=[];for(var u in c)Object.hasOwnProperty.call(s,u)||l.push(u);l.length&&e.push({id:i.data.id,name:i.data.name,containerNode:i,invalidParams:l})})),e.length&&t.push(uh(uh({},hh.invalidParameters),{},{data:e})),t})),l()(this,"validateFlow",(function(){var e=n.validateLinks(),t=n.validateExposedPorts(),r=n.validateContainerParams();return{warnings:[].concat(D()(e),D()(t),D()(r))}})),l()(this,"validateNodeName",(function(e,t){try{var r=Ae;if(!e)throw new Error(X.t(_e.ERROR_MESSAGES.INSTANCE_NAME_IS_MANDATORY,{instance:t}));if(!r.test(e))throw new Error(X.t(_e.ERROR_MESSAGES.INVALID_INSTANCE_NAME,{instance:t}));if(n.graph.nodes.has(e))throw new Error(X.t(_e.ERROR_MESSAGES.MULTIPLE_ENTRIES_WITH_SAME_NAME));return{result:!0,error:""}}catch(e){return{result:!1,error:e.message}}})),this.graph=t}return R()(e,[{key:"setWarningActions",value:function(e,t){hh[e]&&(hh[e].onClick=t)}},{key:"removeWarningAction",value:function(e){hh[e]&&delete hh[e].onClick}}]),e}();function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}l()(gh,"extractLinkPortsPos",(function(e,t){var n=["sourceNode","targetNode"].map((function(n){var r=t.get(e[n]);if(!r)throw new Error("Node ".concat(e[n]," not found"));return r})),r=Gt()(n,2),o=r[0],a=r[1];return{sourcePortPos:o.obj.getPortPos(e.sourcePort),targetPortPos:a.obj.getPortPos(e.targetPort)}})),l()(gh,"validatePorts",(function(e,t){var n=gh.extractLinkPortsPos(e,t),r=n.sourcePortPos,o=n.targetPortPos;if(!r||!o)return"Ports not found"})),l()(gh,"validateLinkMismatch",(function(e,t){var n=gh.extractLinkPortsPos(e,t),r=n.sourcePortPos,o=n.targetPortPos;if(r&&o){var a=hm(r.data,o.data)?null:new fv(e,{source:r,target:o},(function(){return Pt("")}));return e.error=a,a}}));var Ah={NODE:{LABEL:"NodeLabel",TYPE:pf},CONTAINER:{LABEL:"ContainerLabel",TYPE:ff}},Oh=function(){function e(t){var n=this,r=t.mInterface,o=t.canvas,a=t.id,i=t.docManager;P()(this,e),l()(this,"initialize",(function(){n.addSubscribers().addEvents()})),l()(this,"addSubscribers",(function(){return n.mode.default.onEnter.subscribe({next:function(){return n.reset()}}),n.mode.addNode.onEnter.subscribe({next:function(){return n.reset()}}),n.docManager(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SUBSCRIBE_TO_CHANGES,n.id,n.onTemplateUpdate),n})),l()(this,"updateAllPositions",(function(){})),l()(this,"addEvents",(function(){return n.canvas.el.addEventListener("onEnterDefault",n.reset),n})),l()(this,"clear",(function(){n.nodes.forEach((function(e){return e.obj.destroy()})),n.nodes.clear(),n.links.forEach((function(e){return e.destroy()})),n.links.clear()})),l()(this,"destroy",(function(){n.docManager(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.UNSUBSCRIBE_TO_CHANGES,n.id)})),l()(this,"clearInvalidLinks",(function(){return n.invalidLinks=[],n})),l()(this,"clearInvalidExposedPorts",(function(e){return Object.values(n.exposedPorts).forEach((function(t){e.forEach((function(e){t[e.nodeInst.data.id]&&(t[e.nodeInst.data.id]=t[e.nodeInst.data.id].filter((function(t){return!e.invalidPorts.includes(t)})))}))})),n})),l()(this,"loadExposedPorts",(function(e,t){return function(e,t,n){var r,o,a=sh(e),i=sh(t);return(n?D()(new Set([].concat(D()(a),D()(i)))):(o=i,(r=a).filter((function(e){return!o.includes(e)})).concat(o.filter((function(e){return!r.includes(e)}))))).map((function(e){return t=e,n=i.includes(e),r=t.split(ch),{node:(o=Gt()(r,3))[1],port:o[2],value:n};var t,n,r,o}))}(n.exposedPorts,e,t).forEach((function(e){var t=n.nodes.get(e.node);t?t.obj.setExposedPort(e.port,e.value):console.error("Exposed port: node ".concat(e.node," not found"))})),n.exposedPorts=e,n})),l()(this,"onNodeDrag",(function(e,t){var r=n.nodes,o=n.links,a=D()(n.selectedNodes);if(e){var i=n.nodes.get(e.data.id);a=new Set([i.obj].concat(a))}n.canvas.inBoundaries(t.x,t.y)&&n.selectedNodes.forEach((function(e){e.setPositionDelta(t.dx,t.dy)})),requestAnimationFrame((function(){a.forEach((function(e){var t;((null===(t=r.get(e.data.id))||void 0===t?void 0:t.links)||[]).forEach((function(e){var t=o.get(e),n=r.get(t.data.sourceNode),a=r.get(t.data.targetNode);n&&a&&t.update(n.obj.getPortPos(t.data.sourcePort),a.obj.getPortPos(t.data.targetPort))}))}))}))})),l()(this,"onFlowUpdate",(function(e){if(n.updateTemplates)n.updateTemplates();else{n.updateNodes(e.NodeInst,pf),n.updateNodes(e.Container,ff);var t=Eh(Eh({},e.NodeInst),e.Container);D()(n.nodes.keys()).forEach((function(e){t.hasOwnProperty(e)||"start"===e||n.deleteNode(e)})),n.updateLinks(e.Links||{}),n.loadExposedPorts(e.ExposedPorts||{},!0),n.validateFlow()}})),l()(this,"onTemplateUpdate",(function(e){if(e.Label===n.id)n.onFlowUpdate(e);else{var t=D()(n.nodes.values()).map((function(t){return t.obj.onTemplateUpdate(e)}));Promise.all(t).then((function(){n.loadExposedPorts(n.exposedPorts,!0),n.validateFlow()}))}})),l()(this,"onMouseOverLink",(function(e){n.links.forEach((function(t){return t.transparent=t.id!==e.data.id}))})),l()(this,"onMouseOutLink",(function(){n.links.forEach((function(e){return e.transparent=!1}))})),l()(this,"validateFlow",(function(){var e=n.validator.validateFlow().warnings;n.onFlowValidated.next({warnings:e}),n.warnings=e})),l()(this,"updateNodes",(function(e,t){Object.values(e).forEach((function(e){n.updateNode(e,t)}))})),l()(this,"updateNode",function(){var e=C()(F().mark((function e(t){var r,o,a,i,c,s=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:pf,o=t[Ah[r].LABEL],!(a=n.nodes.get(o))){e.next=9;break}i=Eh(Eh(Eh({},t),a.obj.data),{},{Visualization:a.obj.visualizationToDB}),c=Eh(Eh({},a.obj.data),t),us()(i,c)||a.obj.updateNode(c),e.next=18;break;case 9:return e.prev=9,e.next=12,n.addNode(Eh({id:o},t),r);case 12:n.update(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),console.log("debug failed to add node",e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}()),l()(this,"deleteNode",(function(e){var t=n.nodes.get(e);return n.deleteLinks(t.links),t.obj.destroy(),n.nodes.delete(e)})),l()(this,"updateExposedPorts",(function(e){n.loadExposedPorts(e,!0)})),l()(this,"updateLinks",(function(e){var t=D()(n.links.keys()).filter((function(t){return!e.hasOwnProperty(t)}));n.deleteLinks(t),n.loadLinks(e)})),l()(this,"addStartNode",(function(){var e=n.canvas,t=new xm({canvas:e}),r={obj:t,links:[]};n.nodes.set(t.data.id,r)})),l()(this,"addLink",(function(e){var t=n.links.get(e.id);if(t)t.updateData({Dependency:e.Dependency});else try{var r=sv.parseLink(e),o=gh.extractLinkPortsPos(r,n.nodes),a=o.sourcePortPos,i=o.targetPortPos;if(!a||!i)throw new pv(r);var c=new sv(n.canvas,a,i,r,n.flowDebugging,n.toggleTooltip);n.links.set(r.id,c);var s=[r.sourceNode,r.targetNode];n.nodes.forEach((function(e,t){s.includes(t)&&e.links.push(r.id)})),n.canvas.append((function(){return c.el}),"links"),n.invalidLinks=n.invalidLinks.filter((function(e){return e.id!==r.id}))}catch(e){e instanceof pv&&!n.invalidLinks.find((function(t){return t.id===e.link.id}))&&n.invalidLinks.push(e.link),console.error(e.message)}})),l()(this,"deleteLinks",(function(e){e.forEach((function(e){var t;null===(t=n.links.get(e))||void 0===t||t.destroy(),n.links.delete(e)})),n.nodes.forEach((function(t){t.links=t.links.filter((function(t){return!e.includes(t)}))}))})),l()(this,"toggleTooltip",(function(e,t){n.canvas.events.next({name:"onChangeMouseOver",type:t,data:e})})),l()(this,"setPermanentWarnings",(function(){n.warnings=n.warnings.map((function(e){return Eh(Eh({},e),{},{isPersistent:!0})})),n.onFlowValidated.next({warnings:n.warnings})})),l()(this,"updateContainerParams",(function(e,t){var r,o=n.nodes.get(e);null==o||null===(r=o.obj)||void 0===r||r.setParams(t)})),l()(this,"updateWarningsVisibility",(function(e){n.warningsVisibility=e})),l()(this,"reStrokeLinks",(function(){var e;return null===(e=n.links)||void 0===e||e.forEach((function(e){e.flowDebugging=n.flowDebugging,e.changeStrokeColor()})),n})),this.mInterface=r,this.canvas=o,this.id=a,this.docManager=i,this.initialize(),this.nodes=new Map,this.links=new Map,this.exposedPorts={},this.selectedNodes=[],this.selectedLink=null,this.tempNode=null,this.warnings=[],this.warningsVisibility=!0,this.validator=new gh(this),this.onFlowValidated=new om.Subject,this.onLinksValidated=new om.Subject,this.invalidLinks=[],this.flowDebugging=(new Do).getFlowIsDebugging()}var t,n,r;return R()(e,[{key:"isFlowDebugging",get:function(){return this.flowDebugging},set:function(e){this.flowDebugging=e}},{key:"update",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(this.nodes.values());try{for(t.s();!(e=t.n()).done;)e.value.obj.addToCanvas()}catch(e){t.e(e)}finally{t.f()}this.validateFlow()}},{key:"loadNodes",value:(r=C()(F().mark((function e(){var t,n,r,o,a=this,i=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:pf,r=!(i.length>2&&void 0!==i[2])||i[2],o=Object.entries(t).map((function(e){var t=Gt()(e,2),r=t[0],o=t[1];return a.addNode(Eh(Eh({},o),{},{id:r}),n)})),e.next=6,Promise.all(o);case 6:return r&&this.addStartNode(),e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadLinks",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).forEach((function(t){var n=Gt()(t,2),r=n[0],o=n[1];e.addLink(Eh({id:r},o))})),this}},{key:"mode",get:function(){return this.mInterface.mode}},{key:"viewMode",get:function(){return cf}},{key:"loadData",value:(n=C()(F().mark((function e(t){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadNodes(t.NodeInst);case 2:return e.next=4,this.loadNodes(t.Container,ff,!1);case 4:this.loadLinks(t.Links).loadExposedPorts(t.ExposedPorts||{}).update();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"addNode",value:(t=C()(F().mark((function e(t){var n,r,o,a=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:pf,r={onDrag:this.onNodeDrag},e.prev=2,e.next=5,ah.create(this.docManager,ah.OUTPUT[n],{canvas:this.canvas,node:t,events:r});case 5:return o=e.sent,this.nodes.set(t.id,{obj:o,links:[]}),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.warn("Error creating node",e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e){return t.apply(this,arguments)})},{key:"nodeStatusUpdated",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],o=t.nodes.get(n);o&&(o.obj.status=!![1,!0,"true"].includes(r))}))}},{key:"reset",value:function(){this.nodes.forEach((function(e){e.obj.selected=!1})),this.selectedLink&&(this.selectedLink.onSelected(!1),this.selectedLink=null)}}]),e}(),Ch=function(e){return{id:e,onEnter:new om.Subject,onExit:new om.Subject,props:null}},wh=function(e){return Object.assign(Ch(e),{onClick:new om.Subject})},Dh=function(){function e(t){var n=this;P()(this,e),l()(this,"initialize",(function(){var e;n._loading=Ch("loading"),n._default=Ch("default"),n._drag=(e="drag",Object.assign(Ch(e),{onDrag:new om.Subject})),n._addNode=wh("addNode"),n._addFlow=wh("addFlow"),n._addState=wh("addState"),n._linking=function(e){return Object.assign(Ch(e),{onClick:new om.Subject,onMouseMove:new om.Subject})}("linking"),n._selectNode=Ch("selectNode"),n._nodeCtxMenu=Ch("nodeCtxMenu"),n._canvasCtxMenu=Ch("canvasCtxMenu"),n._linkCtxMenu=Ch("linkCtxMenu"),n._portCtxMenu=Ch("portCtxMenu"),n._onDblClick=Ch("onDblClick"),n._onPortMouseOver=Ch("onPortMouseOver"),n._onLinkErrorMouseOver=Ch("onLinkErrorMouseOver"),n._onToggleWarnings=Ch("onToggleWarnings")})),l()(this,"setMode",(function(e,t,r){var o=n[e];if(!o)throw new Error("Invalid mode",e);(n.mode.id!==e||r)&&(n.previousMode=n.mode,n.previousMode.onExit.next(n.previousMode.props),n.mode=o,o.props=t,o.onEnter.next(t))})),l()(this,"setPrevious",(function(){n.mode.onExit.next(n.mode.props),n.mode=n.previousMode})),this.mInterface=t,this.initialize(),this.mode=this._loading,this.previousMode=null}return R()(e,[{key:"current",get:function(){return this.mode}},{key:"previous",get:function(){return this.previousMode}},{key:"canvas",get:function(){return this.mInterface.canvas}},{key:"graph",get:function(){return this.mInterface.graph}},{key:"loading",get:function(){return this._loading}},{key:"default",get:function(){return this._default}},{key:"drag",get:function(){return this._drag}},{key:"addNode",get:function(){return this._addNode}},{key:"addFlow",get:function(){return this._addFlow}},{key:"addState",get:function(){return this._addState}},{key:"linking",get:function(){return this._linking}},{key:"selectNode",get:function(){return this._selectNode}},{key:"nodeCtxMenu",get:function(){return this._nodeCtxMenu}},{key:"canvasCtxMenu",get:function(){return this._canvasCtxMenu}},{key:"linkCtxMenu",get:function(){return this._linkCtxMenu}},{key:"portCtxMenu",get:function(){return this._portCtxMenu}},{key:"onDblClick",get:function(){return this._onDblClick}},{key:"onPortMouseOver",get:function(){return this._onPortMouseOver}},{key:"onLinkErrorMouseOver",get:function(){return this._onLinkErrorMouseOver}},{key:"onToggleWarnings",get:function(){return this._onToggleWarnings}}]),e}();const kh=R()((function e(){P()(this,e),l()(this,"onAddLink",new om.Subject)}));var Ph=function(e){I()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B()(t);if(n){var o=B()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M()(this,e)});function o(e,t,n,a){var i;return P()(this,o),i=r.call(this,e,t,n,{id:"",sourceNode:"",sourcePort:"",targetNode:"",targetPort:"",dependency:""}),l()(S()(i),"addEvents",(function(){return i.path.on("click",null),S()(i)})),i.path.attr("stroke-dasharray","3,3"),i.addEvents(),i}return R()(o)}(sv),Nh=function(){function e(t){var n=this,r=t.classes,o=t.containerId,a=t.docManager,i=t.height,c=t.mInterface,s=t.width;P()(this,e),l()(this,"maxMeasures",null),l()(this,"minScale",null),l()(this,"pixMin",0),l()(this,"pixMax",null),l()(this,"nodeSize",null),l()(this,"zoomBehavior",null),l()(this,"brushBehavior",null),l()(this,"currentZoom",null),l()(this,"mouse",[0,0]),l()(this,"svg",null),l()(this,"docFrag",null),l()(this,"canvas",null),l()(this,"links",null),l()(this,"brushCanvas",null),l()(this,"events",new om.Subject),l()(this,"_hoveredNode",null),l()(this,"isBrushing",!1),l()(this,"getSvg",(function(){return am.select(n.svg)||n.initSvg()})),l()(this,"setMode",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.mInterface.setMode(e,t,r)})),l()(this,"setPreviousMode",(function(){n.mInterface.setPreviousMode()})),l()(this,"initialize",(function(){n.maxMeasures=Math.max(n.width,n.height),n.minScale=.2,n.nodeSize=.005*n.maxMovingPixels<40?40:.005*n.maxMovingPixels,n.pixMax=n.maxMovingPixels,n.zoomBehavior=n.createZoomBehavior(),n.brushBehavior=n.createBrushBehavior(),n.init()})),l()(this,"init",(function(){n.initSvg().addDefs().addCanvas().addEvents().addLinksCanvas().addSubscribers()})),l()(this,"appendDocumentFragment",(function(){var e=document.getElementById(n.containerId);am.select("#".concat(n.containerId," svg")).remove(),e.appendChild(n.svg)})),l()(this,"initSvg",(function(){var e=n.classes,t=document.createDocumentFragment();return am.select(t).append("svg").attr("width","99.8%").attr("height","99.8%").attr("id","interface-".concat(n.containerId)).attr("focusable",!0).attr("tabindex","-1").style("outline","none").attr("class","".concat(Gp.CLASSNAME," ").concat(e.flowEditor.interfaceColor)).call(n.zoomBehavior),n.svg=t.firstChild,n.docFrag=t,n})),l()(this,"createZoomBehavior",(function(){var e=n.cameraUpdate,t=n.minScale,r=n.pixMin,o=n.pixMax;return am.zoom().filter((function(){return!am.event.shiftKey})).scaleExtent([t,4]).translateExtent([[r,r],[o,o]]).on("zoom",e)})),l()(this,"cameraUpdate",(function(){var e=am.event.transform.k<=n.minScale?n.minScale:.9*am.event.transform.k,t=am.event.transform.k>=4?4:1.1*am.event.transform.k;n.zoomBehavior.scaleExtent([e,t]),n.canvas.attr("transform",am.event.transform),n.links.attr("transform",am.event.transform),n.currentZoom=am.event.transform})),l()(this,"createBrushBehavior",(function(){var e=n.pixMin,t=n.pixMax,r=n.endBrush;return am.brush().extent([[e,e],[t,t]]).filter((function(){return am.event.shiftKey})).keyModifiers(!1).on("end",r)})),l()(this,"endBrush",(function(){am.event.selection&&(n.brushCanvas.call(n.brushBehavior.move,null),n.selectNodes(am.event.selection),setTimeout((function(){return n.delBrushCanvas()})))})),l()(this,"getEditionCursor",(function(e){var t;return(t={},l()(t,cf,"default"),l()(t,sf,"not-allowed"),t)[e]})),l()(this,"reload",(function(){var e=n.classes;n.getSvg().attr("class","".concat(e.flowEditor.interfaceColor))})),l()(this,"addDefs",(function(){var e=n.getSvg().append("svg:defs"),t=n.containerId;return e.selectAll("marker").data([{type:"selected",color:"red"},{type:"normal",color:"white"}]).enter().append("svg:marker").attr("id",(function(e){return"".concat(t,"-marker").concat(e.type)})).attr("markerHeight",5).attr("markerWidth",5).attr("markerUnits","strokeWidth").attr("orient","auto").attr("refX",0).attr("refY",0).attr("viewBox","-5 -5 10 10").append("svg:path").attr("d","M 0,0 m -5,-5 L 5,0 L -5,5 Z").attr("fill",(function(e){return e.color})),e.append("filter").attr("id","shadow-".concat(t)).append("feDropShadow").attr("dx","1.5").attr("dy","1.5").attr("stdDeviation","1"),n})),l()(this,"addCanvas",(function(){return n.canvas=am.select(n.svg).append("g").attr("id","canvasContainer-".concat(n.containerId)).attr("width",n.maxMovingPixels).attr("height",n.maxMovingPixels).attr("stroke","black").style("pointer-events","all").on("click",(function(e){return Pt()})),n})),l()(this,"addLinksCanvas",(function(){return n.links=am.select(n.svg).append("g").attr("id","linksContainer-".concat(n.containerId)).attr("width",n.maxMovingPixels).attr("height",n.maxMovingPixels).attr("stroke","black").style("pointer-events","all").on("click",(function(e){return Pt()})),n})),l()(this,"addBrushCanvas",(function(){return n.isBrushing=!0,n.brushCanvas=am.select(n.svg).append("g").attr("class","brush").call(n.brushBehavior),n})),l()(this,"delBrushCanvas",(function(){n.isBrushing=!1,am.selectAll(".brush").remove()})),l()(this,"addEvents",(function(){var e=n.getSvg();return[{event:"contextmenu",fn:function(){return n.onContext()}},{event:"click",fn:function(){return n.onClick()}},{event:"mousemove",fn:function(){return n.onMouseMove()}},{event:"keydown",fn:function(){return n.onKeyDown()}},{event:"keyup",fn:function(){return n.onKeyUp()}}].forEach((function(t){e.on(t.event,t.fn)})),n})),l()(this,"addSubscribers",(function(){return n.mode.addNode.onEnter.subscribe((function(e){return n.onAddNodeEnter(e)})),n.mode.addNode.onExit.subscribe((function(){return n.onAddNodeExit()})),n.mode.addFlow.onEnter.subscribe((function(e){return n.onAddFlowEnter(e)})),n.mode.addFlow.onExit.subscribe((function(){return n.onAddFlowExit()})),n.mode.addState.onEnter.subscribe((function(e){return n.onAddStateEnter(e)})),n.mode.addState.onExit.subscribe((function(){return n.onAddStateExit()})),n.mode.linking.onEnter.subscribe((function(e){return n.onLinkingEnter(e)})),n.mode.linking.onExit.subscribe((function(){return n.onLinkingExit()})),n.mode.default.onEnter.subscribe((function(){return n.delBrushCanvas()})),n})),l()(this,"inBoundaries",(function(e,t){var n=function(e,t,n){return e<t||e>n};return![[e].concat(D()(af[0])),[t].concat(D()(af[1]))].some((function(e){return n.apply(void 0,D()(e))}))})),l()(this,"getPositionInBoundaries",(function(e,t){var n=Gt()(af[0],2),r=n[0],o=n[1],a=Gt()(af[1],2),i=a[0],c=a[1],s=function(e,t,n){return e<t?t:e>n?n:e};return[s(e,r,o),s(t,i,c)]})),l()(this,"append",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canvas";"links"===t?(n.links.append(e),n.links.lower()):n.canvas.append(e)})),l()(this,"dispatchEvent",(function(e,t){var r=new CustomEvent(e,t);n.el.dispatchEvent(r)})),l()(this,"onContext",(function(){am.event.preventDefault(),am.event.stopPropagation();var e=am.zoomTransform(n.el),t=D()(n.mousePos);1!==e.k&&(t=e.invert(t)),n.setMode("canvasCtxMenu",{event:am.event,position:{x:t[0],y:t[1]}},!0)})),l()(this,"onClick",(function(){var e;am.event.shiftKey&&"selectNode"===n.mode.current.id||(null!==(e=n.mode.current.onClick)&&void 0!==e?e:{next:function(){n.setMode("default",null,!0)}}).next()})),l()(this,"onMouseMove",(function(){n.mousePos=am.mouse(n.el),[{id:"addNode",fn:function(){return n.onAddNodeMouseMove()}},{id:"addFlow",fn:function(){return n.onAddNodeMouseMove()}},{id:"addState",fn:function(){return n.onAddNodeMouseMove()}},{id:"linking",fn:function(){return n.onLinkingMouseMove()}}].filter((function(e){return e.id===n.mode.current.id})).forEach((function(e){return e.fn()}))})),l()(this,"onKeyDown",(function(){am.event.shiftKey&&!n.isMouseOverNode&&n.addBrushCanvas()})),l()(this,"onKeyUp",(function(){"Shift"===am.event.key&&n.isBrushing&&n.delBrushCanvas()})),l()(this,"onAddNodeEnter",(function(e){var t=e.templateId,r=n.mode.addNode,o={Template:t},a=ah.OUTPUT.TMP_NODE;n.addNodeEnter({modeEvent:r,node:o,factoryOutput:a})})),l()(this,"onAddNodeExit",(function(){var e=n.mode.addNode.props.node;n.getSvg().style("cursor","default"),e&&e.destroy()})),l()(this,"onAddFlowEnter",(function(e){var t=e.templateId,r=n.mode.addFlow,o={id:t,ContainerFlow:t,ContainerLabel:t},a=ah.OUTPUT.TMP_CONTAINER;n.addNodeEnter({modeEvent:r,node:o,factoryOutput:a})})),l()(this,"addNodeEnter",(function(e){var t=e.modeEvent,r=e.node,o=e.factoryOutput;n.el.focus();var a=n.mInterface.graph.viewMode,i=n.getEditionCursor(a);n.getSvg().style("cursor",i),ah.create(n.docManager,o,{canvas:n,node:r,events:{}}).then((function(e){t.props.node=e,n.append((function(){return e.el}))}))})),l()(this,"onAddFlowExit",(function(){var e=n.mode.addFlow.props.node;n.getSvg().style("cursor","default"),e&&e.destroy()})),l()(this,"onAddNodeMouseMove",(function(){var e,t,r=am.zoomTransform(n.el),o=D()(n.mousePos);1===r.k&&0===r.x&&0===r.y||(o=r.invert(o)),null===(e=n.mode.current.props)||void 0===e||null===(t=e.node)||void 0===t||t.setPosition(o[0]+0,o[1]+-5)})),l()(this,"onLinkingEnter",(function(){var e=n.mode.linking.props.src;n.mode.linking.props.link=new Ph(n,e.position,e.position),n.append((function(){return n.mode.linking.props.link.el}),"links"),n.mode.linking.activelyLinking=!0,n.mode.linking.props.link.fadeOtherLinks()})),l()(this,"onLinkingExit",(function(){var e=n.mode.linking.props.link;e&&e.destroy(),n.mode.linking.activelyLinking=!1,n.mode.linking.props.link.removeLinksFade()})),l()(this,"onLinkingMouseMove",(function(){var e=am.zoomTransform(n.el),t=D()(n.mousePos),r={x:(t=e.invert(t))[0],y:t[1],nodeSize:{height:50,width:50},data:{}};n.mode.linking.props.link.update(null,r)})),l()(this,"onResetZoom",(function(){n.getSvg().transition().duration(750).call(n.zoomBehavior.transform,am.zoomIdentity)})),l()(this,"zoomToCoordinates",(function(e,t){var r=n.el.getBoundingClientRect(),o=r.width,a=r.height;n.getSvg().transition().duration(750).call(n.zoomBehavior.transform,am.zoomIdentity.translate(.5*o-2*e,.5*a-2*t).scale(2))})),this.classes=r,this.containerId=o,this.docManager=a,this.height=i,this.maxMovingPixels=of,this.mInterface=c,this.width=s,this.initialize()}return R()(e,[{key:"mode",get:function(){return this.mInterface.mode}},{key:"previousMode",get:function(){return this.mInterface.mode.previousMode}},{key:"el",get:function(){return this.svg}},{key:"mousePos",get:function(){return this._mouse},set:function(e){this._mouse=e}},{key:"mousePosition",get:function(){return{x:this._mouse[0],y:this._mouse[1]}}},{key:"hoveredNode",set:function(e){this._hoveredNode=e,!e&&am.event.shiftKey&&this.addBrushCanvas()}},{key:"isMouseOverNode",get:function(){return null!==this._hoveredNode}},{key:"selectedLink",get:function(){return this.mInterface.selectedLink}},{key:"selectNodes",value:function(e){var t,n,r=this.mInterface.canvas.currentZoom||{k:1,x:0,y:0},o=r.k,a=r.x,i=r.y,c=e[0].map((function(e,t){return(e+Math.abs(0===t?a:i))/o})),s=e[1].map((function(e,t){return(e+Math.abs(0===t?a:i))/o})),l=Array.from(null===(t=this.mInterface)||void 0===t||null===(n=t.graph)||void 0===n?void 0:n.nodes.values()),u=[];l.forEach((function(e){var t=e.obj.center,n=[t.xCenter,t.yCenter],r=n.every((function(e,t){return e>c[t]})),o=n.every((function(e,t){return e<s[t]}));r&&o&&(e.obj.selected=!0,u.push(e.obj))}));var d=new Set(D()(this.mInterface.selectedNodes).concat(u));d.size>0&&this.setMode("selectNode",{nodes:Array.from(d),shiftKey:!0},!0)}}]),e}();const Rh=Nh;function Th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xh={Node:{LABEL:"NodeLabel",MODEL_ADD_METHOD:"addNode",MODEL_DEL_METHOD:"deleteNode",TYPE:pf},Flow:{LABEL:"ContainerLabel",MODEL_ADD_METHOD:"addSubFlow",MODEL_DEL_METHOD:"deleteSubFlow",TYPE:ff}},Ih=function(){function e(t){var n=this,r=t.id,o=t.containerId,a=t.modelView,i=t.width,c=t.height,s=t.data,u=t.classes,p=t.call,f=t.graphCls;P()(this,e),l()(this,"initialize",(function(){var e=n.classes,t=n.containerId,r=n.docManager,o=n.height,a=n.id,i=n.width;n.setMode(Ef),n.canvas=new Rh({mInterface:n,containerId:t,width:i,height:o,classes:e,docManager:r}),n.graph=new n.graphCls({id:a,mInterface:n,canvas:n.canvas,docManager:r}),n.addSubscribers().loadDoc().then((function(){n.canvas.el.focus(),n.setMode(bf)}))})),l()(this,"loadDoc",C()(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.graph.loadData(n.modelView.current.serializeToDB());case 2:case"end":return e.stop()}}),e)})))),l()(this,"setMode",(function(e,t,r){n.mode.setMode(e,t,r)})),l()(this,"setPreviousMode",(function(){n.mode.setPrevious()})),l()(this,"nodeStatusUpdated",(function(e,t){n.graph.nodeStatusUpdated(e,t)})),l()(this,"addLink",(function(){var e=n.mode.linking.props,t=e.src,r=e.trg,o=e.link;if(e.toCreate&&o.isValid(t,r,n.graph.links)){var a=n.modelView.current.addLink(o.toSave(t,r));n.graph.addLink(a),n.graph.validateFlow(),n.events.onAddLink.next(a)}})),l()(this,"deleteLink",(function(e){n.modelView.current.deleteLink(e),n.graph.deleteLinks([e]),n.graph.validateFlow()})),l()(this,"addNode",(function(e){var t=Sh(Sh({},n.mode.current.props.node.data),{},{NodeLabel:e,name:e,id:e});return n.modelView.current.addNode(t),n.graph.addNode(t,pf).then((function(){n.graph.update(),n.setMode(bf)})),n})),l()(this,"addFlow",(function(e){var t=Sh(Sh({},n.mode.current.props.node.data),{},{ContainerLabel:e,name:e,id:e});return n.modelView.current.addSubFlow(t),n.graph.addNode(t,ff).then((function(){n.graph.update(),n.setMode(bf)})),n})),l()(this,"pasteNode",(function(e,t,r){var o,a=xh[t.model],i=n.canvas.getPositionInBoundaries(r.x,r.y),c=Sh(Sh({},t),{},(o={Visualization:i},l()(o,a.LABEL,e),l()(o,"Label",e),l()(o,"name",e),l()(o,"id",e),o));n.modelView.current[a.MODEL_ADD_METHOD](c),n.graph.addNode(c,a.TYPE).then((function(){n.graph.update(),n.setMode(bf)}))})),l()(this,"deleteNode",(function(e){var t=xh[e.model];n.modelView.current[t.MODEL_DEL_METHOD](e.id),n.graph.deleteNode(e.id),n.selectedNodes=n.selectedNodes.filter((function(t){return t.data.id!==e.id}))})),l()(this,"toggleExposedPort",(function(e){var t=e.node.getExposedName(),r=e.node.name,o=e.name;n.graph.updateExposedPorts(n.modelView.current.toggleExposedPort(t,r,o))})),l()(this,"searchNode",(function(e){var t;return e.name&&(null===(t=n.graph.nodes.get(e.name))||void 0===t?void 0:t.obj)})),l()(this,"addSubscribers",(function(){return n.mode.default.onEnter.subscribe(n.onDefault),n.mode.drag.onExit.subscribe(n.onDragEnd),n.mode.selectNode.onEnter.subscribe(n.onSelectNode),n.mode.onDblClick.onEnter.subscribe((function(){n.setMode(bf)})),n.mode.linking.onEnter.subscribe(n.onLinkingEnter),n.mode.linking.onExit.subscribe(n.onLinkingExit),n.canvas.events.pipe((0,Wp.filter)((function(e){return"onToggleWarnings"===e.name}))).subscribe(n.onToggleWarnings),n})),l()(this,"hideLinks",(function(e,t){e.links.forEach((function(r){var o=n.graph.links.get(r);t.has(r)&&!o.visible||(o.visibility=e.obj.visible),t.add(r)}))})),l()(this,"onDefault",(function(){n.selectedNodes.length=0})),l()(this,"onDragEnd",(function(e){var t=new Set([e].concat(n.selectedNodes));Array.from(t).filter((function(e){return e})).forEach((function(e){var t=e.data.id,r=Gt()(e.data.Visualization,2),o=r[0],a=r[1];(e.data.type===gf?n.modelView.current.getSubFlows():n.modelView.current.getNodeInstances()).getItem(t).setPosition(o,a)}))})),l()(this,"onLinking",(function(e){n.graph.nodes.forEach((function(t){return t.obj.linking(e)}))})),l()(this,"onLinkingEnter",(function(){var e=n.mode.current.props.src.data;n.onLinking(e)})),l()(this,"onLinkingExit",(function(){n.onLinking(),n.addLink()})),l()(this,"onSelectNode",(function(e){var t=e.nodes,r=e.shiftKey,o=n.selectedNodes,a=t.filter((function(e){return e.data.model!==xm.model}));n.selectedLink=null,r||(o.length=0),a.forEach((function(e){e.selected?o.push(e):d().pull(o,e)}))})),l()(this,"onToggleWarnings",(function(e){n.graph.updateWarningsVisibility(e.data)})),l()(this,"onStateChange",(function(e){return n.stateSub.subscribe(e)})),l()(this,"onGroupsChange",(function(e){var t=new Set;n.graph.nodes.forEach((function(r){r.obj.onGroupsChange(e),n.hideLinks(r,t)}))})),l()(this,"onGroupChange",(function(e,t){var r=new Set;n.graph.nodes.forEach((function(o){var a;null!==(a=o.obj.data.NodeLayers)&&void 0!==a&&a.includes(e)&&(o.obj.visibility=!t,n.hideLinks(o,r))}))})),l()(this,"resetAllNodeStatus",(function(){n.graph.resetStatus&&n.graph.resetStatus()})),l()(this,"onResetZoom",(function(){n.canvas.onResetZoom()})),l()(this,"onMoveNode",(function(e){var t,r,o=2/(null!==(t=null===(r=n.canvas.currentZoom)||void 0===r?void 0:r.k)&&void 0!==t?t:1)+1,a={ArrowRight:[1*o,0],ArrowLeft:[-1*o,0],ArrowUp:[0,-1*o],ArrowDown:[0,1*o]},i=Gt()(a[e.code],2),c=i[0],s=i[1];n.graph.onNodeDrag(null,{x:50,y:50,dx:c,dy:s}),n.onDragEnd()})),l()(this,"onFocusNode",(function(e){var t=e.center,r=t.xCenter,o=t.yCenter;n.setMode(bf,null,!0),e.selected=!0,"start"!==e.data.id&&n.setMode(Cf,{nodes:[e],shiftKey:!1},!0),n.canvas.zoomToCoordinates(r,o)})),l()(this,"destroy",(function(){})),this.id=r,this.containerId=o,this.width=i,this.height=c,this.modelView=a,this.data=s,this.graphCls=null!=f?f:Oh,this.classes=u,this.docManager=p,this.stateSub=new om.BehaviorSubject(0),this.events=new kh,this.mode=new Dh(this),this.api=null,this.canvas=null,this.graph=null,this.shortcuts=null,this.initialize()}return R()(e,[{key:"selectedNodes",get:function(){return this.graph.selectedNodes},set:function(e){this.graph.selectedNodes=e,this.selectedLink&&this.selectedLink.onSelected(!1)}},{key:"selectedLink",get:function(){return this.graph.selectedLink},set:function(e){this.graph.selectedLink&&this.graph.selectedLink.onSelected(!1),this.graph.selectedLink=e}}]),e}();var Lh=(0,c.makeStyles)((function(e){return{backdrop:{zIndex:e.zIndex.drawer-1,color:e.backdrop.color,backgroundColor:e.backdrop.background,position:"absolute",height:"100%",width:"100%",opacity:0},flowContainer:{height:"calc(100% - 75px)",width:"100%",display:"flex",flexDirection:"column",position:"relative"},flowCanvas:{width:"100%",height:"100%",flexGrow:1},flowEditor:{interfaceColor:e.palette.background.primary}}})),Mh=function(n){var r=n.call,o=n.instance,a=n.id,i=n.name,c=n.type,s=n.model,u=n.dataFromDB,d=n.off,p=n.on,f=n.warnings,m=n.warningsVisibility,v=n.onReady,h=n.flowDebugging,g=n.viewMode,y=n.graphClass,b=n.loading,E=Lh(),A=(0,e.useMemo)((function(){return"".concat(g,"-").concat(yf(a))}),[g,a]),O=function(t){var n=(0,e.useRef)();return(0,e.useEffect)((function(){var e;if(t.data&&t.containerId!==(null===(e=n.current)||void 0===e?void 0:e.containerId)){var r=t.classes,o=t.instance,a=t.name,i=t.data,c=t.type,s=t.width,l=t.height,u=t.containerId,d=t.model,p=t.readOnly,f=t.call,m=t.graphCls;n.current=new Ih({id:a,modelView:o,type:c,width:s,height:l,containerId:u,model:d,readOnly:p,data:i,classes:r,call:f,graphCls:m})}}),[t]),{mainInterface:n}}({classes:E,instance:o,name:i,data:u,graphCls:y,type:c,width:"400px",height:"200px",containerId:A,model:s,readOnly:!1,call:r}).mainInterface,C=(0,e.useCallback)((function(){return O.current}),[O]);return(0,e.useEffect)((function(){return p(pe.FLOW_EXPLORER.NAME,pe.FLOW_EXPLORER.ON.ADD_NODE,(function(e){var t,n,r,o;if((null!==(t=null===(n=C())||void 0===n?void 0:n.mode.current.id)&&void 0!==t?t:Ef)!==Ef){var a=(r={},l()(r,"Node","addNode"),l()(r,ae,"addFlow"),r),i=e.name,c=e.scope===ae;u.Label===i&&c||null===(o=C())||void 0===o||o.setMode(a[e.scope],{templateId:i},!0)}})),function(){return d(pe.FLOW_EXPLORER.NAME,pe.FLOW_EXPLORER.ON.ADD_NODE)}}),[C,d,p,u]),(0,e.useEffect)((function(){var e=C();if(e)return v(e),function(){C().graph.destroy()}}),[y,u,v,C]),t().createElement("div",{id:"".concat(g,"-").concat(a),className:E.flowContainer},b&&t().createElement(rf(),{className:E.backdrop,open:b},t().createElement(Ps,null)),t().createElement("div",{className:E.flowCanvas,id:A,tagindex:"0"},f.length>0&&t().createElement(_f,{warnings:f,isVisible:m})),h&&t().createElement(rm,null))};Mh.propTypes={call:Ht().func.isRequired,instance:Ht().object,id:Ht().string,name:Ht().string,type:Ht().string,model:Ht().string,dataFromDB:Ht().object},Mh.defaultProps={onReady:function(){return console.warning("On ready prop not received")}};const jh=(0,e.memo)(Mh),Bh=require("@material-ui/icons/Visibility");var zh=o.n(Bh);function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fh(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vh={itemValue:{padding:"15px 15px 15px 25px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:"14px"},disabled:{color:"gray"}},Yh=Gh(Gh({},Vh),{},{groupRow:{display:"flex",flexDirection:"row"},groupItem:{flexGrow:1,padding:"10px 25px"}}),Hh={parametersContainer:{overflowY:"auto",overflowX:"hidden",padding:"0px 6px 0px 6px",flexGrow:1,minHeight:0}},qh={display:"flex",alignItems:"center",justifyContent:"space-between","& > p":{margin:"0"}},Kh=(0,c.makeStyles)((function(e){return Gh(Gh(Gh({},Vh),Hh),{},{description:{whiteSpace:"normal !important",textAlign:"justify"},link:{fontSize:"1rem"}})})),Uh=(0,c.makeStyles)((function(e){return Yh})),Wh=(0,c.makeStyles)((function(e){return Gh(Gh({},Yh),Hh)})),Xh=(0,c.makeStyles)((function(e){return{gridAlign:{textAlign:"left",marginBottom:"15px"}}})),_h=(0,c.makeStyles)((function(e){return{header:{textAlign:"center"}}})),Zh=(0,c.makeStyles)((function(e){return{root:{width:"100%"},gridContainer:{padding:"10px 20px 20px"}}})),Qh=(0,c.makeStyles)((function(e){return{listHolder:{width:"100%","& p":{textOverflow:"ellipsis",maxWidth:"calc(100% - 50px)",overflow:"hidden"}},dependencyContainer:{padding:"5px 25px"},directionContainer:{padding:"0 10px"},selectHolder:{"& > div":Gh({},qh)},infoContainer:Gh({},qh),colorChip:{width:"40px",height:"4px"}}})),Jh=(0,c.makeStyles)((function(e){return Gh(Gh({},Vh),{},{portIcon:{paddingLeft:"30px"},portRow:{display:"flex",flexDirection:"column",padding:"0 16px"},portName:{textAlign:"end",fontSize:"0.875rem",marginTop:"6px",paddingRight:"6px"},portCallbackLink:{textAlign:"end",fontSize:"0.875rem",padding:"6px",alignSelf:"flex-end"},detailsSection:{paddingLeft:"20px",fontSize:"1rem",paddingTop:"15px"},detailsContent:{display:"flex",flexDirection:"column",marginTop:"10px",overflowY:"auto",overflowX:"hidden","& .content":{fontSize:"0.95rem",paddingLeft:"8px"}},detailRow:{display:"flex",flexDirection:"row",alignItems:"center"}})})),$h=(0,c.makeStyles)((function(e){return Gh(Gh({},Vh),Hh)})),eg=(0,c.makeStyles)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"},searchHolder:{padding:"5px 10px 15px"}}})),tg=(0,c.makeStyles)((function(e){return{rowContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},keyContainer:{flexGrow:1,paddingLeft:"8px",fontSize:"0.875rem",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"60%"},valueContainer:{textAlign:"center",flexGrow:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"0px 12px 0px 12px",maxWidth:"40%",width:"40%"},valueDefault:{color:"grey",padding:"0 5px"},valueNone:{color:"grey",textDecoration:"line-through"}}}));const ng=Kh;var rg=function(n){var r=n.item,o=n.allowEdit,a=n.allowDelete,i=n.type,c=n.handleParameterEditModal,s=n.handleParameterDeleteModal,l=tg(),u=!o,d=function(e,t){return t===$?JSON.stringify(e):e},p=(0,e.useCallback)((function(){c(r,i,u)}),[r,i,c,u]),f=(0,e.useCallback)((function(){s(r,i)}),[r,i,s]),m=(0,e.useCallback)((function(e){return e.value===Z||null===e.value?t().createElement(b.Typography,{component:"div",className:"".concat(l.valueDefault," ").concat(l.valueContainer)},d(e.defaultValue,e.type)):e.value===Q?t().createElement(b.Typography,{component:"div",className:"".concat(l.valueNone," ").concat(l.valueContainer)},d(e.defaultValue,e.type)):t().createElement(b.Typography,{component:"div",className:l.valueContainer},d(e.value,e.type))}),[l.valueDefault,l.valueContainer,l.valueNone]);return t().createElement(b.Typography,{component:"div",className:l.rowContainer},t().createElement(b.Typography,{component:"div",className:"".concat(l.keyContainer," ").concat(r.value===Q?l.valueNone:"")},r.key),m(r),(o||u)&&t().createElement(sr(),{"data-testid":"input_edit",onClick:p,size:"small"},u?t().createElement(zh(),null):t().createElement(dl(),null)),a&&t().createElement(sr(),{"data-testid":"input_delete",onClick:f,size:"small"},t().createElement(ri(),null)))};rg.propTypes={item:Ht().object.isRequired,type:Ht().string.isRequired,handleParameterEditModal:Ht().func,handleParameterDeleteModal:Ht().func,allowDelete:Ht().bool,allowEdit:Ht().bool},rg.defaultProps={allowDelete:!1,allowEdit:!1};const og=rg;var ag=function(n){var r=n.list,o=n.allowSearch,a=n.allowEdit,i=n.allowDelete,c=(0,e.useState)(""),s=Gt()(c,2),l=s[0],u=s[1],d=eg();return t().createElement(b.Typography,{component:"div",className:d.root},o&&t().createElement("div",{className:d.searchHolder},t().createElement(Tl,{onSearch:function(e){return u(e)}})),Rl(l,r).sort((function(e,t){return e.key.localeCompare(t.key)})).map((function(e,r){return t().createElement(og,ct()({"data-testid":"section_key-value-row"},n,{key:r,item:e,allowEdit:!e.invalid&&a,allowDelete:e.invalid||i}))})))};ag.propTypes={list:Ht().array.isRequired,allowSearch:Ht().bool,allowDelete:Ht().bool},ag.defaultProps={allowSearch:!1,allowDelete:!1};const ig=ag,cg=require("@material-ui/icons/VisibilityOff");var sg=o.n(cg),lg=function(n){var r=n.item,o=r.id,a=r.name,i=r.enabled,c=n.editable,s=n.model,l=n.editGroupName,u=n.handleGroupVisibility,d=Uh(),p=(0,H.useTranslation)().t,f=(0,e.useCallback)((function(){u(o,i),s.current.toggleGroupVisibility(o,!i)}),[s,i,o,u]),m=(0,e.useCallback)((function(){l((function(e){return s.current.editGroup(o,{name:e})}),a)}),[s,a,o,l]),v=(0,e.useCallback)((function(){s.current.deleteGroup(o)}),[s,o]);return t().createElement(b.Typography,{component:"div",className:d.groupRow},t().createElement(b.Tooltip,{title:a},t().createElement(b.Typography,{component:"div",className:"".concat(d.itemValue," ").concat(d.groupItem)},a)),t().createElement(b.IconButton,{"data-testid":"input_toggle-visibility",onClick:f},i&&t().createElement(zh(),{fontSize:"small",color:"primary"}),!i&&t().createElement(sg(),{fontSize:"small",color:"disabled"})),c&&t().createElement(b.Tooltip,{title:p("EditGroup")},t().createElement(b.IconButton,{"data-testid":"input_edit",onClick:m},t().createElement(dl(),{fontSize:"small"}))),c&&t().createElement(b.Tooltip,{title:p("DeleteGroup")},t().createElement(b.IconButton,{"data-testid":"input_delete",onClick:v},t().createElement(ri(),{fontSize:"small"}))))};lg.propTypes={model:Ht().object.isRequired,item:Ht().object.isRequired,editGroupName:Ht().func.isRequired,editable:Ht().bool};const ug=lg;var dg=function(n){var r=n.name,o=n.model,a=n.details,i=n.editable,c=n.call,s=n.handleGroupVisibility,l=(0,e.useState)(0),u=Gt()(l,2),d=u[0],p=u[1],f=Bs({instance:o,propsData:a,keysToDisconsider:Gp.KEYS_TO_DISCONSIDER}).data,m=ng(),v=(0,H.useTranslation)().t,h=(0,e.useCallback)((function(e,t,n){var r={string:function(){return n?JSON.stringify(e):e},boolean:function(){return e.toString()}};return t in r?r[t]():e}),[]),g=(0,e.useCallback)((function(){var e=[],t=(null==f?void 0:f.parameters)||{};return Object.keys(t).forEach((function(t){var n,r,o,a,i=(null===(n=f.parameters)||void 0===n||null===(r=n[t])||void 0===r?void 0:r.value)||"",c=(null===(o=f.parameters)||void 0===o||null===(a=o[t])||void 0===a?void 0:a.type)||re;e.push({key:t,value:h(i,c,!0)})})),e}),[null==f?void 0:f.parameters,h]),y=(0,e.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={size:"sm",title:v(t?"EditGroup":"AddGroup"),inputLabel:v("GroupName"),value:t,onValidation:function(e){try{return{result:xt(e),error:""}}catch(e){return{result:!1,error:e.message}}},onSubmit:e};c(pe.DIALOG.NAME,pe.DIALOG.CALL.FORM_DIALOG,n)}),[c,v]),E=(0,e.useCallback)((function(e,t){var n=t.name;try{if(!n)throw new Error(We.NAME_IS_MANDATORY);if(!G.Utils.validateEntityName(n,[]))throw new Error(We.INVALID_NAME);if(e!==n&&o.current.getParameter(n))throw new Error(We.MULTIPLE_ENTRIES_WITH_SAME_NAME)}catch(e){return Promise.resolve({result:!1,error:e.message})}return Promise.resolve({result:!0,data:{oldName:e,newData:t}})}),[o]),A=(0,e.useCallback)((function(e,t){""===e?o.current.addParameter(t.name,t):o.current.updateKeyValueItem("parameters",t,e)}),[o]),O=(0,e.useCallback)((function(e){var t=o.current.getParameter(e)||Ee,n={onSubmit:function(e){return A(t.name,e)},nameValidation:function(e){return E(t.name,e)},renderType:!0,title:v("Parameter"),data:t,call:c};c(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM_DIALOG,n,zu)}),[o,c,E,A,v]),C=(0,e.useCallback)((function(e){var t=parseInt(e.currentTarget.dataset.menuId);p((function(e){return e===t?0:t}))}),[]),w=(0,e.useCallback)((function(){var e={size:"md",multiline:!0,title:v("EditDescription"),inputLabel:v("Description"),value:o.current.getDescription(),onSubmit:function(e){return o.current.setDescription(e)}};c(pe.DIALOG.NAME,pe.DIALOG.CALL.FORM_DIALOG,e)}),[o,c,v]),D=(0,e.useCallback)((function(){O()}),[O]),k=(0,e.useCallback)((function(e){var t=e.key;O(t)}),[O]),P=(0,e.useCallback)((function(e){var t=e.key,n=e.value,r={submitText:v("Delete"),title:v("ConfirmDeleteParam",{paramName:t}),onSubmit:function(){return o.current.deleteParameter(t)},message:v("ParameterDeleteConfirmationMessage",{paramName:t,value:n})};c(pe.DIALOG.NAME,pe.DIALOG.CALL.CONFIRMATION,r)}),[o,c,v]),N=(0,e.useCallback)((function(){y((function(e){return o.current.addGroup(e)}))}),[y,o]),R=(0,e.useCallback)((function(){return f.description?t().createElement(b.Typography,{className:"".concat(m.itemValue," ").concat(m.description)},f.description):t().createElement(b.Typography,{className:"".concat(m.itemValue," ").concat(m.disabled)},"N/A")}),[m,f.description]),T=(0,e.useCallback)((function(){var e=g();return e.length?t().createElement(b.Typography,{component:"div",className:m.parametersContainer},t().createElement(ig,{list:e,allowDelete:i,allowEdit:i,handleParameterDeleteModal:P,handleParameterEditModal:k,type:"params",allowSearch:!0})):t().createElement(b.Typography,{className:"".concat(m.itemValue," ").concat(m.disabled)},v("NoParameters"))}),[m,i,g,P,k,v]),S=(0,e.useCallback)((function(){var e=Object.values(f.groups||{});return e.length?e.map((function(e){return t().createElement(ug,{"data-testid":"section_group-item",key:e.id,item:e,model:o,editGroupName:y,editable:i,handleGroupVisibility:s})})):t().createElement(b.Typography,{className:"".concat(m.itemValue," ").concat(m.disabled)},v("NoGroups"))}),[m,f.groups,o,i,y,s,v]);return t().createElement(b.Typography,{"data-testid":"section_flow-details-menu",component:"div"},t().createElement(Fs,{name:r,details:f.details||{}}),t().createElement(b.List,null,t().createElement(b.ListItem,{"data-testid":"input_description-expand",button:!0,"data-menu-id":1,onClick:C},t().createElement(b.ListItemText,{primary:v("Description")}),t().createElement(b.IconButton,{"data-testid":"input_description-edit",disabled:!i,onClick:function(e){e.stopPropagation(),w()}},t().createElement(dl(),null)),1===d?t().createElement(ll(),null):t().createElement(ci(),null)),t().createElement(b.Collapse,{in:1===d,unmountOnExit:!0},R(),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_parameters-expand",button:!0,"data-menu-id":2,onClick:C},t().createElement(b.ListItemText,{primary:v("Parameters")}),t().createElement(b.IconButton,{"data-testid":"input_parameters-add",disabled:!i,onClick:function(e){e.stopPropagation(),D()}},t().createElement(Po(),null)),2===d?t().createElement(ll(),null):t().createElement(ci(),null)),t().createElement(b.Collapse,{"data-testid":"section_parameters-table",in:2===d,unmountOnExit:!0},T(),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_groups-expand",button:!0,"data-menu-id":3,onClick:C},t().createElement(b.ListItemText,{primary:v("Groups")}),t().createElement(b.IconButton,{"data-testid":"input_groups-add",disabled:!i,onClick:function(e){e.stopPropagation(),N()}},t().createElement(Po(),null)),3===d?t().createElement(ll(),null):t().createElement(ci(),null)),t().createElement(b.Collapse,{"data-testid":"section_groups-table",in:3===d,unmountOnExit:!0},S(),t().createElement(b.Divider,null))))};dg.propTypes={name:Ht().string.isRequired,model:Ht().object.isRequired,details:Ht().object.isRequired,call:Ht().func.isRequired,handleGroupVisibility:Ht().func.isRequired,editable:Ht().bool};const pg=dg,fg=function(n){var r=n.scope,o=n.name,a=n.openDoc,i=n.children,c=ng(),s=(0,e.useCallback)((function(e){a({name:o,scope:r,ctrlKey:e.ctrlKey})}),[a,o,r]);return t().createElement(b.Link,{"data-testid":"input_link",component:"button",className:c.link,onClick:s},i)};var mg=function(e){var n=e.id,r=e.template,o=e.model,a=e.type,i=e.openDoc,c=e.label,s=_h(),l=(0,H.useTranslation)().t;return t().createElement(t().Fragment,null,t().createElement("h2",{className:s.header},n),t().createElement(b.ListItem,{divider:!0},t().createElement(b.ListItemText,{primary:l(c)}),t().createElement(fg,{"data-testid":"section_node-link",name:r,scope:o,openDoc:i},r)),t().createElement(b.ListItem,{divider:!0},t().createElement(b.ListItemText,{primary:l("Scope-Colon")}),t().createElement(b.Typography,null,o)),t().createElement(b.ListItem,{divider:!0},t().createElement(b.ListItemText,{primary:l("Type-Colon")}),t().createElement(b.Typography,null,a)))};mg.propTypes={id:Ht().string,template:Ht().string,label:Ht().string,model:Ht().string,type:Ht().string,openDoc:Ht().func},mg.defaultProps={id:"",template:"-",model:"-",type:"-",label:"NameColon",openDoc:function(){return Pt("openDoc")}};const vg=mg;var hg=function(n){var r=n.openDoc,o=n.templateData,a=n.protectedDocs,i=(0,e.useState)([]),c=Gt()(i,2),s=c[0],l=c[1],u=(0,e.useState)([]),d=Gt()(u,2),p=d[0],f=d[1],m=Jh(),v=(0,H.useTranslation)().t,h=(0,e.useCallback)((function(e){var t=[],n=[];Object.keys(e).forEach((function(r){var o=e[r],a=Object.values(o.portIn),i=Object.values(o.portOut),c=a.map((function(e){return e.callback})).filter((function(e){return e}));a.some((function(){return t.push({name:r,value:c})})),i.some((function(){return n.push({name:r})}))})),l(t),f(n)}),[]),g=(0,e.useCallback)((function(e,n){return a.includes(e)?t().createElement(b.Typography,{key:"".concat(e,"_").concat(n),className:"".concat(m.portCallbackLink," ").concat(m.disabled)},e):t().createElement(b.Tooltip,{key:"".concat(e,"_").concat(n),placement:"bottom-start",className:m.portCallbackLink,title:v("OpenCallbackName",{callbackName:e})},t().createElement("span",null,t().createElement(b.Link,{"data-testid":"input_open-callback",component:"button",onClick:function(t){r({scope:oe,name:e,ctrlKey:t.ctrlKey})}},e)))}),[a,m,r,v]),y=(0,e.useCallback)((function(e){return e.map((function(e,n){var r;return t().createElement(b.Typography,{"data-testid":"section_port",key:"".concat(e.name,"_").concat(n),component:"div",className:m.portRow},t().createElement(b.Typography,{component:"div",className:m.portName},e.name),null===(r=e.value)||void 0===r?void 0:r.map(g),t().createElement(b.Divider,null))}))}),[m,g]);return(0,e.useEffect)((function(){h(o)}),[h,o]),t().createElement(t().Fragment,null,t().createElement(b.Typography,{component:"div",className:m.detailsSection},v("Ports-Colon")),t().createElement(b.Typography,{component:"div",className:m.detailsContent},t().createElement(b.Typography,{component:"div"},s.length>0&&t().createElement(t().Fragment,null,t().createElement("div",{className:m.detailRow},t().createElement("div",{className:"icon-in ".concat(m.portIcon)}),t().createElement("div",{className:"content"},v("Inputs"))),y(s)),p.length>0&&t().createElement(t().Fragment,null,t().createElement("div",{className:m.detailRow},t().createElement("div",{className:"icon-out ".concat(m.portIcon)}),t().createElement("div",{className:"content"},v("Outputs"))),y(p)))))};hg.propTypes={openDoc:Ht().func.isRequired,templateData:Ht().object,protectedDocs:Ht().array},hg.defaultProps={templateData:{},protectedDocs:[]};const gg=hg;var yg=function(n){var r=n.name,o=n.title,a=n.options,i=n.value,c=n.templateValue,s=n.editable,l=n.onChangeProperties,u=(0,H.useTranslation)().t,d=Xh(),p=(0,e.useCallback)((function(e){var t=e.currentTarget.dataset.prop;l(t,e.target.value)}),[l]),f=(0,e.useCallback)((function(e){return e?"(".concat(u("Default"),")"):""}),[u]);return t().createElement(b.Grid,{item:!0,xs:12,className:d.gridAlign},t().createElement(b.FormControl,{fullWidth:!0},t().createElement(b.InputLabel,null,o),t().createElement(b.Select,{value:i,onChange:p,disabled:!s},a.map((function(e,n){return t().createElement(b.MenuItem,{key:"properties-options-"+n,value:e.value,"data-prop":r},"".concat(e.text," ").concat(f(e.value===c)))})))))};yg.propTypes={title:Ht().string.isRequired,value:Ht().any.isRequired,onChangeProperties:Ht().func.isRequired,name:Ht().string,options:Ht().array,templateValue:Ht().any,editable:Ht().bool};const bg=yg;var Eg=function(n){var r=n.editable,o=n.onChangeProperties,a=n.templateData,i=n.nodeInstance,c=(0,H.useTranslation)().t,s=(0,e.useMemo)((function(){return{persistent:{title:c("Persistent"),options:[{text:c("IsPersistent"),value:!0},{text:c("NotPersistent"),value:!1}]},remappable:{title:c("Remappable"),options:[{text:c("IsRemappable"),value:!0},{text:c("NotRemappable"),value:!1}]},launch:{title:c("Launch"),options:[{text:c("ToLaunch"),value:!0},{text:c("NotToLaunch"),value:!1}]}}}),[c]);return Object.entries(s).map((function(e){var n=Gt()(e,2),c=n[0],s=n[1];return t().createElement(bg,{key:"properties-item-"+c,title:s.title,options:s.options,name:c,value:i[c],templateValue:a[c],editable:r,onChangeProperties:o})}))};Eg.propTypes={templateData:Ht().object.isRequired,nodeInstance:Ht().object.isRequired,onChangeProperties:Ht().func.isRequired,editable:Ht().bool},Eg.defaultProps={editable:!1};const Ag=Eg;var Og=function(n){var r=n.editable,o=n.deletable,a=n.handleTableKeyEdit,i=n.handleTableKeyDelete,c=n.instanceValues,s=n.templateValues,l=n.varName,u=(0,e.useState)([]),d=Gt()(u,2),p=d[0],f=d[1],m=$h(),v=(0,H.useTranslation)().t,h=(0,e.useCallback)((function(){var e=[];D()(new Set([].concat(D()(Object.keys(s)),D()(Object.keys(c))))).forEach((function(t){var n,r,o,a,i=null===(n=c[t])||void 0===n?void 0:n.value,l=null===(r=s[t])||void 0===r?void 0:r.type,u=null===(o=s[t])||void 0===o?void 0:o.value,d=(null===(a=s[t])||void 0===a?void 0:a.description)||"",p=t in c&&!(t in s);e.push({key:t,value:i,description:d,defaultValue:u,invalid:p,type:l})})),f(e)}),[c,s]);return(0,e.useEffect)((function(){h()}),[h]),p.length>0?t().createElement(b.Typography,{component:"div",className:m.parametersContainer},t().createElement(ig,{list:p,allowEdit:r,allowDelete:o,handleParameterEditModal:a,handleParameterDeleteModal:i,type:l,allowSearch:!0})):t().createElement(b.Typography,{className:"".concat(m.itemValue," ").concat(m.disabled)},v(he[l.toUpperCase()]))};Og.propTypes={varName:Ht().string.isRequired,handleTableKeyEdit:Ht().func.isRequired,instanceValues:Ht().object.isRequired,handleTableKeyDelete:Ht().func,templateValues:Ht().object,editable:Ht().bool,deletable:Ht().bool},Og.defaultProps={editable:!1,deletable:!1};const Cg=Og,wg=require("@material-ui/icons/Layers");var Dg=o.n(wg);const kg=require("@material-ui/icons/LayersClear");var Pg=o.n(kg),Ng=function(n){var r=n.nodeGroups,o=n.flowGroups,a=n.handleBelongGroup,i=(0,e.useState)([]),c=Gt()(i,2),s=c[0],l=c[1],u=Wh(),d=(0,H.useTranslation)().t;return(0,e.useEffect)((function(){l(Object.values(o))}),[o]),s.length?t().createElement(b.Typography,{component:"div",className:u.parametersContainer},s.map((function(e){var n=e.id,o=e.name,i=r.includes(n);return t().createElement(b.Typography,{component:"div",className:u.groupRow,key:n},t().createElement(b.Tooltip,{title:o},t().createElement(b.Typography,{component:"div",className:"".concat(u.itemValue," ").concat(u.groupItem)},o)),t().createElement(b.IconButton,{"data-testid":"input_belong-group",onClick:function(){return a(n,!i)}},i&&t().createElement(Dg(),{fontSize:"small",color:"primary"}),!i&&t().createElement(Pg(),{fontSize:"small",color:"disabled"})))}))):t().createElement(b.Typography,{className:"".concat(u.itemValue," ").concat(u.disabled)},d("NoGroups"))};Ng.propTypes={handleBelongGroup:Ht().func.isRequired,nodeGroups:Ht().array,flowGroups:Ht().object},Ng.defaultProps={nodeGroups:[],flowGroups:{}};const Rg=Ng;function Tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tg(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xg=(0,e.memo)((function(n){var r=n.nodeInst,o=n.call,a=n.openDoc,i=n.editable,c=n.flowModel,s=n.groupsVisibilities,l=r.data,u=(0,e.useState)({}),d=Gt()(u,2),p=d[0],f=d[1],m=(0,e.useState)(0),v=Gt()(m,2),h=v[0],g=v[1],y=(0,e.useState)({}),E=Gt()(y,2),A=E[0],O=E[1],w=(0,e.useState)([]),D=Gt()(w,2),k=D[0],P=D[1],N=Zh(),R=(0,H.useTranslation)().t,T=(0,e.useCallback)((function(e){var t=parseInt(e.currentTarget.dataset.menuId);g((function(e){return e===t?0:t}))}),[]),S=(0,e.useCallback)(C()(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=c.current.getNodeInstanceItem(l.id))){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:"Flow",name:r.parent.data.ContainerFlow});case 5:return n=e.sent,e.abrupt("return",n.getNodeInstanceItem(l.id));case 7:case"end":return e.stop()}}),e)}))),[l.id,r,c,o]),x=function(e){O(e.serialize())},I=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t){var n,r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.varName,e.next=3,S();case 3:(r=e.sent).getKeyValue(n,t.name)?t.value===Z?r.deleteKeyValue(n,t.name):r.updateKeyValueItem(n,t):r.addKeyValue(n,t),x(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[S]),L=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t,n){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(r=e.sent).deleteKeyValue(n,t),x(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[S]);(0,e.useEffect)((function(){var e=function(){var e=C()(F().mark((function e(){var t;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_STORE,oe).then((function(e){P(e.protectedDocs)}))}),[S,o]),(0,e.useEffect)((function(){var e=null==l?void 0:l.Template;null!=l&&l.Template&&o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{name:e,scope:l.model}).then((function(e){f(e.serialize())}))}),[l,o]);var M=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t,n){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:(r=e.sent).updateKeyValueProp(t,n),x(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[S]),j=(0,e.useCallback)((function(e,t,n){var r,a=R(ge[t.toUpperCase()]),i=Sg(Sg({},e),{},{varName:t,type:null!==(r=e.type)&&void 0!==r?r:re,name:e.key,paramType:a}),c={onSubmit:I,title:R("EditParamType",{paramType:a}),data:i,showDefault:!n,showValueOptions:!0,showDescription:!n,disableName:!0,disableType:!0,disableDescription:!0,preventRenderType:t!==fe,disabled:n,call:o};o(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM_DIALOG,c,zu)}),[o,I,R]),B=(0,e.useCallback)((function(e,t){var n=e.key;o(pe.DIALOG.NAME,pe.DIALOG.CALL.CONFIRMATION,{submitText:R("Delete"),title:R("DeleteDocConfirmationTitle"),onSubmit:function(){return L(n,t)},message:R("DeleteKeyConfirmationMessage",{key:n})})}),[o,L,R]),z=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t,n){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,n?r.addGroup(t):r.removeGroup(t),s(),x(r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[s,S]),G=(0,e.useCallback)((function(e){return h===e?t().createElement(ll(),null):t().createElement(ci(),null)}),[h]);return t().createElement(b.Typography,{"data-testid":"section_flow-node-menu",component:"div",className:N.root},t().createElement(vg,{id:l.id,model:l.model,template:l.Template,label:"TemplateName-Colon",type:p.type,openDoc:a}),t().createElement(gg,{openDoc:a,templateData:p.ports,protectedDocs:k}),A&&t().createElement(t().Fragment,null,t().createElement(b.ListItem,{"data-testid":"input_properties-expand",button:!0,"data-menu-id":1,onClick:T},t().createElement(b.ListItemText,{primary:R("Properties")}),G(1)),t().createElement(b.Collapse,{in:1===h,unmountOnExit:!0},t().createElement(b.Grid,{container:!0,className:N.gridContainer},t().createElement(Ag,{editable:i,templateData:p,nodeInstance:A,onChangeProperties:M})),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_parameters-expand",button:!0,"data-menu-id":2,onClick:T},t().createElement(b.ListItemText,{primary:R("Parameters")}),G(2)),t().createElement(b.Collapse,{in:2===h,unmountOnExit:!0},t().createElement(Cg,{editable:i,varName:fe,instanceValues:A.parameters||{},templateValues:p.parameters,handleTableKeyEdit:j,handleTableKeyDelete:B}),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_env-var-expand",button:!0,"data-menu-id":3,onClick:T},t().createElement(b.ListItemText,{primary:R("EnvVars")}),G(3)),t().createElement(b.Collapse,{in:3===h,unmountOnExit:!0},t().createElement(Cg,{editable:i,varName:me,instanceValues:A.envVars||{},templateValues:p.envVars,handleTableKeyEdit:j,handleTableKeyDelete:B}),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_cmd-line-expand",button:!0,"data-menu-id":4,onClick:T},t().createElement(b.ListItemText,{primary:R("CommandLine")}),G(4)),t().createElement(b.Collapse,{in:4===h,unmountOnExit:!0},t().createElement(Cg,{editable:i,varName:ve,instanceValues:A.commands||{},templateValues:p.commands,handleTableKeyEdit:j,handleTableKeyDelete:B}),t().createElement(b.Divider,null)),t().createElement(b.ListItem,{"data-testid":"input_group-expand",button:!0,"data-menu-id":5,onClick:T},t().createElement(b.ListItemText,{primary:R("Group")}),G(5)),t().createElement(b.Collapse,{in:5===h,unmountOnExit:!0},t().createElement(Rg,{"data-testid":"section_node-group-section",flowGroups:c.current.getGroups().serialize(),nodeGroups:A.groups,handleBelongGroup:z}),t().createElement(b.Divider,null))))}));xg.propTypes={nodeInst:Ht().object.isRequired,flowModel:Ht().object.isRequired,call:Ht().func.isRequired,openDoc:Ht().func.isRequired,groupsVisibilities:Ht().func.isRequired,editable:Ht().bool},xg.defaultProps={editable:!0};const Ig=xg,Lg=require("@material-ui/icons/Grain");var Mg=o.n(Lg);const jg=require("@material-ui/core/FormControl");var Bg=o.n(jg);const zg=require("@material-ui/core/Select");var Fg=o.n(zg);const Gg=require("@material-ui/core/MenuItem");var Vg=o.n(Gg);const Yg=require("@material-ui/core/AppBar");var Hg=o.n(Yg);const qg=require("@material-ui/core/Toolbar");var Kg=o.n(qg);const Ug=require("@material-ui/icons/PlayArrow");var Wg=o.n(Ug);const Xg=require("@material-ui/icons/Stop");var _g=o.n(Xg);function Zg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zg(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jg=(0,c.makeStyles)((function(e){return{buttonPill:{borderRadius:"99px"}}})),$g=(0,c.makeStyles)((function(e){return{flowLink:{textDecoration:"underline",cursor:"pointer"},defaultRobot:{fontWeight:"bold"},formControl:{margin:e.spacing(1),minWidth:170,maxWidth:350,"& i":{marginRight:15}},whichFlowText:{marginLeft:e.spacing(5),fontSize:"15px",flexGrow:1},searchFlowArea:{marginRight:e.spacing(3)},searchInputText:{width:"200px"},searchPopup:{width:"fit-content"},visualizationToggle:{marginRight:"10px"},grow:{flexGrow:1},treeIcon:{fontSize:"1.2rem"}}}));function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ny=function(n){var r=n.options,o=n.onChange,a=n.onEnabled,i=n.onDisabled,c=n.visible,s=$g(),l=(0,H.useTranslation)().t,u=(0,e.useCallback)((function(e,t){return o(t)}),[o]),d=(0,e.useCallback)((function(){if(!c)return a();i()}),[c,a,i]),p=(0,e.useCallback)((function(e){return t().createElement(b.Popper,ct()({},e,{className:s.searchPopup,placement:"bottom-start"}))}),[s.searchPopup]),f=(0,e.useCallback)((function(e){return t().createElement(b.TextField,ct()({},e,{variant:"standard",placeholder:l("SearchNode"),className:s.searchInputText,autoFocus:!0,InputProps:ty(ty({},e.InputProps),{},{startAdornment:t().createElement(t().Fragment,null,t().createElement(b.InputAdornment,{position:"start"},t().createElement(Ya(),null)),e.InputProps.startAdornment)})}))}),[s.searchInputText,l]);return c?t().createElement(bs.Autocomplete,{"data-testid":"input_search-flow-text",options:r,getOptionLabel:function(e){return e.name},onChange:u,onBlur:d,onFocus:a,groupBy:function(e){return l(e instanceof Pp?"Node":"SubFlow")},PopperComponent:p,renderInput:f}):t().createElement(b.IconButton,{testId:"input_search-icon",onClick:d,size:"small",variant:"contained"},t().createElement(Ya(),{color:"action"}))};ny.propTypes={visible:Ht().bool,options:Ht().arrayOf(Ht().string),onChange:Ht().func,onEnabled:Ht().func,onDisabled:Ht().func};const ry=ny;function oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oy(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iy="backend.FlowTopBar",cy=(0,e.forwardRef)((function(e,n){var r=e.disabled,o=e.onClick,a=e.children,i=e.testId,c=void 0===i?"input_top-bar":i,s=Jg();return t().createElement(b.Button,{"data-testid":c,ref:n,size:"small",color:"primary",variant:"contained",disabled:r,className:s.buttonPill,onClick:o},a)})),sy=function(n){var r=n.call,o=n.alert,a=n.scope,i=n.loading,c=n.mainInterface,s=n.id,u=n.name,d=n.onRobotChange,p=n.onViewModeChange,f=n.viewMode,m=n.searchProps,v=n.confirmationAlert,h=(0,e.useState)(!1),g=Gt()(h,2),y=g[0],E=g[1],A=(0,e.useState)(""),O=Gt()(A,2),C=O[0],w=O[1],D=(0,e.useState)({}),k=Gt()(D,2),P=k[0],N=k[1],R=$g(),T=(0,H.useTranslation)().t,S=function(t,n,r){var o=t.id,a=t.version,i=t.alert,c=t.nodeStatusUpdated,s=t.nodeCompleteStatusUpdated,l=t.onStartStopFlow,u=(0,e.useState)({activeFlow:"",isOnline:!0}),d=Gt()(u,2),p=d[0],f=d[1],m=(0,e.useMemo)((function(){return new G.RobotManager}),[]),v=(0,e.useRef)(n),h=(0,e.useRef)(Date.now()),g=(0,e.useRef)(cf),y=(0,e.useRef)({}),b=(0,e.useRef)({}),E=(0,e.useCallback)((function(e){return.001*Date.now()-e<=8}),[]),A=(0,e.useCallback)((function(e){var t=e.nodes_lchd||[],n=e.persistent_nodes_lchd?e.persistent_nodes_lchd:[];return t.concat(n)}),[]),O=(0,e.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={};return Object.entries(e).filter((function(e){return 1===e[1]})).forEach((function(e){return r[e[0]]=0})),t.map((function(e){var t=e.split(/__/),r=Gt()(t,1)[0];return n?r:e})).forEach((function(e){return r[e]=1})),r}),[]),C=(0,e.useCallback)((function(e){var t=e?{text:"Robot is online",type:"info"}:{text:"Robot is offline",type:"warning"};e!==p.isOnline&&i({message:t.text,severity:t.type})}),[i,p.isOnline]),w=(0,e.useCallback)((function(){var e={},t={};Object.keys(y.current).forEach((function(t){e[t]=0})),Object.keys(b.current).forEach((function(e){t[e]=0})),y.current=e,b.current=t,c(e),s(t)}),[s,c]),D=(0,e.useCallback)((function(){var e=["-",""].includes(a)?"__UNVERSIONED__":a;return"".concat(o,"/").concat(e)}),[o,a]),k=(0,e.useCallback)((function(e){return D()===e}),[D]),P=(0,e.useCallback)((function(e,t,n,o){var a,s;if(!(Date.now()-h.current<=600)||o){var u=!0,d="",p=null===(a=n[e].Robot)||void 0===a||null===(s=a[t])||void 0===s?void 0:s.Status;if(p){u=E(p.timestamp),d=p.active_flow;var m=u&&k(p.active_flow)?A(p):[],v=O(y.current,m),w=O(b.current,m,!1);(!us()(b.current,w)&&k(d)||g.current!==r)&&(y.current=v,b.current=w,g.current=r,c(w,{isOnline:u,activeFlow:d})),d=u?p.active_flow:"",l(d)}else u&&i({message:"Robot has no 'Status' information",severity:"warning"});C(u),f({isOnline:u,activeFlow:d}),h.current=Date.now()}}),[i,A,O,k,E,c,l,C,r]),N=(0,e.useCallback)((function(e){var t,n=m.getRobot(e),r=null===(t=n.data)||void 0===t?void 0:t.Status;r&&(l(r.active_flow),f((function(e){return Qg(Qg({},e),{},{activeFlow:r.active_flow})}))),n.subscribe({property:"Status",onLoad:function(t){P("value",e,t)},onUpdate:function(t){if("hset"===t.event){if(e!==v.current)return;P("key",e,t)}}})}),[l,m,P]),R=(0,e.useCallback)((function(){v.current&&(w(),m.getRobot(v.current).unsubscribe({property:"Status"}))}),[w,m]);return(0,e.useEffect)((function(){v.current=n}),[n]),(0,e.useEffect)((function(){var e,t;(e=p.activeFlow)===(t=o)||dm(e)===dm(t)||w()}),[p.activeFlow,o,w]),{robotSubscribe:N,robotUnsubscribe:R,getFlowPath:D,robotStatus:p}}(n,C,f),x=S.robotSubscribe,I=S.robotUnsubscribe,L=S.getFlowPath,M=S.robotStatus,j=(0,e.useRef)(),B=(0,e.useRef)(),z=(0,e.useRef)(),F=(0,e.useRef)(),V=(0,e.useRef)(),Y=(0,e.useMemo)((function(){return new G.RobotManager}),[]),q=(0,e.useMemo)((function(){return new Do}),[]),K=(0,e.useCallback)((function(e){I(),x(e)}),[x,I]),U=(0,e.useCallback)((function(){return r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.GET_STORE,a).then((function(e){return B.current=e.helper,e.helper}))}),[r,a]),W=(0,e.useCallback)((function(){return r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:a,name:u}).then((function(e){return V.current=e,e}))}),[r,a,u]),X=(0,e.useCallback)((function(e){w(e),x(e),d(e)}),[d,x]),_=(0,e.useCallback)((function(e,t){e&&X(e),B.current.getDefaultRobot().then((function(n){if(n){N((function(e){return ay(ay({},e),{},l()({},n,ay(ay({},e[n]),{},{isDefault:!0})))}));var r=e;e&&e in t||(q.setSelectedRobot(n),X(n),r=n),w(r)}})).catch((function(e){console.warn("getRunningRobot error",e),o({message:T(We.ERROR_RUNNING_SPECIFIC_CALLBACK,{callbackName:iy}),severity:we})}))}),[X,q,o,T]),Z=(0,e.useCallback)((function(e){var t=q.getSelectedRobot();Object.keys(e).forEach((function(t){lf.includes(e[t].RobotName)&&delete e[t]})),N(e),_(t,e)}),[_,q]);(0,e.useEffect)((function(){return U().then((function(){Y.getAll(Z)})),W(),F.current=!0,function(){I(),F.current=!1}}),[W,U,Z,Y,I]),(0,e.useEffect)((function(){E(!1),clearTimeout(z.current)}),[M.activeFlow,E]);var Q=(0,e.useCallback)((function(e){var t,n=null===(t=c.current)||void 0===t?void 0:t.graph;null==n||n.validateFlow();var r=n.warnings||[],a=n.warningsVisibility,i=r.filter((function(e){return e.isRuntime}));return i.forEach((function(e){n.setPermanentWarnings(e),a||o({message:i[0].message,severity:i[0].type})})),!(i.length&&"START"===e)}),[o,c]),J=(0,e.useCallback)((function(e){w((function(t){var n=e.target.value;return n!==t?(q.setSelectedRobot(n),K(n),d(n),n):t}))}),[K,d,q]),$=(0,e.useCallback)((function(e,t){Q(e)&&(E(!0),B.current.sendToRobot({action:e,flowPath:t||L(),robotId:C}).then((function(t){t&&(z.current=setTimeout((function(){F.current&&(E(!1),o({message:T("FailedFlowAction",{action:T(e.toLowerCase())}),severity:we}))}),1e4))})).catch((function(e){console.warn("Error sending action to robot",e),o({message:T(We.ERROR_RUNNING_SPECIFIC_CALLBACK,{callbackName:iy}),severity:we})})),j.current&&j.current.blur())}),[o,Q,L,C,E,T]),ee=(0,e.useCallback)((function(e){var t,n=null==e||null===(t=e.model)||void 0===t?void 0:t.getUrl();if(""===M.activeFlow)$("START",n);else{var r=T("AnotherFlowRunningConfirmationTitle"),o=T("AnotherFlowRunningConfirmationMessage",{robotName:P[C].RobotName,activeFlow:M.activeFlow,id:s});v({title:r,message:o,submitText:T("Run"),onSubmit:function(){return $("START",n)}})}}),[M.activeFlow,$,T,P,C,s,v]),te=(0,e.useCallback)((function(){$("STOP")}),[$]),ne=(0,e.useCallback)((function(){var e;(null===(e=V.current)||void 0===e?void 0:e.getDirty())?r(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE,{scope:a,name:u},ee):ee()}),[r,ee,u,a]),re=(0,e.useCallback)((function(e,t){p(t)}),[p]),oe=(0,e.useCallback)((function(){return y?t().createElement(b.CircularProgress,{size:25,color:"inherit"}):t().createElement(b.Tooltip,{title:T("StartFlow")},t().createElement(t().Fragment,null,t().createElement(Wg(),null)," ",T("SaveAndRun")))}),[y,T]),ae=(0,e.useCallback)((function(){return y?t().createElement(b.CircularProgress,{size:25,color:"inherit"}):t().createElement(b.Tooltip,{title:T("StopFlow")},t().createElement(_g(),null))}),[y,T]);return t().createElement(Hg(),{"data-testid":"section-flow-top-bar",position:"static",color:"inherit"},t().createElement(Kg(),{variant:"dense"},t().createElement(b.Typography,{component:"div",className:R.grow},t().createElement(Bg(),{className:R.formControl},t().createElement(Fg(),{inputProps:{"data-testid":"input_change-robot"},id:"robot-selector",value:C,startAdornment:t().createElement("i",{className:"icon-Happy"}),onChange:J},Object.keys(P).map((function(e,n){var r=P[e].isDefault;return t().createElement(Vg(),{key:"robotList-".concat(n),value:e,className:r?R.defaultRobot:""},P[e].RobotName)})))),L()===M.activeFlow?t().createElement(cy,{testId:"input_stop-flow",ref:j,disabled:y,onClick:te},ae()):t().createElement(cy,{testId:"input_save-before-start",ref:j,disabled:!M.isOnline||y,onClick:ne},oe())),t().createElement(b.Typography,{"data-testid":"section_view-search",component:"div",className:R.searchFlowArea},t().createElement(ry,m)),t().createElement(b.Typography,{"data-testid":"section_view-mode-toggle",component:"div",className:R.visualizationToggle},t().createElement(bs.ToggleButtonGroup,{exclusive:!0,size:"small",value:f,onChange:re},t().createElement(bs.ToggleButton,{"data-testid":"input_default-flow",value:cf,disabled:i},t().createElement(b.Tooltip,{title:T("DefaultFlowView")},t().createElement(Mg(),{fontSize:"small"}))),t().createElement(bs.ToggleButton,{"data-testid":"input_tree-view-flow",value:sf,disabled:i},t().createElement(b.Tooltip,{title:T("TreeView")},t().createElement("i",{className:"icon-tree ".concat(R.treeIcon)})))))))};sy.propTypes={id:Ht().string,nodeStatusUpdated:Ht().func,onViewModeChange:Ht().func,onStartStopFlow:Ht().func,onRobotChange:Ht().func,openFlow:Ht().func,workspace:Ht().string,type:Ht().string,version:Ht().string,searchProps:Ht().shape({visible:Ht().bool,options:Ht().arrayOf(Ht().string),onChange:Ht().func,onEnabled:Ht().func,onDisabled:Ht().func})},sy.defaultProps={openFlow:function(){return Pt("openFlow")},onRobotChange:function(){return Pt("onRobotChange")},onViewModeChange:function(){return Pt("onViewModeChange")},onStartStopFlow:function(){return Pt("onStartStopFlow")},nodeStatusUpdated:function(){return Pt("nodeStatusUpdated")},workspace:_,type:ae,version:"__UNVERSIONED__"};const ly=sy;function uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uy(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var py=(0,Mf.makeStyles)((function(e){return{bar:{height:"25px",width:"100%",display:"flex",justifyContent:"space-between"},grow:{flexGrow:1},active:{background:e.palette.primary.light,color:"black"},default:{color:"white",background:e.palette.background.primary,borderTop:"solid 1px black"},tooltip:{fontSize:"1em"},action:{cursor:"pointer",width:"fit-content",display:"inline-block",padding:"0 15px",borderRight:"solid 1px ".concat(e.palette.background.secondary),"& i":{marginRight:10,fontSize:"14px"},"&:hover":{filter:"drop-shadow(2px 4px 6px white)"}},actionActive:{filter:"drop-shadow(2px 4px 6px gray)"},alignRight:{display:"flex",alignItems:"center",height:"100%",borderLeft:"solid 1px ".concat(e.palette.background.secondary)},debugToggle:{"&>label":{margin:"0px",height:"27px","&>span":{fontSize:"12px"}}}}})),fy=function(n){var r=(0,e.useState)("default"),o=Gt()(r,2),a=o[0],i=o[1],c=(0,e.useState)({}),s=Gt()(c,2),l=s[0],u=s[1],d=(0,e.useState)(""),p=Gt()(d,2),f=p[0],m=p[1],v=(0,H.useTranslation)().t,h=n.onToggleWarnings,g=n.robotSelected,y=n.runningFlow,E=n.warnings,A=n.warningVisibility,O=n.flowDebugging,C=void 0!==O&&O,w=n.toggleFlowDebug,D=py(),k=(0,e.useCallback)((function(e){u((function(t){var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),dy(dy({},t),n)}))}),[]),P=function(e){return e.replace("/__UNVERSIONED__","")},N=(0,e.useCallback)((function(){E.length&&h(!A)}),[E,h,A]);return(0,e.useEffect)((function(){var e=new G.RobotManager;e.getAll((function(e){return u(e)}));var t=e.subscribeToChanges(k);return function(){e.unsubscribeToChanges(t)}}),[k]),(0,e.useEffect)((function(){var e=y?"active":"default";if(i(e),g&&"active"===e){var t,n=(null===(t=l[g])||void 0===t?void 0:t.RobotName)||"";m(n)}}),[g,l,y]),t().createElement(b.Typography,{"data-testid":"section_flow-bottom-bar",component:"div",className:"".concat(D.bar," ").concat(D[a])},t().createElement(b.Typography,{component:"div",className:D.debugToggle,"data-testid":"section_flow-toggle-debug"},t().createElement(b.Tooltip,{title:v("ToggleFlowDebugDescription")},t().createElement(b.FormControlLabel,{control:t().createElement(b.Switch,{inputProps:{"data-testid":"input_toggle-debug"},checked:C,onChange:w,name:"toggleFlowDebug",color:"primary"}),label:v("ToggleFlowDebug")}))),t().createElement(b.Typography,{component:"div"},y&&t().createElement(b.Tooltip,{classes:{tooltip:D.tooltip},title:"The selected robot is running: ".concat(P(y))},t().createElement(b.Typography,{"data-testid":"input_open-flow",component:"div",className:D.action,onClick:function(e){return t=e,o=(r=new G.Document({path:y})).workspace,a=r.type,i=r.name,c=r.version,void n.openFlow({id:i,scope:a,workspace:o,name:i,version:c,ctrlKey:t.ctrlKey});var t,r,o,a,i,c}},t().createElement("i",{className:"icon-Happy"}),f," : ",P(y))),t().createElement(b.Tooltip,{title:"Show warnings",classes:{tooltip:D.tooltip}},t().createElement(b.Typography,{"data-testid":"input_show-warnings",component:"div",className:"".concat(D.action," ").concat(D.alignRight," ").concat(A?D.actionActive:""),onClick:N},t().createElement(Dn(),{fontSize:"small"})," ",E.length))))};fy.propTypes={openFlow:Ht().func,toggleFlowDebug:Ht().func,robotSelected:Ht().string,runningFlow:Ht().string,flowDebugging:Ht().bool},fy.defaultProps={openFlow:function(){return Pt("openFlow")},robotSelected:"",runningFlow:""};const my=fy,vy=require("@material-ui/icons/ToggleOn");var hy=o.n(vy);const gy=require("@material-ui/core/Menu");var yy=o.n(gy);const by=require("@material-ui/core/ListItemIcon");var Ey=o.n(by);const Ay=require("@material-ui/core/ListItemText");var Oy=o.n(Ay),Cy=function(n){var r=n.anchorPosition,o=n.menuList,a=n.onClose,i=n.readOnly,c=(0,e.useCallback)((function(e){var t,n=e.clientX,r=e.clientY,o=document.elementsFromPoint(n,r),a=new MouseEvent("contextmenu",{view:window,bubbles:!0,cancelable:!0,clientX:n,clientY:r});null===(t=o[2])||void 0===t||t.dispatchEvent(a)}),[]);return t().createElement(yy(),{onContextMenu:c,"data-testid":"section_context-menu",anchorReference:"anchorPosition",anchorPosition:r,open:Boolean(r),onClose:a},o.map((function(e,n){return t().createElement(Vg(),{"data-testid":"input_context-option",onClick:e.onClick,disabled:i,key:n},e.icon&&t().createElement(Ey(),null,e.icon),t().createElement(Oy(),null,e.label||e.element))})))};Cy.propTypes={anchorPosition:Ht().object,menuList:Ht().arrayOf(Ht().shape({icon:Ht().element,element:Ht().element,label:Ht().string,onClick:Ht().func})),onClose:Ht().func,readOnly:Ht().bool},Cy.defaultProps={menuList:[],readOnly:!1,onClose:function(){return Pt("onClose")}};const wy=Cy,Dy=hf,ky=gf,Py="Link",Ny="Port",Ry="Canvas";var Ty=function(e){var n,r=(0,H.useTranslation)().t,o=e.mode,a=e.anchorPosition,i=e.onClose,c=e.onNodeCopy,s=e.onCanvasPaste,u=e.onNodeDelete,d=e.onLinkDelete,p=e.onSubFlowDelete,f=e.onPortToggle,m=function(e){e(),i()},v=[{label:r("Copy"),icon:t().createElement(ai(),null),onClick:function(){return m(c)}},{label:r("Delete"),icon:t().createElement(ri(),null),onClick:function(){return m(u)}}],h=[{label:r("Copy"),icon:t().createElement(ai(),null),onClick:function(){return m(c)}},{label:r("Delete"),icon:t().createElement(ri(),null),onClick:function(){return m(p)}}],g=[{label:r("Delete"),icon:t().createElement(ri(),null),onClick:function(){return m(d)}}],y=[{label:r("ToggleExposed"),icon:t().createElement(hy(),null),onClick:function(){return m(f)}}],b=[{label:r("Paste"),onClick:function(){return m(s)}}];return t().createElement(wy,{anchorPosition:a,menuList:(n={},l()(n,Dy,v),l()(n,Py,g),l()(n,ky,h),l()(n,Ny,y),l()(n,Ry,b),n)[o],onClose:i})};Ty.defaultProps={mode:Dy,anchorPosition:null},Ty.propTypes={mode:Ht().string,anchorPosition:Ht().object,onClose:Ht().func.isRequired,onNodeCopy:Ht().func.isRequired,onCanvasPaste:Ht().func.isRequired,onNodeDelete:Ht().func.isRequired,onLinkDelete:Ht().func.isRequired,onSubFlowDelete:Ht().func.isRequired,onPortToggle:Ht().func.isRequired};const Sy=Ty;function xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ly=function(n){var r=n.nodeInst,o=n.call,a=n.openDoc,i=n.flowModel,c=n.editable,s=(0,e.useState)({}),l=Gt()(s,2),u=l[0],d=l[1],p=(0,e.useState)({}),f=Gt()(p,2),m=f[0],v=f[1],h=(0,e.useState)(!1),g=Gt()(h,2),y=g[0],E=g[1],A=(0,H.useTranslation)().t,O=r.data,w=(0,e.useCallback)(C()(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=i.current.getSubFlowItem(O.id))){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:"Flow",name:r.parent.data.ContainerFlow});case 5:return n=e.sent,e.abrupt("return",n.getSubFlowItem(O.id));case 7:case"end":return e.stop()}}),e)}))),[O.id,r,i,o]),D=function(e){v(e.serialize())},k=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t){var n,r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.varName,e.next=3,w();case 3:(r=e.sent).getKeyValue(n,t.name)?t.value===Z?r.deleteKeyValue(n,t.name):r.updateKeyValueItem(n,t):r.addKeyValue(n,t),D(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]),P=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t,n){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(r=e.sent).deleteKeyValue(n,t),D(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[w]),N=(0,e.useCallback)((function(){E((function(e){return!e}))}),[]),R=(0,e.useCallback)((function(e,t,n){var r,a=A(ge[t.toUpperCase()]),i=Iy(Iy({},e),{},{varName:t,type:null!==(r=e.type)&&void 0!==r?r:re,name:e.key,paramType:a}),c={onSubmit:k,title:A("EditParamType",{paramType:a}),data:i,showDefault:!n,showValueOptions:!0,showDescription:!n,disableName:!0,disableType:!0,disableDescription:!0,preventRenderType:t!==fe,disabled:n,call:o};o(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM_DIALOG,c,zu)}),[o,k,A]),T=(0,e.useCallback)((function(e,t){var n=e.key;o(pe.DIALOG.NAME,pe.DIALOG.CALL.CONFIRMATION,{submitText:A("Delete"),title:A("DeleteDocConfirmationTitle"),onSubmit:function(){return P(n,t)},message:A("DeleteKeyConfirmationMessage",{key:n})})}),[o,P,A]);return(0,e.useEffect)((function(){var e=function(){var e=C()(F().mark((function e(){var t;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[w]),(0,e.useEffect)((function(){var e=null==O?void 0:O.ContainerFlow;e&&o(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{name:e,scope:O.model}).then((function(e){d(e.serialize())}))}),[O,o]),t().createElement("div",{"data-testid":"section_flow-container-menu"},t().createElement(vg,{id:O.id,model:O.model,template:O.ContainerFlow,label:"TemplateName-Colon",type:"Sub-Flow",openDoc:a}),t().createElement(b.ListItem,{"data-testid":"input_toggle-expanded-parameters",button:!0,onClick:N},t().createElement(b.ListItemText,{primary:A("Parameters")}),y?t().createElement(ll(),null):t().createElement(ci(),null)),t().createElement(b.Collapse,{in:y,unmountOnExit:!0},t().createElement(Cg,{editable:c,varName:fe,instanceValues:m.parameters||{},templateValues:u.parameters,handleTableKeyEdit:R,handleTableKeyDelete:T}),t().createElement(b.Divider,null)))};Ly.propTypes={flowModel:Ht().object.isRequired,call:Ht().func.isRequired,openDoc:Ht().func.isRequired,nodeInst:Ht().object.isRequired,editable:Ht().bool},Ly.defaultProps={editable:!1};const My=Ly;var jy=(0,c.makeStyles)((function(e){return{flowExplorerHolder:{height:"100%",display:"flex",flexDirection:"column"},typography:{overflow:"hidden",justifyContent:"center",width:"100%",flex:"1 1 auto"},header:{marginBottom:"6px"}}})),By=(0,c.makeStyles)((function(e){return{previewHolder:{padding:"20px",height:"60px",borderBottom:"1px dashed ".concat(e.icon.color)}}})),zy=function(n){var r=n.flowId,o=n.node,a=n.call,i=By(),c=(0,H.useTranslation)().t,s=(0,e.useRef)("preview_".concat(yf(r))),l=(0,e.useRef)(null),u=(0,e.useCallback)((function(e,t){if(e&&t){var n={Node:ah.OUTPUT.PREV_NODE,Flow:ah.OUTPUT.PREV_FLOW};ah.create(a,n[t],{canvas:{containerId:s.current,setMode:function(){}},node:{Template:e},events:{}}).then((function(e){l.current&&(l.current.innerHTML="",am.select(e.el).append("svg:defs").append("filter").attr("id","shadow-".concat(s.current)).append("feDropShadow").attr("dx","1.5").attr("dy","1.5").attr("stdDeviation","1"),l.current.appendChild(e.el))}))}}),[a]);return(0,e.useEffect)((function(){u(o.name,o.scope)}),[o.name,o.scope,u]),t().createElement("div",{className:i.previewHolder},!o.children&&o.name?t().createElement("div",{id:s.current,ref:l}):t().createElement("p",null,c("PreviewHelperText")))};const Fy=zy;zy.propTypes={flowId:Ht().string,node:Ht().object,call:Ht().func};var Gy=function(n){var r=n.flowId,o=n.call,a=n.on,i=n.emit,c=n.mainInterface,s=jy(),l=(0,e.useState)([]),u=Gt()(l,2),d=u[0],p=u[1],f=(0,e.useState)({}),m=Gt()(f,2),v=m[0],h=m[1],g=(0,e.useRef)(!0);(0,e.useEffect)((function(){c&&c.mode.default.onEnter.subscribe((function(){g.current=!0,h({})}))}),[c]);var y=(0,e.useCallback)((function(e){var t;null!==(t=e.children)&&void 0!==t&&t.length?p(hi(e,d)):(g.current=!1,h(e),i(pe.FLOW_EXPLORER.ON.ADD_NODE,e))}),[d,i]),E=(0,e.useCallback)((function(e){g.current&&h(e)}),[]),A=(0,e.useCallback)((function(e){g.current&&h({})}),[]),O=(0,e.useCallback)((function(e){return p((function(t){return[e.getStore("Node"),e.getStore("Flow")].map((function(e,t){return{id:t,name:e.name,title:e.title,children:e.getDocs().filter((function(e){return!e.isNew})).map((function(e,t){return{id:t,name:e.getName(),title:e.getName(),scope:e.getScope(),url:e.getUrl()}}))}}))}))}),[]);return(0,e.useEffect)((function(){a(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.LOAD_DOCS,O)}),[a,O]),t().createElement(b.Typography,{className:s.flowExplorerHolder,"data-testid":"section_flow-explorer-menu",component:"div"},t().createElement(b.Typography,{component:"div"},t().createElement(Fy,{node:v,flowId:r,call:o})),t().createElement(b.Typography,{component:"div",className:s.typography},d&&t().createElement(yi,{data:d,onClickNode:y,onMouseEnter:E,onMouseLeave:A})))};const Vy=rr(Gy);Gy.propTypes={call:Ht().func.isRequired,on:Ht().func.isRequired};var Yy=function(n){var r=n.link,o=n.editable,a=n.sourceMessage,i=n.flowModel,c=r.data,s=(0,e.useState)(0),l=Gt()(s,2),u=l[0],d=l[1],p=(0,H.useTranslation)().t,f=Qh(),m=(0,e.useCallback)((function(e){return Em.parsePortname(e)}),[]),v=(0,e.useCallback)((function(e){var t=e.target.value;i.current.setLinkDependency(r.data.id,t),d(t),r.setTemporaryDependency(t).changeStrokeColor()}),[i,r]);return(0,e.useEffect)((function(){var e=i.current.getLinkDependency(c.id);d(e)}),[c,i]),t().createElement("div",{"data-testid":"section_flow-link-menu"},t().createElement("h2",null,p("Link")),t().createElement(b.List,{className:f.listHolder,component:"nav"},t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("From")})),t().createElement(b.Collapse,{in:!0},t().createElement(b.Divider,null),t().createElement(b.Typography,{component:"div",className:f.directionContainer},t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("Node-Colon")}),t().createElement(b.Tooltip,{title:c.sourceNode},t().createElement(b.Typography,null,c.sourceNode))),t().createElement(b.Divider,null),t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("Port-Colon")}),t().createElement(b.Tooltip,{title:m(c.sourcePort)},t().createElement(b.Typography,null,m(c.sourcePort)))))),t().createElement(b.Divider,null),t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("To")})),t().createElement(b.Collapse,{in:!0},t().createElement(b.Divider,null),t().createElement(b.Typography,{component:"div",className:f.directionContainer},t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("Node-Colon")}),t().createElement(b.Tooltip,{title:c.targetNode},t().createElement(b.Typography,null,c.targetNode))),t().createElement(b.Divider,null),t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("Port-Colon")}),t().createElement(b.Tooltip,{title:m(c.targetPort)},t().createElement(b.Typography,null,m(c.targetPort)))))),a!==qe&&t().createElement(t().Fragment,null,t().createElement(b.Divider,null),t().createElement(b.ListItem,null,t().createElement(b.ListItemText,{primary:p("LinkDependencies")})),t().createElement(b.Collapse,{in:!0},t().createElement(b.Typography,{component:"div",className:f.dependencyContainer},t().createElement(b.FormControl,{fullWidth:!0},t().createElement(b.InputLabel,null,p("DependenciesLevel")),t().createElement(b.Select,{value:u,onChange:v,disabled:!o,className:f.selectHolder},Object.values(ke).map((function(e){return t().createElement(b.MenuItem,{key:e.VALUE,value:e.VALUE,className:f.infoContainer},t().createElement("p",null,p(e.LABEL)),t().createElement("div",{className:f.colorChip,style:{backgroundColor:e.COLOR}}))}))),t().createElement(b.FormHelperText,null,p("LinkDependenciesHelperText"))))))))};Yy.propTypes={flowModel:Ht().object.isRequired,link:Ht().object.isRequired,editable:Ht().bool,sourceMessage:Ht().string},Yy.defaultProps={editable:!0,sourceMessage:""};const Hy=Yy;var qy=(0,c.makeStyles)((function(){return{root:{marginTop:4,marginBottom:4},listItem:{paddingTop:0,paddingBottom:0},item:{lineHeight:1.2}}})),Ky=function(e){var n=(0,H.useTranslation)().t,r=e.name,o=e.message,a=e.template,i=e.callback,c=qy(),s={name:n("Name"),message:n("Message"),protocol:n("Protocol"),callback:n("Callback")},l={variant:"caption",className:c.item},u=[{primary:s.name,secondary:r},{primary:s.message,secondary:o},{primary:s.protocol,secondary:a}];return i&&u.push({primary:s.callback,secondary:i}),u.map((function(e){return t().createElement(Vr(),{className:c.listItem,key:"".concat("tooltip-fragment-row","-").concat(e.primary)},t().createElement(Oy(),ct()({},e,{primaryTypographyProps:l,secondaryTypographyProps:l,className:c.root})))}))};Ky.propTypes={name:Ht().string,message:Ht().string,template:Ht().string,callback:Ht().string},Ky.defaultProps={name:"",message:"",template:"",callback:null};const Uy=Ky;function Wy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wy(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _y=(0,c.makeStyles)((function(){return{root:{padding:"5px",position:"absolute"},item:{lineHeight:"22px",fontSize:"1rem"}}})),Zy=function(n){var r=_y(),o=(0,H.useTranslation)().t,a=n.anchorPosition,i=n.port,c=o("Port"),s={color:"primary",className:r.item},l=(0,e.useCallback)((function(){var e=i.data,n=e.name,r=e.message,o=e.template,a=e.callback;return t().createElement(Uy,{name:n,message:r,template:o,callback:a})}),[i]);return t().createElement(Fr(),{style:Xy({},a),className:r.root,elevation:14},t().createElement(Ir(),{dense:!0,subheader:t().createElement(t().Fragment,null,t().createElement(Vr(),{key:"".concat("tooltip-fragment-row","-subheader")},t().createElement(Oy(),{primary:c,primaryTypographyProps:s})),t().createElement(b.Divider,null))},l()))};Zy.propTypes={anchorPosition:Ht().shape({left:Ht().number,top:Ht().number}).isRequired,port:Ht().object.isRequired},Zy.defaultProps={};const Qy=Zy;var Jy=function(e){var n=e.invalidLinks,r=Hf(),o=(0,H.useTranslation)().t,a=function(e,n){return t().createElement("p",null,t().createElement("strong",null,o("Node-Colon"))," ",e,t().createElement("br",null),t().createElement("strong",null,o("Port-Colon"))," ",n)};return t().createElement("div",{testid:"section_invalid-links-warning"},t().createElement("div",{className:r.invalidLinksHeader},t().createElement(Gu(),{variant:"h6"},o("SourcePort")),t().createElement(Gu(),{variant:"h6"},o("TargetPort"))),t().createElement("div",{className:r.invalidLinksMessageHolder},n.map((function(e){return t().createElement("div",{key:e.id,className:r.invalidLinkHolder},t().createElement(ir(),{title:a(e.sourceNode,e.sourcePort)},t().createElement("div",null,t().createElement("p",null,t().createElement("strong",null,e.sourceNode),":"),e.sourcePort)),t().createElement(ir(),{title:a(e.targetNode,e.targetPort)},t().createElement("div",null,t().createElement("p",null,t().createElement("strong",null,e.targetNode),":"),e.targetPort)))}))),t().createElement("p",{className:r.fixMessage},o("InvalidLinksFoundMessage")))};Jy.propTypes={invalidLinks:Ht().array.isRequired};const $y=Jy;var eb=function(n){var r,o,a,i=n.subFlowInfo,c=n.call,s=n.closeModal,l=Uf(),u=(0,H.useTranslation)().t,d=(0,e.useCallback)((function(){var e=i.containerNode.templateName,t=ae,n=It({name:e,scope:t});s();var r={id:n,name:e,scope:t};c(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,r)}),[i.containerNode.templateName,s,c]);return t().createElement(ir(),{title:(r=i.containerNode.templateName,o=i.name,a=i.invalidParams,t().createElement(t().Fragment,null,t().createElement("strong",null,u("FlowTemplate-Colon"))," ",r,t().createElement("br",null),t().createElement("strong",null,u("SubFlow-Colon"))," ",o,t().createElement("br",null),t().createElement("strong",null,u("Parameters-Colon")),t().createElement("ul",{className:l.paramsList},a.map((function(e){return t().createElement("li",{key:"".concat(o,"_").concat(e)},e)})))))},t().createElement("div",{"data-testid":"section_invalid-parameter",className:l.invalidParameterHolder},t().createElement("div",null,t().createElement("strong",null,i.name),t().createElement("ul",{className:l.paramsList},i.invalidParams.map((function(e){return t().createElement("li",{key:"".concat(i.id,"_").concat(e)},t().createElement("strong",null,e))})))),t().createElement("div",null,t().createElement(Wt(),{"data-testid":"input_open-template",className:l.linkButton,onClick:d},t().createElement(ir(),{title:u("CloseModalOpenTemplate",{templateName:i.containerNode.templateName})},t().createElement("strong",null,i.containerNode.templateName))))))};eb.propTypes={subFlowInfo:Ht().object.isRequired,call:Ht().func.isRequired,closeModal:Ht().func.isRequired};const tb=eb;var nb=function(e){var n=e.invalidContainerParams,r=e.call,o=e.closeModal,a=qf(),i=(0,H.useTranslation)().t;return t().createElement("div",{testid:"section_invalid-parameters-warning"},t().createElement("p",null,i("InvalidContainersParamMessagePre")),t().createElement("div",{className:a.invalidParametersHeader},t().createElement(Gu(),{variant:"h6"},i("InvalidSubFlowParameters")),t().createElement(Gu(),{variant:"h6"},i("FlowTemplate"))),t().createElement("div",{className:a.invalidParametersMessageHolder},n.map((function(e){return t().createElement(tb,{key:e.id,call:r,closeModal:o,subFlowInfo:e})}))),t().createElement("p",{className:a.postMessage},i("InvalidContainersParamMessagePost")))};nb.propTypes={invalidContainerParams:Ht().array.isRequired};const rb=nb;var ob=function(n){var r,o,a,i=n.exposedPortInfo,c=n.call,s=n.closeModal,l=Uf(),u=(0,H.useTranslation)().t,d=(0,e.useCallback)((function(){var e=i.nodeInst.templateName,t=i.nodeInst.data.model,n=It({name:e,scope:t});s();var r={id:n,name:e,scope:t};c(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,r)}),[i,c,s]);return t().createElement(ir(),{title:(r=i.nodeInst.templateName,o=i.nodeInst.data.id,a=i.invalidPorts,t().createElement(t().Fragment,null,t().createElement("strong",null,u("NodeTemplate-Colon"))," ",r,t().createElement("br",null),t().createElement("strong",null,u("NodeInstance-Colon"))," ",o,t().createElement("br",null),t().createElement("strong",null,u("InvalidExposedPorts-Colon")),t().createElement("ul",null,a.map((function(e){return t().createElement("li",{key:"".concat(o,"_").concat(e)},e)})))))},t().createElement("div",{"data-testid":"section_invalid-parameter",className:l.invalidParameterHolder},t().createElement("div",null,t().createElement("strong",null,i.nodeInst.data.name),t().createElement("ul",null,i.invalidPorts.map((function(e){return t().createElement("li",{key:"".concat(i.nodeInst.data.id,"_").concat(e)},t().createElement("strong",null,e))})))),t().createElement("div",null,t().createElement(Wt(),{"data-testid":"input_open-template",className:l.linkButton,onClick:d},t().createElement(ir(),{title:u("CloseModalOpenTemplate",{templateName:i.nodeInst.templateName})},t().createElement("strong",null,i.nodeInst.templateName))))))};ob.propTypes={exposedPortInfo:Ht().object.isRequired,call:Ht().func.isRequired,closeModal:Ht().func.isRequired};const ab=ob;var ib=function(e){var n=e.invalidExposedPorts,r=e.call,o=e.closeModal,a=Kf(),i=(0,H.useTranslation)().t;return t().createElement("div",{className:a.root,"data-testid":"section_invalid-exposed-ports-warning"},t().createElement("p",null,i("InvalidExposedPortsMessagePre")),t().createElement("div",{className:a.invalidExposedPortsHeader},t().createElement("h5",null,i("InvalidExposedPorts")),t().createElement("h5",null,i("NodeTemplate"))),t().createElement("div",{className:a.invalidExposedPortsMessageHolder},n.map((function(e){return t().createElement(ab,{key:e.nodeInst.data.id,closeModal:o,exposedPortInfo:e,call:r})}))),t().createElement("p",{className:a.postMessage},i("InvalidExposedPortsMessagePost")))};ib.propTypes={invalidExposedPorts:Ht().array.isRequired};const cb=ib;function sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ub(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return db(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?db(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function db(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pb=function(e){I()(u,e);var t,n,r,o,a,i,c,s=(i=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B()(i);if(c){var n=B()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M()(this,e)});function u(e){var t,n=e.mInterface,r=e.canvas,o=e.id,a=e.docManager;return P()(this,u),t=s.call(this,{mInterface:n,canvas:r,id:o,docManager:a}),l()(S()(t),"updateAllPositions",C()(F().mark((function e(){var n,r,o;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ub(t.subFlows),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return o=r.value,e.next=7,o.updateChildrenPosition();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))),l()(S()(t),"onTemplateUpdate",(function(e){t.updateTemplates(e)})),l()(S()(t),"addLink",(function(e,n){if(t.links.get(e.name))e.updateData({Dependency:e.Dependency});else try{var r=sv.parseLink(e),o=gh.extractLinkPortsPos(r,t.nodes),a=o.sourcePortPos,i=o.targetPortPos;if(!a||!i)throw new pv(r);var c=new sv(t.canvas,a,i,r,t.flowDebugging,t.toggleTooltip);n.children.forEach((function(e){t._addLinkToNode(e,c)})),c.data.targetFullPath.length>1&&t._addLinksToChildren(n,c),t.links.set(e.name,c)}catch(e){console.error(e.message)}})),l()(S()(t),"updateNode",(function(e,t,n){})),l()(S()(t),"_updateNodeStatus",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.rootNode;if(r){if(e.indexOf("__")>=0){var o=e.split("__"),a=r.children.find((function(e){return e.data.id===o[0]})),i=o.splice(1).join("__");return t._updateNodeStatus(i,n,a)}var c=r.children.find((function(t){return t.data.id===e}));c.status=[1,!0,"true"].includes(n)}})),l()(S()(t),"updateTemplates",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rootNode;n.templateName===e&&n.onTemplateUpdate(e),n.children.forEach((function(n){t.updateTemplates(e,n)}))})),l()(S()(t),"addStartNode",(function(){var e=S()(t).canvas,n=new xm({canvas:e}),r={obj:n,links:[]};t.nodes.set(n.data.id,r)})),l()(S()(t),"reStrokeLinks",(function(){})),t.tree={root:null},t.subFlows=[],t}return R()(u,[{key:"rootNode",get:function(){return this.tree.root}},{key:"viewMode",get:function(){return sf}},{key:"loadData",value:(a=C()(F().mark((function e(t){var n,r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t.Label,ContainerLabel:t.Label,ContainerFlow:null!==(n=t.url)&&void 0!==n?n:t.Label,NodeInst:t.NodeInst,State:t.state,Container:t.Container},this.canvas.canvas.raise(),e.prev=2,this.addStartNode(),e.next=6,this._addRootNode(r);case 6:this.rootNode.addToCanvas(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("Error trying to add root node",e.t0);case 12:return e.prev=12,e.next=15,this.loadNodes(t);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.warn("Error trying to load all nodes",e.t1);case 20:try{this._loadLinks(t.Links,this.rootNode),this.onFlowValidated.next({warnings:[]})}catch(e){console.warn("Error has ocurred loading links",t,e)}return e.abrupt("return",this);case 22:case"end":return e.stop()}}),e,this,[[2,9],[12,17]])}))),function(e){return a.apply(this,arguments)})},{key:"loadNodes",value:(o=C()(F().mark((function e(t){var n,r,o,a,i,c,s,l=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:this.rootNode,e.prev=1,e.next=4,this._loadNodes(t.NodeInst,mf,n);case 4:return e.next=6,this._loadNodes(t.Container,vf,n);case 6:if(!t.Container){e.next=20;break}r=Object.values(t.Container),o=0,a=r;case 9:if(!(o<a.length)){e.next=18;break}return i=a[o],c=this.nodes.get(i.ContainerLabel).obj,s=c.template,e.next=15,this.loadNodes(s,c);case 15:o++,e.next=9;break;case 18:this.update(n),n!==this.rootNode&&this.subFlows.push(n);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.warn("Error has ocurred loading children",t,e.t0);case 25:case"end":return e.stop()}}),e,this,[[1,22]])}))),function(e){return o.apply(this,arguments)})},{key:"addNode",value:(r=C()(F().mark((function e(t,n,r){var o;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ah.create(this.docManager,ah.OUTPUT[n],{canvas:this.canvas,node:t,parent:r});case 3:return o=e.sent,this.nodes.set(t.id,{obj:o,links:[]}),r.addChild(o),e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(0),console.warn("Error creating node",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"reset",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rootNode;t&&(t.selected=!1,t.children.forEach((function(t){e.reset(t)})))}},{key:"resetStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rootNode;t&&(t.status=!1,t.children.forEach((function(t){e.resetStatus(t)})))}},{key:"nodeStatusUpdated",value:function(e,t){var n=this;Object.keys(e).forEach((function(t){var r=e[t];n._updateNodeStatus(t,r)}))}},{key:"_loadLinks",value:function(e,t){var n=this,r=e||{};return Object.keys(r).forEach((function(e){var o=lb({id:e,name:e},r[e]);n.addLink(o,t)})),this}},{key:"_addLinksToChildren",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t.data.targetFullPath[r],a=e.children.get(o);null!=a&&a.children&&(a.children.forEach((function(e){n._addLinkToNode(e,t)})),t.data.targetFullPath[r+1]&&this._addLinksToChildren(a,t,r+1))}},{key:"_addLinkToNode",value:function(e,t){var n=this,r=e.data.id,o=t.data;(o.targetFullPath.includes(r)||o.sourceFullPath.includes(r))&&(o.sourceTemplatePath=o.sourceFullPath.map((function(e){var t,r;return(null===(t=n.nodes.get(e))||void 0===t||null===(r=t.obj)||void 0===r?void 0:r.templateName)||e})),o.targetTemplatePath=o.targetFullPath.map((function(e){var t,r;return(null===(t=n.nodes.get(e))||void 0===t||null===(r=t.obj)||void 0===r?void 0:r.templateName)||e})),e.addLink(o))}},{key:"_loadNodes",value:(n=C()(F().mark((function e(t,n,r){var o,a,i,c,s,l;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t||{},a=Object.keys(o),i=0,c=a;case 3:if(!(i<c.length)){e.next=17;break}return s=c[i],l=lb(lb({},o[s]),{},{id:s}),e.prev=6,e.next=9,this.addNode(l,n,r);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.warn("Error has ocurred loading node",l,e.t0);case 14:i++,e.next=3;break;case 17:return e.abrupt("return",this);case 18:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"_addRootNode",value:(t=C()(F().mark((function e(t){var n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ah.create(this.docManager,ah.OUTPUT.TREE_CONTAINER,{canvas:this.canvas,node:t});case 3:n=e.sent,this.nodes.set(t.id,{obj:n,links:[]}),this.tree.root=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Error creating node",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return t.apply(this,arguments)})},{key:"update",value:function(e){e.children.forEach((function(e){e.addToCanvas()}))}}]),u}(Oh),fb=o(852),mb={};mb.styleTagTransform=Ji(),mb.setAttributes=Xi(),mb.insert=Ui().bind(null,"head"),mb.domAPI=qi(),mb.insertStyleElement=Zi(),Yi()(fb.Z,mb),fb.Z&&fb.Z.locals&&fb.Z.locals;var vb=(0,c.makeStyles)((function(e){return{root:{width:"100%",height:"100%",flexGrow:1}}}));function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hb(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bb(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eb=null,Ab=function(n,r){var o,a,i=n.id,c=n.call,s=n.scope,u=n.name,d=n.instance,p=n.data,f=n.alert,m=n.addKeyBind,v=n.removeKeyBind,h=n.activateKeyBind,g=n.deactivateKeyBind,y=n.confirmationAlert,b=n.on,E=n.off,A=(0,e.useRef)(Object.freeze({DETAIL:{NAME:"detail-menu",TITLE:"FlowDetailsMenuTitle"},NODE:{NAME:"node-menu",TITLE:"NodeInstanceMenuTitle"},LINK:{NAME:"link-menu",TITLE:"LinkInstanceMenuTitle"}})),O=(0,e.useState)(!0),w=Gt()(O,2),D=w[0],k=w[1],P=(0,e.useState)(),N=Gt()(P,2),R=N[0],T=N[1],S=(0,e.useState)(""),x=Gt()(S,2),I=x[0],L=x[1],M=(0,e.useState)(""),j=Gt()(M,2),B=j[0],z=j[1],G=(0,e.useState)([]),V=Gt()(G,2),Y=V[0],q=V[1],K=(0,e.useState)(),U=Gt()(K,2),W=U[0],X=U[1],_=(0,e.useState)(!1),Z=Gt()(_,2),Q=Z[0],J=Z[1],$=(0,e.useState)(cf),ee=Gt()($,2),te=ee[0],ne=ee[1],re=(0,e.useState)(null),oe=Gt()(re,2),ae=oe[0],ie=oe[1],ce=(0,e.useState)({open:!1,position:{x:0,y:0}}),se=Gt()(ce,2),le=se[0],ue=se[1],de=(0,e.useState)(!1),fe=Gt()(de,2),me=fe[0],ve=fe[1],he=vb(),ge=(0,H.useTranslation)().t,ye=(0,e.useMemo)((function(){return new Qp}),[]),be=(0,e.useRef)(),Ee=(0,e.useRef)(),Ae=(0,e.useRef)(),Oe=(0,e.useRef)(),we=(0,e.useRef)(!0),De=(0,e.useMemo)((function(){return new Do}),[]),ke=(0,e.useCallback)((function(e,t){Te().onGroupChange(e,t)}),[]),Pe=(0,e.useCallback)((function(){var e;d.current&&Te().onGroupsChange(null===(e=d.current.getGroups())||void 0===e?void 0:e.data)}),[d]),Ne=(0,e.useCallback)((function(){Te()&&(Te().graph.isFlowDebugging=W,Te().graph.reStrokeLinks())}),[W]);(0,e.useEffect)((function(){Ne()}),[W,Ne]);var Te=function(){return be.current},Se=(0,e.useCallback)((function(e){Te().setMode(e)}),[]),xe=(0,e.useCallback)((function(){var e=(le||{}).args,t=new Set([e].concat(Te().selectedNodes));return Array.from(t).filter((function(e){return e}))}),[le]),Ie=(0,e.useCallback)((function(e){c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.READ,{scope:e.scope,name:e.name}).then((function(e){c(pe.TABS.NAME,pe.TABS.CALL.OPEN_EDITOR,{id:e.getUrl(),name:e.getName(),scope:e.getScope()})}))}),[c]),Le=(0,e.useCallback)((function(e,t){e.forEach((function(e){return d.current.deleteLink(e.id)})),Te().graph.clearInvalidLinks().validateFlow(),t&&t()}),[d]),Me=(0,e.useCallback)((function(e){var t=d.current.exposedPorts.data;e.forEach((function(e){var n=e.nodeInst.data,r=n.type===gf?"__".concat(n.ContainerFlow):n.Template;t.has(r)&&t.get(r)[n.id]&&e.invalidPorts.forEach((function(e){return d.current.exposedPorts.toggleExposedPort(r,n.id,e)}))})),Te().graph.clearInvalidExposedPorts(e).validateFlow()}),[d]),je=(0,e.useCallback)((function(e){var t=e.data,n=e.callback;t.length&&c(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM,{submitText:ge("Fix"),title:ge("InvalidLinksFoundTitle"),onSubmit:function(){return Le(t,n)},invalidLinks:t},$y)}),[c,ge,Le]),Be=(0,e.useCallback)((function(e){var t=e.data;t.length&&c(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM,{submitText:ge("Fix"),title:ge("InvalidExposedPortsFound"),onSubmit:function(){return Me(t)},call:c,invalidExposedPorts:t},cb)}),[c,ge,Me]),ze=(0,e.useCallback)((function(e){var t=null==e?void 0:e.data;null!=t&&t.length&&c(pe.DIALOG.NAME,pe.DIALOG.CALL.CUSTOM,{title:ge("InvalidContainersParamTitle"),invalidContainerParams:t,call:c},rb)}),[ge,c]),Fe=(0,e.useCallback)((function(e,t){var n=t.node;return new Promise((function(t){var r={title:ge("PasteNodeModel",{nodeModel:n.model}),value:"".concat(n.id,"_copy"),onClose:t,onValidation:function(e){return Te().graph.validator.validateNodeName(e,ge(n.model))},onSubmit:function(t){return Te().pasteNode(t,n,e)}};c(pe.DIALOG.NAME,pe.DIALOG.CALL.FORM_DIALOG,r)}))}),[c,ge]),Ge=(0,e.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={Node:Ig,Flow:My};return e in t?t[e]:null}),[]),Ve=(0,e.useCallback)((function(e){var n,r=Ge(null==e||null===(n=e.data)||void 0===n?void 0:n.model);if(e&&r)return{icon:t().createElement("i",{className:"icon-Nodes"}),name:A.current.NODE.NAME,title:ge(A.current.NODE.TITLE),view:t().createElement(r,{id:i,call:c,nodeInst:e,flowModel:d,openDoc:Ie,editable:!0,groupsVisibilities:Pe})}}),[A,c,i,d,Ie,Ge,Pe,ge]),Ye=(0,e.useCallback)((function(e,t){var n,r=Ge(null==e||null===(n=e.data)||void 0===n?void 0:n.model);e&&r&&c(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.ADD_BOOKMARK,Ve(e),Eb,t,!0)}),[c,Ge,Ve]),He=(0,e.useCallback)((function(e){var n,r;if(e)return{icon:t().createElement(_p(),null),name:A.current.LINK.NAME,title:ge(A.current.LINK.TITLE),view:t().createElement(Hy,{id:i,call:c,link:e,flowModel:d,sourceMessage:null==e||null===(n=e.src)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message})}}),[A,c,i,d,ge]),qe=(0,e.useCallback)((function(e,t){e&&c(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.ADD_BOOKMARK,He(e),Eb,t,!0)}),[c,He]),Ke=(0,e.useCallback)((function(){var e,r=(null===(e=n.data)||void 0===e?void 0:e.details)||{},o=l()({},A.current.DETAIL.NAME,{icon:t().createElement(As(),null),name:A.current.DETAIL.NAME,title:ge(A.current.DETAIL.TITLE),view:t().createElement(pg,{id:i,call:c,name:u,details:r,model:d,handleGroupVisibility:ke,editable:!0})});if(we.current){var a=new Vy(Re);o[Re.name]={icon:t().createElement(Po(),null),name:Re.name,title:ge(Re.title),view:a.render({flowId:i,mainInterface:Te()})}}Ae.current&&(o[A.current.NODE.NAME]=Ve(Ae.current)),Oe.current&&(o[A.current.LINK.NAME]=He(Oe.current)),c(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.SET_BOOKMARK,o,Eb)}),[A,i,u,d,n.data,c,Ve,He,ke,ge]);or(r,{renderRightMenu:Ke});var Ue,We,_e=(0,e.useCallback)((function(e){L(e)}),[]),Ze=(0,e.useCallback)((function(e){z((function(t){return t===e?t:e}))}),[]),Qe=(0,e.useCallback)((function(e){e&&te!==e&&(we.current=e===cf,k(!0),Se(Ef),setTimeout((function(){ne(e)}),100))}),[te,Se]),Je=(0,e.useCallback)((function(){J((function(e){var t,n=!e;return null===(t=Te())||void 0===t||t.onToggleWarnings({data:n}),n}))}),[]),$e=(0,e.useCallback)((function(e,t){var n;null===(n=Te())||void 0===n||n.nodeStatusUpdated(e,t)}),[]),et=(0,e.useCallback)((function(){var e;null===(e=Te())||void 0===e||e.resetAllNodeStatus()}),[]),tt=(0,e.useCallback)((function(){c(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.REMOVE_BOOKMARK,A.current.NODE.NAME,A.current.DETAIL.NAME),Ae.current=null}),[A,c,Ae]),nt=(0,e.useCallback)((function(e){clearTimeout(Ee.current),Ee.current=setTimeout((function(){e?(Ae.current=e,Eb=A.current.NODE.NAME,Ye(e,!0)):tt()}),300)}),[A,Ye,tt]),rt=(0,e.useCallback)((function(e){Oe.current=e,Te().selectedLink=e,e?(Eb=A.current.LINK.NAME,qe(e,!0)):c(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.CALL.REMOVE_BOOKMARK,A.current.LINK.NAME,Eb)}),[A,c,qe]),ot=(0,e.useCallback)((function(){ue(null),Te().setMode(bf)}),[]),at=(0,e.useCallback)((function(){nt(null),rt(null),Ke(),c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.BROADCAST,pe.DOC_MANAGER.ON.FLOW_EDITOR,{action:"setMode",value:bf})}),[c,rt,nt,Ke]),it=(0,e.useCallback)((function(e){be.current=e,e.mode.loading.onExit.subscribe((function(){e.canvas.appendDocumentFragment(),e.graph.updateAllPositions(),k(!1),J(!0)})),e.graph.validator.setWarningActions(mh,Be),e.graph.validator.setWarningActions(vh,je),e.graph.validator.setWarningActions(fh,ze),e.mode.default.onEnter.subscribe((function(){at()})),e.mode.selectNode.onEnter.subscribe((function(){var t=e.selectedNodes,n=1!==t.length?null:t[0];nt(n)})),e.graph.onFlowValidated.subscribe((function(e){var t=e.warnings.filter((function(e){return e.isPersistent}));Pe(),function(e){var t=e.warnings.filter((function(e){return e.isPersistent}));q(t)}({warnings:t})})),e.mode.onDblClick.onEnter.subscribe((function(e){var t=e.node;Ie({name:t.templateName,scope:t.data.model})})),e.mode.nodeCtxMenu.onEnter.subscribe((function(e){var t,n,r={left:e.event.clientX,top:e.event.clientY};ue({args:e.node,mode:null===(t=e.node)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.type,anchorPosition:r,onClose:ot})})),e.mode.addNode.onClick.subscribe((function(){var e=Te().mode.current.props.node.data.name,t={title:ge("AddNode"),submitText:ge("Add"),value:e,onValidation:function(e){return Te().graph.validator.validateNodeName(e,ge("Node"))},onClose:at,onSubmit:function(e){return Te().addNode(e)}};c(pe.DIALOG.NAME,pe.DIALOG.CALL.FORM_DIALOG,t)})),e.mode.addFlow.onClick.subscribe((function(){var e=Te().mode.current.props.node.data.name,t={title:ge("AddSubFlow"),submitText:ge("Add"),value:e,onValidation:function(e){return Te().graph.validator.validateNodeName(e,ge("SubFlow"))},onClose:at,onSubmit:function(e){return Te().addFlow(e)}};c(pe.DIALOG.NAME,pe.DIALOG.CALL.FORM_DIALOG,t)})),e.mode.linkCtxMenu.onEnter.subscribe((function(e){var t={left:e.event.clientX,top:e.event.clientY};ue({args:e,mode:Py,anchorPosition:t,onClose:ot})})),e.mode.canvasCtxMenu.onEnter.subscribe((function(e){var t={left:e.event.clientX,top:e.event.clientY};ue({args:e.position,mode:Ry,anchorPosition:t,onClose:ot})})),e.mode.portCtxMenu.onEnter.subscribe((function(e){var t={left:e.event.clientX,top:e.event.clientY};ue({args:e.port,mode:Ny,anchorPosition:t,onClose:ot})})),e.canvas.events.pipe((0,Wp.filter)((function(e){return e.name===Of&&e.type===wf}))).subscribe((function(t){return e.graph.onMouseOverLink(t)})),e.canvas.events.pipe((0,Wp.filter)((function(e){return e.name===Af&&e.type===wf}))).subscribe((function(t){return e.graph.onMouseOutLink(t)})),e.canvas.events.pipe((0,Wp.filter)((function(e){return"onClick"===e.name&&e.type===wf}))).subscribe((function(e){return rt(e.data)})),e.canvas.events.pipe((0,Wp.filter)((function(e){return e.name===Of&&e.type===Df}))).subscribe((function(e){var t=e.port,n=e.event,r={left:n.layerX+8,top:n.layerY};ie({port:t,anchorPosition:r})})),e.canvas.events.pipe((0,Wp.filter)((function(e){return e.name===Af&&e.type===Df}))).subscribe((function(){ie(null)})),e.canvas.events.pipe((0,Wp.filter)((function(e){return"onChangeMouseOver"===e.name&&e.type===wf}))).subscribe((function(e){return console.log("onLinkErrorMouseOver",e)}))}),[nt,rt,at,Pe,je,Be,ze,Ie,ot,c,ge]),st=(0,e.useCallback)((function(e){De.setFlowIsDebugging(e.target.checked),X(e.target.checked)}),[De]),lt=(0,e.useCallback)((function(e){var t=e.message,n=e.callback;c(pe.DIALOG.NAME,pe.DIALOG.CALL.CONFIRMATION,{submitText:ge("Delete"),title:ge("ConfirmDelete"),onSubmit:n,message:t})}),[ge,c]),ut=(0,e.useCallback)((function(e){e&&e.preventDefault();var t=xe(),n=t.map((function(e){return $p.of(e.center.xCenter,e.center.yCenter)})),r=n.reduce((function(e,t){return e.add(t)}),$p.ZERO);r=r.scale(1/t.length);var o={nodes:t.map((function(e){return e.data})),flow:p.id,nodesPosFromCenter:n.map((function(e){return e.sub(r)}))};ye.write(Zp,o)}),[ye,xe,p.id]),dt=(0,e.useCallback)(function(){var e=C()(F().mark((function e(t){var n,r,o,a,i,c,s,l,u,d;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),n=(le||{}).args,r=void 0===n?Te().canvas.mousePosition:n,o=ye.read(Zp)){e.next=5;break}return e.abrupt("return");case 5:a=yb(o.nodes.entries()),e.prev=6,a.s();case 8:if((i=a.n()).done){e.next=16;break}return c=Gt()(i.value,2),s=c[0],l=c[1],u=o.nodesPosFromCenter||[$p.ZERO],d=$p.of(r.x,r.y).add(u[s]),e.next=14,Fe(d.toObject(),{node:l,flow:o.flow});case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),[ye,le,Fe]),pt=(0,e.useCallback)((function(){var e=xe();if(e.length){var t=ge("NodeDeleteConfirmation",{nodes:1===e.length?e[0].data.id:ge("TheSelectedNodes")});lt({message:t,callback:function(){e.forEach((function(e){Te().deleteNode(e.data)})),tt()}}),ue((function(e){return gb(gb({},e),{},{anchorEl:null})}))}}),[lt,tt,xe,ge]),ft=(0,e.useCallback)((function(){var e=le.args;Te().deleteLink(e.id)}),[le]),mt=(0,e.useCallback)((function(){var e=le.args;Te().toggleExposedPort(e)}),[le]),vt=(0,e.useCallback)((function(e){var t;null===(t=Te())||void 0===t||t.onResetZoom()}),[]),ht=(0,e.useCallback)((function(e){var t;null===(t=Te())||void 0===t||t.onMoveNode(e)}),[]),gt=(0,e.useCallback)((function(e){var t=Te(),n=e&&t.searchNode(e);n&&(n.handleSelectionChange(),t.onFocusNode(n),g())}),[g]),yt=(0,e.useCallback)((function(e){me||ve(!0)}),[me]),bt=(0,e.useCallback)((function(e){e.preventDefault(),ve(!0)}),[]),Et=(0,e.useCallback)((function(){ve(!1)}),[]);return(0,e.useEffect)((function(){if(me)return g();h()}),[me,g,h]),(0,e.useEffect)((function(){return b(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.ON.CHANGE_BOOKMARK,(function(e){Eb=e.name})),b(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.FLOW_EDITOR,(function(e){var t,n=e.action,r=e.value;null===(t=Te())||void 0===t||t[n](r)})),X(De.getFlowIsDebugging()),function(){E(pe.RIGHT_DRAWER.NAME,pe.RIGHT_DRAWER.ON.CHANGE_BOOKMARK),E(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.FLOW_EDITOR)}}),[b,E,De]),(0,e.useEffect)((function(){var e=d.current;e&&T(e.serializeToDB())}),[d,p]),(0,e.useEffect)((function(){return b(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.BEFORE_SAVE_DOC,function(){var e=C()(F().mark((function e(t){var n,r,o;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te!==sf||t.doc.name!==u){e.next=10;break}n=be.current.graph.subFlows,t.thisDoc.isDirty||c(pe.ALERT.NAME,pe.ALERT.CALL.SHOW,{message:ge(Xe.SAVED_SUCCESSFULLY),severity:Ce}),r=0,o=n.length;case 4:if(!(r<o)){e.next=10;break}return e.next=7,c(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.CALL.SAVE,{scope:s,name:n[r].templateName},null,{ignoreNew:!0,preventAlert:!0});case 7:r++,e.next=4;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){E(pe.DOC_MANAGER.NAME,pe.DOC_MANAGER.ON.BEFORE_SAVE_DOC)}}),[u,s,te,b,E,c,ge]),(0,e.useEffect)((function(){return m(co.FLOW.KEYBINDS.COPY_NODE.SHORTCUTS,ut),m(co.FLOW.KEYBINDS.PASTE_NODE.SHORTCUTS,dt),m(co.FLOW.KEYBINDS.MOVE_NODE.SHORTCUTS,ht),m(co.FLOW.KEYBINDS.SEARCH_NODE.SHORTCUTS,bt),m(co.FLOW.KEYBINDS.RESET_ZOOM.SHORTCUTS,vt),m(co.EDITOR_GENERAL.KEYBINDS.CANCEL.SHORTCUTS,at),m(co.EDITOR_GENERAL.KEYBINDS.DELETE.SHORTCUTS,pt),function(){v(co.FLOW.KEYBINDS.COPY_NODE.SHORTCUTS),v(co.FLOW.KEYBINDS.PASTE_NODE.SHORTCUTS),v(co.FLOW.KEYBINDS.MOVE_NODE.SHORTCUTS),v(co.FLOW.KEYBINDS.SEARCH_NODE.SHORTCUTS),v(co.FLOW.KEYBINDS.RESET_ZOOM.SHORTCUTS),v(co.EDITOR_GENERAL.KEYBINDS.CANCEL.SHORTCUTS),v(co.EDITOR_GENERAL.KEYBINDS.DELETE.SHORTCUTS)}}),[m,v,at,ut,dt,pt,ht,bt,vt]),t().createElement("div",{"data-testid":"section_flow-editor",className:he.root},t().createElement("div",{id:"flow-top-bar"},t().createElement(ly,{id:i,call:c,name:u,alert:f,confirmationAlert:y,scope:s,loading:D,viewMode:te,version:null===(o=d.current)||void 0===o?void 0:o.version,mainInterface:be,onRobotChange:_e,onStartStopFlow:Ze,nodeStatusUpdated:$e,nodeCompleteStatusUpdated:et,onViewModeChange:Qe,searchProps:{visible:me,options:null===(a=d.current)||void 0===a?void 0:a.getSearchOptions(),onChange:gt,onEnabled:yt,onDisabled:Et}})),t().createElement(jh,ct()({},n,{graphClass:null!==(We=(Ue={},l()(Ue,cf,Oh),l()(Ue,sf,pb),Ue)[te])&&void 0!==We?We:Oh,loading:D,viewMode:te,dataFromDB:R,warnings:Y,warningsVisibility:Q,flowDebugging:W,onReady:it})),t().createElement(my,{openFlow:Ie,onToggleWarnings:Je,warningVisibility:Q,robotSelected:I,runningFlow:B,warnings:Y,toggleFlowDebug:st,flowDebugging:W}),le&&we.current&&t().createElement(Sy,ct()({onClose:ot,onNodeCopy:ut,onCanvasPaste:dt,onLinkDelete:ft,onNodeDelete:pt,onSubFlowDelete:pt,onPortToggle:mt},le)),ae&&t().createElement(Qy,ae))};Ab.propTypes={id:Ht().string.isRequired,name:Ht().string.isRequired,scope:Ht().string.isRequired,call:Ht().func.isRequired,on:Ht().func.isRequired,data:Ht().object,instance:Ht().object,editable:Ht().bool,alert:Ht().func,addKeyBind:Ht().func,removeKeyBind:Ht().func,confirmationAlert:Ht().func,saveDocument:Ht().func};const Ob=Is(Ab),Cb=require("@material-ui/icons/Home");var wb=o.n(Cb);const Db=(0,i.withDefaults)({name:"mov-fe-app-ide-ce",component:function(n){return(0,e.useEffect)((function(){tc({scope:Gp.SCOPE,store:Up,editorPlugin:Ob,otherPlugins:[{profile:Re,factory:function(e){return new Vy(e)}}]}),tc({scope:Wl.SCOPE,store:ru,editorPlugin:Ud}),tc({scope:tl.SCOPE,store:cl,editorPlugin:Yl}),tc({scope:Qc.SCOPE,store:gs,editorPlugin:Us}),nc({id:Te.name,profile:Te,Plugin:oa,tabData:na(na({},Te),{},{id:Te.name,name:Te.title,tabTitle:Te.title,scope:Te.name,extension:"",isTool:!0}),icon:wb(),quickAccess:!1,toolBar:!1,mainMenu:!1}),nc({id:Se.name,profile:Se,Plugin:Da,tabData:Ca(Ca({},Se),{},{id:Se.name,name:Se.title,tabTitle:Se.title,scope:Se.name,extension:""}),icon:Ct(),quickAccess:!1,toolBar:!1,mainMenu:!1})}),[]),t().createElement(rc,n)},offlineValidation:!1,theme:{provider:c.ThemeProvider,props:y}});var kb;r().render(t().createElement(t().StrictMode,null,t().createElement(Db,null)),document.getElementById("root")),kb&&kb instanceof Function&&Promise.resolve().then(o.t.bind(o,32,23)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;t(kb),n(kb),r(kb),o(kb),a(kb)}))})(),a})()));
//# sourceMappingURL=index.js.map