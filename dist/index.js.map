{"version":3,"file":"dist/index.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAiB,QAAID,IAErBD,EAAc,QAAIC,IARpB,CASGK,MAAM,I,uBCRLC,EADAC,E,gECGAC,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACP,EAAOQ,GAAI,wcAAyc,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,+BAA+B,MAAQ,GAAG,SAAW,0OAA0O,eAAiB,CAAC,ycAAyc,WAAa,MAEpxC,W,yFCHIC,EAAgC,IAAIC,IAAI,YACxCJ,EAA0B,IAA4B,KACtDK,EAAqC,IAAgCF,GAEzEH,EAAwBC,KAAK,CAACP,EAAOQ,GAAI,ohEAAshEG,EAAqC,UAAW,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,4DAA4D,MAAQ,GAAG,SAAW,u9BAAu9B,eAAiB,CAAC,+rHAA+rH,WAAa,MAEj5N,W,QCJAX,EAAOD,QAAU,SAAUa,GACzB,IAAIC,EAAO,GA6FX,OA3FAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIC,EAAU,GACVC,OAA+B,IAAZF,EAAK,GA4B5B,OA1BIA,EAAK,KACPC,GAAW,cAAcE,OAAOH,EAAK,GAAI,QAGvCA,EAAK,KACPC,GAAW,UAAUE,OAAOH,EAAK,GAAI,OAGnCE,IACFD,GAAW,SAASE,OAAOH,EAAK,GAAGI,OAAS,EAAI,IAAID,OAAOH,EAAK,IAAM,GAAI,OAG5EC,GAAWN,EAAuBK,GAE9BE,IACFD,GAAW,KAGTD,EAAK,KACPC,GAAW,KAGTD,EAAK,KACPC,GAAW,KAGNA,KACNI,KAAK,KAIVT,EAAKU,EAAI,SAAWC,EAASC,EAAOC,EAAQC,EAAUC,GAC7B,iBAAZJ,IACTA,EAAU,CAAC,CAAC,KAAMA,OAASK,KAG7B,IAAIC,EAAyB,GAE7B,GAAIJ,EACF,IAAK,IAAIK,EAAI,EAAGA,EAAIhB,KAAKM,OAAQU,IAAK,CACpC,IAAIvB,EAAKO,KAAKgB,GAAG,GAEP,MAANvB,IACFsB,EAAuBtB,IAAM,GAKnC,IAAK,IAAIwB,EAAK,EAAGA,EAAKR,EAAQH,OAAQW,IAAM,CAC1C,IAAIf,EAAO,GAAGG,OAAOI,EAAQQ,IAEzBN,GAAUI,EAAuBb,EAAK,WAIrB,IAAVW,SACc,IAAZX,EAAK,KAGdA,EAAK,GAAK,SAASG,OAAOH,EAAK,GAAGI,OAAS,EAAI,IAAID,OAAOH,EAAK,IAAM,GAAI,MAAMG,OAAOH,EAAK,GAAI,MAF/FA,EAAK,GAAKW,GAOVH,IACGR,EAAK,IAGRA,EAAK,GAAK,UAAUG,OAAOH,EAAK,GAAI,MAAMG,OAAOH,EAAK,GAAI,KAC1DA,EAAK,GAAKQ,GAHVR,EAAK,GAAKQ,GAOVE,IACGV,EAAK,IAGRA,EAAK,GAAK,cAAcG,OAAOH,EAAK,GAAI,OAAOG,OAAOH,EAAK,GAAI,KAC/DA,EAAK,GAAKU,GAHVV,EAAK,GAAK,GAAGG,OAAOO,IAOxBd,EAAKN,KAAKU,MAIPJ,I,QClGTb,EAAOD,QAAU,SAAUkC,EAAKC,GAK9B,OAJKA,IACHA,EAAU,IAGPD,GAILA,EAAME,OAAOF,EAAIG,WAAaH,EAAII,QAAUJ,GAExC,eAAeK,KAAKL,KACtBA,EAAMA,EAAIM,MAAM,GAAI,IAGlBL,EAAQM,OACVP,GAAOC,EAAQM,MAKb,oBAAoBF,KAAKL,IAAQC,EAAQO,WACpC,IAAKrB,OAAOa,EAAIS,QAAQ,KAAM,OAAOA,QAAQ,MAAO,OAAQ,KAG9DT,GAnBEA,I,QCNXjC,EAAOD,QAAU,SAAUkB,GACzB,IAAIC,EAAUD,EAAK,GACf0B,EAAa1B,EAAK,GAEtB,IAAK0B,EACH,OAAOzB,EAGT,GAAoB,mBAAT0B,KAAqB,CAC9B,IAAIC,EAASD,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUN,MACzDO,EAAO,+DAA+D9B,OAAOyB,GAC7EM,EAAgB,OAAO/B,OAAO8B,EAAM,OACpCE,EAAaT,EAAWU,QAAQrC,KAAI,SAAUsC,GAChD,MAAO,iBAAiBlC,OAAOuB,EAAWY,YAAc,IAAInC,OAAOkC,EAAQ,UAE7E,MAAO,CAACpC,GAASE,OAAOgC,GAAYhC,OAAO,CAAC+B,IAAgB7B,KAAK,MAGnE,MAAO,CAACJ,GAASI,KAAK,Q,QClBxB,IAAIkC,EAAc,GAElB,SAASC,EAAqBC,GAG5B,IAFA,IAAIC,GAAU,EAELpC,EAAI,EAAGA,EAAIiC,EAAYnC,OAAQE,IACtC,GAAIiC,EAAYjC,GAAGmC,aAAeA,EAAY,CAC5CC,EAASpC,EACT,MAIJ,OAAOoC,EAGT,SAASC,EAAa/C,EAAMqB,GAI1B,IAHA,IAAI2B,EAAa,GACbC,EAAc,GAETvC,EAAI,EAAGA,EAAIV,EAAKQ,OAAQE,IAAK,CACpC,IAAIN,EAAOJ,EAAKU,GACZf,EAAK0B,EAAQ6B,KAAO9C,EAAK,GAAKiB,EAAQ6B,KAAO9C,EAAK,GAClD+C,EAAQH,EAAWrD,IAAO,EAC1BkD,EAAa,GAAGtC,OAAOZ,EAAI,KAAKY,OAAO4C,GAC3CH,EAAWrD,GAAMwD,EAAQ,EACzB,IAAIC,EAAoBR,EAAqBC,GACzCQ,EAAM,CACRC,IAAKlD,EAAK,GACVQ,MAAOR,EAAK,GACZmD,UAAWnD,EAAK,GAChBU,SAAUV,EAAK,GACfW,MAAOX,EAAK,IAGd,IAA2B,IAAvBgD,EACFT,EAAYS,GAAmBI,aAC/Bb,EAAYS,GAAmBK,QAAQJ,OAClC,CACL,IAAII,EAAUC,EAAgBL,EAAKhC,GACnCA,EAAQsC,QAAUjD,EAClBiC,EAAYiB,OAAOlD,EAAG,EAAG,CACvBmC,WAAYA,EACZY,QAASA,EACTD,WAAY,IAIhBP,EAAYvD,KAAKmD,GAGnB,OAAOI,EAGT,SAASS,EAAgBL,EAAKhC,GAC5B,IAAIwC,EAAMxC,EAAQyC,OAAOzC,GAezB,OAdAwC,EAAIE,OAAOV,GAEG,SAAiBW,GAC7B,GAAIA,EAAQ,CACV,GAAIA,EAAOV,MAAQD,EAAIC,KAAOU,EAAOpD,QAAUyC,EAAIzC,OAASoD,EAAOT,YAAcF,EAAIE,WAAaS,EAAOlD,WAAauC,EAAIvC,UAAYkD,EAAOjD,QAAUsC,EAAItC,MACzJ,OAGF8C,EAAIE,OAAOV,EAAMW,QAEjBH,EAAII,UAOV9E,EAAOD,QAAU,SAAUc,EAAMqB,GAG/B,IAAI6C,EAAkBnB,EADtB/C,EAAOA,GAAQ,GADfqB,EAAUA,GAAW,IAGrB,OAAO,SAAgB8C,GACrBA,EAAUA,GAAW,GAErB,IAAK,IAAIzD,EAAI,EAAGA,EAAIwD,EAAgB1D,OAAQE,IAAK,CAC/C,IACI0D,EAAQxB,EADKsB,EAAgBxD,IAEjCiC,EAAYyB,GAAOZ,aAKrB,IAFA,IAAIa,EAAqBtB,EAAaoB,EAAS9C,GAEtCiD,EAAK,EAAGA,EAAKJ,EAAgB1D,OAAQ8D,IAAM,CAClD,IAEIC,EAAS3B,EAFKsB,EAAgBI,IAIK,IAAnC3B,EAAY4B,GAAQf,aACtBb,EAAY4B,GAAQd,UAEpBd,EAAYiB,OAAOW,EAAQ,IAI/BL,EAAkBG,K,QCnGtB,IAAIG,EAAO,GAoCXrF,EAAOD,QAVP,SAA0BuF,EAAQC,GAChC,IAAIC,EAxBN,SAAmBA,GACjB,QAA4B,IAAjBH,EAAKG,GAAyB,CACvC,IAAIC,EAAcC,SAASC,cAAcH,GAEzC,GAAII,OAAOC,mBAAqBJ,aAAuBG,OAAOC,kBAC5D,IAGEJ,EAAcA,EAAYK,gBAAgBC,KAC1C,MAAOC,GAEPP,EAAc,KAIlBJ,EAAKG,GAAUC,EAGjB,OAAOJ,EAAKG,GAMCS,CAAUX,GAEvB,IAAKE,EACH,MAAM,IAAIU,MAAM,2GAGlBV,EAAOW,YAAYZ,K,QCzBrBvF,EAAOD,QAPP,SAA4BmC,GAC1B,IAAIkE,EAAUV,SAASW,cAAc,SAGrC,OAFAnE,EAAQoE,cAAcF,EAASlE,EAAQqE,YACvCrE,EAAQoD,OAAOc,EAASlE,EAAQA,SACzBkE,I,cCITpG,EAAOD,QARP,SAAwCyG,GACtC,IAAIC,EAAmD,KAEnDA,GACFD,EAAaE,aAAa,QAASD,K,QC8DvCzG,EAAOD,QAZP,SAAgBmC,GACd,IAAIsE,EAAetE,EAAQyE,mBAAmBzE,GAC9C,MAAO,CACL0C,OAAQ,SAAgBV,IAzD5B,SAAesC,EAActE,EAASgC,GACpC,IAAIC,EAAM,GAEND,EAAIvC,WACNwC,GAAO,cAAc/C,OAAO8C,EAAIvC,SAAU,QAGxCuC,EAAIzC,QACN0C,GAAO,UAAU/C,OAAO8C,EAAIzC,MAAO,OAGrC,IAAIN,OAAiC,IAAd+C,EAAItC,MAEvBT,IACFgD,GAAO,SAAS/C,OAAO8C,EAAItC,MAAMP,OAAS,EAAI,IAAID,OAAO8C,EAAItC,OAAS,GAAI,OAG5EuC,GAAOD,EAAIC,IAEPhD,IACFgD,GAAO,KAGLD,EAAIzC,QACN0C,GAAO,KAGLD,EAAIvC,WACNwC,GAAO,KAGT,IAAIC,EAAYF,EAAIE,UAEhBA,GAA6B,oBAATxB,OACtBuB,GAAO,uDAAuD/C,OAAOwB,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUmB,MAAe,QAMtIlC,EAAQ0E,kBAAkBzC,EAAKqC,EAActE,EAAQA,SAkBjD2E,CAAML,EAActE,EAASgC,IAE/BY,OAAQ,YAjBZ,SAA4B0B,GAE1B,GAAgC,OAA5BA,EAAaM,WACf,OAAO,EAGTN,EAAaM,WAAWC,YAAYP,GAYhCQ,CAAmBR,O,QCjDzBxG,EAAOD,QAZP,SAA2BoE,EAAKqC,GAC9B,GAAIA,EAAaS,WACfT,EAAaS,WAAWC,QAAU/C,MAC7B,CACL,KAAOqC,EAAaW,YAClBX,EAAaO,YAAYP,EAAaW,YAGxCX,EAAaL,YAAYT,SAAS0B,eAAejD,O,quDCXrDnE,EAAOD,QAAUsH,QAAQ,Q,OCAzBrH,EAAOD,QAAUsH,QAAQ,gBCCrBC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB3F,IAAjB4F,EACH,OAAOA,EAAa1H,QAGrB,IAAIC,EAASsH,EAAyBE,GAAY,CACjDhH,GAAIgH,EAEJzH,QAAS,IAOV,OAHA2H,EAAoBF,GAAUxH,EAAQA,EAAOD,QAASwH,GAG/CvH,EAAOD,QAIfwH,EAAoBI,EAAID,ECxBxBH,EAAoBK,EAAK5H,IACxB,IAAI6H,EAAS7H,GAAUA,EAAOoC,WAC7B,IAAOpC,EAAiB,QACxB,IAAM,EAEP,OADAuH,EAAoBO,EAAED,EAAQ,CAAEE,EAAGF,IAC5BA,GfNJxH,EAAW2H,OAAOC,eAAkB/D,GAAS8D,OAAOC,eAAe/D,GAASA,GAASA,EAAa,UAQtGqD,EAAoBW,EAAI,SAASC,EAAOC,GAEvC,GADU,EAAPA,IAAUD,EAAQpH,KAAKoH,IAChB,EAAPC,EAAU,OAAOD,EACpB,GAAoB,iBAAVA,GAAsBA,EAAO,CACtC,GAAW,EAAPC,GAAaD,EAAM/F,WAAY,OAAO+F,EAC1C,GAAW,GAAPC,GAAoC,mBAAfD,EAAME,KAAqB,OAAOF,EAE5D,IAAIG,EAAKN,OAAOO,OAAO,MACvBhB,EAAoBiB,EAAEF,GACtB,IAAIG,EAAM,GACVrI,EAAiBA,GAAkB,CAAC,KAAMC,EAAS,IAAKA,EAAS,IAAKA,EAASA,IAC/E,IAAI,IAAIqI,EAAiB,EAAPN,GAAYD,EAAyB,iBAAXO,KAAyBtI,EAAeuI,QAAQD,GAAUA,EAAUrI,EAASqI,GACxHV,OAAOY,oBAAoBF,GAASG,SAASC,GAASL,EAAIK,GAAO,IAAOX,EAAMW,KAI/E,OAFAL,EAAa,QAAI,IAAM,EACvBlB,EAAoBO,EAAEQ,EAAIG,GACnBH,GgBvBRf,EAAoBO,EAAI,CAAC/H,EAASgJ,KACjC,IAAI,IAAID,KAAOC,EACXxB,EAAoByB,EAAED,EAAYD,KAASvB,EAAoByB,EAAEjJ,EAAS+I,IAC5Ed,OAAOiB,eAAelJ,EAAS+I,EAAK,CAAEI,YAAY,EAAMC,IAAKJ,EAAWD,MCJ3EvB,EAAoByB,EAAI,CAAC9E,EAAKkF,IAAUpB,OAAOqB,UAAUC,eAAeC,KAAKrF,EAAKkF,GCClF7B,EAAoBiB,EAAKzI,IACH,oBAAXyJ,QAA0BA,OAAOC,aAC1CzB,OAAOiB,eAAelJ,EAASyJ,OAAOC,YAAa,CAAEtB,MAAO,WAE7DH,OAAOiB,eAAelJ,EAAS,aAAc,CAAEoI,OAAO,KCLvDZ,EAAoBmC,EAAIhE,SAASiE,SAAWxJ,KAAKyJ,SAASC,K,6eCA1D,MAAM,EAA+BxC,QAAQ,S,aCA7C,MAAM,EAA+BA,QAAQ,a,aCA7C,MAAM,EAA+BA,QAAQ,4BCAvC,EAA+BA,QAAQ,4BCAvC,EAA+BA,QAAQ,6C,aCA7C,MAAM,EAA+BA,QAAQ,U,8kBCG7C,IAAMyC,EACG,UADHA,EAEG,UAGHC,EAAY,CAChBC,UAAW,CACTC,eAAgB,CACdC,OAAQ,MAKRC,EAAgB,CAEpBC,KAAM,CACJC,WAAYP,EACZQ,YAAaC,EAAAA,OAAAA,KAAAA,QAAAA,WAAAA,QACbC,WAAY,CACVH,WAAYP,GAEdW,SAAU,CACRC,MAAOH,EAAAA,OAAAA,KAAAA,UACPF,WAAYE,EAAAA,OAAAA,KAAAA,QAAAA,WAAAA,WAEdI,QAAS,CAAEC,gBAAiBL,EAAAA,OAAAA,KAAAA,QAAAA,WAAAA,WAC5BM,WAAY,CAAED,gBAAiB,UAAWE,YAAa,WACvDC,aAAc,CACZC,eAAgBT,EAAAA,OAAAA,KAAAA,QAAAA,WAAAA,QAChBK,gBAAiB,UACjBE,YAAa,WAEfG,WAAY,CAAEC,MAAO,WACrBC,WAAY,CACVH,eAAgBT,EAAAA,OAAAA,KAAAA,QAAAA,WAAAA,SAElBa,SAAU,CACRf,WAAY,UACZgB,kBAAmB,UACnBC,gBAAiB,UACjBZ,MAAO,UACPa,WAAY,CACVlB,WAAY,UACZK,MAAOH,EAAAA,OAAAA,KAAAA,UACPiB,SAAU,YAGdC,aAAc,CACZpB,WAAYE,EAAAA,OAAAA,KAAAA,QAAAA,WAAAA,UACZmB,YAAa,UACbC,gBAAiB7B,EACjB8B,aAAc,UACdC,kBAAmB/B,IAIvBgC,MAAO,CACLtB,WAAY,CACVH,WAAYP,GAEdO,WAAYE,EAAAA,OAAAA,MAAAA,QAAAA,WAAAA,QACZD,YAAaC,EAAAA,OAAAA,MAAAA,QAAAA,WAAAA,UACbE,SAAU,CACRC,MAAOH,EAAAA,OAAAA,MAAAA,UACPF,WAAYE,EAAAA,OAAAA,MAAAA,QAAAA,WAAAA,WAEdI,QAAS,CAAEC,gBAAiBL,EAAAA,OAAAA,MAAAA,QAAAA,WAAAA,WAC5BM,WAAY,CACVD,gBAAiB,aACjBE,YAAa,WAEfC,aAAc,CACZC,eAAgB,UAChBJ,gBAAiB,aACjBE,YAAa,WAEfK,WAAY,CACVH,eAAgB,WAElBS,aAAc,CACZpB,WAAYE,EAAAA,OAAAA,MAAAA,QAAAA,WAAAA,QACZmB,YAAa,YACbC,gBAAiB7B,EACjB8B,aAAc,UACdC,kBAAmB/B,GAErBsB,SAAU,CACRf,WAAYE,EAAAA,OAAAA,MAAAA,QAAAA,WAAAA,UACZc,kBAAmB,UACnBC,gBAAiB,UACjBZ,MAAO,UACPqB,SAAU,CAAErB,MAAO,WACnBa,WAAY,CACVlB,WAAY,iBACZK,MAAOH,EAAAA,OAAAA,MAAAA,UACPiB,SAAU,YAGdP,WAAY,CAAEC,MAAO,WAKzBlD,OAAOgE,KAAK7B,GAAetB,SAAQ,SAAAqC,GAAS,MAC1Cf,EAAce,GAAOnB,UAArB,iBACMI,EAAce,GAAOnB,iBAD3B,QACwC,IACnCA,MAIP,IACakC,EADOC,IAAAA,MAAa3B,EAAAA,OAAQJ,GCjHzC,MAAM,EAA+B9C,QAAQ,qBCAvC,EAA+BA,QAAQ,0B,aCA7C,MAAM,EAA+BA,QAAQ,+C,aCA7C,MAAM,EAA+BA,QAAQ,gD,aCA7C,MAAM,EAA+BA,QAAQ,6C,aCA7C,MAAM,EAA+BA,QAAQ,0C,aCA7C,MAAM,EAA+BA,QAAQ,oD,aCA7C,MAAM,EAA+BA,QAAQ,uC,aCA7C,MAAM,EAA+BA,QAAQ,wD,aCA7C,MAAM,EAA+BA,QAAQ,6C,aCA7C,MAAM,EAA+BA,QAAQ,8B,aCA7C,MAAM,EAA+BA,QAAQ,2BCAvC,EAA+BA,QAAQ,W,aCA7C,MAAM,EAA+BA,QAAQ,iB,QCavC8E,EAAY,CAChBC,GAAI,CAAEC,Y,2wVACNC,GAAI,CAAED,Y,wrXAIFE,OAC8B1K,KAA5B,QAAN,EAAA+D,cAAA,mBAAQ4G,mBAAR,eAAqBC,UACjB,KACA7G,OAAO4G,YAAYC,SAEzBC,IAAAA,IAQOC,EAAAA,kBAGJC,KAAK,CACJT,UAAAA,EACAU,IAAKN,EACLO,YAAa,KACbC,OAAO,EAEPC,cAAe,CACbC,aAAa,KAOnB,QAAeP,IC/CR,IAKMQ,EAAmB,SAEnBC,OAAgBtL,EAChBuL,EAAiB,OAEjBC,EACF,UADEA,EAEH,SAFGA,GAGH,SAHGA,GAIH,SAJGA,GAKJ,QALIA,GAMN,MAGMC,GACD,WADCA,GAIL,OAGKC,GAEH,eAFGA,GAIF,CACPC,KAAM,UALGD,GAOC,CACVC,KAAM,aARGD,GAUC,CACVC,KAAM,aAXGD,GAaE,CACXC,KAAM,aACNC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,OAAQ,WAlBDL,GAsBH,YAIGM,GAAU,CACrBC,gBAAiB,CACfN,KAAM,kBAERO,YAAa,CACXP,KAAM,aACNC,KAAM,CACJO,KAAM,OACNC,KAAM,OACNC,UAAW,YACXC,UAAW,WACXC,gBAAiB,gBACjBC,cAAe,cACfC,qBAAsB,qBACtBC,uBAAwB,uBACxBC,uBAAwB,qBACxBC,sBAAuB,sBACvBC,oBAAqB,oBACrBC,WAAY,YACZC,KAAM,OACNC,OAAQ,SACRC,OAAQ,SACRC,mBAAoB,mBACpBC,aAAc,eAEhBC,GAAI,CACFC,YAAa,aACbC,iBAAkB,iBAClBC,WAAY,YACZC,YAAa,aACbC,UAAW,WACXC,SAAU,UACVC,gBAAiB,kBAGrBC,KAAM,CACJjC,KAAM,OACNC,KAAM,CACJC,KAAM,OACNC,MAAO,QACP+B,YAAa,aACbC,cAAe,cACfC,iBAAkB,iBAClBC,eAAgB,gBAElBZ,GAAI,CACFS,YAAa,aACbI,kBAAmB,oBAGvBC,aAAc,CACZvC,KAAM,cACNC,KAAM,CACJuC,aAAc,cACdC,aAAc,cACdC,gBAAiB,iBACjBC,gBAAiB,kBAEnBlB,GAAI,CACFmB,gBAAiB,mBAGrBC,OAAQ,CACN7C,KAAM,SACNC,KAAM,CACJ6C,QAAS,cACTC,kBAAmB,uBACnBC,aAAc,eACdC,SAAU,eACVC,YAAa,aACbC,mBAAoB,mBACpBC,gBAAiB,qBACjBC,OAAQ,SACRC,cAAe,eACfC,MAAO,UAGXA,MAAO,CACLvD,KAAM,QACNC,KAAM,CACJuD,KAAM,SAGVC,UAAW,CACTzD,KAAM,YAER0D,SAAU,CACR1D,KAAM,YAER2D,YAAa,CACX3D,KAAM,eAER4D,cAAe,CACb5D,KAAM,eACNC,KAAM,GACNwB,GAAI,CAAEoC,SAAU,YAElBC,WAAY,CACV9D,KAAM,cAQG+D,GACC,aADDA,GAEF,UAFEA,GAGF,WAGEC,GAAgB,CAC3BC,WAAY,gBACZC,QAAS,2BACTC,SAAU,oBAGCC,GAAe,CAC1BH,WAAY,YACZC,QAAS,sBACTC,SAAU,gBAGCE,GACC,YADDA,GAEI,eAIJC,GAAyB,CACpCC,KAAM,GACNC,YAAa,GACbC,KAAM5E,GACNlF,MAAO,IASI+J,GAAkB,IAAIC,OACjC,4CAUWC,GAA4B,IAAID,OAC3C,6CAGWE,GACF,UADEA,GAEJ,QAFIA,GAIF,UAGEC,GAAkB,CAC7BC,iBAAkB,CAChBC,MAAO,uBACPC,MAAO,EACPC,MAAO,SAETC,UAAW,CACTH,MAAO,gBACPC,MAAO,EACPC,MAAO,UAETE,QAAS,CACPJ,MAAO,cACPC,MAAO,EACPC,MAAO,aAETG,gBAAiB,CACfL,MAAO,sBACPC,MAAO,EACPC,MAAO,iBAYEI,GAAiB,CAC5BC,KAAM,UACNC,OAAQ,YACRC,IAAK,SACLC,MAAO,YAGIC,GACD,WAICC,GAAwB,CACnCrB,KAAM,eACNsB,MAAO,oBAGIC,GAAkB,CAC7BvB,KAAM,UACNsB,MAAO3G,EAAKxE,EAAE,iBAGHqL,GAAoB,CAC/BxB,KAAM,eACNsB,MAAO3G,EAAKxE,EAAE,sBAGHsL,GAAe,IAAIC,IAC9BzL,OAAO0L,QAAP,OAAkBJ,GAAgBvB,KAAO,CAAEvR,GAAI8S,GAAgBvB,SAGpD4B,GAAiB,CAC5BC,QAAS,CACPxL,KAAM,aACNyL,SAAU,CACR,CACEC,KAAM,CACJ,CACEtT,GAAI8S,GAAgBvB,UAM9BgC,UAAW,CAAEF,SAAU,IACvBG,OAAQ,CAAEH,SAAU,IACpBI,SAAU,CAAEJ,SAAU,KASXK,GAEM,eAFNA,GAGE,YAHFA,GAII,cAJJA,GAKI,cALJA,GAMG,aANHA,GAOI,cAPJA,GAQK,eARLA,GASG,aATHA,GAUE,YAVFA,GAWW,qBAXXA,GAcG,wBAdHA,GAeA,qBChUPC,GAAW,CACfC,eAAgB,CACdC,aAAc,cACdC,kBAAmB,gBACnBC,qBAAsB,qBACtBC,uBAAwB,uBACxBC,kBAAmB,qBACnBC,eAAgB,eAChBC,gCAAiC,+BACjCC,uBAAwB,oBACxBC,2BAA4B,wBAC5BC,kBAAmB,kBACnBC,sBAAuB,sBACvBC,gCAAiC,4BACjCC,6BAA8B,4BAC9BC,kBAAmB,kBACnBC,kBAAmB,mBAErBC,iBAAkB,GAClBC,iBAAkB,CAChBC,mBAAoB,oBACpBC,iBAAkB,oBAITnB,GAAiBD,GAASC,eAE1BiB,GAAmBlB,GAASkB,iBACzC,YC5BM,GAA+BhO,QAAQ,wB,ykBCExBmO,GAAAA,WACnB,aACE,GADY,YACRA,EAAiBC,SAAU,OAAOD,EAAiBC,SACvDD,EAAiBC,SAAW1U,KAC5BA,KAAK2U,OAAS,IAAIC,GAAAA,OAClB5U,KAAK6U,QAAU,IAAIC,GAAAA,cACnB9U,KAAK+U,OAAS,GACd/U,KAAKgV,QAAQ,UAAWhV,KAAK6U,SAC7BhQ,OAAO8P,OAAS3U,KAAK2U,OACrB9P,OAAOgQ,QAAU7U,KAAK6U,Q,8CAGxB,SAASI,GACPjV,KAAK2U,OAAOO,SAASD,K,6CAGvB,WAAqBE,GAArB,iFACQnV,KAAK6U,QAAQO,eAAeD,GADpC,gD,oFAIA,WAAcA,EAAYF,GAA1B,wEACOjV,KAAK2U,OAAOU,aAAaF,IAC5BnV,KAAK2U,OAAOO,SAASD,GAFzB,SAIQjV,KAAK6U,QAAQO,eAAeD,GAJpC,OAMElO,OAAOqO,OAAOtV,KAAK+U,QAAQjN,SAAQ,SAAAyN,GACjC,IAAMC,EAAUD,EAAaN,OACvBQ,EAAUF,EAAaR,OAC7B9N,OAAOgE,KAAKwK,GAAS3N,SAAQ,SAAA4N,GAC3BF,EAAQG,GAAGR,EAAYO,EAAWD,EAAQC,UAVhD,gD,sEAqBA,SAAS1E,EAAMiE,EAAQW,GAAQ,MACvBL,EAAY,UAAGvV,KAAK+U,OAAOE,EAAOY,QAAQ7E,aAA9B,QAAuC,CAAE+D,OAAQ,IACnEQ,EAAaN,OAASA,EACtBM,EAAaR,OAAb,SAA2BQ,EAAaR,QAAxC,UAAiD/D,EAAO4E,IACxD5V,KAAK+U,OAAOE,EAAOY,QAAQ7E,MAAQuE,I,yBAQrC,SAAYvE,EAAMiE,UACKjV,KAAK+U,OAAOE,EAAOY,QAAQ7E,MAC5B+D,OAAO/D,K,uBAO7B,WACE,OAAOhR,KAAK+U,S,uBAGd,SAAUI,GAAY,QACpB,iBAAOnV,KAAK2U,cAAZ,iBAAO,EAAamB,eAApB,aAAO,EAAuBX,M,0BAGhC,WACE,OAAO,IAAIV,I,sCAQb,WAAqBU,EAAYF,GAAjC,iFACQR,EAAiBsB,cAAcf,QAAQG,EAAYF,GAD3D,2C,uEASA,SAAiBE,GACf,OAAOV,EAAiBsB,cAAcC,UAAUb,O,EAzF/BV,G,ICAAwB,GAAAA,SAAAA,G,olBACT,SAACP,GAAiE,IAAtDE,EAAsD,uDAA7C,SAAAM,GAAM,OAAIC,QAAQC,IAAI,oBAC7CC,EAAgB5B,GAAiBsB,cACvCM,EAAcC,SAASZ,EAAvB,OAAwCE,M,gBAHvBK,CAAkBM,GAAAA,QCFjCC,GAAU,G,ykBCeVC,GAAAA,SAAAA,G,ibACJ,aAA0B,QAAdZ,EAAc,uDAAJ,GAAI,YAExB,IAAMa,EAAUC,MAAMC,KACpB,IAAIC,IAAJ,wBACMhB,EAAQa,eADd,QACyB,IADzB,IAEKzP,OAAOqO,OAAOxI,GAAAA,YAAAA,UALG,OAQxB,uBAAW+I,GAAX,IAAoBa,QAAAA,KARI,6BA4XT,SAAAI,GACf,GAAI,EAAKC,aAEP,OADAD,EAAME,iBACC,gEA/Xe,uBAyYf,SAAAC,GACT,EAAKC,YAAYpP,SAAQ,SAAAqP,GACLA,EAAMC,aAEdtP,SAAQ,SAAAuP,GAChB,MAA6BA,EAAIC,YAAzBpW,EAAR,EAAQA,IAAK8P,EAAb,EAAaA,KAAMuG,EAAnB,EAAmBA,MAEnB,EAAKC,kBAAkB,CAAED,MAAAA,EAAOvG,KAAAA,IAE5BqG,EAAII,YACN,EAAKC,KAAK5K,GAAAA,YAAAA,GAAAA,WAAmC,CAAE5L,IAAAA,EAAK8P,KAAAA,EAAMuG,MAAAA,OAG9DJ,EAAMQ,gBA5YR9S,OAAO4R,WAAP,OAEA5R,OAAO+S,eAAiB,EAAKC,eAC7BhT,OAAOiT,SAAW,EAAKC,SAEvB,EAAKC,iBAAmB,IAAItF,IAC5B,EAAKuF,UAAY,IAAIvF,IAhBG,E,mCAmB1B,WACE,MAAO,e,sBAGT,WAAW,WACHwF,EAAW,CACfC,OAAQ,SAAAhB,GAAK,OAAI,EAAKiB,YAAYjB,IAClCkB,SAAU,SAAClB,EAAOE,EAAKiB,GAAb,OAAwB,EAAKC,cAAcpB,EAAOE,EAAKiB,IACjEE,gBAAiB,SAACrB,EAAOzC,EAAUtN,GAAlB,OACf,EAAKoR,gBAAgBrB,EAAOzC,EAAUtN,IACxCqR,kBAAmB,SAACtB,EAAOnG,GAAR,OAAiB,EAAKyH,kBAAkBtB,EAAOnG,KAGpEhR,KAAK0Y,QDpCO,SAACC,EAAWT,EAAUU,GASpC,OARA3R,OAAOgE,KAAKuL,IAAS1O,SAAQ,SAAAyP,GAC3B,IAAMsB,EAASrC,GAAQe,GACjBuB,EAAQD,EAAO1B,MACrBX,GAAQe,GAAS,CACfJ,MAAO,IAAI2B,EAAMH,EAAWT,EAAUU,GACtC3D,OAAQ4D,EAAO5D,WAGZuB,GC2BUuC,CAAY5M,EAAkB+L,EAAUlY,Q,8BAGzD,SAAiBqX,GACfrX,KAAKgY,iBAAiBlQ,SAAQ,SAAAkR,GAC5BA,EAAS3B,EAAI4B,sB,gCASjB,SAAmBxZ,EAAIuZ,GACrBhZ,KAAKgY,iBAAiBkB,IAAIzZ,EAAIuZ,K,kCAQhC,SAAqBvZ,GACnB,GAAIO,KAAKgY,iBAAiBmB,IAAI1Z,GAC5B,OAAOO,KAAKgY,iBAAL,OAA6BvY,K,2BASxC,SAAcuR,GACZ,OAAOhR,KAAK0Y,QAAQ1H,K,yBAOtB,WACE,OAAO/J,OAAOqO,OAAOtV,KAAK0Y,SAASzY,KAAI,SAAAmZ,GAAU,MAAK,CACpDpI,KAAMoI,EAAWjC,MAAMnG,KACvBsB,MAAO8G,EAAWjC,MAAM7E,MACxBiF,MAAO6B,EAAWjC,MAAMI,Y,uBAQ5B,WACE,OAAOtQ,OAAOqO,OAAOtV,KAAK0Y,SAASzY,KAAI,SAAAO,GAAC,OAAIA,EAAE2W,W,sBAQhD,SAASnG,GAAM,MACb,iBAAOhR,KAAK0Y,QAAQ1H,UAApB,aAAO,EAAoBmG,Q,gCAS7B,SAAmBnG,EAAMuG,GACvB,OAAOvX,KAAKqZ,KAAK,CAAErI,KAAAA,EAAMuG,MAAAA,M,iCAQ3B,SAAoB+B,GAAU,MACpBtI,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,iBAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsBiC,eAAexI,K,+BAO9C,SAAkBsI,GAAU,MAClBtI,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,iBAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsBC,kBAAkBxG,K,uBAOjD,SAAUsI,GAAU,MACVtI,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,iBAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsBkC,QAAQzI,K,kBAQvC,SAAKsI,GAAU,QACLtI,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,2BAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsBmC,QAAQ1I,UAArC,QAA8C2I,QAAQC,W,mCAYxD,WAAWN,EAAUN,EAAUa,GAA/B,iGACU7I,EAAsBsI,EAAtBtI,KAAMuG,EAAgB+B,EAAhB/B,MAAOpV,EAASmX,EAATnX,KADvB,SAGwBnC,KAAKqZ,KAAKC,GAHlC,UAGQQ,EAHR,OAIUC,EAA+BD,EAA/BC,MAAOC,EAAwBF,EAAxBE,QAASC,EAAeH,EAAfG,WAGpB9X,GAAM2X,EAAQI,QAAQ/X,GAE1BnC,KAAK0X,KAAK5K,GAAAA,YAAAA,GAAAA,gBAAwC,CAChD8L,WAAY5Y,KACZqX,IAAK8C,EAAAA,SAAAA,UAAmBnJ,EAAMuG,GAC9BuC,QAAAA,IAGGE,EAfP,oDAgBOD,GAAUE,EAhBjB,0CAiBWja,KAAKoa,OAAOd,EAAUN,OAAUlY,EAAW+Y,IAjBtD,YAmBM7Z,KAAKiY,UAAUkB,IAAf,UAAsBnI,EAAtB,YAA8BuG,IAnBpC,sDAoBEvX,KAAKiY,UAAUiB,IAAf,UAAsBlI,EAAtB,YAA8BuG,GAAS,CAAEvG,KAAAA,EAAMuG,MAAAA,KAE3C0C,EAtBN,0CAuBWja,KAAKwI,KACVsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,kBACA,CACEkE,KAAAA,EACAuG,MAAAA,EACA8C,SAAU,WAAF,oBAAE,WAAM/B,GAAN,4EACAA,EADA,cAEDxH,GAFC,SAcDA,GAdC,iCAGJ,EAAK0G,kBAAkB8B,GAHnB,SAIqB,EAAKD,KAAKC,GAJ/B,cAIEgB,EAJF,OAMA,EAAKtC,iBAAiBmB,IAAIW,EAAQra,KACpC,EAAKuY,iBAAiB5P,IAAI0R,EAAQra,GAAlC,CACE6a,EAAWrB,iBAIf,EAAKhB,UAAL,iBAAyBjH,EAAzB,YAAiCuG,IAZ7B,oCAeJ,EAAK6C,OAAOd,EAAUN,OAAUlY,EAAW+Y,GAfvC,mGAAF,mDAAE,GAsBVU,QAAS,kBAAM,EAAKtC,UAAL,iBAAyBjH,EAAzB,YAAiCuG,QAnDxD,WAwDMsC,MAAAA,IAAAA,EAAMW,UAxDZ,4EA0DSxa,KAAKwI,KAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,QAA6B,CACjEyK,MAAAA,EACAkD,YAAazJ,EACbqJ,SAAU,SAAAK,GAAO,OAAI,EAAKN,OAAOd,EAAUN,EAAU0B,EAASb,IAC9DU,QAAS,kBAAM,EAAKtC,UAAL,iBAAyBjH,EAAzB,YAAiCuG,QA9DpD,iD,uFAyEA,WAAa+B,EAAUN,EAAU0B,EAASb,GAA1C,oFACU7I,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACVoD,EAAgB,CAAEC,SAAS,GAFjC,kBAKwB5a,KAAKuZ,SAAShC,GAAOsD,QAAQ7J,EAAM0J,GAL3D,OAKUI,EALV,OAOI9a,KAAK0X,KAAK5K,GAAAA,YAAAA,GAAAA,SAAiC,CACzC8L,WAAY5Y,KACZqX,IAAK8C,EAAAA,SAAAA,UAAmBnJ,EAAMuG,GAC9BmD,QAAAA,IAGGb,MAAAA,GAAAA,EAAMkB,cACT/a,KAAKwI,KAAKsE,GAAAA,MAAAA,KAAoBA,GAAAA,MAAAA,KAAAA,KAAyB,CACrDkO,QAASrP,EAAKxE,EAAEmN,GAAiBC,oBACjC0G,SAAU3J,KAIdqJ,EAAgBG,EApBpB,kDAsBIH,EAAcK,QAAd,KACA7E,QAAQ+E,KAAK,0BAAb,MAEAlb,KAAKwI,KAAKsE,GAAAA,MAAAA,KAAoBA,GAAAA,MAAAA,KAAAA,KAAyB,CACrDkO,QAASrP,EAAKxE,EAAEkM,GAAeM,gBAC/BsH,SAAU3J,KA3BhB,eA+BE0H,GAAYA,EAAS2B,GACrB3a,KAAKiY,UAAL,iBAAyBjH,EAAzB,YAAiCuG,IAhCnC,kBAiCSoD,GAjCT,0D,kFAuCA,WAAmB,WACjB3a,KAAKwI,KAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,gBAAkCxF,MAAK,SAAA6T,GAAG,OACrE,EAAKC,KAAK,CAAEpK,KAAMmK,EAAInK,KAAMuG,MAAO4D,EAAI5D,OAAS4D,EAAIpB,Y,oBASxD,SAAOT,GAAU,MACPtI,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,iBAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsB8D,OAAOrK,K,kBAQtC,SAAKsI,EAAUoB,GAAS,MACd1J,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,iBAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsB+D,QAAQtK,EAAM0J,K,oBAO7C,SAAOpB,GAAU,MACPtI,EAAgBsI,EAAhBtI,KAAMuG,EAAU+B,EAAV/B,MACd,iBAAOvX,KAAKuZ,SAAShC,UAArB,aAAO,EAAsBgE,UAAUvK,K,wBAOzC,WACE,OAAOhR,KAAKkX,YAAYsE,MAAK,SAAArE,GAAK,OAAIA,EAAMJ,kB,yBAO9C,WAAc,WACZ/W,KAAKkX,YAAYpP,SAAQ,SAAAqP,GACvBA,EAAMC,aAAatP,SAAQ,SAAA3E,GACzB,IAAQ6N,EAAgB7N,EAAhB6N,KAAM+I,EAAU5W,EAAV4W,MACRxC,EAAQpU,EAAIsY,WAClB,EAAKL,KAAK,CAAEpK,KAAAA,EAAMuG,MAAAA,GAASwC,W,uBAWjC,SAAUjD,EAAO3U,GACfnC,KAAK0X,KAAKZ,EAAO3U,K,yBAOnB,WACEnC,KAAK0X,KAAK5K,GAAAA,YAAAA,GAAAA,UAAkC9M,Q,2BAQ9C,SAAc0b,EAAGrE,GAAqB,IAAhBiB,EAAgB,uDAAP,MAC7BtY,KAAK0X,KAAK5K,GAAAA,YAAAA,GAAAA,YAAoC9M,KAA9C,IACEsY,OAAAA,GACGjB,M,6BAUP,SAAgBqE,EAAGhH,EAAUtN,GAC3BpH,KAAK0X,KAAK5K,GAAAA,YAAAA,GAAAA,iBAAyC,CACjD4H,SAAAA,EACAtN,MAAAA,M,+BAQJ,SAAkB+P,EAAOhV,GACvBnC,KAAK0X,KAAK5K,GAAAA,YAAAA,GAAAA,WAAV,SAAkD3K,GAAlD,IAAwDoV,MAAOJ,S,EAtX7DV,CAAmBR,IA4ZzB,YC3aM,GAA+B3P,QAAQ,sC,eCA7C,MAAM,GAA+BA,QAAQ,sD,eCA7C,MAAM,GAA+BA,QAAQ,c,eCA7C,MAAM,GAA+BA,QAAQ,kC,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,2B,eCA7C,MAAM,GAA+BA,QAAQ,kC,eCA7C,MAAM,GAA+BA,QAAQ,gC,eCA7C,MAAM,GAA+BA,QAAQ,+B,eCA7C,s5iC,qkBCiBO,IAAMqV,GAAkB,SAAC3K,GAA8B,IAAxB4K,IAAwB,yDACxDA,GAAczF,QAAQ+E,KAAR,UAAgBlK,EAAhB,sBAQP6K,GAAkB,SAAAC,GAC7B,IAAIC,EAAeD,EAInB,MAHyB,mBAAdA,IACTC,GAAeC,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GAAR,OAAgBJ,EAAUG,EAAOC,OAEtDH,GAOII,GAAW,WACtB,OAAQ,CAAC,MAAQ,KAAO,KAAO,KAAO,MAAMxa,QAAQ,UAAU,SAAAya,GAAC,OAE3DA,EACCC,OAAOC,gBAAgB,IAAIC,WAAW,IAAI,GAAM,IAAOH,EAAI,GAC5Drc,SAAS,QA0BFyc,GAAiB,SAACjF,EAAO/S,GAEpC,IAAMmF,EAnBuB,SAAA4N,GAC7B,IAAMkF,EAAkB,CACtBC,SAAU,YACVC,OAAQ,UACRC,KAAM,SACNC,KAAM,QACNC,cAAe,aAGjB,OAAOvF,KAASkF,EAAkBA,EAAgBlF,GAAS,UAU7CwF,CADdxF,EAAQA,GAAS,WAEXyF,EACJ,2BAAKC,IAAKC,GAAWC,IAAI,cAAc3Y,MAAK,IAAI4Y,SAAU,IAAO5Y,KAenE,MAba,CACXkY,SAAU,oBAAC,KAAD,CAAUlY,MAAK,IAAImF,MAAAA,GAAUnF,KACvCmY,OAAQ,yBAAGU,UAAS,eAAkB7Y,MAAK,IAAImF,MAAAA,GAAUnF,KACzDoY,KAAM,oBAAC,KAAD,CAAiBpY,MAAK,IAAImF,MAAAA,GAAUnF,KAC1C8Y,WAAY,oBAAC,KAAD,CAAiB9Y,MAAK,IAAImF,MAAAA,GAAUnF,KAChD+Y,aAAc,oBAAC,KAAD,CAAe/Y,MAAK,IAAImF,MAAAA,GAAUnF,KAChDqY,KAAM,yBAAGQ,UAAS,aAAgB7Y,MAAK,IAAImF,MAAAA,GAAUnF,KACrDsY,cAAe,oBAAC,KAAD,CAAWtY,MAAK,IAAImF,MAAAA,GAAUnF,KAC7CgZ,QAASR,EACTS,aAAc,oBAAC,KAAD,CAAcjZ,MAAK,IAAImF,MAAAA,GAAUnF,KAC/CkZ,QAAS,0CAGCnG,IAmBP,SAASoG,GAAezc,GAC7B,IAAKA,EAAK,MAAO,GACjB,IAAM0c,EAAc1c,EAAI2c,MAAM,KAC9B,OAA8B,IAAvBD,EAAYtd,OAAeY,EAAM0c,EAAY,GA8B/C,SAASE,GAAqB9M,GACnC,GAAK+M,EAAAA,MAAAA,mBAAyB/M,GAG5B,OAAO,EAFP,MAAM,IAAI7L,MAAMkO,GAAeC,cAW5B,SAAS0K,GAAa3G,GAAK,MACxBE,EAAgBF,EAAhBE,MAAOvG,EAASqG,EAATrG,KACT2H,EAAS,UAAGtB,EAAIsB,iBAAP,QAAoBxM,EACnC,MAAO,GAAP,OAAUwM,EAAV,YAAuBpB,EAAvB,YAAgCvG,GAGlC,IAAMiN,GAAsB,CAC1BC,KAAM,OACNC,MAAO,SAGHC,GAAsB,CAC1BC,MAAM,EACNC,OAAO,GAiBF,SAASC,GAAanX,GAAO,MAClC,iBAAO6W,GAAoB7W,UAA3B,QAAqC6W,IAAoB,GAYpD,SAASO,GAAcC,GAAsB,IAAXC,EAAW,uDAAL,IACzCC,EAAkBF,EAGtB,OAFI9H,MAAMiI,QAAQD,KAAkBA,EAAkBF,EAAUle,KAAKme,IAE9DC,EAOF,SAASE,GAAgB5Z,GAC9BA,MAAAA,GAAAA,EAAG4Z,kBChNL,MAAM,GAA+BvY,QAAQ,4C,eCKtC,SAASwY,GAAUhD,GACxB,IAAMC,EAAeF,GAAgBC,GAErC,OAAO,SAAUG,GACf,OAA0B8C,EAAAA,EAAAA,UAAS,QAAnC,YAAO5U,EAAP,KAAc6U,EAAd,KAyBA,OAVAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAehU,EAAiBiU,WACtCH,EAASE,GAETva,SAASya,KAAKC,UAAUC,IAAIJ,GAE5Bva,SAASya,KAAK5a,MAAMqF,gBAClBqB,EAAiBgU,GAAc5V,aAChC,CAACa,IAGF,kBAAC,EAAAoV,cAAD,CAAepV,MAAOe,EAAiBf,IACrC,kBAAC4R,EAAD,MACEyD,kBAvBoB,WACxB,IAAMC,EAAqB,SAAVtV,EAAmB,QAAU,OAC9CxF,SAASya,KAAKC,UAAUtb,OAAOoG,GAC/Be,EAAiB8T,SAASS,GAC1BT,EAASS,IAoBLtV,MAAOA,GACH8R,MCvCd,MAAM,GAA+B3V,QAAQ,c,eCA7C,MAAM,GAA+BA,QAAQ,uC,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,mC,eCA7C,MAAM,GAA+BA,QAAQ,mC,eCA7C,MAAM,GAA+BA,QAAQ,iC,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCEhCoZ,IAAuBC,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACvDrL,KAAM,CACJ8gB,OAAQ,EACRC,QAAS1V,EAAM2V,QAAQ,IAEzBC,YAAa,CACXC,SAAU,WACVC,MAAO9V,EAAM2V,QAAQ,GACrBI,IAAK/V,EAAM2V,QAAQ,GACnBnW,MAAOQ,EAAMgW,QAAQC,KAAK,UAGjBC,IAAkBV,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACnDC,cAAe,CAAEC,SAAU,SCKhBC,GAAc,SAAAxE,GACzB,IAAQnJ,EAAsCmJ,EAAtCnJ,SAAUyH,EAA4B0B,EAA5B1B,QAASmG,EAAmBzE,EAAnByE,eACrBC,EAAUjB,KAChB,OACE,kBAAC,KAAD,CACE,cAAY,uBACZkB,mBAAiB,EACjBvD,UAAWsD,EAAQ7hB,MAEnB,kBAAC,EAAA+hB,WAAD,CAAYC,QAAQ,MAAMhO,GACzB4N,EACC,kBAAC,EAAAK,WAAD,CACE,cAAY,cACZ,aAAW,QACX1D,UAAWsD,EAAQZ,YACnBiB,QAASzG,GAET,kBAAC,KAAD,OAEA,OAUJ0G,GAAY,SAAAhF,GAChB,IAAQ9U,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAENga,EAOElF,EAPFkF,QACA9G,EAME4B,EANF5B,SACAE,EAKE0B,EALF1B,QACA6G,EAIEnF,EAJFmF,gBAJF,EAQInF,EAHF3J,MAAAA,OALF,MAKUnL,EAAE,sBALZ,IAQI8U,EAFFoF,WAAAA,OANF,MAMela,EAAE,UANjB,IAQI8U,EADFqF,OAAAA,OAPF,MAOW,qBAPX,EASA,GAAwBvC,EAAAA,EAAAA,WAAS,GAAjC,YAAOwC,EAAP,KAAaC,EAAb,KACMb,EAAUN,KAKVoB,EAAc,SAAC/F,EAAGgG,IAEnBN,GACW,kBAAXM,GAAyC,kBAAXA,KAGjCF,GAAQ,GACRjH,MA8BF,OACE,kBAAC,KAAD,CAAQgH,KAAMA,EAAMhH,QAASkH,GAC3B,yBAAK,cAAaH,GAChB,kBAACb,GAAD,MAAalG,QAASkH,GAAiBxF,GACpC3J,GAEH,kBAAC,KAAD,CAAeqP,UAAQ,EAACtE,UAAWsD,EAAQJ,eACxCtE,EAAMnJ,UAERqO,MAAAA,EAAAA,EA1BH,kBAAC,KAAD,CAAe,cAAY,0BACzB,kBAAC,KAAD,CAAQ,cAAY,cAAcH,QAASS,EAAa9X,MAAM,WAChDxC,EAAXkT,EAAa,SAAc,OAE7BA,GACC,kBAAC,KAAD,CACE,cAAY,gBACZ2G,QAdW,WACnB3G,IACAoH,KAaQ9X,MAAM,WAEL0X,OAsBbJ,GAAUW,UAAY,CACpBtP,MAAOuP,KAAAA,OACPR,WAAYQ,KAAAA,OACZxH,SAAUwH,KAAAA,KACVtH,QAASsH,KAAAA,KACTV,QAASU,KAAAA,QACTnB,eAAgBmB,KAAAA,KAChBT,gBAAiBS,KAAAA,MAGnBZ,GAAUa,aAAe,CACvBvH,QAAS,kBAAMoB,GAAgB,YAC/B+E,gBAAgB,EAChBU,iBAAiB,GAGnB,SAAetC,GAAUmC,ICjIzB,IAAMc,GAAqB,SAAA9F,GACzB,IAAQ3J,EAAkD2J,EAAlD3J,MAAO0I,EAA2CiB,EAA3CjB,QAASX,EAAkC4B,EAAlC5B,SAAUE,EAAwB0B,EAAxB1B,QAAS8G,EAAepF,EAAfoF,WAE3C,OACE,kBAAC,GAAD,CACE/O,MAAOA,EACP+H,SAAUA,EACVE,QAASA,EACT8G,WAAYA,GAEZ,kBAAC,KAAD,KAAoBrG,KAK1B+G,GAAmBH,UAAY,CAC7BtP,MAAOuP,KAAAA,OACP7G,QAAS6G,KAAAA,OACTR,WAAYQ,KAAAA,OACZxH,SAAUwH,KAAAA,KACVtH,QAASsH,KAAAA,MAGXE,GAAmBD,aAAe,CAChCT,WAAY,SACZ/O,MAAO,eACP0I,QAAS,wCACTX,SAAU,kBAAMlE,QAAQC,IAAI,oBAC5BmE,QAAS,kBAAMpE,QAAQC,IAAI,qBAG7B,YCpCM,GAA+B9P,QAAQ,+B,eCEhC+Z,IAAkBV,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACnD0B,iBAAkB,CAChBC,OAAQ,QACRC,MAAO,OACPC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAElB9B,cAAe,CAAEC,SAAU,KAC3B8B,UAAW,CAAEJ,MAAO,YCIhBK,GAAqB,iBAAO,CAAE3f,QAAQ,EAAM4f,MAAO,KAEnDC,GAAa,SAAAxG,GAEjB,IAAQ9U,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAGNub,EAcEzG,EAdFyG,KACAnI,EAaE0B,EAbF1B,QACAjI,EAYE2J,EAZF3J,MACA0I,EAWEiB,EAXFjB,QACAX,EAUE4B,EAVF5B,SACAsI,EASE1G,EATF0G,iBACAlI,EAQEwB,EARFxB,YACAmI,EAOE3G,EAPF2G,UACAC,EAME5G,EANF4G,eACAC,EAKE7G,EALF6G,aACAC,EAIE9G,EAJF8G,UAXF,EAeI9G,EAHF+G,aAAAA,OAZF,MAYiBT,GAZjB,IAeItG,EAFFgH,WAAAA,OAbF,MAae9b,EAAE,QAbjB,IAeI8U,EADFoF,WAAAA,OAdF,MAcela,EAAE,UAdjB,EAiBA,GAAwB4X,EAAAA,EAAAA,WAAS,GAAjC,YAAOwC,EAAP,KAAaC,EAAb,KACA,GAAgCzC,EAAAA,EAAAA,WAAS,GAAzC,YAAOmE,EAAP,KAAkBC,EAAlB,KACA,GAA0BpE,EAAAA,EAAAA,UAAS+D,GAAnC,YAAO1b,EAAP,KAAcgc,EAAd,KACA,GAAoCrE,EAAAA,EAAAA,UAAS,CAC3CyD,OAAO,EACPxH,QAAS,KAFX,YAAOqI,EAAP,KAAmBC,EAAnB,KAKM3C,EAAUN,KAEVkD,GAAWC,EAAAA,EAAAA,WASjBvE,EAAAA,EAAAA,YAAU,WACRwE,YAAW,WAAM,QACf,UAAAF,EAAS5b,eAAT,mBAAkB/C,cAAc,gBAAhC,SAA0C8e,aAE3C,IAaH,IAAMC,EAAgB,SAAAC,GACpB,IAAMC,EAAMb,EAAaY,GAUzB,OARAN,EAAc,CAAEd,OAAQqB,EAAIjhB,OAAQoY,QAAS6I,EAAIrB,QACjDY,EAASQ,GACLjB,GAAoBkB,EAAIjhB,QAC1B+f,EAAiBiB,GAAQtc,MAAK,SAAA1E,GAC5B0gB,EAAc1gB,MAIXihB,GAeHpC,EAAc,SAACqC,EAAapC,GACjB,kBAAXA,IACJF,GAAQ,GACJjH,GAASA,MAMTwJ,EAAe,WAEnB,IADoBJ,EAAcvc,GAClBob,MAAhB,CACA,IAAM5f,EAASyX,EAASjT,GACpBxE,aAAkB+W,SACpBwJ,GAAW,GACXvgB,EAAO0E,MAAK,WACV6b,GAAW,GACX1B,QAEGA,MAkDT,OACE,kBAAC,KAAD,CACEF,KAAMA,EACNhH,QAASkH,EACTuC,YAAatB,EACbtF,SAAUsF,GAEV,yBAAK,cAAY,uBACf,kBAAC,KAAD,KACGG,GAAkBK,EAAYL,EAAiBvQ,GAElD,kBAAC,KAAD,CAAe+K,UAAWsD,EAAQJ,eAC/BvF,GAAW,kBAAC,KAAD,KAAoBA,GAC/BkI,EACC,yBAAK7F,UAAWsD,EAAQqB,kBACtB,kBAAC,EAAAiC,iBAAD,OAGF,kBAAC,KAAD,CACE/H,IAAKqH,EACLW,WAAW,EACX1B,MAAOa,EAAWb,MAClB2B,WAAYd,EAAWrI,QACvBqC,UAAWsD,EAAQ2B,UACnB8B,MAAOjd,EAAE8b,GACToB,gBAAiB,CAAEC,QAAQ,GAC3BxB,aAAc1b,EACdqT,YAAaA,EACbmI,UAAWA,EACX2B,QAnDQ,SAAAzN,GAClBA,EAAME,iBAEN,IAAMwN,EAAW1N,EAAMrS,OAAO2C,MACxB4Y,EAAWlJ,EAAMrS,OAAOggB,eAExBC,EAAa5N,EAAM6N,cACtBC,QAAQ,cACRC,OACAljB,QAAQ,iBAAkB,IAEvBmjB,EAAW,CACfN,EAAShjB,MAAM,EAAGwe,GAClB0E,EACAF,EAAShjB,MAAMwe,IACfzf,KAAK,IAEPojB,EAAcmB,GAEdhO,EAAMrS,OAAO2C,MAAQ0d,GAiCXC,WAzEW,SAAAC,GACK,UAAZA,EAAIjd,MAEhBid,EAAIhO,iBACJ+M,MAsEQkB,SA9DW,SAAAD,GACrBrB,EAAcqB,EAAIvgB,OAAO2C,QA8Df8d,WAAY,CACV,cAAe,cACfnC,UAAWH,EAAY,GAAKG,GAE9BnD,OAAO,YAIb,kBAAC,KAAD,CAAe,cAAY,0BACzB,kBAAC,KAAD,CACE,cAAY,cACZoB,QAASS,EACT9X,MAAM,aAELxC,EAAE,WAEL,kBAAC,KAAD,CACE,cAAY,gBACZ6Z,QAAS+C,EACToB,SAAU9B,EAAWb,MACrB7Y,MAAM,WAEL0X,OAQboB,GAAWb,UAAY,CACrBoB,aAAcnB,KAAAA,KACdc,iBAAkBd,KAAAA,KAClBoB,WAAYpB,KAAAA,OACZR,WAAYQ,KAAAA,OACZpH,YAAaoH,KAAAA,OACbiB,aAAcjB,KAAAA,OACdkB,UAAWlB,KAAAA,OACXe,UAAWf,KAAAA,KACXa,KAAMb,KAAAA,QAGRY,GAAWX,aAAe,CACxBkB,aAAc,iBAAO,CAAEpgB,QAAQ,EAAM4f,MAAO,KAC5CM,aAAc,GACdF,WAAW,EACXG,UAAW,IAGb,SAAejE,GAAU2D,ICrPzB,IAAM2C,GAAoB,SAAAnJ,GACxB,IACEzT,EAQEyT,EARFzT,KACA8J,EAOE2J,EAPF3J,MACA+O,EAMEpF,EANFoF,WACA5G,EAKEwB,EALFxB,YACAlD,EAIE0E,EAJF1E,MACA8C,EAGE4B,EAHF5B,SACAE,EAEE0B,EAFF1B,QACAsI,EACE5G,EADF4G,eAEF,ECTqB,SAAC,GAAoB,IAAlBra,EAAkB,EAAlBA,KAAM+O,EAAY,EAAZA,MAmC9B,MAAO,CAAEyL,aA7BY,SAAA5b,GACnB,IAEE,MAAO,CAAExE,OADUkb,GAAqB1W,GACXob,MAAO,IACpC,MAAO6C,GACP,MAAO,CACLziB,QAAQ,EACR4f,MAAO6C,EAAIrK,WAsBM2H,iBAdE,SAAA3R,GACvB,OAAOxI,EACLsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,sBACA,CACEyK,MAAOA,EACPvG,KAAAA,IAEF1J,MAAK,SAAAge,GAEL,MAAO,CAAE9C,MAAO8C,EAAWtK,QADXsK,EAAY,0BAA4B,SDrBjBC,CAAe,CAAEhO,MAAAA,EAAO/O,KAAAA,IAA3Dwa,EAAR,EAAQA,aAAcL,EAAtB,EAAsBA,iBAEtB,OACE,kBAAC,GAAD,CACErQ,MAAOA,EACPiF,MAAOA,EACPsL,eAAgBA,EAChBxB,WAAYA,EACZ5G,YAAaA,EACbJ,SAAUA,EACVE,QAASA,EACTyI,aAAcA,EACdL,iBAAkBA,KAKxByC,GAAkBxD,UAAY,CAC5BpZ,KAAMqZ,KAAAA,KAAAA,WACNtK,MAAOsK,KAAAA,OAAAA,WACPxH,SAAUwH,KAAAA,KAAAA,WACVtH,QAASsH,KAAAA,KAAAA,WACTgB,eAAgBhB,KAAAA,OAChBR,WAAYQ,KAAAA,OACZpH,YAAaoH,KAAAA,OACbvP,MAAOuP,KAAAA,QAGTuD,GAAkBtD,aAAe,CAC/BxP,MAAO,MACP+O,WAAY,UAGd,YE/CO,IAAMmE,IAA0B7F,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC3DmF,KAAM,CACJC,MAAO,OACPC,YAAa,IAEf3K,QAAS,CACP4K,WAAY,gBAIHC,IAAoBlG,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACrDwF,UAAW,CACTF,WAAY,gBCPVG,GAAc,SAAA9J,GAElB,IAAQ3J,EAA4B2J,EAA5B3J,MAAO0I,EAAqBiB,EAArBjB,QAAST,EAAY0B,EAAZ1B,QAElBoG,EAAUkF,KAEhB,OACE,kBAAC,GAAD,CAAWvT,MAAOA,EAAOiI,QAASA,GAChC,kBAAC,KAAD,CAAmB8C,UAAWsD,EAAQmF,WACnC9K,KAMT+K,GAAYnE,UAAY,CACtBtP,MAAOuP,KAAAA,OACP7G,QAAS6G,KAAAA,OAAAA,WACTtH,QAASsH,KAAAA,MAGXkE,GAAYjE,aAAe,CACzBxP,MAAO,QACPiI,QAAS,kBAAMpE,QAAQC,IAAI,qBAG7B,YCjCM,GAA+B9P,QAAQ,8B,eCWvC0f,GAAoB,SAAA/J,GACxB,IAAM0E,EAAU6E,KACRre,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACAkT,EAA8D4B,EAA9D5B,SAAUE,EAAoD0B,EAApD1B,QAAS4G,EAA2ClF,EAA3CkF,QAASnG,EAAkCiB,EAAlCjB,QAASiL,EAAyBhK,EAAzBgK,cAAe3T,EAAU2J,EAAV3J,MAwB5D,OACE,kBAAC,GAAD,CACEgP,OAAO,qCACPZ,gBAAgB,EAChBpO,MAAOA,EACPiI,QAASA,EACT4G,QArBA,kBAAC,KAAD,CAAe,cAAY,0BACxBla,OAAOgE,KAAKkW,GAASlhB,KAAI,SAAA8H,GAAG,aAC3B,kBAAC,KAAD,CACE,wBAAaoZ,EAAQpZ,GAAKuZ,cAA1B,QAAoC,gBACpCvZ,IAAKA,EACLiZ,QAAS,kBAXjB3G,EAW0CtS,QAV1CwS,KAWQ5Q,MAAM,WAELxC,EAAEga,EAAQpZ,GAAKqc,aAerB6B,GACC,kBAAC,KAAD,CAAaC,SAAU,QAAS7I,UAAWsD,EAAQ8E,OAErD,kBAAC,EAAAU,kBAAD,CAAmB9I,UAAWsD,EAAQ3F,SACnCA,KAMTgL,GAAkBpE,UAAY,CAC5B5G,QAAS6G,KAAAA,OACTxH,SAAUwH,KAAAA,KAAAA,WACVV,QAASU,KAAAA,OACToE,cAAepE,KAAAA,KACftH,QAASsH,KAAAA,MAGXmE,GAAkBlE,aAAe,CAC/B9G,QAAS,GACTmG,QAAS,GACT8E,eAAe,EACf1L,QAAS,kBAAMpE,QAAQC,IAAI,qBAG7B,Y,4nBCxDMgQ,GAAAA,SAAAA,G,6aACJ,aAA0B,QAAdvQ,EAAc,uDAAJ,GAAI,YAExB,IAAMa,EAAUC,MAAMC,KACpB,IAAIC,IAAJ,wBACMhB,EAAQa,eADd,QACyB,IADzB,IAEKzP,OAAOqO,OAAOxI,GAAAA,OAAAA,UALG,OAQxB,uBAAW+I,GAAX,IAAoBa,QAAAA,MACf2P,SAAW,MATQ,E,iCAsB1B,SAAMlkB,GAAM,WACJmkB,EAAgBtmB,KAAKumB,oBAC3BC,IAAAA,OACE,oBAAC,GAAD,CACElU,MAAOnQ,EAAKmQ,MACZ0I,QAAS7Y,EAAK6Y,QACdT,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,YAE7D+L,K,0BAQJ,SAAankB,GAAM,WACXmkB,EAAgBtmB,KAAKumB,oBAC3BC,IAAAA,OACE,oBAAC,GAAD,CACElU,MAAOnQ,EAAKmQ,MACZ+H,SAAUlY,EAAKkY,SACfW,QAAS7Y,EAAK6Y,QACdqG,WAAYlf,EAAKkf,WACjB9G,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,YAE7D+L,K,yBAQJ,SAAYnkB,GAAM,WACVmkB,EAAgBtmB,KAAKumB,oBAC3BC,IAAAA,OACE,oBAAC,GAAD,CACEhe,KAAMxI,KAAKwI,KACX8J,MAAO3G,EAAKxE,EAAE,cAAe,CAAEoQ,MAAOpV,EAAKoV,QAC3C8J,WAAY1V,EAAKxE,EAAE,UACnBsT,YAAatY,EAAKsY,YAClBlD,MAAOpV,EAAKoV,MACZ8C,SAAUlY,EAAKkY,SACfE,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,YAE7D+L,K,0BAQJ,SAAankB,GAAM,WACXmkB,EAAgBtmB,KAAKumB,oBAC3BC,IAAAA,OACE,oBAAC,GAAD,CACEhe,KAAMxI,KAAKwI,KACX+O,MAAOpV,EAAKoV,MACZjF,MAAO3G,EAAKxE,EAAE,YAAa,CAAEuf,QAASvkB,EAAK6O,OAC3C6R,eAAgBlX,EAAKxE,EAAE,cACvBka,WAAY1V,EAAKxE,EAAE,QACnBkT,SAAUlY,EAAKkY,SACfE,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,YAE7D+L,K,wBAQJ,SAAWnkB,GAAM,WACTmkB,EAAgBtmB,KAAKumB,oBAEzBjU,EASEnQ,EATFmQ,MACA+O,EAQElf,EARFkf,WACAhH,EAOElY,EAPFkY,SACAE,EAMEpY,EANFoY,QACAmI,EAKEvgB,EALFugB,KACAE,EAIEzgB,EAJFygB,UACAK,EAGE9gB,EAHF8gB,WACA7b,EAEEjF,EAFFiF,MACA4b,EACE7gB,EADF6gB,aAEFwD,IAAAA,OACE,oBAAC,GAAD,CACEhe,KAAMxI,KAAKwI,KACXka,KAAMA,EACNpQ,MAAOA,EACPsQ,UAAWA,EACXE,aAAc1b,EACd6b,WAAYA,EACZ5B,WAAYA,EACZhH,SAAUA,EACV2I,aAAcA,EACdzI,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAe/L,MAExD+L,K,gCAWJ,SAAmBnkB,GAAM,WACjBmkB,EAAgBtmB,KAAKumB,oBACrBjU,EAAQ3G,EAAKxE,EAAE,gCACf6T,EAAUrP,EAAKxE,EAAE,iCAAkC,CACvDoQ,MAAOpV,EAAKoV,MACZvG,KAAM7O,EAAK6O,OAEPmQ,EAAU,CACdwF,SAAU,CAAEvC,MAAOzY,EAAKxE,EAAE,YAAama,OAAQ,mBAC/CsF,OAAQ,CAAExC,MAAOzY,EAAKxE,EAAE,UAAWma,OAAQ,eAC3ClG,KAAM,CAAEgJ,MAAOzY,EAAKxE,EAAE,QAASma,OAAQ,eAEzCkF,IAAAA,OACE,oBAAC,GAAD,CACElU,MAAOA,EACP0I,QAASA,EACTmG,QAASA,EACT9G,SAAUlY,EAAKkY,SACfE,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,YAE7D+L,K,kCAIJ,SAAqBnkB,GAAM,aACnBmkB,EAAgBtmB,KAAKumB,oBAErBjU,EAAQ3G,EAAKxE,EAAE,uBAAwB,CAC3Cuf,QAASvkB,EAAK6O,OAEVgK,EAAUrP,EAAKxE,EAAE,yBAA0B,CAC/C0f,QAAS1kB,EAAKoV,MACdmP,QAASvkB,EAAK6O,OAGVmQ,GAAO,WACVrQ,GAAuC,CACtCsT,MAAOzY,EAAKxE,EAAE,aACdma,OAAQ,iBAHC,MAKVxQ,GAA0C,CACzCsT,MAAOzY,EAAKxE,EAAE,gBACdma,OAAQ,oBAPC,MxCHP,SwCYgC,CAClC8C,MAAOzY,EAAKxE,EAAE,UACdma,OAAQ,iBAXC,GAebkF,IAAAA,OACE,oBAAC,GAAD,CACElU,MAAOA,EACP0I,QAASA,EACTmG,QAASA,EACT9G,SAAUlY,EAAKkY,SACfE,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,YAE7D+L,K,oBASJ,SAAOnkB,EAAM2Z,GAAW,WACdxJ,EAAmDnQ,EAAnDmQ,MAAO6O,EAA4Chf,EAA5Cgf,QAAS9G,EAAmClY,EAAnCkY,SAAUgH,EAAyBlf,EAAzBkf,WAAepF,EAAjD,KAA2D9Z,EAA3D,IACMmkB,EAAgBtmB,KAAKumB,oBACrBO,EAAa,kBACjB,EAAKL,mBAAmBH,EAAenkB,EAAKoY,UAG9CiM,IAAAA,OACE,oBAAC,GAAD,CACElU,MAAOA,EACP6O,QAASA,EACTE,WAAYA,EACZhH,SAAUA,EACVE,QAASuM,GAET,oBAAChL,EAAD,QAAeG,EAAf,CAAsB6K,WAAYA,MAEpCR,K,0BASJ,SAAankB,EAAM4kB,GAAiB,WAC5BT,EAAgBtmB,KAAKumB,oBAE3BC,IAAAA,OACE,oBAACO,EAAD,QACM5kB,EADN,CAEEoY,QAAS,kBAAM,EAAKkM,mBAAmBH,EAAenkB,EAAKoY,aAE7D+L,K,8BAQJ,SAAiBnkB,GAAM,WACbkY,EAAoDlY,EAApDkY,SAAUW,EAA0C7Y,EAA1C6Y,QAASgM,EAAiC7kB,EAAjC6kB,SAAUC,EAAuB9kB,EAAvB8kB,UAAW1M,EAAYpY,EAAZoY,QAC1C+L,EAAgBtmB,KAAKumB,oBACrBW,EAAcpI,GAAUqI,EAAAA,kBAS9BX,IAAAA,OACE,oBAACU,EAAD,CACE3F,MAAM,EACNvG,QAASA,EACTgM,SAAUA,EACVI,cAAc,EACdH,UAAWA,EACXI,SAAU,kBAAM,EAAKZ,mBAAmBH,EAAe/L,IACvDF,SAduB,SAAAiN,GACzBjN,EAASiN,GACT,EAAKb,mBAAmBH,EAAe/L,MAcvC+L,K,+BAcJ,WACE3hB,SAASya,KAAKC,UAAUC,IAAI8G,EAAOmB,iBACnC,IAAMC,EAAmB7iB,SAAS8iB,eAAe,cAC3CnB,EAAgB3hB,SAASW,cAAc,OAK7C,OAJAghB,EAAc7mB,GAAK0c,KACnBqL,EAAiBpiB,YAAYkhB,GAC7BtmB,KAAKqmB,SAAWqB,KAAAA,WAChBA,KAAAA,SAAiB,OACVpB,I,gCAMT,SAAmBA,EAAe/L,GAChC5V,SAASya,KAAKC,UAAUtb,OAAOqiB,EAAOmB,iBACtCf,IAAAA,uBAAgCF,GAChCA,EAAcvgB,WAAWC,YAAYsgB,GACrCtmB,KAAKwI,KAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,kBAC7B4a,KAAAA,SAAiB1nB,KAAKqmB,UACtB9L,GAAWA,Q,EA3ST6L,CAAenQ,I,IAAfmQ,GAAAA,kBAuTqB,4B,IAvTrBA,GAAAA,oBA4TuB,oBAG7B,Y,qkBC/SA,SA3BMuB,SAAAA,G,6aACJ,aAA0B,MAAd9R,EAAc,uDAAJ,GAAI,YAExB,IAAMa,EAAUC,MAAMC,KAAK,IAAIC,IAAJ,wBAAahB,EAAQa,eAArB,QAAgC,IAAhC,CAAqC,WAFxC,4BAGbb,GAHa,IAGJa,QAAAA,K,gCAStB,YAA0D,WAAnDpE,EAAmD,EAAnDA,MAAO0I,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,SAAmC,IAAzBpS,UACP,CACtB+e,SAAU,kBAAMA,EAAAA,EAAAA,UAAS,CAAE5M,QAAAA,EAASC,SAAAA,KACpC4M,MAAO,kBACL,EAAKrf,KAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,MAA2B,CACxDwF,MAAAA,EACA0I,QAAAA,YANkD,MAAd,WAAc,S,EAbtD2M,CAAe1R,I,m/BCErB,IAAM6R,GAAiB,CACrBtf,KAAM,kBAAMmT,GAAgB,SAC5BjE,KAAM,kBAAMiE,GAAgB,SAC5BhG,GAAI,kBAAMgG,GAAgB,OAC1BoM,IAAK,kBAAMpM,GAAgB,QAC3BqM,QAAS,kBAAMrM,GAAgB,aAGpBsM,GAAb,iCACE,WAAYpS,GAAS,kBAEnB,IAAMa,EAAUC,MAAMC,KACpB,IAAIC,IAAJ,wBAAahB,EAAQa,eAArB,QAAgC,IAAhC,CAAqC,UAAW,aAAc,aAH7C,4BAKRb,GALQ,IAKCa,QAAAA,KANxB,mCAcE,SAAQwR,EAAUC,MAdpB,wBAqBE,SAAWD,MArBb,oBA8BE,SAAOE,EAAWC,QA9BpB,GAAqCpS,IAwC9B,SAASqS,GAAoBC,GAA8B,IAAd7R,EAAc,uDAAJ,GACtD8R,EAAY,SAAAvM,GAChB,IAAMC,EAAMuM,IAAAA,SACN1M,EAAeF,GAAgB0M,GACrC,EAAgCG,GAC9B,CACE1X,KAAMiL,EAAM0M,SACZjS,QAAAA,GAEFwF,GALM0M,EAAR,EAAQA,YAAa3T,EAArB,EAAqBA,OAQrB,OACE,kBAAC8G,EAAD,QACME,EADN,CAEEC,IAAKA,EACL0M,YAAaA,EACbZ,QAAS/S,EAAO+S,QAChBxf,KAAMyM,EAAOzM,KACbkP,KAAMzC,EAAOyC,KACbqQ,IAAK9S,EAAO8S,IACZpS,GAAIV,EAAOU,OAQjB,OAHA6S,EAAU5G,UAAY,CACpB+G,SAAU9G,KAAAA,OAAAA,YAEL2G,EAGF,IAAME,GAAqB,SAAC,EAAmBG,GAAiB,IAAlC7X,EAAkC,EAAlCA,KAAM0F,EAA4B,EAA5BA,QACzC,EAAgC+R,IAAAA,SAAe,IAA/C,YAAOK,EAAP,KAAiBC,EAAjB,KACA,EAA4BN,IAAAA,SAAeX,IAA3C,YAAO7S,EAAP,KAAe+T,EAAf,KAwCA,OAvCAP,IAAAA,WAAgB,WAAM,IACdQ,EADc,iCAElB,WAAYpT,GAAS,yBACnB,cAAMA,GADa,0BAMP,WACZa,EAAQ5O,SAAQ,SAAAohB,GACd,EAAKA,GAAS,wBAAa,EAAAL,EAAalhB,SAAQuhB,GAArB,0BAN7B,EAAKC,eAAiB,GACtB,EAAKC,cAHc,EAFH,mCAclB,SAAQvT,EAASwT,GACTxT,EAAQ7E,QAAQhR,KAAKmpB,iBACzBnpB,KAAKmpB,eAAetT,EAAQ7E,MAAQqY,GAEtCN,EAAYM,KAlBI,oBAqBlB,SAAOC,EAAUrN,GACXqN,KAAYtpB,KAAKmpB,gBACnBJ,EAAYN,IAAAA,aAAmBzoB,KAAKmpB,eAAeG,GAAWrN,MAvBhD,wBA2BlB,SAAWpG,GACLA,EAAQ7E,QAAQhR,KAAKmpB,wBAChBnpB,KAAKmpB,eAAetT,EAAQ7E,MACnC+X,EAAY,SA9BE,GACMd,IAiCpBzS,EAAU,IAAIyT,EAAY,CAAEjY,KAAAA,EAAM0F,QAAAA,IACxCjC,GAAiBO,QAAQhE,EAAMwE,GAC/BwT,EAAUxT,KACT,CAACxE,EAAM0F,EAASmS,IAEZ,CAAED,YAAaE,EAAU7T,OAAAA,I,qkBC5HlC,SAASsU,GAAUtN,GACjB,IAAQ2M,EAA4C3M,EAA5C2M,YAAaD,EAA+B1M,EAA/B0M,SAAUnkB,EAAqByX,EAArBzX,MAAO6Y,EAAcpB,EAAdoB,UACtC,OACE,yBAAK5d,GAAIkpB,EAAUnkB,MAAK,MAAOA,GAAS6Y,UAAWA,GAChDuL,GD2HPF,GAAmB9G,UAAY,CAC7B/L,QAASgM,KAAAA,OAAAA,YCvHX,SAAeyG,GAAoBiB,I,qkBCTnC,SAASC,GAAavN,GACpB,IAAQ2M,EAA4C3M,EAA5C2M,YAAaD,EAA+B1M,EAA/B0M,SAAUnkB,EAAqByX,EAArBzX,MAAO6Y,EAAcpB,EAAdoB,UACtC,OACE,yBAAK5d,GAAIkpB,EAAUnkB,MAAK,MAAOA,GAAS6Y,UAAWA,GAChDuL,GDOPW,GAAU3H,UAAY,CACpB+G,SAAU9G,KAAAA,OAAAA,YCHZ,SAAeyG,GAAoBkB,IAEnCA,GAAa5H,UAAY,CACvB+G,SAAU9G,KAAAA,OAAAA,YChBZ,MAAM,GAA+Bvb,QAAQ,kC,kgCCKtC,IA2BMmjB,GAAb,iCACE,WAAY5T,GAAmC,MAA1BoG,EAA0B,uDAAlB,GAAIvF,EAAc,uDAAJ,GAAI,YAC7C,IAAMgT,EAAiBjV,GAAiBuB,UAAUH,EAAQ7E,MAC1D,OAAI0Y,EAAuB,MAAAA,IAC3B,uBACK7T,GADL,IAEEa,QAAS,CAAC,UAAH,WAAgBA,OALoB,0BAcjC,WACZ,EAAKA,QAAQ5O,SAAQ,SAAAkJ,GACnB,EAAKA,GAAQ,WAAU,MACrB,OAAK,EAAKkL,IAAIvU,SAGP,IAAKuU,IAAIvU,SAAQqJ,GAAjB,mBAFEmF,QAAQ+E,KAAK,oDAV1B,EAAKxE,QAAUA,EACf,EAAKwF,IAAMuM,IAAAA,YACX,EAAKW,cACL,EAAKnN,MAAQA,EAXgC,GADjD,eA3BA,6HAKE,cALF,uCASE,kFACMjc,KAAK6V,QAAQhN,SADnB,gCAEU7I,KAAKwI,KACTxI,KAAK6V,QAAQhN,SACb,UACA7I,KAAK6V,QACL7V,KAAK2pB,UANX,OAQE,kDARF,gDATF,qEAoBE,WACM3pB,KAAK6V,QAAQhN,UACf7I,KAAKwI,KAAKxI,KAAK6V,QAAQhN,SAAU,aAAc7I,KAAK6V,SACtD,wDAvBJ,GAAqCI,KA2D9B,SAAS2T,GAAerB,GAA8B,IAAd7R,EAAc,uDAAJ,GACjDqF,EAAeF,GAAgB0M,GACrC,wCACE,WAAY1S,GAAqB,IAAZoG,EAAY,uDAAJ,GAAI,+BACzBpG,EAASoG,EAAOvF,GAF1B,kCAKE,WAAwB,IAAjBmT,EAAiB,uDAAJ,GAClB,OACE,kBAAC9N,EAAD,QACM/b,KAAKic,MACL4N,EAFN,CAGE3N,IAAKlc,KAAKkc,IACV1T,KAAMxI,KAAKwI,KACXqN,QAAS7V,KAAK6V,QACd6B,KAAM1X,KAAK0X,KACXqQ,IAAK/nB,KAAK+nB,IACVpS,GAAI3V,KAAK2V,GACTqS,QAAShoB,KAAKgoB,eAhBf,EAAP,CAAqByB,IAkChB,IAAMK,GAAmB,SAAC5N,EAAKxF,GACpC+R,IAAAA,oBAA0BvM,GAAK,wBAC1BxF,OCtGP,MAAM,GAA+BpQ,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,gC,eCoC7C,SAhCoB,SAAA2V,GAClB,IAAQ8N,EAA8C9N,EAA9C8N,OAAQC,EAAsC/N,EAAtC+N,SAAUrJ,EAA4B1E,EAA5B0E,QAASsJ,EAAmBhO,EAAnBgO,eAQ7BC,GAAgBC,EAAAA,EAAAA,cAAY,WAChCF,EAAeD,EAAShZ,QACvB,CAACgZ,EAAShZ,KAAMiZ,IAEnB,OACE,kBAAC,KAAD,CAAS3X,MAAO0X,EAAS1X,OAAS0X,EAAShZ,KAAMoZ,UAAU,QACzD,kBAAC,KAAD,CACE,cAAY,qBACZpJ,QAASkJ,EACT,aAAYF,EAAS1X,MACrB+K,UAAWsD,EAAQqJ,SACnBtH,KAAK,SAEL,uBACErF,UAAW0M,IAAWC,EAAShZ,KAAO2P,EAAQ0J,mBAAqB,IAElEL,EAASvE,SC3Bb,IA0BM6E,IAAe3K,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAChDxhB,KAAM,CACJmjB,OAAQ,OACRE,QAAS,OACToI,cAAe,SACf,+BAAgC,CAC9BtI,OAAQ,QAEV,yBAA0B,CACxBuI,SAAU,a,qkBC9BhB,IA+MaC,GAAiBxjB,OAAOqO,OAAOxI,GAAAA,aAAAA,M,qkBC1M5C,IAAM4d,IAAc1O,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GACrC,ICXgCyO,EAAQC,EDWhChC,EACN3M,EADM2M,YAAaD,EACnB1M,EADmB0M,SAAUnkB,EAC7ByX,EAD6BzX,MAAOqmB,EACpC5O,EADoC4O,OAAQC,EAC5C7O,EAD4C6O,iBAAkBzN,EAC9DpB,EAD8DoB,UAEhE,GAAwB0B,EAAAA,EAAAA,UAAS+L,GAAjC,YAAOvJ,EAAP,KAAaC,EAAb,KACMb,GCd0BgK,EDca,SAAXE,ECdMD,EDcarJ,GCbrD5B,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,YAAK,CACnBhK,QAAS,CACPmJ,WAAYa,EAAMgW,QAAQ7W,WAAWyhB,QACrCphB,MAAOQ,EAAMT,SAASC,MACtBsY,OAAQ,OACRE,QAAS,OACToI,cAAe,UAEjBS,QAAM,GACJR,SAAU,SACVxK,SAAU,YAFN,MAGH2K,EAAS,cAAgB,aAAe,QAHrC,cAIGC,EAAS,IAAM,QAJlB,eAKI,QALJ,MAMJ,sBAAuB,CACrBzI,QAAS,SAPP,MASJ,qBAAsB,CACpBD,MAAO,IACPlC,SAAU,WACViL,WAAY,oBAZV,UDyDR,OAZAnB,GAAiB5N,EAAK,CACpBgP,aA9BmB,WACnB1J,GAAQ,SAAA2J,GACN,OAAQA,MA6BVC,WAtBiB,WACjB5J,GAAQ,IAsBR6J,YAhBkB,WAClB7J,GAAQ,MAyBR,kBAAC,EAAA8J,OAAD,CACE7rB,GAAIkpB,EACJpH,KAAMA,EACNsJ,OAAQA,EACR/J,QAAQ,aACRtc,MAAK,MAAOA,GACZ6Y,UAAS,UAAKsD,EAAQqK,OAAb,YAAuB3N,IAEhC,kBAAC,EAAAwD,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQxgB,SAC5CyoB,EACA3M,EAAMnJ,cAMf4X,GAAYc,cAAZ,cACKf,IADL,CAEEje,GAAkBE,KAAKC,KACvBH,GAAkBE,KAAKE,MACvBJ,GAAkBE,KAAKG,SAGzB,SAAeyb,GDrFO,SAAAxM,GAkBpB,SAAS2P,EAAiBC,EAAW1a,GACnC,OAAI0a,EAAU1a,GAAcA,EAErB/J,OAAOgE,KAAKygB,GAAW,GAGhC,OAAO,SAACzP,EAAOC,GACb,IAAQ2O,EAAiB5O,EAAjB4O,OAAQnT,EAASuE,EAATvE,KAEhB,GAAkCqH,EAAAA,EAAAA,UAAS,IAA3C,YAAO2M,EAAP,KAAkBC,EAAlB,KACA,GAA4B5M,EAAAA,EAAAA,YAA5B,YAAOgL,EAAP,KAAe6B,EAAf,KACA,GAAwC7M,EAAAA,EAAAA,UAAS,sCAAjD,YAAO8M,EAAP,KAAqBC,EAArB,KAEMC,GAAYvI,EAAAA,EAAAA,UACZwI,EA1BR,SAAwBnB,GACtB,MAAe,SAAXA,EAA0B,QAEvB,OAuBcoB,CAAepB,GAE9BlK,EDvCoB,SAACuL,EAAMF,GAAP,OAC5BrM,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,cAAK,CACnBgiB,mBAAoB,CAAEnM,SAAU,YAChCoM,eAAgB,CAAEnK,OAAQ,QAC1BoK,OAAK,GACHrM,SAAU,YADP,MAEFgM,GAAgB,IAFd,mBAGS,SAHT,YAIE,QAJF,cAKI,QALJ,eAMK7hB,EAAMhB,OAAO6hB,QANlB,GAQLhB,UAAQ,GACN9H,MAAO,OACPD,OAAQ,OACRrC,OAAQ,mBACR0M,OAAQ,aAAF,OAAeniB,EAAMgW,QAAQ7W,WAAWyhB,QAAxC,gBAJA,uBAKKmB,GAAS,mBALd,qBAMQ,kBANR,6BAOS/hB,EAAMgW,QAAQ7W,WAAWijB,UAPlC,mBASRlC,mBAAoB,CAClB1gB,MAAO,aCiBO6iB,CAAe3B,EAAQmB,EAAvBQ,GAYVvC,GAAiBE,EAAAA,EAAAA,cACrB,SAAAnZ,GACM+Y,IAAW/Y,GAKf+a,EAAUpkB,QAAQyjB,aAClBQ,EAAU5a,GACV0G,EAAK5K,GAAAA,aAAAA,GAAAA,gBAAyC,CAAEkE,KAAAA,KAN9C+a,EAAUpkB,QAAQujB,iBAQtB,CAACnB,EAAQrS,IAaL+U,GAActC,EAAAA,EAAAA,cAClB,SAAChoB,EAAMuqB,GAA0D,IAA1CC,EAA0C,wDAAvBC,EAAuB,wDACzD5b,EAAO7O,EAAK6O,KACd6b,EAAYF,GAAa3b,EAC7B2a,GAAa,SAAAR,GACX,IAAM2B,EAAe,SAAK3B,GAAR,UAAoBna,EAAO7O,IAG7C,OAFA0qB,EAAYpB,EAAiBqB,EAAcJ,GAEpC,SAAKvB,GAAZ,UAAwBna,EAAO7O,OAGjCypB,EAAUiB,GACND,GAAYb,EAAUpkB,QAAQyjB,eAEpC,IAQI2B,GAAiB5C,EAAAA,EAAAA,cACrB,SAACnZ,EAAM0b,GACLf,GAAa,SAAAR,GAEX,IAAM6B,EAAiB,MAAK7B,GAG5B,cAFO6B,EAAehc,GAEfgc,KAITpB,GAAU,SAAAqB,GACR,OAAIA,IAAoBjc,EAAaic,EAE9BxB,EAAiBC,EAAWgB,QAGvC,CAAChB,IAMGwB,GAAiB/C,EAAAA,EAAAA,cAAY,WACjCwB,EAAa,IACbG,EAAgB,IAChBC,EAAUpkB,QAAQ0jB,gBACjB,IAOG8B,GAAchD,EAAAA,EAAAA,cAAY,SAAC2C,EAAcJ,GACxCI,IACLnB,EAAamB,GAEblB,EAAUH,EAAiBqB,EAAcJ,OACxC,KAWHzN,EAAAA,EAAAA,YAAU,WACR,GAAIyM,EAAU3B,GAAS,CACrB,IAAMV,EAAOqC,EAAU3B,GAAQV,KAC/ByC,EAAgBzC,MAEjB,CAACU,EAAQ2B,IAKZ5B,GAAiB5N,EAAK,CACpBiR,YAAAA,EACAV,YAAAA,EACAS,eAAAA,EACAH,eAAAA,EACAxL,KAAM,kBAAMwK,EAAUpkB,QAAQyjB,cAC9BgC,MAAO,kBAAMrB,EAAUpkB,QAAQ0jB,eAC/BgC,OAAQ,kBAAMtB,EAAUpkB,QAAQujB,kBAclC,IAAMoC,GAAkBnD,EAAAA,EAAAA,cACtB,SAAA+B,GACE,OACEA,IAASrB,GACP,yBAAKxN,UAAWsD,EAAQ0L,OACrBplB,OAAOqO,OAAOoW,GAAWzrB,KAAI,SAAC+pB,EAAU9lB,GAAX,OAC5B,kBAAC,GAAD,CACE,cAAY,uBACZ6D,IAAK7D,EACLyc,QAASA,EACTqJ,SAAUA,EACVD,OAAQA,EACRE,eAAgBA,UAO5B,CAACF,EAAQc,EAAQa,EAAW/K,EAASsJ,IAGvC,OACE,yBAAK5M,UAAWsD,EAAQwL,oBACrBmB,EAAgB,QACjB,kBAACxR,EAAD,QAAeG,EAAf,CAAsBC,IAAK6P,IACzB,yBAAK1O,UAAWsD,EAAQyL,gBAAiBP,IAE1CyB,EAAgB,WCnHvBC,CAAc7C,IACdA,GAAYc,e,qkBAGdd,GAAY9I,UAAY,CACtB+G,SAAU9G,KAAAA,OAAAA,WACViJ,iBAAkBjJ,KAAAA,MAGpB6I,GAAY5I,aAAe,CACzBgJ,kBAAkB,GEnGpB,IAAM0C,GAAY,SAAAvR,GAChB,IAAQ2M,EAAiC3M,EAAjC2M,YAAaD,EAAoB1M,EAApB0M,SAAUnkB,EAAUyX,EAAVzX,MAC/B,OACE,yBAAK/E,GAAIkpB,EAAUnkB,MAAK,MAAOA,IAC5BokB,IAKP,SAAeN,GAAoBkF,I,qkBAEnCA,GAAU5L,UAAY,CACpB+G,SAAU9G,KAAAA,OAAAA,YCZZ,IAAM4L,GAAS,SAAAxR,GACb,IAAQ2M,EAAiC3M,EAAjC2M,YAAaD,EAAoB1M,EAApB0M,SAAUnkB,EAAUyX,EAAVzX,MAC/B,OACE,yBAAK/E,GAAIkpB,EAAUnkB,MAAK,IAAI0d,MAAO,QAAW1d,IAC3CokB,IAKP,SAAeN,GAAoBmF,IAEnCA,GAAO7L,UAAY,CACjB+G,SAAU9G,KAAAA,OAAAA,YCZZ,IAAM6L,GAAe,SAAAzR,GACnB,IAAQ2M,EAA0B3M,EAA1B2M,YAAaD,EAAa1M,EAAb0M,SACrB,OAAO,yBAAKlpB,GAAIkpB,GAAWC,IAG7B,SAAeN,GAAoBoF,IAEnCA,GAAa9L,UAAY,CACvB+G,SAAU9G,KAAAA,OAAAA,YCZZ,MAAM,GAA+Bvb,QAAQ,uC,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,0B,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,0B,eCA7C,MAAM,GAA+BA,QAAQ,2B,eCA7C,MAAM,GAA+BA,QAAQ,8B,eCA7C,MAAM,GAA+BA,QAAQ,2B,eCA7C,MAAM,GAA+BA,QAAQ,iC,olBCE7C,IAAMqnB,GAAmB,CACvB/N,OAAQ,MACRC,QAAS,MACT+N,WAAY,OACZC,cAAe,OACfC,aAAc,MACd,2BAA4B,CAAEA,aAAc,QAwBjCC,IAAmBpO,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACnD6jB,OAAQ,CACN7kB,OAAQ,QAEV8kB,WAAY,CACVzN,SAAU,QACVsN,aAAc,kBACdxkB,WAAYa,EAAMZ,aAEpBzJ,KAAM,SACD6tB,IADD,IAEFO,UAAW,QAEbC,YAAa,CACX7kB,WAAYa,EAAMgW,QAAQC,KAAK,UAItBgO,IAAuBzO,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACvDkkB,SAAU,SACLV,IADG,IAEN,0BAA2B,CACzBG,aAAc,qBAGlBQ,WAAY,SACPX,IADK,IAERY,WAAY,YACZpM,QAAS,cACT+D,SAAU,WACVhE,MAAO,OACPG,eAAgB,gBAChB1Y,MAAOQ,EAAMgW,QAAQC,KAAK,KAC1B,uBAAwB,CAAEoO,YAAa,QACvC,UAAW,CACTllB,WAAYa,EAAMgW,QAAQC,KAAK,KAC/B,4BAA6B,CAC3BqO,QAAS,IACTrR,SAAU,YAIhBqI,KAAM,CACJiJ,cAAe,WACf/I,YAAa,OACb,UAAW,CACTO,SAAU,SAGdyI,QAAS,CACPC,aAAc,OACdC,UAAW,SACXllB,MAAOQ,EAAMgW,QAAQC,KAAK,MAE5B0O,cAAe,CACb9O,SAAU,WACVE,IAAK,MACLD,MAAO,MACPO,SAAU,QACVpD,SAAU,MACVqR,QAAS,IACTX,aAAc,MACdiB,UAAW,uBACXnP,OAAQ,IACRC,QAAS,IACTvW,WAAYa,EAAMZ,YAClBylB,UAAW,iBACX/D,WAAY,kCAIHgE,IAAmBtP,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACpDpD,UAAW,CACT+E,OAAQ,OACRyM,cAAe,MACf/I,YAAa,OAEfuJ,cAAe,CACb,QAAS,CACPtP,OAAQ,YCrGRuP,GAAW,SAAXA,EAAY,GAAwB,IAAtBjvB,EAAsB,EAAtBA,KAAMkvB,EAAgB,EAAhBA,UAChB3vB,EAA2DS,EAA3DT,GAAI6S,EAAuDpS,EAAvDoS,MAAOmT,EAAgDvlB,EAAhDulB,KAAMzM,EAA0C9Y,EAA1C8Y,SAAU2V,EAAgCzuB,EAAhCyuB,QAASU,EAAuBnvB,EAAvBmvB,aAAcltB,EAASjC,EAATiC,KACpDwe,EAAUyN,KAYVkB,GAAgBnF,EAAAA,EAAAA,cAAY,WAChC,OACE,wBAAI9M,UAAWsD,EAAQmO,eACpB3sB,EAAKlC,KAAI,SAACsvB,EAASrrB,GAClB,OAAIqrB,EAAQ9vB,GAER,kBAAC0vB,EAAD,CAAUpnB,IAAKwnB,EAAQ9vB,GAAIS,KAAMqvB,EAASH,UAAWA,IAGhD,kBAAC,KAAD,CAASrnB,IAAK7D,EAAOmZ,UAAWsD,EAAQwN,oBAKtD,CAACxN,EAASxe,EAAMitB,IAYbI,GAAoBrF,EAAAA,EAAAA,cACxB,SAAAnF,GACEhM,GAAYA,EAASgM,GACrBoK,EAAUpK,KAEZ,CAAChM,EAAUoW,IAGb,OACE,kBAAC,KAAD,CAAU/R,UAAWsD,EAAQ0N,SAAUtmB,IAAKtI,GACzC0C,EACC,yBAAKkb,UAAWsD,EAAQ2N,YACtB,0BAAMjR,UAAU,mBACboI,GAAQ,0BAAMpI,UAAWsD,EAAQ8E,MAAOA,GACxCnT,EACD,oCACE,kBAAC,KAAD,MACCgd,OAKP,kBAAC,KAAD,CACE,cAAY,kBACZjS,UAAWsD,EAAQ2N,WACnBtN,QAASwO,GAET,8BACG/J,GAAQ,0BAAMpI,UAAWsD,EAAQ8E,MAAOA,GACxCnT,GAEFqc,GAAW,0BAAMtR,UAAWsD,EAAQgO,SAAUA,GAC9CU,GAAgB,kBAAC,KAAD,CAAUhS,UAAWsD,EAAQgO,aAOxD,YAEAQ,GAASvN,UAAY,CACnB1hB,KAAM2hB,KAAAA,OAAAA,YChFR,IAAM4N,GAAa,SAAC,GAA4C,IAA1CttB,EAA0C,EAA1CA,KAAMutB,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,SAAUP,EAAgB,EAAhBA,UACxCzO,EAAUoN,KAQhB,OACE,kBAAC,KAAD,CACE1Q,UAAWsD,EAAQqN,OACnBzM,KAAMmO,EACNC,SAAUA,EACVvF,UAAW,eACXa,YAAU,IAET,gBAAG2E,EAAH,EAAGA,gBAAH,OACC,kBAAC,KAAD,QAAUA,EAAV,CAA2BC,QAAS,MAClC,kBAAC,KAAD,CAAmBC,YAAaV,GAC9B,kBAAC,KAAD,CAAO/R,UAAWsD,EAAQsN,YACxB,kBAAC,KAAD,CAAM1C,UAAU,MAAMlO,UAAWsD,EAAQ7gB,MACtCqC,GACCA,EAAKlC,KAAI,SAACC,EAAMgE,GACd,OAAIhE,EAAKT,GAEL,kBAAC,GAAD,CACEsI,IAAK7H,EAAKT,GACVS,KAAMA,EACNkvB,UAAWA,IAKb,kBAAC,KAAD,CAASrnB,IAAK7D,EAAOmZ,UAAWsD,EAAQwN,yBAYhE,YAEAsB,GAAW7N,UAAY,CACrBzf,KAAM0f,KAAAA,MAAAA,WACN8N,SAAU9N,KAAAA,OAAAA,WACVkO,WAAYlO,KAAAA,MC5Dd,I,GAAMmO,GAAe,SAAA/T,GACnB,IAAQjL,EAASiL,EAATjL,KACF7G,GAAQ8lB,EAAAA,EAAAA,YACd,OACE,wBAAIzrB,MAAO,CAAEmF,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,UACpC/Z,EADH,sBCLEmf,GAAY,GAMLC,GAAiB,SAAAjV,GAC5B,IAAQ1b,EAAa0b,EAAb1b,GAAIuR,EAASmK,EAATnK,KACN7O,EAAO1C,KAAM0wB,GAAYA,GAAU1wB,GAAI4wB,QDKrB,SAAC5wB,EAAIuR,GAC7B,IAAMsf,EAAWtf,GAAQvR,EACzB,MAAO,CACLA,GAAIA,EACJuR,KAAMA,EACNsf,SAAUtf,EACVuG,MAAO9X,EACP8wB,UAAW,GACXpwB,QAAS,kBAAC6vB,GAAD,CAAchf,KAAMsf,KCbwBE,CAAW/wB,EAAIuR,GAGtE,MADI,WAAY7O,UAAaA,EAAKsuB,OAC3BtuB,GAGIuuB,GAAU,SAAA1f,GACrB,OAAOA,KAAQmf,ICfJQ,GAAc,CACzBC,QAAS,CACPnkB,KAAM,eACNgF,MAAO9F,EAAKxE,EAAE,mBACd0pB,YAAallB,EAAKxE,EAAE,yBACpB2pB,SAAU,CACRC,iBAAkB,CAChBtkB,KAAM,iBACNgF,MAAO9F,EAAKxE,EAAE,gBACd0pB,YAAallB,EAAKxE,EAAE,6BACpB6pB,UAAW,iBAEbC,mBAAoB,CAClBxkB,KAAM,mBACNgF,MAAO9F,EAAKxE,EAAE,qBACd0pB,YAAallB,EAAKxE,EAAE,kCACpB6pB,UAAW,cAEbE,SAAU,CACRzkB,KAAM,UACNgF,MAAO9F,EAAKxE,EAAE,eACd0pB,YAAallB,EAAKxE,EAAE,iCACpB6pB,UAAW,gBAIjBG,eAAgB,CACd1kB,KAAM,gBACNgF,MAAO9F,EAAKxE,EAAE,6BACd0pB,YAAallB,EAAKxE,EAAE,mCACpB2pB,SAAU,CACR5jB,KAAM,CACJT,KAAM,OACNgF,MAAO9F,EAAKxE,EAAE,WACd0pB,YAAallB,EAAKxE,EAAE,6BACpB6pB,UAAW,UA2BbI,OAAQ,CACN3kB,KAAM,SACNgF,MAAO9F,EAAKxE,EAAE,UACd0pB,YAAallB,EAAKxE,EAAE,4BACpB6pB,UAAW,OAEbljB,OAAQ,CACNrB,KAAM,SACNgF,MAAO9F,EAAKxE,EAAE,UACd0pB,YAAallB,EAAKxE,EAAE,4BACpB6pB,UAAW,CAAC,MAAO,gBAIzBK,gBAAiB,CACf5kB,KAAM,mBACNgF,MAAO9F,EAAKxE,EAAE,4BACd0pB,YAAallB,EAAKxE,EAAE,kCACpB2pB,SAAU,CACRQ,sBAAuB,CACrB7kB,KAAM,sBACNgF,MAAO9F,EAAKxE,EAAE,mCACd0pB,YAAallB,EAAKxE,EAAE,yCACpB6pB,UAAW,WAEbO,gBAAiB,CACf9kB,KAAM,iBACNgF,MAAO9F,EAAKxE,EAAE,8BACd0pB,YAAallB,EAAKxE,EAAE,oCACpB6pB,UAAW,MAEbQ,KAAM,CACJ/kB,KAAM,OACNgF,MAAO9F,EAAKxE,EAAE,QACd0pB,YAAallB,EAAKxE,EAAE,0BACpB6pB,UAAW,UAEbS,KAAM,CACJhlB,KAAM,OACNgF,MAAO9F,EAAKxE,EAAE,QACd0pB,YAAallB,EAAKxE,EAAE,0BACpB6pB,UAAW,CAAC,eAAgB,WAE9BU,IAAK,CACHjlB,KAAM,sBACNgF,MAAO9F,EAAKxE,EAAE,WACd0pB,YAAallB,EAAKxE,EAAE,6BACpB6pB,UAAW,UAEbnjB,KAAM,CACJpB,KAAM,uBACNgF,MAAO9F,EAAKxE,EAAE,YACd0pB,YAAallB,EAAKxE,EAAE,8BACpB6pB,UAAW,UAEbW,MAAO,CACLllB,KAAM,wBACNgF,MAAO9F,EAAKxE,EAAE,aACd0pB,YAAallB,EAAKxE,EAAE,+BACpB6pB,UAAW,YAIjBY,KAAM,CACJnlB,KAAM,aACNgF,MAAO9F,EAAKxE,EAAE,0BACd0pB,YAAallB,EAAKxE,EAAE,gCACpB2pB,SAAU,CACRe,UAAW,CACTplB,KAAM,WACNgF,MAAO9F,EAAKxE,EAAE,YACd0pB,YAAallB,EAAKxE,EAAE,8BACpB6pB,UAAW,UAEbc,WAAY,CACVrlB,KAAM,YACNgF,MAAO9F,EAAKxE,EAAE,aACd0pB,YAAallB,EAAKxE,EAAE,+BACpB6pB,UAAW,UAEbe,UAAW,CACTtlB,KAAM,WACNgF,MAAO9F,EAAKxE,EAAE,YACd0pB,YAAallB,EAAKxE,EAAE,8BACpB6pB,UAAW,CAAC,OAAQ,QAAS,KAAM,SAErCgB,YAAa,CACXvlB,KAAM,aACNgF,MAAO9F,EAAKxE,EAAE,cACd0pB,YAAallB,EAAKxE,EAAE,gCACpB6pB,UAAW,UAEbiB,WAAY,CACVxlB,KAAM,YACNgF,MAAO9F,EAAKxE,EAAE,aACd0pB,YAAallB,EAAKxE,EAAE,+BACpB6pB,UAAW,a,qkBC7JnB,IAAMkB,GAAgB,WAAGrtB,OAAO4G,mBAAV,cAAG,GAAoB0mB,YACvCC,GAAmB,eAEnBC,GAAc,CAClB5lB,KAAM2lB,GACNE,KCRF,yh0BDSEtB,UAAWL,GACX4B,KAAM,CACJC,cAAe,uBACfC,MAAO,8BAETC,gBAAiB,CACfC,SAAST,MAAAA,QAAA,EAAAA,GAAkBU,UAAW,QACtCC,aAAaX,MAAAA,QAAA,EAAAA,GAAkBY,aAAc,IAC7CC,oBAAoBb,MAAAA,QAAA,EAAAA,GAAkBpV,gBAAiB,IACvDkW,2BAA2Bd,MAAAA,QAAA,EAAAA,GAAkBe,sBAAuB,IACpEpC,aAAaqB,MAAAA,QAAA,EAAAA,GAAkBgB,cAAe,IAC9CzhB,OAAOygB,MAAAA,QAAA,EAAAA,GAAkBiB,QAASf,KA6BtC,YE/CO,IAAMzB,GAAc,CACzBC,QAAS,CACPnkB,KAAM,eACNgF,MAAO9F,EAAKxE,EAAE,mBACd0pB,YAAallB,EAAKxE,EAAE,yBACpB2pB,SAAU,CACRC,iBAAkB,CAChBtkB,KAAM,iBACNgF,MAAO9F,EAAKxE,EAAE,gBACd0pB,YAAallB,EAAKxE,EAAE,6BACpB6pB,UAAW,iBAEbC,mBAAoB,CAClBxkB,KAAM,mBACNgF,MAAO9F,EAAKxE,EAAE,qBACd0pB,YAAallB,EAAKxE,EAAE,kCACpB6pB,UAAW,cAEbE,SAAU,CACRzkB,KAAM,UACNgF,MAAO9F,EAAKxE,EAAE,eACd0pB,YAAallB,EAAKxE,EAAE,iCACpB6pB,UAAW,gBAIjBG,eAAgB,CACd1kB,KAAM,gBACNgF,MAAO9F,EAAKxE,EAAE,6BACd0pB,YAAallB,EAAKxE,EAAE,mCACpB2pB,SAAU,CACR5jB,KAAM,CACJT,KAAM,OACNgF,MAAO9F,EAAKxE,EAAE,WACd0pB,YAAallB,EAAKxE,EAAE,6BACpB6pB,UAAW,UA2BbI,OAAQ,CACN3kB,KAAM,SACNgF,MAAO9F,EAAKxE,EAAE,UACd0pB,YAAallB,EAAKxE,EAAE,4BACpB6pB,UAAW,OAEbljB,OAAQ,CACNrB,KAAM,SACNgF,MAAO9F,EAAKxE,EAAE,UACd0pB,YAAallB,EAAKxE,EAAE,4BACpB6pB,UAAW,CAAC,MAAO,gBAIzBK,gBAAiB,CACf5kB,KAAM,mBACNgF,MAAO9F,EAAKxE,EAAE,4BACd0pB,YAAallB,EAAKxE,EAAE,kCACpB2pB,SAAU,CACRQ,sBAAuB,CACrB7kB,KAAM,sBACNgF,MAAO9F,EAAKxE,EAAE,mCACd0pB,YAAallB,EAAKxE,EAAE,yCACpB6pB,UAAW,WAEbO,gBAAiB,CACf9kB,KAAM,iBACNgF,MAAO9F,EAAKxE,EAAE,8BACd0pB,YAAallB,EAAKxE,EAAE,oCACpB6pB,UAAW,MAEbQ,KAAM,CACJ/kB,KAAM,OACNgF,MAAO9F,EAAKxE,EAAE,QACd0pB,YAAallB,EAAKxE,EAAE,0BACpB6pB,UAAW,UAEbS,KAAM,CACJhlB,KAAM,OACNgF,MAAO9F,EAAKxE,EAAE,QACd0pB,YAAallB,EAAKxE,EAAE,0BACpB6pB,UAAW,CAAC,eAAgB,WAE9BU,IAAK,CACHjlB,KAAM,sBACNgF,MAAO9F,EAAKxE,EAAE,WACd0pB,YAAallB,EAAKxE,EAAE,6BACpB6pB,UAAW,UAEbnjB,KAAM,CACJpB,KAAM,uBACNgF,MAAO9F,EAAKxE,EAAE,YACd0pB,YAAallB,EAAKxE,EAAE,8BACpB6pB,UAAW,UAEbW,MAAO,CACLllB,KAAM,wBACNgF,MAAO9F,EAAKxE,EAAE,aACd0pB,YAAallB,EAAKxE,EAAE,+BACpB6pB,UAAW,YAIjBY,KAAM,CACJnlB,KAAM,aACNgF,MAAO9F,EAAKxE,EAAE,0BACd0pB,YAAallB,EAAKxE,EAAE,gCACpB2pB,SAAU,CACRe,UAAW,CACTplB,KAAM,WACNgF,MAAO9F,EAAKxE,EAAE,YACd0pB,YAAallB,EAAKxE,EAAE,8BACpB6pB,UAAW,UAEbc,WAAY,CACVrlB,KAAM,YACNgF,MAAO9F,EAAKxE,EAAE,aACd0pB,YAAallB,EAAKxE,EAAE,+BACpB6pB,UAAW,UAEbe,UAAW,CACTtlB,KAAM,WACNgF,MAAO9F,EAAKxE,EAAE,YACd0pB,YAAallB,EAAKxE,EAAE,8BACpB6pB,UAAW,CAAC,OAAQ,QAAS,KAAM,SAErCgB,YAAa,CACXvlB,KAAM,aACNgF,MAAO9F,EAAKxE,EAAE,cACd0pB,YAAallB,EAAKxE,EAAE,gCACpB6pB,UAAW,UAEbiB,WAAY,CACVxlB,KAAM,YACNgF,MAAO9F,EAAKxE,EAAE,aACd0pB,YAAallB,EAAKxE,EAAE,+BACpB6pB,UAAW,aC7JNoC,GAAmB,+BAAG,WAAM5qB,GAAN,8EAC3B6qB,EAAO,GADoB,SAE3B7qB,EACJsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,eACAxF,MAAK,SAAAgsB,GACLA,EAASxrB,SAAQ,SAAA+e,GACfwM,EAAK7zB,KAAK,CACRC,GAAIonB,EAAQ7V,KACZsB,MAAOuU,EAAQtP,MACfkO,KAAMjJ,GAAeqK,EAAQtP,OAC7ByB,SAAU,WACRxQ,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,OAAiC,CAC9DyK,MAAOsP,EAAQtP,QACdjQ,MAAK,SAAA3C,GACN6D,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B,CACrDrN,GAAIkF,EAAS4uB,SACbviB,KAAMrM,EAAS6uB,UACfjc,MAAOsP,EAAQtP,MACfwC,OAAO,gBAnBc,gCA0B1BsZ,GA1B0B,2CAAH,sDC6ChC,SAvCmB,SAAAvX,GACjB,IAAMC,EAAeF,GAAgBC,GAErC,OAAO,SAACG,EAAOC,GAEb,IAAQ1T,EAASyT,EAATzT,KAuBR,OACE,kBAACuT,EAAD,QACME,EADN,CAEEC,IAAKA,EACLuX,MArBU,SAAAtyB,GACZqH,EAAKsE,GAAAA,MAAAA,KAAoBA,GAAAA,MAAAA,KAAAA,KAAyB3L,IAqBhDuyB,kBAdsB,SAAC,GAA6C,IAA3CphB,EAA2C,EAA3CA,MAAO0I,EAAoC,EAApCA,QAASX,EAA2B,EAA3BA,SAAUgH,EAAiB,EAAjBA,WACrD7Y,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,aAAkC,CAC1DwF,MAAAA,EACA0I,QAAAA,EACAX,SAAAA,EACAgH,WAAAA,U,ICjCFsS,GAAAA,WACJ,aACE,GADY,YACRjf,GAAU,OAAOA,GACrBA,GAAW1U,K,+BAGb,SAAI+H,EAAKX,GAEP,OADAwsB,aAAa7rB,GAAO9F,KAAKC,UAAUkF,GAC5BpH,O,iBAGT,SAAI+H,EAAK+a,GACP,IACE,OAAI/a,KAAO6rB,aACF3xB,KAAK4xB,MAAMD,aAAa7rB,IAExB+a,EAET,MAAO7d,GAEP,OADAkR,QAAQ+E,KAAK,wBAAyB0Y,aAAa7rB,IAC5C+a,K,oBAIX,SAAO/a,GACL,OAAOA,KAAO6rB,e,kBAGhB,WACE,OAAO3sB,OAAOgE,KAAK2oB,iB,0BAGrB,WACE,OAAO,IAAID,I,iBAGb,SAAW5rB,EAAKX,GACd,OAAOusB,EAAa5d,cAAcmD,IAAInR,EAAKX,K,iBAG7C,SAAWW,GACT,OAAO4rB,EAAa5d,cAAc3N,IAAIL,K,oBAGxC,SAAcA,GACZ,OAAO4rB,EAAa5d,cAAc+d,OAAO/rB,K,kBAG3C,WACE,OAAO4rB,EAAa5d,cAAc9K,W,EAjDhC0oB,GAqDFjf,GAAW,KAEf,Y,ykBCnDMqf,GAAAA,WACJ,aAAc,MACZ,GADY,YACRrf,GAAU,OAAOA,GACrBA,GAAW1U,KACXA,KAAKg0B,KAAO,IAAIC,EAAAA,KAEhB,IAAMC,EAAW,eACXC,EAAS,UAAGn0B,KAAKg0B,KAAKI,qBAAb,QAA8B,GAE7Cp0B,KAAKq0B,QAAU,IAAIV,GACnB3zB,KAAKs0B,SAAL,gBAAyBH,EAAzB,YAAsCD,EAAtC,SACAl0B,KAAKu0B,cAAL,gBAA8BJ,EAA9B,YAA2CD,EAA3C,aACAl0B,KAAKw0B,WAAL,gBAA2BL,EAA3B,YAAwCD,EAAxC,WACAl0B,KAAKy0B,mBAAL,gBAAmCN,EAAnC,YAAgDD,EAAhD,kBACAl0B,KAAK00B,qBAAL,gBAAqCP,EAArC,YAAkDD,EAAlD,oBACAl0B,KAAK20B,mBAAL,gBAAmCR,EAAnC,YAAgDD,EAAhD,oBACAl0B,KAAK40B,cAAgB50B,KAAK60B,mBAC1B70B,KAAK80B,OAAS90B,KAAK40B,cAAc,GACjC50B,KAAK+S,KAAO/S,KAAK40B,cAAc,GAC/B50B,KAAK+0B,SAAW/0B,KAAKg1B,cACrBh1B,KAAKi1B,gBAAkBhuB,OAAOqO,OAAOvD,IAAgBmjB,QACnD,SAACluB,EAAGhG,GAAJ,UAAC,MAAegG,GAAhB,UAAoBhG,EAAI,OACxB,IAEFhB,KAAKm1B,gBAAkBn1B,KAAKo1B,qBAC5Bp1B,KAAKq1B,cAAgBr1B,KAAKs1B,mBAC1Bt1B,KAAKu1B,uBAAyB,G,mCAMhC,WACE7gB,GAAW,O,uBAOb,SAAUogB,GACR90B,KAAKq0B,QAAQnb,IAAIlZ,KAAKw0B,WAAYM,GAClC90B,KAAK80B,OAASA,I,uBAOhB,WAGE,OAFa90B,KAAKw1B,gBAER9S,KAIH1iB,KAAKq0B,QAAQjsB,IAAIpI,KAAKw0B,YAHpB5hB,K,8BAUX,WACE,IAAMG,EAAO/S,KAAKw1B,gBAElB,OAAKziB,EAAK2P,KAIH,CAAC1iB,KAAKq0B,QAAQjsB,IAAIpI,KAAKw0B,WAAY5hB,IAAiBG,GAHlD,CAACH,GAAgBH,M,qBAU5B,SAAQM,GACN,IAAM0iB,EAAUxuB,OAAOyuB,YAAY3iB,GACnC/S,KAAKq0B,QAAQnb,IAAIlZ,KAAKs0B,SAAUmB,GAChCz1B,KAAK+S,KAAOA,I,qBAOd,WACE,OAAO/S,KAAK+S,O,2BAOd,WAAgB,MACR4iB,EAAU,UAAG31B,KAAKq0B,QAAQjsB,IAAIpI,KAAKs0B,SAAU7hB,WAAnC,QAAoD,GACpE,OAAO,IAAIC,IAAIzL,OAAO0L,QAAQgjB,M,yBAOhC,SAAYZ,GACV/0B,KAAKq0B,QAAQnb,IAAIlZ,KAAKu0B,cAAeQ,K,yBAOvC,WAAoD,MAAxCE,EAAwC,uDAAtBj1B,KAAKi1B,gBAC3BF,EAAQ,UAAG/0B,KAAKq0B,QAAQjsB,IAAIpI,KAAKu0B,sBAAzB,QAA2CU,EAEzD,IAAK,IAAMW,KAAQb,EACjBA,EAASa,GAAQb,EAASa,GAAM31B,KAAI,SAAAkb,GAAG,MAAK,CAC1C1b,GAAI0b,EAAI1b,IAAM0b,EACdpB,MAAOoB,EAAIpB,UAIf,OAAOgb,I,gCAaT,WAAqB,MACnB,iBAAO/0B,KAAKq0B,QAAQjsB,IAAIpI,KAAK20B,2BAA7B,W,gCAOF,SAAmBkB,GACjB71B,KAAKq0B,QAAQnb,IAAIlZ,KAAK20B,mBAAoBkB,MAAAA,GAAAA,K,8BAa5C,SAAiBC,GACf91B,KAAKq0B,QAAQnb,IAAIlZ,KAAKy0B,mBAAoBqB,GAC1C91B,KAAKq1B,cAAgBS,I,8BAOvB,WAAmB,MACjB,iBAAO91B,KAAKq0B,QAAQjsB,IAAIpI,KAAKy0B,2BAA7B,QAAoD,K,gCAatD,SAAmBU,GACjBn1B,KAAKq0B,QAAQnb,IAAIlZ,KAAK00B,qBAAsBS,GAC5Cn1B,KAAKm1B,gBAAkBA,I,gCAQzB,WAAyE,MAAtDI,EAAsD,uDAA7Bv1B,KAAKu1B,uBAC/C,eAAQ,EACNv1B,KAAKq0B,QAAQjsB,IAAIpI,KAAK00B,6BADxB,QACiDa,M,EAhM/CxB,GAqMFrf,GAAW,KAEf,YC3MM,GAA+BpO,QAAQ,0B,eCA7C,MAAM,GAA+BA,QAAQ,uC,olBCE7C,IAAMyvB,GAAe,CACnBC,MAAO,CACLpW,OAAQ,OACRqW,KAAM,EACNnI,aAAc,OAEhBoI,YAAa,CACXrW,QAAS,OACTqG,SAAU,QAEZiQ,WAAY,CACVvW,OAAQ,MACRuC,QAAS,OACTiU,SAAU,WAIDC,IAAgB1W,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAChDrL,KAAM,CACJmjB,OAAQ,OACRC,MAAO,OACPC,QAAS,OACTqI,SAAU,OACVD,cAAe,SACf1gB,gBAAiBM,EAAMH,aAAaH,iBAEtCuV,KAAM,CACJ6W,KAAM,WACN9T,QAAS,OACTF,OAAQ,kCACRpC,QAAS,QACTqO,UAAW,QAEboI,OAAQ,CACNL,KAAM,UACN9T,QAAS,OACToI,cAAe,UAEjBgM,OAAQ,CACNpU,QAAS,OACTE,eAAgB,SAChB6L,UAAW,MACXsI,aAAc,QAEhBC,gBAAiB,CACf9sB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1B,UAAW,CACTphB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,UAG9BzY,MAAO,CACLuN,QAAS,OACT6W,cAAe,OAEjBC,UAAW,CACT9W,QAAS,OACT6W,cAAe,MACfxU,MAAO,QACPD,OAAQ,QAEV/E,UAAW,CACT+E,OAAQ,YAIC2U,IAAoBjX,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,gBAC5C4rB,IAD4C,IAE/Cc,KAAM,CACJltB,MAAO,UACPuc,SAAU,OACVrG,QAAS,WACTiX,WAAY,IACZ3U,QAAS,OACT,UAAW,CACT4U,OAAQ,UACRltB,gBAAiB,GAAF,OAAKM,EAAMgW,QAAQ4K,QAAQiM,KAA3B,MACfrtB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1BkM,eAAgB,SAGpBC,SAAU,CACRvtB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1BpF,YAAa,OACbO,SAAU,aAIDiR,IAAwBxX,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,gBAChD4rB,IADgD,IAEnDqB,UAAW,CACTjV,QAAS,OACTE,eAAgB,gBAChBD,WAAY,UAEdiV,YAAa,CACXC,UAAW,oBACX9M,SAAU,QAEZ+M,UAAW,CACT5tB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1B7E,SAAU,YAIDsR,IAA0B7X,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBACnDyV,IADmD,IAEtD0B,aAAc,CACZH,UAAW,qBAEbI,YAAa,CACXzV,OAAQ,MACRrC,OAAQ,UAEV+X,cAAe,CACb/X,OAAQ,MACR4K,SAAU,OACV8M,UAAW,qBAEbM,eAAgB,CACdC,UAAW,SACX,MAAO,CACL3R,SAAU,cAKH4R,IAAoBnY,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACpD4tB,KAAM,CACJ5V,QAAS,OACTvC,OAAQ,MACRC,QAAS,MACTiO,aAAc,MACd1L,WAAY,SACZ,UAAW,CACT2U,OAAQ,UACRltB,gBAAiB,GAAF,OAAKM,EAAMgW,QAAQ4K,QAAQiM,KAA3B,QAGnBgB,UAAW,CACT9V,MAAO,qBACPyD,YAAa,QAEf3B,UAAW,CACT9B,MAAO,QAET+V,aAAc,CACZ/V,MAAO,IACPD,OAAQ,IACR6L,aAAc,MACdxB,OAAQ,kBACRyC,UAAW,uBACX,UAAW,CACT7M,MAAO,OACPD,OAAQ,OACRiW,UAAW,UAGfC,WAAY,CACVhW,QAAS,OACTiU,SAAU,MACVxW,OAAQ,WACRsG,SAAU,OACVvc,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1B3I,WAAY,UAEdgW,SAAU,CACRjW,QAAS,OACTiU,SAAU,SACVxW,OAAQ,WAEVyY,WAAY,CACVzY,OAAQ,gBACR,aAAc,CACZA,OAAQ,QAGZ0Y,SAAU,CACRzuB,gBAAiBM,EAAMgW,QAAQ+P,KAAKnF,QACpCphB,MAAO,mBACPmkB,aAAc,MACdnI,YAAa,OACbO,SAAU,QAEZ5T,MAAO,CACLwkB,WAAY,IACZ3U,QAAS,OACTC,WAAY,cAEdqD,KAAM,CACJ9b,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1BlL,QAAS,MACT+O,aAAc,OACd,UAAW,CACTjlB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,UAG9BwN,OAAQ,CACNpW,QAAS,UACTqW,WAAY,QAEdC,UAAW,CACTjC,aAAc,OAEhBtZ,UAAW,CACTgF,MAAO,OACPD,OAAQ,QAEVyW,mBAAoB,CAClB5B,WAAY,IACZntB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1B,UAAW,CACTphB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1BkM,eAAgB,OAChBptB,gBAAiB,GAAF,OAAKM,EAAMgW,QAAQ4K,QAAQiM,KAA3B,MACf,uBAAwB,CACtBrtB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,WAIhC4N,kBAAmB,CACjBhvB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1B,UAAW,CACTkM,eAAgB,aAKT2B,IAAoBjZ,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACpD0uB,eAAgB,CACdC,WAAY,UAEdC,IAAK,CACH5W,QAAS,OACTE,eAAgB,gBAChBxC,QAAS,WACT,UAAW,CACTkX,OAAQ,UACRltB,gBAAiB,GAAF,OAAKM,EAAMgW,QAAQ4K,QAAQiM,KAA3B,MACf,UAAW,CACTrtB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,SAE5B,oBAAqB,CACnB+N,WAAY,aAIlBE,QAAS,CACP/B,eAAgB,gBAElBJ,KAAM,CACJltB,MAAOQ,EAAMgW,QAAQ4K,QAAQhgB,MAC7Bmb,SAAU,OACVtG,OAAQ,WACRkX,WAAY,KAEdmC,SAAU,CACR9W,QAAS,OACTC,WAAY,SACZ,QAAS,CACP8D,SAAU,SAGdgT,SAAU,CACRhT,SAAU,YC1PRiT,GAAc,SAAAld,GAClB,IAAQzT,EAASyT,EAATzT,KACArB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAUiW,KAGhB,GAAgC7X,EAAAA,EAAAA,UAAS,IAAzC,YAAOuU,EAAP,KAAiB8F,EAAjB,KAsDA,OARAna,EAAAA,EAAAA,YAAU,WACRzW,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,eAAwCxF,MACrE,SAAA+xB,GACED,EAAYC,QAGf,CAAC7wB,IAGF,kBAAC,KAAD,CAAO,cAAY,uBAAuB6U,UAAWsD,EAAQqV,OAC3D,yBAAK3Y,UAAWsD,EAAQuV,aAAc/uB,EAAE,gBACxC,kBAAC,KAAD,MACA,yBAAKkW,UAAWsD,EAAQwV,YACtB,kBAAC,EAAAmD,YAAD,CACEj0B,QACE,yBAAKgY,UAAWsD,EAAQkW,MACtB,kBAAC,KAAD,CAASxZ,UAAWsD,EAAQuW,WAC3B/vB,EAAE,iBAGPoyB,SAAUjG,EAASrzB,KAAI,SAAA4mB,GAAO,MAAK,CACjC7F,QAAS,kBACPxY,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,OAAiC,CAC9DyK,MAAOsP,EAAQtP,QACdjQ,MAAK,SAAA3C,GACN6D,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B,CACrDrN,GAAIkF,EAAS4uB,SACbviB,KAAMrM,EAAS6uB,UACfjc,MAAOsP,EAAQtP,MACfwC,OAAO,QAGb1U,QAASwhB,EAAQtP,MACjBkO,KAAMjJ,GAAeqK,EAAQtP,OAC7BgD,SAAS,QAGZ8X,GAAAA,KAAAA,cACC,uBACE,cAAY,sBACZvpB,KAAMupB,GAAAA,KAAAA,cACN5tB,OAAO,SACP+0B,IAAI,aACJnc,UAAWsD,EAAQkW,MAEnB,kBAAC,KAAD,CAAsBxZ,UAAWsD,EAAQuW,WAExC/vB,EAAE,kBAGL,qCAEDkrB,GAAAA,KAAAA,MACC,uBACE,cAAY,cACZvpB,KAAMupB,GAAAA,KAAAA,MACN5tB,OAAO,SACP+0B,IAAI,aACJnc,UAAWsD,EAAQkW,MAEnB,kBAAC,KAAD,CAAsBxZ,UAAWsD,EAAQuW,WACxC/vB,EAAE,UAGL,qCZtGDF,OAAOqO,OAAO6a,IAAWsJ,QAAO,SAAAC,GAAI,OAAIA,EAAKC,eY6GvB15B,KAAI,SAAAy5B,GACzB,IAAME,EAAOF,EAAKjU,KAClB,EAAwBiU,EAAK7jB,QAArB7E,EAAR,EAAQA,KAAMsB,EAAd,EAAcA,MACd,OACE,yBACE,mCAA2BtB,GAC3BqM,UAAWsD,EAAQkW,KACnB7V,QAAS,kBAAM6Y,GAASrxB,EAAMwI,KAE9B,kBAAC4oB,EAAD,CAAMvc,UAAWsD,EAAQuW,WACxB5kB,SASf6mB,GAAYvX,UAAY,CACtBpZ,KAAMqZ,KAAAA,MAGR,YCjKM,GAA+Bvb,QAAQ,oC,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCmE7C,SA1DA,SAAkB2V,GAChB,IAAQ5E,EAAkD4E,EAAlD5E,IAAKyiB,EAA6C7d,EAA7C6d,mBAAoBC,EAAyB9d,EAAzB8d,qBACzBt6B,EAA+B4X,EAA/B5X,GAAI8X,EAA2BF,EAA3BE,MAAOvG,EAAoBqG,EAApBrG,KAAMgpB,EAAc3iB,EAAd2iB,UACjB7yB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAUiY,KACVqB,EAAaD,EAAY,CAACrZ,EAAQoY,IAAKpY,EAAQqY,SAAWrY,EAAQoY,IAElEmB,GAAqB/P,EAAAA,EAAAA,cACzB,kBAAM2P,EAAmBziB,KACzB,CAACA,EAAKyiB,IAGFK,GAAuBhQ,EAAAA,EAAAA,cAC3B,SAAAllB,GACE80B,EAAqBt6B,GACrBwF,EAAE4Z,oBAEJ,CAACpf,EAAIs6B,IAGP,OACE,kBAAC,EAAAK,QAAD,CACEC,OAAK,EACL/nB,MAAOnL,EAAE,aAAc,CAAEmzB,OAAQre,EAAM5E,IAAInW,MAC3Cq5B,sBAAoB,EACpBC,sBAAoB,EACpBC,sBAAoB,EACpBrQ,UAAU,eAEV,yBACE,cAAY,sBACZ/M,UAAW4c,EACXjZ,QAASkZ,GAET,kBAAC,EAAAE,QAAD,CAAS9nB,MAAO7S,GACd,yBAAK4d,UAAWsD,EAAQsY,UACrBzc,GAAejF,GAChB,0BAAMzO,KAAK,IAAI4xB,UAAU,OAAOrd,UAAWsD,EAAQkW,MAChD7lB,KAIP,6BACE,kBAAC,EAAAopB,QAAD,CAAS9nB,MAAOnL,EAAE,WAChB,kBAAC,KAAD,CACE6Z,QAASmZ,EACTzX,KAAK,QACLrF,UAAWsD,EAAQkY,gBAEnB,kBAAC,KAAD,CAAY3S,SAAS,gBC7CnC,IAEMyU,GAAkB,SAAA1e,GAAS,MACzB0E,EAAUwW,KACRyD,EAAkD3e,EAAlD2e,iBAAkBd,EAAgC7d,EAAhC6d,mBAAoBnkB,EAAYsG,EAAZtG,GAAIoS,EAAQ9L,EAAR8L,IAC1C5gB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAGR,GAAoC4X,EAAAA,EAAAA,UAClC6b,EAAiBxF,sBADnB,YAAOyF,EAAP,KAAmBC,EAAnB,KAUMC,GAAqB5Q,EAAAA,EAAAA,cACzB,SAAA6Q,GACEJ,EAAiBG,mBAAmBC,GACpCF,EAAcE,KAEhB,CAACJ,IAGGK,GAAwB9Q,EAAAA,EAAAA,cAC5B,SAAA1qB,GAEE,OADqBm7B,EAAiBxF,qBAClBqE,QAAO,SAAApiB,GAAG,OAAIA,EAAI5X,KAAOA,OAE/C,CAACm7B,IAGGb,GAAuB5P,EAAAA,EAAAA,cAC3B,SAAA1qB,GACE,IAAMu7B,EAAYC,EAAsBx7B,GAExCs7B,EAAmBC,KAErB,CAACD,EAAoBE,IAGjBC,GAAoB/Q,EAAAA,EAAAA,cACxB,SAAC1qB,EAAIuR,EAAMuG,GACT,IAAMyjB,EAAYC,EAAsBx7B,GA7CtB,KA+Cdu7B,EAAU16B,QAA4B06B,EAAUG,QAEpDH,EAAUx7B,KAAK,CACbC,GAAIA,EACJuR,KAAMA,EACNuG,MAAOA,IAGTwjB,EAAmBC,KAErB,CAACD,EAAoBE,IAGjBG,GAA2BjR,EAAAA,EAAAA,cAC/B,SAAA1qB,GACE,IAAMu7B,EAAYJ,EAAiBxF,qBAC7BiG,EAAaL,EAAUM,MAAK,SAAAjkB,GAAG,OAAIA,EAAI5X,KAAOA,KAEhD47B,IACFA,EAAWrB,WAAY,GAGzBe,EAAmBC,KAErB,CAACJ,EAAkBG,IAYfQ,GAA8BpR,EAAAA,EAAAA,cAAY,WAC9C4Q,EAAmB,MAClB,CAACA,IAqCJ,OA1BA9b,EAAAA,EAAAA,YAAU,WAmBR,OAlBA6b,EAAcF,EAAiBxF,sBAE/Bzf,EAAG7I,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,aAA6B,SAAA3K,GAC5CA,EAAK4X,OAAOmhB,EAAkB/4B,EAAK1C,GAAI0C,EAAK6O,KAAM7O,EAAKoV,UAG9D5B,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,YAAmC,SAAA3K,GAC9Di5B,EAAyBj5B,EAAKjB,QAGhCyU,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,UAAiC,SAAA3K,GAC5D,GAAIA,EAAKuY,QAAS,CAChB,MAAmCvY,EAAKkV,IAAhCsB,EAAR,EAAQA,UAAiBpB,EAAzB,EAAmBrG,KACbzR,EAAK,GAAH,OAAMkZ,EAAN,YAAmBpB,EAAnB,YAA4BpV,EAAKuY,SACzCwgB,EAAkBz7B,EAAI0C,EAAKuY,QAASnD,OAIjC,WACLwQ,EAAIjb,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,aACvBib,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,YAC9Bib,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,aAE/B,CAAC8tB,EAAkBM,EAAmBE,EAA0BzlB,EAAIoS,IAGrE,kBAAC,KAAD,CAAO,cAAY,2BAA2B1K,UAAWsD,EAAQqV,OAC/D,yBAAK3Y,UAAS,UAAKsD,EAAQuV,YAAb,YAA4BvV,EAAQyW,YAChD,8BAAOjwB,EAAE,WACT,kBAAC,KAAD,CAASmL,MAAOnL,EAAE,cAChB,8BACE,kBAAC,KAAD,CACE,cAAY,+BACZ6Z,QAASua,EACTle,UAAWsD,EAAQ4W,UACnBpS,SAAgC,IAAtB0V,EAAWv6B,QAErB,kBAAC,KAAD,CAAY4lB,SAAS,cAK7B,kBAAC,KAAD,MACA,yBAAK7I,UAAS,UAAKsD,EAAQwV,WAAb,YAA2BxV,EAAQ0W,cAAjD,cACOwD,UADP,aACG,EAAiBW,UAAUv7B,KAAI,SAAAoX,GAAG,OACjC,kBAAC,GAAD,CACEtP,IAAKsP,EAAI5X,GACT4X,IAAKA,EACLyiB,mBAAoBA,EACpBC,qBAAsBA,UAQlCY,GAAgB/Y,UAAY,CAC1BjJ,UAAWkJ,KAAAA,OACXiY,mBAAoBjY,KAAAA,KACpBlM,GAAIkM,KAAAA,MAGN,YC7KM,GAA+Bvb,QAAQ,+B,eCgE7C,SAzDA,SAAqB2V,GACnB,IAAM0E,EAAUmX,KACR2D,EAA0Bxf,EAA1Bwf,QAASC,EAAiBzf,EAAjByf,aAEXxR,GAAgBC,EAAAA,EAAAA,cACpB,kBAAMuR,EAAa,CAAEj8B,GAAIg8B,EAAQv6B,IAAKqW,MAAOkkB,EAAQlkB,UACrD,CAACkkB,EAASC,IAGZ,OACE,yBACE,cAAY,qBACZre,UAAWsD,EAAQoX,KACnB/W,QAASkJ,GAET,yBACE7M,UAAWoe,EAAQE,UAAYhb,EAAQqX,UAAYrX,EAAQqD,WAE3D,yBAAK3G,UAAWsD,EAAQwX,YACtB,yBAAK9a,UAAWsD,EAAQrO,OAAQmpB,EAAQnpB,QAE1C,yBAAK+K,UAAWsD,EAAQyX,UACtB,uBAAG/a,UAAWsD,EAAQ8X,WAAYgD,EAAQxqB,cAE3CwqB,EAAQpM,cACP,yBAAKhS,UAAWsD,EAAQ0X,YACtB,kBAAC,KAAD,CACEhb,UAAWsD,EAAQ+X,mBACnB5X,QAAQ,WACR8a,QAAS,kBAAC,KAAD,OAET,uBACE,cAAY,wBACZ9yB,KAAM2yB,EAAQpM,aACdmK,IAAI,sBACJ/0B,OAAO,SACPuc,QAASnC,GACTxB,UAAWsD,EAAQgY,mBAElB8C,EAAQ9C,mBAAqB8C,EAAQpM,iBAM/CoM,EAAQE,WACP,yBAAKte,UAAWsD,EAAQsX,cACtB,yBACEhb,IAAKwe,EAAQE,UACbxe,IAAKse,EAAQI,kBAAoBJ,EAAQnpB,W,OC/C/CwpB,IAAgB,WAAAj3B,OAAO4G,mBAAP,iBAAoBswB,WAAY,GAEhDA,GAAW,SAAA9f,GACf,IAAM0E,EAAU6W,KACRwE,EAAyB/f,EAAzB+f,qBACA70B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAMF80B,GAAc9R,EAAAA,EAAAA,cAAY,WAC9B,OAAO2R,MAAAA,QAAP,EAAOA,GAAe77B,KAAI,SAACw7B,EAASj7B,GAClC,OACE,yBAAKuH,IAAK0zB,EAAQnpB,MAAQ9R,GACjB,IAANA,GAAW,kBAAC,KAAD,CAASuK,OAAO,EAAMsS,UAAWsD,EAAQ+W,cACrD,kBAAC,GAAD,CAAa+D,QAASA,EAASC,aAAcM,UAIlD,CAACrb,EAAQ+W,YAAasE,IAMnBE,GAAoB/R,EAAAA,EAAAA,cAAY,WACpC,OACE,yBAAK9M,UAAWsD,EAAQiX,gBACtB,uBAAGva,UAAU,eACb,4BAAKlW,EAAE,yBAGV,CAACA,EAAGwZ,EAAQiX,iBAQf,OACE,kBAAC,KAAD,CACE,cAAY,mBACZva,UAAS,UAAKsD,EAAQqV,MAAb,YAAsBrV,EAAQ8W,eAEvC,yBAAKpa,UAAWsD,EAAQuV,aAAc/uB,EAAE,aACxC,kBAAC,KAAD,MACA,yBAAKkW,UAAWsD,EAAQgX,eACrBmE,GAAcx7B,OAAS27B,IAAgBC,OAMhDH,GAASna,UAAY,CACnBoa,qBAAsBna,KAAAA,KACtBlM,GAAIkM,KAAAA,MAGN,Y,qkBClDA,IAAMrE,GAAU,SAAAvB,GACd,IAAQzT,EAAyByT,EAAzBzT,KAAMmN,EAAmBsG,EAAnBtG,GAAIoS,EAAe9L,EAAf8L,IAAK0L,EAAUxX,EAAVwX,MACjBmH,GAAmBuB,EAAAA,EAAAA,UAAQ,kBAAM,IAAIpI,KAAa,IAClDpT,EAAU0V,KACRlvB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAYF60B,GAAuB7R,EAAAA,EAAAA,cAC3B,SAAA9S,GACOA,EAAIrG,OAAMqG,EAAIrG,KAAO2M,GAAetG,EAAI5X,KAEzC4X,EAAI2iB,UACNvG,EAAM,CACJzY,QAAS7T,EAAEkM,GAAeK,kBAAmB,CAC3C0oB,SAAU/kB,EAAI5X,KAEhBwb,SAAU3J,KAGZ9I,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+BuK,KAG3D,CAACoc,EAAOjrB,EAAMrB,IA8BhB,OArBA8X,EAAAA,EAAAA,YAAU,WAUR,OATAzW,EAAKsE,GAAAA,aAAAA,KAA2BA,GAAAA,aAAAA,KAAAA,iBAChC6I,EAAG7I,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,mBAAmC,SAAA3K,GACnDA,EAAK1C,KAAO8S,GAAgBvB,MAC9BxI,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,oBAIC,WACLib,EAAIjb,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,sBAExB,CAACtE,EAAMmN,EAAIoS,IASZ,yBAAK,cAAY,kBAAkB1K,UAAWsD,EAAQ7hB,MACpD,yBAAKue,UAAWsD,EAAQvB,MACtB,yBAAK/B,UAAWsD,EAAQ2V,QACtB,kBAAC,GAAD,CAAsB9tB,KAAMA,IAC5B,kBAAC,GAAD,CACEoyB,iBAAkBA,EAClBd,mBAAoBkC,EACpBrmB,GAAIA,EACJoS,IAAKA,KAGT,yBAAK1K,UAAWsD,EAAQ2V,QACtB,kBAAC,GAAD,CAAmB0F,qBAAsBA,QASnD,SAFsBpS,GAAeyS,GAAW7e,K,qkBAIhDA,GAAQoE,UAAY,CAClBpZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,YCxGN,IAAMkU,GAAe,CACnBC,MAAO,CACLpW,OAAQ,OACRqW,KAAM,EACNnI,aAAc,OAEhBoI,YAAa,CACXrW,QAAS,OACTqG,SAAU,QAEZiQ,WAAY,CACVvW,OAAQ,MACRuC,QAAS,OACTiU,SAAU,WAIDkG,IAAkB3c,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAClDrL,KAAM,CACJmjB,OAAQ,OACRC,MAAO,OACPC,QAAS,OACTqI,SAAU,OACVD,cAAe,SACf1gB,gBAAiBM,EAAMH,aAAaH,iBAEtCuV,KAAM,CACJ6W,KAAM,WACN9T,QAAS,OACTtC,QAAS,QACTqO,UAAW,QAEbqO,YAAa,CACXtG,KAAM,UACN9T,QAAS,OACToI,cAAe,UAEjBiS,UAAW,CACTvG,KAAM,UACN9T,QAAS,OACToI,cAAe,cAINkS,IAAsB9c,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBAC/CyV,IAD+C,IAElD1H,SAAU,CACRxO,QAAS,YACT6c,aAAc,iBACd5O,aAAc,MACd,eAAgB,CACdjkB,gBAAiB,0BAGrB8yB,YAAa,CACXxa,QAAS,cACTD,MAAO,OACPG,eAAgB,gBAChB,sBAAuB,CACrB6D,SAAU,cAKH0W,IAAuBjd,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBAChDyV,IADgD,IAEnDI,WAAY,SACPJ,GAAaI,YADR,IAER,qBAAsB,CACpB3H,YAAa,SAGjBvd,YAAa,CACXiV,SAAU,OACV2I,UAAW,SACXhP,QAAS,eCrEPgd,GAAgB,SAAA5gB,GACpB,IAAQ6gB,EAA4C7gB,EAA5C6gB,OAAQC,EAAoC9gB,EAApC8gB,cAAeC,EAAqB/gB,EAArB+gB,iBACvB71B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAU8b,KAQVQ,EAAkB,SAAAC,GACtB,OAAOH,IAAkBG,GASrBC,EAAoB,SAAAnY,GACxB,IAAMoY,EAAWpY,EAAIqY,cAAc59B,GAEnCu9B,EAAiBI,IAGnB,OACE,kBAAC,EAAAE,MAAD,CAAO,cAAY,yBAAyBjgB,UAAWsD,EAAQqV,OAC7D,yBAAK3Y,UAAWsD,EAAQuV,aAAc/uB,EAAE,UACxC,kBAAC,EAAAo2B,QAAD,MACA,yBAAKlgB,UAAWsD,EAAQwV,YACrB2G,EAAO78B,KAAI,SAAAsX,GAAK,OACf,kBAAC,EAAA4X,SAAD,CACE,cAAY,uBACZpnB,IAAKwP,EAAM9X,GACXA,GAAI8X,EAAM9X,GACV4d,UAAS,UAAKsD,EAAQ0N,SAAb,YACP4O,EAAgB1lB,EAAM9X,IAAM,aAAe,IAE7CuhB,QAASmc,GAET,kBAAC,EAAA/C,QAAD,CAAS9nB,MAAOiF,EAAMtG,YAAamZ,UAAU,gBAC3C,0BAAM/M,UAAWsD,EAAQgc,aACtBplB,EAAM6M,MACN6Y,EAAgB1lB,EAAM9X,KAAO,kBAAC,KAAD,eAU9Co9B,GAAcjb,UAAY,CACxBpZ,KAAMqZ,KAAAA,MAGR,YCnEM,GAA+Bvb,QAAQ,wB,eCEhCk3B,IAAsB7d,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACvDmd,eAAgB,CACd,mBAAoB,CAClB1O,UAAW,OACX1M,eAAgB,e,qkBCEtB,IAAMqb,IAAgB1hB,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GACvC,IACEyhB,EAQE1hB,EARF0hB,QACAxc,EAOElF,EAPFkF,QACAhf,EAME8Z,EANF9Z,KACAy7B,EAKE3hB,EALF2hB,SACAz8B,EAIE8a,EAJF9a,QALF,EASI8a,EAHF3J,MAAAA,OANF,MAMU,GANV,EAOEurB,EAEE5hB,EAFF4hB,YACAC,EACE7hB,EADF6hB,WAGI3zB,GAAQ8lB,EAAAA,EAAAA,YACRtP,EAAU6c,KACRr2B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAEF42B,GAAkBva,EAAAA,EAAAA,UAClBwa,GAAexa,EAAAA,EAAAA,QAAO,IACtBya,GAA2Bza,EAAAA,EAAAA,UAC3B0a,EAAWhiB,GAAO6hB,EAuExB,OAjCA9e,EAAAA,EAAAA,YAAU,WAAM,MACyB,EAAlCgf,EAAyBt2B,UAC5Bs2B,EAAyBt2B,QAAzB,UAAmCu2B,EAASv2B,eAA5C,aAAmC,EAAkBw2B,qBAIrDF,EAAyBt2B,WAAzB,UAAqCu2B,EAASv2B,eAA9C,aAAqC,EAAkBw2B,uBAEvDD,EAASv2B,QAAQw2B,oBAAsB,SAACC,EAAMzU,GAAW,MACjDzlB,GAAQ,UAAAg6B,EAASv2B,QAAQ02B,MAAMl8B,KAAKi8B,EAAK,WAAjC,eAAsC3+B,KAAM2+B,EAAK,GAC3DJ,EAAar2B,QAAQzD,UAChB85B,EAAar2B,QAAQzD,GAE5B85B,EAAar2B,QAAQzD,GAASylB,EAGhCsU,EAAyBt2B,QAAQy2B,EAAMzU,OAG1C,CAACuU,IAeF,yBAAK7gB,UAAWsD,EAAQ8c,gBACtB,kBAAC,KAAD,CACES,SAAUA,EACV5rB,MAAOA,EACPurB,YAAaA,EACbF,QAASA,EACTxc,QAASA,EACTyc,SAAUA,EACVE,WAAYA,EACZ37B,KAAMA,EACNhB,QAAO,SACFA,GADE,IAELm9B,SAtEY,SAAC5iB,EAAG6iB,GACtB,OACEA,EAAW,GAAM,GAAK,CACpB10B,gBAAiBM,EAAML,WAAWC,cAoEhCy0B,QAAQ,EACRC,qBAAsB,OACtBC,iBAAkB,CAChB7G,UAAW,QACXluB,MAAOQ,EAAMgW,QAAQ4K,QAAQiM,MAE/B2H,oBAAqB,EACrBC,WAAW,EACXC,UAAU,EACVC,QAAQ,IAEVC,aAAc,CACZC,QAAS,CAAEC,kBAAmB93B,EAAE,WAChC+3B,WAAY,CACVC,mBAAoB,0BAEtBC,OAAQ,CACNje,QAASha,EAAE,YAEbiY,KAAM,CACJigB,uBAAwBl4B,EAAE,oBAC1Bm4B,cAAen4B,EAAE,UACjBo4B,YAAap4B,EAAE,QACfq4B,WAAYr4B,EAAE,OACds4B,QAAS,CACPC,cAAev4B,EAAE,UACjBw4B,YAAax4B,EAAE,oBAS7Bu2B,GAAc9b,UAAY,CACxBzf,KAAM0f,KAAAA,MACN1gB,QAAS0gB,KAAAA,QAGX6b,GAAc5b,aAAe,CAC3B3gB,QAAS,GACTgB,KAAM,IAGR,UAAemC,EAAAA,EAAAA,MAAKo5B,ICnJpB,IAAMkC,GAAiB,SAAA3jB,GACrB,IAAQ9Z,EAAgB8Z,EAAhB9Z,KAAMoV,EAAU0E,EAAV1E,MAGNpQ,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAEFwZ,EAAUic,KACVe,GAAUna,EAAAA,EAAAA,QASP,CACL,CACElR,MAAOnL,EAAE,SACT04B,MAAO,SAET,CACEvtB,MAAOnL,EAAE,eACT04B,MAAO,eAET,CACEvtB,MAAOnL,EAAE,YACT04B,MAAO,WACPlW,OAAQ,SAAAmW,GAAE,OAAIthB,GAAcshB,EAAGC,SAAU,UAW/C,OACE,kBAAC,KAAD,CAAO1iB,UAAWsD,EAAQqV,OACxB,yBAAK3Y,UAAWsD,EAAQuV,aACtB,gCAAS3e,EAAM6M,OADjB,MACoCjd,EAAE,sBAEtC,kBAAC,KAAD,MACA,yBAAKkW,UAAWsD,EAAQwV,YACtB,uBAAG9Y,UAAWsD,EAAQ1P,aAAcsG,EAAMtG,aAC1C,kBAAC,GAAD,CAAe0sB,QAASA,EAAQh2B,QAASxF,KAAMA,OAMvDy9B,GAAehe,UAAY,CACzBpZ,KAAMqZ,KAAAA,MAGR,Y,qkBCzDA,IAAMme,GAAe,SAAA/jB,GACnB,IAAQzT,EAAkByT,EAAlBzT,KAAMuf,EAAY9L,EAAZ8L,IAAKpS,EAAOsG,EAAPtG,GAGbsqB,GAAgBzc,EAAAA,EAAAA,QAYtB,SAAoBrhB,GAClB,IAAM+9B,EAAgB,CACpBpD,OAAQ,IAoBV,OAlBA71B,OAAOqO,OAAOnT,GAAM2F,SAAQ,SAAAV,GAC1B84B,EAAcpD,OAAOt9B,KAAK,CACxBC,GAAI2H,EAAMqF,KACV2X,MAAOhd,EAAMqK,MACbR,YAAa7J,EAAMypB,cAErBqP,EAAc94B,EAAMqF,MAAQ,GAE5BxF,OAAOqO,OAAOlO,EAAM0pB,UAAUhpB,SAAQ,SAAA6mB,GACpCuR,EAAc94B,EAAMqF,MAAMjN,KAAK,CAC7BC,GAAIkvB,EAAQliB,KACZ2X,MAAOuK,EAAQld,MACfR,YAAa0d,EAAQkC,YACrBkP,SAAUpR,EAAQqC,kBAKjBkP,EAlCoBC,CAAWxP,KACxC,GAA0C5R,EAAAA,EAAAA,UAAS4R,GAAAA,QAAAA,MAAnD,YAAOoM,EAAP,KAAsBC,EAAtB,KAGMrc,EAAU2b,KA4DhB,OArBArd,EAAAA,EAAAA,YAAU,WAUR,OATAzW,EAAKsE,GAAAA,aAAAA,KAA2BA,GAAAA,aAAAA,KAAAA,iBAChC6I,EAAG7I,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,mBAAmC,SAAA3K,GACnDA,EAAK1C,KAAO+S,GAAkBxB,MAChCxI,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,oBAIC,WACLib,EAAIjb,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,sBAExB,CAACtE,EAAMmN,EAAIoS,IASZ,yBAAK,cAAY,oBAAoB1K,UAAWsD,EAAQ7hB,MACtD,yBAAKue,UAAWsD,EAAQvB,MACtB,yBAAK/B,UAAWsD,EAAQ4b,aACtB,kBAAC,GAAD,CACEO,OAAQmD,EAAct4B,QAAQm1B,OAC9BE,iBAAkBA,EAClBD,cAAeA,KAGnB,yBAAK1f,UAAWsD,EAAQ6b,WACtB,kBAAC,GAAD,CACEjlB,MAAO0oB,EAAct4B,QAAQm1B,OAAOxB,MAClC,SAAA8E,GAAC,OAAIA,EAAE3gC,KAAOs9B,KAEhB56B,KAAM89B,EAAct4B,QAAQo1B,SAQxCiD,GAAape,UAAY,CACvBpZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,YAKN,SAFwB+H,GAAeoW,IC5FvC,SAASK,GAAgB1f,GACvB,OACE,2BAAKtD,UAAWsD,EAAQuO,eACtB,6BACGvjB,EAAKxE,EAAE,iBADV,IAC6BkrB,GAAAA,gBAAAA,SAE7B,6BACG1mB,EAAKxE,EAAE,oBADV,IACgCkrB,GAAAA,gBAAAA,aAEhC,6BACG1mB,EAAKxE,EAAE,2BAA4B,IACnCkrB,GAAAA,gBAAAA,oBAEH,6BACG1mB,EAAKxE,EAAE,iCACPkrB,GAAAA,gBAAAA,2BAEH,6BACG1mB,EAAKxE,EAAE,kBADV,KAC+BkrB,GAAAA,gBAAAA,cAY9B,SAASiO,GAAa93B,GAC3BA,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,oBAG1B,SAASyzB,GAAgB/3B,GAC9BA,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,cAG1B,SAAS0zB,GAAWh4B,EAAMmY,GAC/BnY,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,MAA2B,CACnDwF,MACE,wCACE,2BACE+K,UAAWsD,EAAQzD,UACnBD,IAAKwjB,GACLtjB,IAAI,gBAEN,gCAAOkV,GAAAA,OAGXrX,QAASqlB,GAAgB1f,GACzBU,WAAY1V,EAAKxE,EAAE,QAIhB,SAASu5B,GAAS7J,GACvBhyB,OAAO0c,KAAKsV,EAAM,UAQb,SAASgD,GAASrxB,EAAMm4B,GAC7B,IAAMtQ,EAAUD,GAAe,CAAE3wB,GAAIkhC,IACrCn4B,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,KAAwBujB,GCgJlD,SA9MgB,+BAAG,WAAO7nB,EAAMmY,GAAb,MAiHRigB,EA6DAC,EAYMC,EA1LE,8GA0LjB,6FACQzN,EAAO,GADf,KAKEA,EALF,SAKkB0N,IALlB,+BAKOvhC,KALP,gBASE6zB,EAAK7zB,KAAKohC,MAEJI,EAAQH,KACJ1+B,KAAK7B,QAAQ+yB,EAAK7zB,KAAKwhC,GAZnC,kBAcS3N,GAdT,6CA1LiB,uBA0LFyN,EA1LE,2CA8KRD,EA9KQ,WA+Kf,MAAO,CACLphC,GAAI,YACJ6S,MAAO3G,EAAKxE,EAAE,SACdhF,K7B3KG8E,OAAOqO,OAAO6a,IAAWsJ,QAAO,SAAAC,GAAI,OAAIA,EAAKuH,W6B2KtBhhC,KAAI,SAAAy5B,GAAI,MAAK,CACrCj6B,GAAIi6B,EAAKj6B,GACT6S,MAAOonB,EAAK7jB,QAAQvD,MACpB0G,SAAU,kBAAM6gB,GAASrxB,EAAMkxB,EAAK7jB,QAAQ7E,aApEzC4vB,EAjHQ,WAkHf,IAAMM,EAAaxQ,GAAQne,GAAgBvB,MACrCmwB,EAAkBzQ,GAAQle,GAAkBxB,MAC5CowB,EAAmBC,QAAQhP,GAAAA,KAAAA,eAC3BiP,EAAWD,QAAQhP,GAAAA,KAAAA,OACzB,MAAO,CACL5yB,GAAI,WACJ6S,MAAO,OACPnQ,KAAM,CACJ++B,EACI,CACEzhC,GAAI,aACJ6S,MAAO3G,EAAKxE,EACVwpB,GAAAA,QAAAA,SAAAA,iBAAAA,OAEFhC,QAASnQ,GACPmS,GAAAA,QAAAA,SAAAA,iBAAAA,WAEF3X,SAAU,kBAAM6gB,GAASrxB,EAAM+J,GAAgBvB,QAEjD,KACJmwB,EACI,CACE1hC,GAAI,oBACJ6S,MAAO3G,EAAKxE,EACVwpB,GAAAA,QAAAA,SAAAA,mBAAAA,OAEFhC,QAASnQ,GACPmS,GAAAA,QAAAA,SAAAA,mBAAAA,WAEF3X,SAAU,kBAAM6gB,GAASrxB,EAAMgK,GAAkBxB,QAEnD,KACJkwB,GAAcC,EAAkB,GAAK,KAErCC,EACI,CACE3hC,GAAI,gBACJ6S,MAAO3G,EAAKxE,EAAE,iBACdkoB,cAAc,EACdrW,SAAU,kBAAM0nB,GAASrO,GAAAA,KAAAA,iBAE3B,KACJiP,EACI,CACE7hC,GAAI,QACJ6S,MAAO3G,EAAKxE,EAAE,SACdkoB,cAAc,EACdrW,SAAU,kBAAM0nB,GAASrO,GAAAA,KAAAA,SAE3B,KACJ+O,GAAoBE,EAAW,GAAK,KACpC,CACE7hC,GAAI,QACJ6S,MAAO3G,EAAKxE,EAAE,SACd6R,SAAU,kBAAMwnB,GAAWh4B,EAAMmY,MAEnC8Y,QAAO,SAAA8H,GAAE,OAAIA,OAzKbR,EADW,+BACK,0FAOPp1B,EAAKxE,EAAE,UAPA,SAQFisB,GAAoB5qB,GARlB,gCAMd/I,GAAI,UACJ6S,MAPc,KAQdnQ,KARc,WAiBhB,GAjBgB,KAkBhB,CACE1C,GAAI,WACJ6S,MAAO3G,EAAKxE,EAAEwpB,GAAAA,eAAAA,SAAAA,KAAAA,OACdhC,QAASnQ,GACPmS,GAAAA,eAAAA,SAAAA,KAAAA,WAEF3X,SAAU,kBAAMsnB,GAAa93B,KAxBf,KA0BhB,CACE/I,GAAI,eACJ6S,MAAO3G,EAAKxE,EAAEwpB,GAAAA,QAAAA,SAAAA,SAAAA,OACdhC,QAASnQ,GACPmS,GAAAA,QAAAA,SAAAA,SAAAA,WAEF3X,SAAU,kBAAMunB,GAAgB/3B,KAhClB,8CAElB/I,GAAI,WACJ6S,MAAO,OACPnQ,KAJkB,mDADL,uEA2MV2+B,KA3MU,2CAAH,wDCPhB,IAAMU,GAAY,SAAAvlB,GAAS,MACjBwlB,EAAwBxlB,EAAxBwlB,UAAWj5B,EAAayT,EAAbzT,KAAMmN,EAAOsG,EAAPtG,GAEzB,GAAwCoJ,EAAAA,EAAAA,UAAS,MAAjD,YAAO2iB,EAAP,KAAqBC,EAArB,KACA,GAAgC5iB,EAAAA,EAAAA,UAAS,MAAzC,YAAO4Q,EAAP,KAAiBiS,EAAjB,KACA,GAAgC7iB,EAAAA,EAAAA,WAAS,GAAzC,YAAO2Q,EAAP,KAAiBmS,EAAjB,KACA,GAAsC9iB,EAAAA,EAAAA,WAAS,GAA/C,YAAO+iB,EAAP,KAAoBC,EAApB,KAGMphB,ElCTuB,SAAA8gB,GAAS,OACtC9hB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACnB63B,UAAW,CACT14B,WAAYa,EAAMZ,YAClB0Y,OAAQ,OACRya,aAAc+E,EAAY,mBAAqB,iBAC/Cvf,MAAO,QAEToM,WAAY,SACPX,IADK,IAERnN,SAAU,OACV7W,MAAOQ,EAAMgW,QAAQC,KAAK,KAC1B,UAAW,CACT9W,WAAYa,EAAMgW,QAAQC,KAAK,QAGnC6hB,WAAY,CACV34B,WAAYa,EAAMgW,QAAQC,KAAK,UkCRnB8hB,CAAgBT,EAAhBS,GACVC,EAAgBlT,KACd9nB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAWFioB,GAAYjF,EAAAA,EAAAA,cAAY,SAAAnF,GAAO,OACpB,UAAGA,EAAIvgB,OAAO29B,cAAcC,eAA5B,aAAG,EAAkCC,UAElDX,EAAgB,MAChBC,EAAY,MACZC,GAAY,MAEb,IAYGU,GAAkBpY,EAAAA,EAAAA,cACtB,SAAAnF,GACE6c,GAAY,SAAAW,GACV,IAAIC,GAAW,EACXC,EAAY,KACZC,EAAc,KAWlB,OATI3d,EAAIqY,cAAcgF,QAAQC,SAAWZ,IACvCe,GAAW,EACXC,EAAY1d,EAAIqY,cAAcgF,QAAQC,OACtCK,EAAc3d,EAAIqY,eAGpBsE,EAAgBe,GAChBd,EAAYe,GAELF,OAGX,CAACf,IAoBH,OARAziB,EAAAA,EAAAA,YAAU,WACRtJ,EAAG7I,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,mBAAmC,SAAAqO,GACvDynB,GAAWp6B,EAAM25B,GAAe76B,MAAK,SAAAnF,GACnC4/B,EAAe5/B,WAGlB,CAACwT,EAAInN,EAAM25B,IAGZ,oCACGL,GACC,yBAAK,cAAY,qBAAqBzkB,UAAWsD,EAAQqhB,WACtDF,EAAY7hC,KAAI,SAAAozB,GACf,IAAMwP,EACJnB,IAAiBrO,EAAK5zB,GAAKkhB,EAAQshB,WAAa,GAClD,OACE,kBAAC,KAAD,CACE,cAAY,kBACZl6B,IAAKsrB,EAAK5zB,GACV4d,UAAS,UAAKsD,EAAQ2N,WAAb,YAA2BuU,GACpC7hB,QAASuhB,EACT,eAAclP,EAAK5zB,IAElB0H,EAAEksB,EAAK/gB,WAIbod,GAAYgS,GACX,kBAAC,GAAD,CACE,cAAY,mBACZhS,SAAUA,EACVC,SAAUA,EACVxtB,KAAI,UAAE2/B,EAAYxG,MAAK,SAAAjI,GAAI,OAAIA,EAAK5zB,KAAOiiC,YAAvC,aAAE,EAAoDv/B,KAC1DitB,UAAWA,OASzB,SAAexF,GAAe4X,I,qkBAE9BA,GAAU5f,UAAY,CACpBpZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,WACJI,OAAQJ,KAAAA,UAAoB,CAACA,KAAAA,OAAkBA,KAAAA,UC9HjD,IAAMihB,GAAa,SAAA7mB,GACjB,IAAQ2M,EAA4C3M,EAA5C2M,YAAaD,EAA+B1M,EAA/B0M,SAAUnkB,EAAqByX,EAArBzX,MAAO6Y,EAAcpB,EAAdoB,UACtC,OACE,yBAAK5d,GAAIkpB,EAAUnkB,MAAK,MAAOA,GAAS6Y,UAAWA,GAChDuL,IAKP,SAAeN,GAAoBwa,IAEnCA,GAAWlhB,UAAY,CACrB+G,SAAU9G,KAAAA,OAAAA,YAGZihB,GAAWhhB,aAAe,CACxB6G,SAAU,cCpBZ,MAAM,GAA+BriB,QAAQ,qC,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCEhCy8B,IAAepjB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAC/CrL,KAAM,CACJ+gB,QAAS,UACTsC,QAAS,OACTC,WAAY,SACZF,MAAO,QAET8gB,MAAO,CACLxK,WAAY,GACZvC,KAAM,EACN,uBAAwB,CACtBtsB,MAAOQ,EAAMT,SAASC,QAG1Bs5B,WAAY,CAAEpjB,QAAS,IACvB4F,KAAM,CACJ9b,MAAOQ,EAAMgW,QAAQ4K,QAAQiM,UC0IjC,SAnFe,SAAA/a,GACb,IAAQinB,EAAajnB,EAAbinB,SAGR,GAAsCnkB,EAAAA,EAAAA,UAAS,IAA/C,YAAOokB,EAAP,KAAoBC,EAApB,KAGQj8B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAEFwZ,EAAUoiB,KA4ChB,OACE,kBAAC,EAAAM,UAAD,CACErf,WAAS,EACTvJ,YAAatT,EAAE,UACfC,MAAO+7B,EACPle,SAVmB,SAAAnO,GAfN,IAAA1P,EAAAA,EAgBD0P,EAAMrS,OAAO2C,MAf3Bg8B,EAAeh8B,GACf87B,EAAS97B,IAwBP8d,WAAY,CAAE,cAAe,gBAC7Boe,WAAY,CACVC,aACE,kBAAC,EAAAxiB,WAAD,CACE,cAAY,qBACZ1D,UAAWsD,EAAQsiB,WACnBjiB,QA7CS,WACjBoiB,EAAe,IACfF,EAAS,MAQc,OAAhBC,GAA+C,KAAvBA,EAAYte,OAsCjC,kBAAC,EAAAuV,QAAD,CAAS9nB,MAAOnL,EAAE,oBAChB,kBAAC,KAAD,CAAYkW,UAAWsD,EAAQ8E,QAGjC,kBAAC,EAAA2U,QAAD,CAAS9nB,MAAOnL,EAAE,gBAChB,kBAAC,KAAD,CAAWkW,UAAWsD,EAAQ8E,aClJxC,GAA+Bnf,QAAQ,gBCAvC,GAA+BA,QAAQ,gC,eCQvCk9B,GAAkB,SAAAvnB,GACtB,IAAQwnB,EAAiDxnB,EAAjDwnB,SAAUC,EAAuCznB,EAAvCynB,UAAWC,EAA4B1nB,EAA5B0nB,YAAaC,EAAe3nB,EAAf2nB,WAGpCjjB,ECZwC,CAC9C0N,SAAU,CACRlM,QAAS,OACTC,WAAY,SACZC,eAAgB,WDqBZwhB,EAAa,SAAAC,GACjB,IAAQ5/B,EAAuB4/B,EAAvB5/B,MAAOM,EAAgBs/B,EAAhBt/B,MAAOrC,EAAS2hC,EAAT3hC,KACtB,OACE,yBAAKkb,UAAWsD,EAAQ0N,SAAU7pB,MAAOA,GACtCrC,EAAK+B,GAAOkgB,MADf,IACuBlgB,IAK3B,OACE,kBAAC,KAAD,MACG,YAAuB,IAApB+d,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MACV,OACE,kBAAC,GAAA6hB,cAAD,CACE9hB,OAAQ0hB,MAAAA,EAAAA,EAAe1hB,EACvBC,MAAO0hB,MAAAA,EAAAA,EAAc1hB,EACrB8hB,UAAWP,EAASnjC,OACpBmjC,SAAUA,EACVQ,S7G6M+B,I6G3M9BP,MAAAA,EAAAA,EAAaG,OAQ1BL,GAAgB5hB,UAAY,CAC1B6hB,SAAU5hB,KAAAA,MAAAA,WACV6hB,UAAW7hB,KAAAA,KACX8hB,YAAa9hB,KAAAA,OACb+hB,WAAY/hB,KAAAA,QAGd,YEzDO,IAAMqiB,IAAgCvkB,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACjExgB,KAAM,CACJ0uB,YAAa,MACbI,aAAc,MACd3M,OAAQ,OACRE,QAAS,OACToI,cAAe,UAEjB0D,WAAY,CACVhM,OAAQ,OACRyU,cAAe,YAINyN,IAAgBxkB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAChDkkB,SAAU,CACRpM,O/GqOuC,G+GpOvC8U,OAAQ,WAEVqN,aAAc,CACZjiB,QAAS,OACTD,MAAO,OACPG,eAAgB,iBAElBgiB,aAAc,CACZ7V,YAAa,OACb8V,UAAW,aACXjiB,eAAgB,gBAChB,WAAY,CACVF,QAAS,QAEX,UAAW,CACTtY,gBAAiB,GAAF,OAAKM,EAAMgW,QAAQ4K,QAAQiM,KAA3B,MACf,WAAY,CACV7U,QAAS,iBAIfoiB,SAAU,CACR3e,WAAY,SACZ4E,SAAU,SACVga,aAAc,WACdvO,KAAM,GAERwO,gBAAiB,CACftiB,QAAS,YAEXuiB,UAAW,CACTzO,KAAM,EACN4B,UAAW,QACXza,SAAU,GACV,WAAY,CACV4C,SAAU,WACV2kB,OAAQ,EACR9kB,QAAS,IAGb+kB,gBAAiB,CACfj7B,MAAO,QACPuc,SAAU,QC9Dd,MAAM,GAA+B5f,QAAQ,gC,eCA7C,MAAM,GAA+BA,QAAQ,oC,eCA7C,MAAM,GAA+BA,QAAQ,+B,eCA7C,MAAM,GAA+BA,QAAQ,iC,eCA7C,MAAM,GAA+BA,QAAQ,mC,eCA7C,MAAM,GAA+BA,QAAQ,yB,eCiBvCu+B,GAAU,SAAA5oB,GAAS,MACf6oB,EAA2B7oB,EAA3B6oB,UAAWtgC,EAAgByX,EAAhBzX,MAAOugC,EAAS9oB,EAAT8oB,KAEpBC,GAAiBxhB,EAAAA,EAAAA,UAEvB,GAAgCzE,EAAAA,EAAAA,WAAS,GAAzC,YAAOkmB,EAAP,KAAoBC,EAApB,KAGMvkB,EAAUwjB,KAGRh9B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAWFg+B,EAAc,WAClB,IAAMC,EACJJ,EAAer9B,QAAQ09B,YAAcL,EAAer9B,QAAQ29B,YAC9DJ,EAASE,IA0DX,OAdAnmB,EAAAA,EAAAA,YAAU,WAGR,OAFAkmB,IACAtgC,OAAO0gC,iBAAiB,SAAUJ,GAC3B,WACLtgC,OAAO2gC,oBAAoB,SAAUL,MAEtC,IASD,yBACE,cAAY,aACZ3gC,MAAOA,EACPihC,aAlDyB,WAC3BxpB,EAAMwpB,cAAgBxpB,EAAMwpB,aAAaV,IAkDvCW,aA5CyB,WAC3BzpB,EAAMypB,cAAgBzpB,EAAMypB,aAAaX,IA4CvC/jB,QAtCyB,WAC3B/E,EAAM0pB,aAAe1pB,EAAM0pB,YAAYZ,IAsCrCa,cAhC+B,WACjC3pB,EAAM4pB,mBAAqB5pB,EAAM4pB,kBAAkBd,IAgCjDe,EAAG,EACHzoB,UAAS,UAAKsD,EAAQ0N,SAAb,YACN0W,EAAKjyB,SAAkC,GAAvB6N,EAAQ0jB,eAG3B,kBAAC,KAAD,CAAKyB,EAAG,EAAGzoB,UAAWsD,EAAQolB,YAC5B,kBAAC,IAAD,CAAMC,aAAc,gBAAiBlgB,WAAS,GAC3Cif,EAAKjyB,WACH,UAAAiyB,EAAK1G,aAAL,SAAY4H,SAAW,kBAAC,KAAD,MAAqB,kBAAC,KAAD,OAE/C,yBACE5oB,UACG0nB,EAAKjyB,SAAkC6N,EAAQ8jB,gBAA/B9jB,EAAQyjB,cAG3B,kBAAC,KAAD,CACE/J,OAAK,EACL/nB,MAAOyyB,EAAKzyB,MACZioB,sBAAuB0K,EACvBzK,sBAAuByK,EACvBxK,sBAAuBwK,EACvB7a,UAAU,eAEV,yBAAKlO,IAAK8oB,EAAgB3nB,UAAWsD,EAAQ4jB,UAC1CQ,EAAKzyB,QAGTwyB,IAAcC,EAAKjyB,UAClB,yBAAKuK,UAAWsD,EAAQ+jB,WACtB,kBAAC,EAAApL,YAAD,CACE4M,gBAAiB,CACfC,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,WAGhBhhC,QACE,kBAAC,KAAD,CAAY2b,QAASnC,IACnB,kBAAC,KAAD,OAGJ0a,SAAU,CACR,CACEvY,QAAS,SAAAulB,GACPtqB,EAAMuqB,gBAAgBzB,IAExBtf,KACE,kBAAC,KAAD,CAAcpI,UAAWsD,EAAQikB,kBAEnCv/B,QAAS8B,EAAE,SAEb,CACE6Z,QAAS,WACP/E,EAAMwqB,kBAAkB1B,IAE1Btf,KAAM,kBAAC,KAAD,CAAYpI,UAAWsD,EAAQikB,kBACrCv/B,QAAS8B,EAAE,oBAoBjC09B,GAAQjjB,UAAY,CAClBpd,MAAOqd,KAAAA,OAAAA,WACPkjB,KAAMljB,KAAAA,OAAAA,WACNijB,UAAWjjB,KAAAA,MAGb,Y,qkBCzLO,SAAS6kB,GAAgB3B,EAAM5iC,GAAM,UAEpCwkC,EAAW,IAAIxkC,GACfykC,EAAU,oBAAGzkC,EAAK4iC,EAAKtlC,WAAb,iBAAG,EAAe4+B,aAAlB,aAAG,EAAsB4H,gBAAzB,SAehB,OAdAU,EAAS5B,EAAKtlC,IAAI4+B,MAAlB,SACKsI,EAAS5B,EAAKtlC,IAAI4+B,OADvB,IAEE4H,UAAWW,IAIbzkC,EACGs3B,QAAO,SAAAoN,GAAI,OAAIA,EAAKpnC,KAAOslC,EAAKtlC,MAChCqI,SAAQ,SAAAukB,GACPsa,EAASta,EAAM5sB,IAAI4+B,MAAnB,SACKsI,EAASta,EAAM5sB,IAAI4+B,OADxB,IAEE4H,UAAU,OAGTU,EAGT,IAAMG,GAA0B,SAAA7qB,GAC9B,IAAQ9Z,EAAS8Z,EAAT9Z,KAGR,GAAgC4c,EAAAA,EAAAA,UAAS,IAAzC,YAAO0kB,EAAP,KAAiBsD,EAAjB,KACA,GAAsChoB,EAAAA,EAAAA,UAAS,IAA/C,YAAOokB,EAAP,KAAoBC,EAApB,KAGMziB,EAAUujB,KAahB,SAAS8C,EAAcC,GACrB,IAAMC,EAAY,GAiBlB,OAfAD,EAAgBn/B,SAAQ,SAAAi9B,GAAQ,MAC9BmC,EAAU1nC,KAAKulC,GACX,UAAAA,EAAK1G,aAAL,SAAY4H,UAAYlB,EAAKjyB,UAC/BiyB,EAAKjyB,SAEFq0B,MAAK,SAACngC,EAAG2B,GAAJ,OAAU3B,EAAEgK,KAAKo2B,cAAcz+B,EAAEqI,SACtClJ,SAAQ,SAAAu/B,GACPH,EAAU1nC,KAAV,SACK6nC,GADL,IAEE5nC,GAAI,GAAF,OAAK4nC,EAAU9vB,MAAf,YAAwB8vB,EAAU5nC,aAMvCynC,EAST,IAAMI,GAAend,EAAAA,EAAAA,cAAY,SAACod,GAA2B,IAAfngC,EAAe,uDAAP,GAC9CogC,EAAapgC,EAAMqgC,cACnBC,EAAgBH,EACnB9N,QACC,SAAAsL,GAAI,OACAA,EAAK/zB,KAAK22B,SAAS,QACnB5C,EAAK/zB,KAAKy2B,cAAcE,SAASH,IACnCzC,EAAKjyB,SAAS80B,WAAU,SAAAC,GAAE,OACxBA,EAAG72B,KAAKy2B,cAAcE,SAASH,OAC5B,KAERvnC,KAAI,SAAA8kC,GAAQ,MACX,OAAO,SACFA,GADL,IAEEjyB,UAAU,UAACiyB,MAAAA,OAAD,EAACA,EAAMjyB,gBAAP,QAAmB,IAAI2mB,QAC/B,SAAAoO,GAAE,OACAA,EAAG72B,OACF62B,EAAG72B,KAAK22B,SAAS,SACjB5C,EAAK/zB,KAAKy2B,cAAcE,SAASH,IAChCK,EAAG72B,KAAKy2B,cAAcE,SAASH,YAmB3C,OAbAE,EAAc5/B,SAAQ,SAAAi9B,GACpBA,EAAKjyB,SAAShL,SAAQ,SAACggC,EAAOtnC,GAAM,QAClCsnC,EAAMroC,GAAN,UAAWqoC,EAAMroC,UAAjB,QAAuBe,EACvBsnC,EAAM5mC,IAAN,UAAY4mC,EAAM5mC,WAAlB,QAAyB4mC,EAAMroC,GAC3BqoC,EAAMh1B,UACRg1B,EAAMh1B,SAAShL,SAAQ,SAACigC,EAAYC,GAAM,QACxCD,EAAWtoC,GAAX,UAAgBsoC,EAAWtoC,UAA3B,QAAiCuoC,EACjCD,EAAW7mC,IAAX,UAAiB6mC,EAAW7mC,WAA5B,QAAmC6mC,EAAWtoC,YAM/CunC,EAAcU,KACpB,IAgDH,OAtBAzoB,EAAAA,EAAAA,YAAU,WACR8nB,EAAYO,EAAanlC,EAAMghC,MAC9B,CAAChhC,EAAMghC,EAAamE,EAAcP,IAqBnC,kBAAC,EAAAkB,KAAD,CAAM5qB,UAAWsD,EAAQ7gB,KAAMooC,OAAO,EAAM3c,UAAU,OACpD,kBAAC,EAAA4c,SAAD,KACE,kBAAC,GAAD,CAAQjF,SAvCS,SAAAkF,GACrBhF,EAAegF,GACfrB,EAAYO,EAAanlC,EAAMimC,QAuC7B,kBAAC,EAAA7K,QAAD,MACA,yBAAKlgB,UAAWsD,EAAQsN,YACtB,kBAAC,GAAD,CAAiBwV,SAAUA,EAAUC,UAdzB,SAAAI,GAChB,IAAQ5/B,EAAgC4/B,EAAhC5/B,MAAOM,EAAyBs/B,EAAzBt/B,MACTugC,EADkCjB,EAAlB3hC,KACD+B,GAErB,OAAO,kBAAC,GAAD,MAAS6gC,KAAMA,GAAU9oB,EAAzB,CAAgCzX,MAAOA,WAgBlDsiC,GAAwBllB,UAAY,CAClCzf,KAAM0f,KAAAA,MAAAA,YAGR,YCpLO,IAAMwmB,IAAiB1oB,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAClDgoB,WAAY,CACV9d,SAAU,SACVnI,eAAgB,SAChBH,MAAO,OACP+T,KAAM,WACN,UAAW,CACThU,OAAQ,QAGZmd,OAAQ,CACN5I,aAAc,MACd,QAAS,CACPpZ,SAAU,MACVuI,YAAa,a,qkBCJnB,IAAM4iB,GAAW,SAAAtsB,GACf,IAAQzT,EAAayT,EAAbzT,KAAMmN,EAAOsG,EAAPtG,GACRgL,EAAU0nB,KAChB,GAAwBtpB,EAAAA,EAAAA,UAAS,IAAjC,YAAO5c,EAAP,KAAa+X,EAAb,KAEQ/S,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAcFqhC,GAAare,EAAAA,EAAAA,cAAY,SAACrqB,EAAMuF,GAiBpC,OAFAvF,EAAKN,KAAK6F,GAEHvF,EAAKqnC,MAVU,SAACngC,EAAG2B,GACxB,IAAM8/B,EAAQzhC,EAAEgK,KAAKy2B,cACfiB,EAAQ//B,EAAEqI,KAAKy2B,cACrB,OAAIgB,EAAQC,GAAe,EACvBD,EAAQC,EAAc,EACnB,KAKuBzoC,KAAI,SAAC0oC,EAAGnoC,GAAJ,UAAC,MAAemoC,GAAhB,IAAmBlpC,GAAIe,SAC1D,IAOGq4B,GAAiB1O,EAAAA,EAAAA,cAAY,SAAAye,GACjC,IAAQC,EAA+BD,EAA/BC,aAAcC,EAAiBF,EAAjBE,aACtB5uB,GAAQ,SAAAiR,GACN,IAAM4d,EAAU,IAAI5d,GAEd6d,EAAYD,EAAQnB,WAAU,SAAA12B,GAAI,OAAIA,EAAKF,OAAS83B,KAC1D,GAAIE,GAAa,EAAG,CAClB,IAAMC,EAAgBF,EAAQC,GAAWl2B,SAAS80B,WAChD,SAAAvwB,GAAG,OAAIA,EAAIrG,OAAS63B,KAElBI,GAAiB,GACnBF,EAAQC,GAAWl2B,SAASpP,OAAOulC,EAAe,GAGtD,OAAOF,OAER,IAQGG,GAAc/e,EAAAA,EAAAA,cAClB,SAACzO,EAAGktB,GACF,IAAQC,EAAyCD,EAAzCC,aAAcC,EAA2BF,EAA3BE,aAAcnkC,EAAaikC,EAAbjkC,SACpCuV,GAAQ,SAAAiR,GAEN,IAAM4d,EAAU,IAAI5d,GACd6d,EAAYD,EAAQnB,WAAU,SAAA12B,GAAI,OAAIA,EAAKF,OAAS83B,KAc1D,OAbIE,GAAa,GACOD,EAAQC,GAAWl2B,SAAS80B,WAChD,SAAAvwB,GAAG,OAAIA,EAAIrG,OAAS63B,KAEF,GAClBL,EAAWO,EAAQC,GAAWl2B,SAAU,CACtC9B,KAAMrM,EAAS6uB,UACflhB,MAAO3N,EAAS6uB,UAChBjc,MAAO5S,EAAS8W,WAChBva,IAAKyD,EAAS4uB,WAIbwV,OAGX,CAACP,IAaGW,GAAuBhf,EAAAA,EAAAA,cAC3B,SAAA4a,GAAQ,MACN,UAAIA,EAAKjyB,gBAAT,OAAI,EAAexS,OACjB4Z,EAAQwsB,GAAgB3B,EAAM5iC,IAE9BqG,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B,CACrDrN,GAAIslC,EAAK7jC,IACT8P,KAAM+zB,EAAK/zB,KACXuG,MAAOwtB,EAAKxtB,UAIlB,CAACpV,EAAMqG,IAOH4gC,GAAajf,EAAAA,EAAAA,cACjB,SAAA4a,GACE,IAAQ/zB,EAAgB+zB,EAAhB/zB,KAAMuG,EAAUwtB,EAAVxtB,MACd/O,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,SAA8B,CACtDyK,MAAAA,EACAvG,KAAAA,EACAqJ,SAAU,SAAAK,GAAO,OACf,IAAIf,SAAQ,SAAA0vB,GACV7gC,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CAAEkE,KAAAA,EAAMuG,MAAAA,GACRmD,GACApT,MAAK,SAAAgiC,GACLD,IAEAF,EAAqB,CACnB5xB,MAAAA,EACAgyB,SAAU,EACVv4B,KAAMs4B,EAAU9V,UAChBtyB,IAAKooC,EAAU/V,sBAM3B,CAAC/qB,EAAM2gC,IAOHK,GAAerf,EAAAA,EAAAA,cACnB,SAAA4a,GACE,IAAQ/zB,EAAgB+zB,EAAhB/zB,KAAMuG,EAAUwtB,EAAVxtB,MACd/O,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,aAAkC,CAC1DuU,WAAYla,EAAE,UACdmL,MAAOnL,EAAE,8BACTkT,SAAU,kBACR7R,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,OAAiC,CAC9DkE,KAAAA,EACAuG,MAAAA,IAFF,OAGS,SAAAiL,GAAK,aACZrM,QAAQ+E,KAAR,2BACsBlK,EADtB,yBACiCwR,EAAMinB,kBADvC,QACqDjnB,QAGzDxH,QAAS7T,EAAE,+BAAgC,CAAEuf,QAAS1V,QAG1D,CAACxI,EAAMrB,IAaHuiC,GAAWvf,EAAAA,EAAAA,cAAY,SAAAvR,GAC3B,OAAOsB,GAAQ,SAAAwB,GAAC,OACd9C,EAAW1B,YAAYjX,KAAI,SAACkX,EAAO1X,GAEjC,MAAO,CACLA,GAAAA,EACAuR,KAHsBmG,EAAhBnG,KAINsB,MAJsB6E,EAAV7E,MAKZQ,SAAUqE,EAAMwyB,UAAU1pC,KAAI,SAACoX,EAAKuyB,GAClC,MAAO,CACLnqC,GAAImqC,EACJ54B,KAAMqG,EAAImc,UACVlhB,MAAO+E,EAAImc,UACXjc,MAAOF,EAAIoE,WACXva,IAAKmW,EAAIkc,sBAMlB,IAOGsW,GAAa1f,EAAAA,EAAAA,cACjB,SAACvR,EAAYgwB,GACX,IAAQtwB,EAAWswB,EAAXtwB,OACFwxB,EAAoB,CACxBC,IAAK,kBAAMlR,EAAe+P,IAC1B1vB,IAAK,kBAAMgwB,EAAYtwB,EAAYgwB,KAErCkB,EAAkBxxB,IAAWwxB,EAAkBxxB,OAEjD,CAACugB,EAAgBqQ,IAwBnB,OAfAjqB,EAAAA,EAAAA,YAAU,WACRtJ,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,UAAkC48B,GAC/D/zB,EACE7I,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,GAAAA,YACA+8B,KAED,CAACl0B,EAAI+zB,EAAUG,IAShB,oCACE,wBAAIxsB,UAAWsD,EAAQye,QACrB,yBAAKniB,IAAKoV,GAAAA,KAAkBlV,IAAKkV,GAAAA,gBAAAA,SAEnC,kBAAC,EAAAxR,WAAD,CACE,cAAY,mBACZ0K,UAAU,MACVlO,UAAWsD,EAAQ2nB,YAElBnmC,GACC,kBAAC,GAAD,CACEA,KAAMA,EACNwjC,YAAawD,EACb3C,gBAAiB4C,EACjB3C,kBAAmB+C,EACnB1E,WAAW,OAQvB,SAAelb,GAAe2e,IAE9BA,GAAS3mB,UAAY,CACnBpZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,YC/RN,MAAM,GAA+Bvb,QAAQ,6B,eCGhC0jC,GAAcvhB,IAAAA,cAAoB,CAC7CwhB,cAAe,OACfzqB,kBAAmB,kBAAM7D,GAAgB,sBACzCuuB,aAAc,kBAAMvuB,GAAgB,mBCNtC,8zuBCEO,IAAMwuB,IAAiBxqB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACjDigC,eAAgB,CACdnoB,OAAQ,QAEVwD,KAAM,CACJ9b,MAAOQ,EAAMgW,QAAQ4K,QAAQiM,KAC7BD,OAAQ,UACR,QAAS,CACPptB,MAAOQ,EAAMgW,QAAQ4K,QAAQiM,OAGjC9Z,UAAW,CACT2C,QAAS,OACTqC,MAAO,OACPD,OAAQ,YCONooB,GAAW,SAAApuB,GACf,IAAQzT,EAASyT,EAATzT,KAER,GAAgCuW,EAAAA,EAAAA,UAAS,IAAzC,YAAOuU,EAAP,KAAiB8F,EAAjB,KAEMzY,EAAUwpB,KACVhgC,GAAQ8lB,EAAAA,EAAAA,YACN9oB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACR,GAAsCmjC,EAAAA,EAAAA,YAAWN,IAAzCO,EAAR,EAAQA,YAAaL,EAArB,EAAqBA,aAEfM,EAAQ,CACZ,CACEx5B,KAAMlE,GAAAA,SAAAA,KACN2Y,KAAM,SAAAglB,GAAM,OAAI,kBAAC,KAAoBA,IACrCn4B,MAAO,WACPo4B,UAAU,EACVC,WAAY,WAEVniC,EAAKgE,GAAkBC,KAAMD,GAAkBE,KAAKG,WAR/C,WxDZJ5F,OAAOqO,OAAO6a,IAAWsJ,QAAO,SAAAC,GAAI,OAAIA,EAAKkR,YwDuB5B3qC,KAAI,SAAAy5B,GACxB,IAAME,EAAOF,EAAKjU,KAClB,MAAO,CACLzU,KAAM0oB,EAAKj6B,GACXgmB,KAAM,SAAAglB,GAAM,OAAI,kBAAC7Q,EAAS6Q,IAC1Bn4B,MAAOonB,EAAK7jB,QAAQvD,MACpBo4B,UAAU,EACVC,WAAY,WAEV9Q,GAASrxB,EAAMkxB,EAAK7jB,QAAQ7E,cAapCiO,EAAAA,EAAAA,YAAU,WACRzW,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,eAAwCxF,MACrE,SAAA+xB,GACED,EAAYC,QAGf,CAAC7wB,IAQJ,IAAMqiC,GAAoB1gB,EAAAA,EAAAA,cACxB,kBAAM+f,EAAarlC,OAAOgE,SAASC,QACnC,CAACohC,IASH,OACE,yBAAK7sB,UAAWsD,EAAQypB,eAAgB,cAAY,qBAClD,kBAAC,EAAAU,YAAD,CACEC,yBAAyB,EACzBlhC,gBAAiBM,EAAMgW,QAAQ7W,WAAd,QACjB0hC,aACE,kBAAC,EAAA1R,YAAD,CACEj0B,QACE,kBAAC,EAAA+0B,QAAD,CAAS9nB,MAAOnL,EAAE,gBAAiBijB,UAAU,QAAQiQ,OAAK,GACxD,kBAAC,KAAD,CACE56B,GAAG,4BACH4d,UAAWsD,EAAQ8E,QAIzB8T,SAAUjG,EAASrzB,KAAI,SAAA4mB,GAAO,MAAK,CACjC7F,QAAS,kBACPxY,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,OACA,CACEyK,MAAOsP,EAAQtP,QAEjBjQ,MAAK,SAAA3C,GACL6D,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B,CACrDrN,GAAIkF,EAAS4uB,SACbviB,KAAMrM,EAAS6uB,UACfjc,MAAOsP,EAAQtP,MACfwC,OAAO,QAGb1U,QAASwhB,EAAQtP,MACjBkO,KAAMjJ,GAAeqK,EAAQtP,OAC7BgD,SAAS,QAIf0wB,eAAgBT,EAAMvqC,KAAI,SAAAozB,GAAI,OAC5B,kBAAC,EAAA+G,QAAD,CAASryB,IAAKsrB,EAAKriB,KAAMsB,MAAO+gB,EAAK/gB,MAAO8X,UAAU,QAAQiQ,OAAK,GAChEhH,EAAK5N,KAAK,CACTpI,UAAWsD,EAAQ8E,KACnBzE,QAAS,kBAAMqS,EAAKsX,oBAI1BO,aAAc,CACZ,kBAAC,EAAAC,YAAD,CACEpjC,IAAK,cACLqjC,QAAS/Y,GAAAA,gBAAAA,QACTkY,YAAaA,EACbc,aAAcR,IAEhB,yBACE9iC,IAAK,YACLkV,IAAKC,GACLG,UAAWsD,EAAQzD,UACnBC,IAAI,gBAQhBktB,GAASzoB,UAAY,CACnBpZ,KAAMqZ,KAAAA,KAAAA,WACNnK,KAAMmK,KAAAA,KAAAA,WACNhM,QAASgM,KAAAA,OAAAA,YAGX,SAAe+H,GAAeygB,ICjKxB,GAA+B/jC,QAAQ,W,olBCw0B7C,SApzBqB,SAAC2V,EAAOqvB,GAC3B,IAAQ5zB,EAAwBuE,EAAxBvE,KAAMlP,EAAkByT,EAAlBzT,KAAMmN,EAAYsG,EAAZtG,GAAIoS,EAAQ9L,EAAR8L,IAClB6S,GAAmBuB,EAAAA,EAAAA,UAAQ,kBAAM,IAAIpI,KAAa,IAClDwX,GAAc/nB,EAAAA,EAAAA,QAAO,MACrBgoB,GAAYhoB,EAAAA,EAAAA,SAAO,GACnBioB,GAAWjoB,EAAAA,EAAAA,QAAO,IAAI9Q,KAC5B,GAA4BqM,EAAAA,EAAAA,UAAS,MAAKnM,KAA1C,YAAOkiB,EAAP,KAAe4W,EAAf,KACA,ECvBkB,SAAA9Q,GAClB,IAAM7F,EAAWtM,IAAAA,OAAa,IAWxBkjB,GAAyBxhB,EAAAA,EAAAA,cAAY,WACzC,IAAMyhB,EAAY7W,EAASptB,QACrBkkC,EAAW,GACjB,IAAK,IAAMjW,KAAQgW,EAAW,CAC5B,IAAME,EAAYF,EAAUhW,GAC5BiW,EAASjW,GAAQkW,EAAUrS,QAAO,SAAAte,GAAG,OAAKA,EAAIpB,SAEhD6gB,EAAiBmR,YAAYF,KAC5B,CAACjR,IAaEoR,GAAqB7hB,EAAAA,EAAAA,cACzB,SAAC8hB,GAAsC,IAA/BrW,EAA+B,uDAAxB7jB,GAAeC,KAEtB65B,GADY9W,EAASptB,QAAQiuB,IAAS,IACjB6D,QAAO,SAAAte,GAAG,OAAIA,EAAI1b,KAAOwsC,KACpDlX,EAASptB,QAAQiuB,GAAQiW,EACzBjR,EAAiBmR,YAAYhX,EAASptB,WAExC,CAACizB,IAQGsR,GAAgB/hB,EAAAA,EAAAA,cACpB,SAACkG,GAAwC,IAA/BuF,EAA+B,uDAAxB7jB,GAAeC,KACtBvS,EAAc4wB,EAAd5wB,GAAIsa,EAAUsW,EAAVtW,MACZiyB,EAAmBvsC,EAAIm2B,GACvB,IAAMgW,EAAY7W,EAASptB,QAAQiuB,IAAS,GAE5CgW,EAAUpsC,KAAK,CAAEC,GAAAA,EAAIsa,MAAAA,IACrBgb,EAASptB,QAAQiuB,GAAQgW,EACzBhR,EAAiBmR,YAAYhX,EAASptB,WAExC,CAACizB,EAAkBoR,IAMfG,GAAsBhiB,EAAAA,EAAAA,cAAY,WAAgC,MAA/ByL,EAA+B,uDAAxB7jB,GAAeC,KACvD45B,EAAY7W,EAASptB,QAAQiuB,IAAS,GAC5C,iBAAOgW,EAAUA,EAAUtrC,OAAS,UAApC,aAAO,EAAiCb,KACvC,IAoBH,OAZAwf,EAAAA,EAAAA,YAAU,WhHyJL,IAAyBjG,EAExBozB,EgH1JJrX,EAASptB,QAAUizB,EAAiB5F,chHwJRhc,EgHtJZ2yB,EhHwJZS,EAAcvnC,OAAO+S,eAE3B/S,OAAO+S,eAAiB,SAAAd,GAEtB,OADAkC,GAAYA,EAASlC,GACds1B,EAAYt1B,MgH3JlB,CAAC8jB,EAAkB+Q,IAQf,CACLO,cAAAA,EACAF,mBAAAA,EACAG,oBAAAA,GDlEAE,CAAYzR,GADNsR,EAAR,EAAQA,cAAeF,EAAvB,EAAuBA,mBAAoBG,EAA3C,EAA2CA,oBASrCG,GAAoBniB,EAAAA,EAAAA,cACxB,SAAAoiB,GAEE,IAAMC,EAAqBjB,EAAY5jC,QAGvC4kC,EAASzkC,SAAQ,SAAAqT,GAEf,IADgBkmB,QAAQlmB,EAAIoV,WAChB,CACV,IAAMoQ,EAAWxlB,EAAI1b,GACf4wB,EAAUD,GAAejV,GAC/BswB,EAAS9jC,QAAQuR,IAAImX,EAAQ5wB,GAAI4wB,GACjCuK,EAAiB6R,QAAQhB,EAAS9jC,SAClC2jC,EAAQ3jC,QAAQ+kC,UAAU/L,EAAUtQ,GAAS,OAKjDkb,EAAY5jC,QAAU6kC,EACtB90B,EAAK5K,GAAAA,KAAAA,GAAAA,kBAAmC,CAAErN,GAAI+sC,MAEhD,CAAClB,EAAS1Q,EAAkBljB,IAQxBi1B,GAAUxiB,EAAAA,EAAAA,cACd,SAAA8hB,GACE,OAAOX,EAAQ3jC,QAAQ2zB,KAAK2Q,KAE9B,CAACX,IASGsB,GAAmBziB,EAAAA,EAAAA,cACvB,SAAA8hB,GACE,IAAMY,EAAiBvB,EAAQ3jC,QAAQ02B,MAAMvJ,OAAO7hB,OAAOH,SAC3Dw4B,EAAQ3jC,QAAQ+kC,UAAUT,EAAO,MAG/BY,EAAevsC,SACdusC,EAAe,GAAG95B,KAAKuoB,MAAK,SAAAn0B,GAAC,OAAIA,EAAE1H,KAAOwsC,MAE3CX,EAAQ3jC,QAAQmlC,SAASD,EAAe,GAAI,KAAMz6B,MAGtD,CAACk5B,IASGyB,GAAmB5iB,EAAAA,EAAAA,cACvB,SAAA8hB,GAAS,UACDxiC,EAAa6hC,EAAQ3jC,QAAQ02B,MAAMvJ,OACnCzE,EAAUsc,EAAQV,GAClBe,EAAU3c,MAAAA,GAAH,UAAGA,EAASI,cAAZ,iBAAG,EAAiBA,cAApB,aAAG,EAAyBhxB,GAEnCyE,EAAK,UACT+C,OAAOqO,OAAO7L,GAAYm+B,WAAU,SAAAqF,GAAC,OAAIA,EAAExtC,KAAOutC,YADzC,QACqD,EAChE,OAAO/lC,OAAOgE,KAAKxB,GAAYvF,KAEjC,CAAConC,EAASqB,IAQNO,GAAwB/iB,EAAAA,EAAAA,cAC5B,SAAAgjB,GAAW,MAEHN,EAAiBM,EAAQl6B,OAAOH,SAAS,GACzCs6B,GACJP,MAAAA,OAAA,EAAAA,EAAgBQ,YAAhB,UAA4BF,EAAQt6B,QAAQC,SAAS,UAArD,aAA4B,EAA6Bu6B,UACvDC,EAAYT,MAAAA,OAAH,EAAGA,EAAgB95B,KAAKuoB,MAAK,SAAAn0B,GAAC,OAAIA,EAAE1H,KAAO2tC,KAUxD,GARKE,IACHA,EAAYH,EAAQt6B,QAAQC,SAAS,GAAGC,KAAKuoB,MAC3C,SAAAn0B,GAAC,OAAIA,EAAE1H,KAAO2tC,MAIlB7B,EAAY5jC,QAAUylC,GAEjBE,GAAaF,EAAgB,CAChC,IAAMG,EAAiBpB,IACnBU,EAAgBA,EAAeQ,SAAWE,EACzCJ,EAAQt6B,QAAQC,SAAS,GAAGu6B,SAAWE,EAC5ChC,EAAY5jC,QAAU4lC,KAG1B,CAACpB,IAOGqB,GAAcrjB,EAAAA,EAAAA,cAClB,SAAAgjB,GACED,EAAsBC,GACtBzB,EAAUyB,GACVvS,EAAiB8Q,UAAUyB,KAE7B,CAACvS,EAAkBsS,IAMfO,GAAqBtjB,EAAAA,EAAAA,cAAY,SAAAtX,GACrC,IAAM66B,EAAU76B,EAAQC,SAAS,GACjC,OAAI46B,MAAAA,GAAAA,EAAS36B,KAAa26B,EACdD,EAAmBC,KAC9B,IAOGC,GAAmBxjB,EAAAA,EAAAA,cAAY,SAACyjB,EAAK3B,GAAU,MACnD,GAAI2B,MAAAA,GAAJ,UAAIA,EAAK76B,YAAT,OAAI,EAAW9S,KAAI,SAAAshC,GAAE,OAAIA,EAAG9hC,MAAIkoC,SAASsE,GAAQ,OAAO2B,EACnD,GAAIA,EAAI96B,SAAU,CAErB,IADA,IAAI+6B,EAAe,KACVrtC,EAAI,EAAoB,OAAjBqtC,GAAyBrtC,EAAIotC,EAAI96B,SAASxS,OAAQE,IAAK,CACrE,IAAMstC,EAAcF,EAAI96B,SAAStS,GACjCqtC,EAAeF,EAAiBG,EAAa7B,GAE/C,OAAO4B,EAET,OAAO,OACN,IAUGE,GAAkB5jB,EAAAA,EAAAA,cACtB,SAAC6jB,EAAYC,EAAWplC,EAAUwnB,GAChC,IAAM6d,EAAY,MAAKF,GACjBJ,EAAMD,EAAiBO,EAAUrlC,GAAWolC,GAClD,GAAIL,EAAK,CACPvd,EAAQ5wB,GAAR,UAAgB4wB,EAAQ5wB,GAAG0uC,UAAU,EAAG9d,EAAQ5wB,GAAG2uC,YAAY,MAA/D,YACE/d,EAAQrf,MAEV,IAAMq9B,EAAWT,EAAI76B,KAAK60B,WAAU,SAAA0G,GAAG,OAAIA,EAAI7uC,KAAOwuC,KACtDL,EAAI76B,KAAKs7B,GAAYhe,EACrBud,EAAIP,SAAWhd,EAAQ5wB,GACvBgsC,EAAS9jC,QAAT,OAAwBsmC,GACxBxC,EAAS9jC,QAAQuR,IAAImX,EAAQ5wB,GAAI4wB,GACjC6b,EAAc7b,EAASxnB,GACvB+xB,EAAiB6R,QAAQhB,EAAS9jC,SAClCizB,EAAiB8Q,UAAUwC,GAE7B,MAAO,CAAEA,UAAAA,EAAWN,IAAAA,KAEtB,CAACD,EAAkB/S,EAAkBsR,IASjCqC,GAAgBpkB,EAAAA,EAAAA,cAAY,SAACye,EAAS4F,EAAYx0B,GACtD,OACE,kBAAC,EAAAogB,QAAD,CAAS9nB,MAAOs2B,EAAQtY,UAAYsY,EAAQnpC,IAC1C,yBAAKgvC,WAAY,kBAAMD,EAAW5F,EAAQnpC,MACvC+c,GAAeosB,EAAQrxB,MAAO,CAC7B2O,SAAU,GACVgI,UAAW,EACXvI,YAAa,GACb6S,WAAY,IAEboQ,EAAQ53B,KAAO43B,EAAQrY,UACvBvW,GAAW,SAIjB,IAOG00B,GAAWvkB,EAAAA,EAAAA,cACf,SAACye,EAASsF,GACR,IAAQzuC,EAAoBmpC,EAApBnpC,GAAIuR,EAAgB43B,EAAhB53B,KAAMuG,EAAUqxB,EAAVrxB,MAClB/O,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEkE,KAAAA,EACAuG,MAAAA,IAEF,SAAAsM,GACE,GAAIA,EAAIjJ,QAAS,CACf,IAAMgb,EAAOmX,EAAiBttC,GAC9BusC,EAAmBvsC,EAAIm2B,GACnBsY,GAAWV,EAAYU,SAKnC,CAAC1lC,EAAMglC,EAAaT,EAAkBf,IAQlC2C,GAAkBxkB,EAAAA,EAAAA,cACtB,SAACye,EAASsF,GACR,IAAQzuC,EAAoBmpC,EAApBnpC,GAAIuR,EAAgB43B,EAAhB53B,KAAMuG,EAAUqxB,EAAVrxB,MAClB/O,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,oBACA,CAAEkE,KAAAA,EAAMuG,MAAAA,IACRjQ,MAAK,WACL,IAAMsuB,EAAOmX,EAAiBttC,GAC9BusC,EAAmBvsC,EAAIm2B,GACnBsY,GAAWV,EAAYU,QAG/B,CAAC1lC,EAAMglC,EAAaT,EAAkBf,IASlC4C,GAAiBzkB,EAAAA,EAAAA,cACrB,SAACxlB,EAAUupC,GACT,IAAQl9B,EAAgBrM,EAAhBqM,KAAMuG,EAAU5S,EAAV4S,MAEd/O,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,gBAAqC,CAC7DkE,KAAAA,EACAuG,MAAAA,EACA8C,SAAU,SAAA/B,GACR,IAAMu2B,EAAgB,CAEpBzzB,KAAM,kBAAMszB,EAAS/pC,EAAUupC,IAE/BvnB,SAAU,kBAAMgoB,EAAgBhqC,EAAUupC,KAE5C,OAAO51B,KAAUu2B,GAAgBA,EAAcv2B,UAIrD,CAAC9P,EAAMkmC,EAAUC,IASbG,GAAqB3kB,EAAAA,EAAAA,cACzB,SAAC+jB,EAAWjC,EAAO8C,GACjB,MAAwCtD,EAAS9jC,QAAQS,IAAI6jC,GAArDj7B,EAAR,EAAQA,KAAMuG,EAAd,EAAcA,MAAOwC,EAArB,EAAqBA,MAAOC,EAA5B,EAA4BA,QAC5B,GAAIA,IAAY+0B,EAEdH,EADiB,CAAEnvC,GAAIwsC,EAAOj7B,KAAAA,EAAMuG,MAAAA,EAAOwC,MAAAA,GAClBm0B,OACpB,CAEDn0B,IAAUC,GACZxR,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,oBACA,CAAEkE,KAAAA,EAAMuG,MAAAA,IAIZk0B,EAAS9jC,QAAT,OAAwBskC,GACxBrR,EAAiB6R,QAAQhB,EAAS9jC,SAClC,IAAMiuB,EAAOmX,EAAiBd,GAC9BD,EAAmBC,EAAOrW,GAC1B4X,EAAYU,GAEZ1lC,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,oBAIN,CACEtE,EACAoyB,EACA4S,EACAoB,EACA7B,EACAf,IAUEgD,GAAY7kB,EAAAA,EAAAA,aAAW,+BAC3B,WAAO8hB,EAAO8C,GAAd,sFACkBpC,EAAQV,GAD1B,iDAGQgD,EAAgB3D,EAAQ3jC,QAAQunC,aAChCC,EAAYloC,OAAOqO,OAAOvD,IAJlC,MAMyBo9B,EANzB,4CAMatmC,EANb,OAOU+kC,EAAMD,EAAiBsB,EAAcpmC,GAAWojC,IAP1D,oBAWUpjC,IAAakJ,GAAeG,KAA2B,IAApB07B,EAAI76B,KAAKzS,OAXtD,wBAYc8uC,EACJ9D,EAAQ3jC,QAAQ02B,MAAMvJ,OAAO7hB,OAAOH,SAAS,GAbvD,UAccw4B,EAAQ3jC,QAAQmlC,SACpBsC,EACA,KACAh9B,IAjBV,iCAmBe48B,EAAU/C,IAnBzB,eAuBM2B,EAAI76B,KAAO66B,EAAI76B,KAAK0mB,QAAO,SAAA6U,GAAG,OAAIA,EAAI7uC,KAAOwsC,KAvBnD,kBA0Ba6C,EAAmBG,EAAehD,EAAO8C,IA1BtD,uEAD2B,wDA+B3B,CAACzD,EAASqC,EAAkBmB,EAAoBnC,IAO5C0C,GAAkBllB,EAAAA,EAAAA,cACtB,SAAAhoB,GACE,IAAkB2Y,EAA0B3Y,EAApCuS,SAAwBsF,EAAY7X,EAAnBiF,MACnB6kC,EAAQnxB,EAAMyY,SACd+b,EAAiB7D,EAAS9jC,QAAQS,IAAI6jC,GACtCsD,EAAoBlO,QAAQiO,MAAAA,OAAD,EAACA,EAAgBt1B,SAElD,GAAKs1B,GAAkBC,IAAsBv1B,EAA7C,CAEA,IAAMw1B,EAAa,SAAKF,GAAR,IAAwBt1B,QAASA,IAGjD,GAFAyxB,EAAS9jC,QAAQuR,IAAI+yB,EAAOuD,GAEvBlE,EAAQ3jC,QAAb,CACA,IAAM8nC,EAAa9C,EAAQV,GAC3BX,EAAQ3jC,QAAQ+kC,UAAUT,EAAOwD,GAAY,OAE/C,CAACnE,EAASqB,IASN+C,GAAmBvlB,EAAAA,EAAAA,aAAW,+BAAC,WAAO/Q,EAAYwvB,GAAnB,gFAE7B3zB,EAASR,GAAiBuB,UAAU4yB,EAAQnpC,KAFf,yCAGhBka,QAAQ0vB,QAAQp0B,IAHA,cAK3BsB,EAAS6C,EAAWnE,OACpB06B,EAAa,IAAIp5B,EACrB,CAAEvF,KAAM43B,EAAQnpC,IAChB,CAAEA,GAAImpC,EAAQnpC,GAAIuR,KAAM43B,EAAQ53B,KAAMuG,MAAOqxB,EAAQrxB,QARtB,kBAU1B9C,GAAiBO,QAAQ4zB,EAAQnpC,GAAIkwC,GAAYroC,MACtD,kBAAMqoC,MAXyB,2CAAD,wDAcjC,IAOGC,GAAczlB,EAAAA,EAAAA,cAClB,SAAAye,GACE,OAAOpgC,EACLsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,gBACA87B,EAAQrxB,OACRjQ,MAAK,SAAA8R,GACL,OAAKA,EAEEs2B,EAAiBt2B,EAAYwvB,GACjCthC,MAAK,SAAAqoC,GAAc,MAEZpf,EAAS,UAAGnX,EAAWjC,MAAM2D,MAAM+0B,iBAA1B,QAAuC,GAEtD,MAAO,CACLpwC,GAAImpC,EAAQnpC,GACZuR,KAAM43B,EAAQ53B,KACd+I,MAAO6uB,EAAQ7uB,MACfC,QAAS4uB,EAAQ5uB,QACjB1H,MAAOi8B,EAAc3F,EAASoG,EAAWpG,EAAQ5uB,SACjDuW,UAAWA,EACXhZ,MAAOqxB,EAAQrxB,MACfpX,QAASwvC,EAAWhmB,aAbnB,OAgBE,SAAAtE,GAEL,OADAlP,QAAQ+E,KAAK,uBAAwBmK,GAC9BujB,KApBaA,OAwB5B,CAACpgC,EAAM+lC,EAAeS,EAAWU,IAQ7BI,GAAwB3lB,EAAAA,EAAAA,cAAY,WAExC,OADsBmhB,EAAQ3jC,QAAQ02B,MAAMvJ,OAAO7hB,OAAOH,SACxCxS,OAAeyR,GAAeG,IAEzCH,GAAeC,OACrB,CAACs5B,IAYE/pB,GAAO4I,EAAAA,EAAAA,cACX,SAAAkG,GAAW,QACH0f,EAAW,UAAG1f,EAAQ2f,oBAAX,QAA2BF,IACtC9vB,EAAQ,UAAGqQ,EAAQrQ,gBAAX,QAAuB,CACnCiwB,EAAG,IACHC,EAAG,IACHvH,EAAG,IACHwH,EAAG,IACHC,EAAG,GAGL14B,EAAK5K,GAAAA,KAAAA,GAAAA,kBAAmC,CAAErN,GAAI4wB,EAAQ5wB,KACtDysC,EAAc7b,EAAS0f,GACvBtE,EAAS9jC,QAAQuR,IAAImX,EAAQ5wB,GAAI4wB,GACjCuK,EAAiB6R,QAAQhB,EAAS9jC,SAEdglC,EAAQtc,EAAQ5wB,IAElCmtC,EAAiBvc,EAAQ5wB,KAK3B8rC,EAAY5jC,QAAU0oB,EAAQ5wB,GAE9BisC,GAAU,SAAAvgB,GACR,IAAMsX,EAAW,MAAKtX,GACtB,GAA8C,IAA1CsX,EAASsN,GAAaj9B,SAASxS,OAIjC,OAHAmiC,EAASsN,GAAaj9B,SAAW,CAAC,SAAKkN,GAAN,IAAgBjN,KAAM,CAACsd,MAExDuK,EAAiB8Q,UAAUjJ,GACpB,MAAKA,GAGd,GAAIsN,IAAgBh+B,GAAeI,MACjCswB,EAASsN,GAAaj9B,SAAStT,KAA/B,SACKwgB,GADL,IAEEjN,KAAM,CAACsd,UAEJ,CACL,IAAMggB,EAAiB5C,EAAmBhL,EAASsN,IACnDM,EAAet9B,KAAKvT,KAAK6wB,GACzBggB,EAAehD,SAAWhd,EAAQ5wB,GAIpC,OADAm7B,EAAiB8Q,UAAUjJ,GACpB,MAAKA,SAGhB,CACE7H,EACA6S,EACAqC,EACAlD,EACAV,EACAS,EACAj1B,IAQE44B,GAAanmB,EAAAA,EAAAA,aAAW,+BAC5B,WAAMye,GAAN,oGAEsBpgC,EAChBsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CAAEkE,KAAM43B,EAAQ53B,KAAMuG,MAAOqxB,EAAQrxB,QAL3C,OAEUF,EAFV,OAQIuxB,EAAQ7uB,MAAR,UAAgB6uB,EAAQ7uB,aAAxB,QAAiC1C,EAAI0C,MACrC6uB,EAAQ5uB,QAAR,UAAkB4uB,EAAQ5uB,eAA1B,QAAqC3C,EAAI2C,QAEzC41B,EAAYhH,GAASthC,MAAK,SAAA+oB,GACxB3Y,EAAK5K,GAAAA,KAAAA,GAAAA,YAA6BujB,GAClC9O,EAAK8O,MAbX,gDAgBIla,QAAQ+E,KAAR,MAhBJ,yDAD4B,sDAoB5B,CAAC1S,EAAMkP,EAAMk4B,EAAaruB,IAMtB6L,GAAQjD,EAAAA,EAAAA,cACZ,SAAAhoB,GACE,IAAQ8pC,EAAyB9pC,EAAzB8pC,MAAOsE,EAAkBpuC,EAAlBouC,cAEfvB,EAAU/C,IACTsE,GACC/nC,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,mBAGN,CAACtE,EAAMwmC,IAQHwB,GAAUrmB,EAAAA,EAAAA,cACd,SAAAhoB,GACE,IAAMsuC,EAAgBhF,EAAS9jC,QAAQS,IAAIjG,EAAK1C,IAChD,GAAKgxC,GAAkBtuC,EAAKhC,QAA5B,CACA,MACEswC,MAAAA,EAAAA,EAAiBtuC,EADX1C,EAAR,EAAQA,GAAIU,EAAZ,EAAYA,QAASoX,EAArB,EAAqBA,MAAOvG,EAA5B,EAA4BA,KAAMsf,EAAlC,EAAkCA,SAAUC,EAA5C,EAA4CA,UAAWvW,EAAvD,EAAuDA,QAASD,EAAhE,EAAgEA,MAahE,OAXA0xB,EAAS9jC,QAAQuR,IAAIzZ,EAAI,CACvBA,GAAAA,EACA8X,MAAAA,EACAvG,KAAAA,EACAsf,SAAAA,EACAnwB,QAAAA,EACAowB,UAAAA,EACAxW,MAAAA,EACAC,QAAAA,IAGK,CACLva,GAAIA,EACJ6S,MAAOi8B,EAHO,CAAE9uC,GAAAA,EAAI8X,MAAAA,EAAOvG,KAAAA,EAAMsf,SAAAA,EAAUC,UAAAA,GAGbye,EAAWh1B,GACzC7Z,QAASA,EACTuwC,UAAU,MAGd,CAACnC,EAAeS,IASZ2B,GAAiBxmB,EAAAA,EAAAA,cACrB,SAAC+jB,EAAWjC,EAAO2E,GACjB,IAAMhb,EAAOmX,EAAiBd,GACxB5b,EAAUob,EAAS9jC,QAAQS,IAAI6jC,GACjCsB,EAAiBtB,EhIpYjB,WgIuYA2E,GACF5B,EAAU/C,GACL5b,EAAQrW,UACXuzB,EACEpB,EAAoBvW,IACpB6X,EAAmBS,EAAUr7B,SAASw6B,YAI1CG,EAAYU,IAEX1C,EAAU7jC,SAAWukC,EAAc7b,EAASuF,GAC7C4V,EAAU7jC,SAAU,GAGjBskC,IACDsB,GACFhC,EAAY5jC,QAAU4lC,EACtB71B,EAAK5K,GAAAA,KAAAA,GAAAA,kBAAmC,CAAErN,GAAI8tC,KAE9C/kC,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,oBAIN,CACE4K,EACAlP,EACAilC,EACAuB,EACAxB,EACAT,EACAb,EACAC,IASE0E,GAAc1mB,EAAAA,EAAAA,cAClB,SAAC8jB,EAAWuB,GACVI,EAAYJ,GAAYloC,MAAK,SAAA+oB,GAE3Bkb,EAAY5jC,QAAU0oB,EAAQ5wB,GAE9BisC,GAAU,SAAAvgB,GAGR,IADA,IACA,MADkBlkB,OAAOqO,OAAOvD,IAChC,eAAkC,CAA7B,IAAMlJ,EAAQ,KACXioC,EAAI/C,EAAgB5iB,EAAW8iB,EAAWplC,EAAUwnB,GAC1D,GAAIygB,EAAElD,IAAK,OAAOkD,EAAE5C,UAEtB,OAAO/iB,UAIb,CAACykB,EAAa7B,IAOVgD,GAAe5mB,EAAAA,EAAAA,cAAY,WAC/B,OAAOshB,EAAS9jC,QAAQS,IAAImjC,EAAY5jC,WACvC,IAKGqpC,GAAiB7mB,EAAAA,EAAAA,cAAY,WACjCyiB,EAAiBrB,EAAY5jC,WAC5B,CAACilC,IAoGJ,OAzFA3tB,EAAAA,EAAAA,YAAU,WAqCR,OAnCAtJ,EACE7I,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,GAAAA,kBACA,SAAA3K,GAAI,OAAIktC,EAAgBltC,MAG1BwT,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,YAAmC,SAAA3K,GAAI,OAClE6sC,EAAU7sC,EAAKjB,KAAK,MAItByU,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,UAAiC,SAAA3K,GAC5D,GAAIA,EAAKuY,QAAS,CAChB,IAAMrD,EAAMlV,EAAKkV,IACXE,EAAQF,EAAInG,KACZF,EAAO7O,EAAKuY,QACZ80B,EAAa,CACjB/vC,GAAIue,GAAa,CACfrF,UAAWtB,EAAIsB,UACfpB,MAAAA,EACAvG,KAAAA,IAEFA,KAAAA,EACAuG,MAAAA,GAGFs5B,EAAYx5B,EAAI+mB,KAAKz8B,QAAT,WAAqB0V,EAAI+zB,SAAW,IAAKoE,GAErDhnC,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,WAAqC,CAClEyK,MAAAA,EACAvG,KAAAA,QAKC,WACL+W,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,kBAC9Bib,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,YAC9Bib,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,aAE/B,CAAC6I,EAAInN,EAAMuf,EAAKsnB,EAAiBwB,EAAa7B,KAKjD/vB,EAAAA,EAAAA,YAAU,WACR,MAA+B2b,EAAiB/F,mBAAhD,YAAOoc,EAAP,KAAmB1E,EAAnB,KACMx5B,EAAO,GAuBb,OArBAm6B,EAAsB+D,GAEtBxF,EAAS9jC,QAAU4kC,EAEnBA,EAASzkC,SAAQ,SAAAqT,GACf,IAAQ1b,EAAoB0b,EAApB1b,GAAIuR,EAAgBmK,EAAhBnK,KAAMuG,EAAU4D,EAAV5D,MAElBxE,EAAKvT,KAAKowC,EAAY,CAAEnwC,GAAAA,EAAIuR,KAAAA,EAAMuG,MAAAA,QAGpCoC,QAAQu3B,WAAWn+B,GAAMzL,MAAK,SAAA6pC,GAC5BA,EAAMrpC,SAAQ,SAAAqT,GACG,cAAfA,EAAIi2B,QACF3F,EAAS9jC,QAAQuR,IAAIiC,EAAI/T,MAAM3H,GAAI0b,EAAI/T,UAE3CskC,EAAUuF,GAEV3E,EAAkBC,MAIb,WACL3R,EAAiBjjB,aAElB,CACD2zB,EACA1Q,EACAgV,EACA1C,EACAZ,IASK,CACLxX,OAAAA,EACAvT,KAAAA,EACA+uB,WAAAA,EACAljB,MAAAA,EACAojB,QAAAA,EACAG,eAAAA,EACA/D,iBAAAA,EACAmE,aAAAA,EACAC,eAAAA,EACAH,YAAAA,IEp0BiCvqC,QAAQ,4BCEtC,IAAM+qC,IAAa1xB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAC7C,UAAW,CACT,sBAAuB,CACrBb,WAAYa,EAAMgW,QAAQ7W,WAAd,SAEd,2BAA4B,CAC1BK,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1BzhB,WAAYa,EAAMgW,QAAQ7W,WAAd,SAEd,wCAAyC,CACvCA,WAAYa,EAAMgW,QAAQ7W,WAAWyhB,UAGzCjsB,KAAM,CACJkhB,SAAU,WACVkC,MAAO,OACPD,OAAQ,OACR,iBAAkB,CAChBC,MAAO,OACPD,OAAQ,OACR3Y,WAAYa,EAAMV,WAAWH,WAC7B,gBAAiB,CACfA,WAAYa,EAAMgW,QAAQ7W,WAAd,QACZgoC,YAAannC,EAAMgW,QAAQ7W,WAAd,QACb,cAAe,CACbgoC,YAAannC,EAAMb,WACnBA,WAAYa,EAAMgW,QAAQ7W,WAAWyhB,QACrC,mBAAoB,CAClBphB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,SAE5B,cAAe,CACbwmB,oBAAqB,MACrBC,qBAAsB,MACtBloC,WAAYa,EAAMT,SAASJ,WAC3BK,MAAOQ,EAAMT,SAASC,MACtBkW,QAAS,SACT,wBAAyB,CACvBI,MAAO,OAET,UAAW,CACTJ,QAAS,qBAGb,kBAAmB,CACjBhW,gBAAiBM,EAAMgW,QAAQ4K,QAAQiM,OAG3C,uCAAwC,CACtC1tB,WAAYa,EAAMgW,QAAQ7W,WAAWyhB,QACrCphB,MAAOQ,EAAMT,SAASC,MACtB2nC,YAAa,GAAF,OAAKnnC,EAAMT,SAASC,MAApB,QAGf,6BAA8B,CAC5BL,WAAYa,EAAMgW,QAAQ7W,WAAd,SAEd,kBAAmB,CACjBA,WAAY,GAAF,OAAKa,EAAMgW,QAAQ7W,WAAWyhB,QAA9B,SAIhBthB,WAAY,CACVuW,SAAU,WACVyxB,KAAM,OACNvxB,IAAK,OACLD,MAAO,OACP0kB,OAAQ,YCvDN+M,GAAO,SAACz1B,EAAOC,GACnB,IAAMyE,EAAU0wB,KACV/F,GAAU9nB,EAAAA,EAAAA,UAChB,EAWImuB,GAAa11B,EAAOqvB,GAVtBxW,EADF,EACEA,OACAvT,EAFF,EAEEA,KACA+uB,EAHF,EAGEA,WACAljB,EAJF,EAIEA,MACAujB,EALF,EAKEA,eACA/D,EANF,EAMEA,iBACAmE,EAPF,EAOEA,aACAC,EARF,EAQEA,eACAR,EATF,EASEA,QACAK,EAVF,EAUEA,YA4BF,OAzBA/mB,GAAiB5N,EAAK,CACpBqF,KAAAA,EACA+uB,WAAAA,EACAO,YAAAA,EACAE,aAAAA,EACAC,eAAAA,EACA5jB,MAAAA,IAoBA,yBACE,cAAY,kBACZ/P,UAAWsD,EAAQ7hB,KACnBkiB,QAhBwB,SAAAgE,GAAO,MAC3BvgB,EAASugB,EAAIvgB,OACnB,GAAKA,MAAAA,GAAD,UAACA,EAAQ4a,iBAAT,OAAC,EAAmBuyB,SAAS,iBAAjC,CAEA,IAAMC,EAAcptC,EAAOG,cAAc,kCACnCktC,EAAiBD,EAAYpyC,GAAG0uC,UACpC0D,EAAYpyC,GAAGmI,QAAQ,QAAU,GAG/BmpC,IAAiBe,GAAgBlF,EAAiBkF,MASpD,kBAAC,KAAD,CACE51B,IAAKovB,EACLxW,OAAQA,EACR0b,QAASA,EACTG,eAAgBA,EAChBtzB,UAAWsD,EAAQlX,eAQ3B,SAAemgB,GAAe8nB,GAF9BA,GAAKlmB,cAAL,IAAyBvkB,OAAOqO,OAAOxI,GAAAA,KAAAA,QAIvC4kC,GAAK9vB,UAAY,CACfpZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,WACJnK,KAAMmK,KAAAA,KAAAA,WACNmG,QAASnG,KAAAA,KAAAA,WACThM,QAASgM,KAAAA,OAAAA,YC5EX,IAAMkwB,GAAc,WAClB,OAAO,sCAGT,SAAenoB,GAAemoB,IAE9BA,GAAYnwB,UAAY,CACtBpZ,KAAMqZ,KAAAA,KAAAA,WACNhM,QAASgM,KAAAA,OAAAA,Y,2ICDP1gB,GAAU,GAEdA,GAAQ0E,kBAAoB,KAC5B1E,GAAQoE,cAAgB,KAElBpE,GAAQoD,OAAS,UAAc,KAAM,QAE3CpD,GAAQyC,OAAS,KACjBzC,GAAQyE,mBAAqB,KAEhB,KAAI,KAASzE,IAKJ,MAAW,aAAiB,YCqF3C,SAAS6wC,GAAcn5B,GAC5B,IAAQtB,EAAkDsB,EAAlDtB,MAAOJ,EAA2C0B,EAA3C1B,MAAO86B,EAAoCp5B,EAApCo5B,aAAtB,EAA0Dp5B,EAAtBq5B,aAAAA,OAApC,MAAmD,GAAnD,GlI9GuB,SAAC36B,EAAOJ,EAAOlC,GACtCuB,GAAQe,GAAS,CAAEJ,MAAAA,EAAOlC,OAAAA,GkI8G1Bk9B,CAAU56B,EAAOJ,EAAO86B,GAExBC,EAAapqC,SAAQ,SAAAsqC,GACnB,IAAMn9B,EAASm9B,EAAkBrzC,QAAQqzC,EAAkBv8B,SAC3DpB,GAAiBO,QAAQo9B,EAAkBv8B,QAAQ7E,KAAMiE,MAQtD,SAASo9B,GAAY3Y,GAC1B,IAAQnjB,EAAwBmjB,EAAxBnjB,OAAQV,EAAgB6jB,EAAhB7jB,QAASpW,EAAOi6B,EAAPj6B,GACnBkwC,EAAa,IAAIp5B,EAAOV,GAC9BpB,GAAiBO,QAAQvV,EAAIkwC,GAAYroC,MAAK,WAC5CoyB,EAAKrJ,QAAQlwB,QAAUwvC,EAAWhmB,SjE7Hf,SAAC3Y,EAAM0oB,GAC5BvJ,GAAUnf,GAAQ0oB,EiE6HhB4Y,CAAQ7yC,EAAIi6B,MAmHhB,SAtNA,SAAiBzd,GAEf,IACE9R,EAOE8R,EAPF9R,MACAqV,EAMEvD,EANFuD,kBACA0qB,EAKEjuB,EALFiuB,aACAqI,EAIEt2B,EAJFs2B,KACAC,EAGEv2B,EAHFu2B,MACA/zB,EAEExC,EAFFwC,UACAg0B,EACEx2B,EADFw2B,QAGI9xB,IAdW,GC1BjBhB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACnBuoC,UAAW,CACTpmB,OAAsC,GACtCqmB,YAAsB,oBAAqBxoC,EAAMb,YACjD6Y,QAAS,OACTnC,SAAU,YAEZ4yB,SAAU,CAAEC,SAAU,GACtBC,UAAW,CAAE7wB,OAAQ,QACrB8wB,aAAc,CAAEF,SAAU,EAAGvmB,OAAwC,IACrE0mB,YAAa,CACX1mB,OAAuC,GACvC2mB,WAAqB,oBAAqB9oC,EAAMb,YAChD0W,SAAU,YAEZkzB,UAAW,CAAE5mB,OAAyC,GAAIpK,MAAO,eDwEnE,OAvCAjD,EAAAA,EAAAA,YAAU,WAoFM,CACd,CACEpJ,QAAS,CAAE7E,KAAMlE,GAAAA,YAAAA,MACjB/N,QAAS,SAAA8W,GAAO,OAAI,IAAIY,GAAWZ,KAErC,CACEA,QAAS,CAAE7E,KAAMlE,GAAAA,OAAAA,MACjB/N,QAAS,SAAA8W,GAAO,OAAI,IAAIuQ,GAAOvQ,KAEjC,CACEA,QAAS,CAAE7E,KAAMlE,GAAAA,MAAAA,MACjB/N,QAAS,SAAA8W,GAAO,OAAI,IAAI8R,GAAO9R,MAG3B/N,SAAQ,SAAAsqC,GACd,IAAMn9B,EAASm9B,EAAkBrzC,QAAQqzC,EAAkBv8B,SAC3DpB,GAAiBO,QAAQo9B,EAAkBv8B,QAAQ7E,KAAMiE,MAK3C,CACd,CACEY,QAAS,CACP7E,KAAMlE,GAAAA,UAAAA,KACNjE,SAAU2D,GAAiBC,MAE7B1N,QAAS,SAAA8W,GAAO,OAAI,IAAIw0B,GAASx0B,KAEnC,CACEA,QAAS,CACP7E,KAAMlE,GAAAA,SAAAA,KACNjE,SAAU2D,GAAkBC,MAE9B1N,QAAS,SAAA8W,GAAO,OAAI,IAAI0yB,GAAS1yB,KAEnC,CACEA,QAAS,CAAE7E,KAAMlE,GAAAA,KAAAA,KAAmBjE,SAAU2D,GAAiBC,MAC/D1N,QAAS,SAAA8W,GAAO,OAAI,IAAI67B,GAAK77B,KAE/B,CACEA,QAAS,CACP7E,KAAMlE,GAAAA,YAAAA,KACNjE,SAAUiE,GAAAA,aAAAA,MAEZ/N,QAAS,SAAA8W,GAAO,OAAI,IAAIk8B,GAAYl8B,KAEtC,CACEA,QAAS,CAAE7E,KAAMlE,GAAAA,WAAAA,KAAyBjE,SAAU2D,GAAcC,MAClE1N,QAAS,SAAA8W,GAAO,OAAI,IAAI2rB,GAAU3rB,MAG9B/N,SAAQ,SAAAsqC,GACd,IAAMn9B,EAASm9B,EAAkBrzC,QAAQqzC,EAAkBv8B,SAC3DpB,GAAiBO,QAAQo9B,EAAkBv8B,QAAQ7E,KAAMiE,MA6C3DkB,QAAQC,IAGS,6QArLd,KAIH6I,EAAAA,EAAAA,YAAU,WACJszB,G/D/Be,SAAAA,GACrBlgB,GAAYC,KAAOigB,E+D8BPY,CAAQZ,KACjB,CAACA,KAEJtzB,EAAAA,EAAAA,YAAU,W/D9BY,IAAC,EAAEm0B,EAAeC,E+D+BlCb,I/D/BmBY,GAAF,E+D+BDZ,G/D/BGY,cAAeC,EAAY,EAAZA,MACxChhB,GAAYE,KAAKC,cAAgB4gB,EACjC/gB,GAAYE,KAAKE,MAAQ4gB,K+D8BtB,CAACb,KAEJvzB,EAAAA,EAAAA,YAAU,WACJR,G/DzBoB,SAACA,EAAW60B,GACtC,IAAMC,EAAyC,GAC/ClhB,GAAYrB,UAAZ,SAA6BuiB,GAA7B,IAA4C90B,UAAAA,I+DuB3B+0B,CAAa/0B,KAC3B,CAACA,KAEJQ,EAAAA,EAAAA,YAAU,W/DjCW,IAAAjO,E+DkCfyhC,I/DlCezhC,E+DkCEyhC,E/DjCvBpgB,GAAY5lB,KAAOuE,EACnBqhB,GAAYK,gBAAgBjhB,MAAQT,K+DiCjC,CAACyhC,IAiBF,kBAACzI,GAAYyJ,SAAb,CACErsC,MAAO,CACL6iC,cAAe9/B,EACfogC,YAAuB,SAAVpgC,EACbqV,kBAAmBA,EACnB0qB,aAAcA,IAGhB,kBAAC,EAAAwJ,MAAD,MACA,yBAAKr2B,UAAU,MAAMs2B,cAlBH,SAAA78B,GAAK,OAAIA,EAAME,mBA+GvC,SAA0B2J,GACxB,OACE,kBAAC,IAAD,CAAMmF,WAAS,EAAC8qB,UAAU,UACxB,kBAAC,GAAD,CAAcjoB,SAAUnc,KACxB,kBAAC,IAAD,CAAMsZ,WAAS,EAAC1D,WAAW,cACzB,kBAAC,GAAD,CAAQuG,SAAUnc,GAAcC,KAAMg1B,UAzK3B,SA2Kb,kBAAC,IAAD,CAAM3b,WAAS,EAAC1D,WAAW,UAAU/E,UAAWsD,EAAQiyB,UACtD,kBAAC,EAAA/xB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ+xB,WAC7C,kBAAC,GAAD,CACE/pB,SAAUnc,GAAiBC,KAC3B4Q,UAAWsD,EAAQmyB,YAErB,kBAAC,GAAD,CACEnqB,SAAUnc,GAAkBC,KAC5Boe,OAAO,OACPC,kBAAgB,KAGpB,kBAAC,GAAD,CACEzN,UAAWsD,EAAQoyB,aACnBpqB,SAAUnc,GAAiBC,OAE7B,kBAAC,GAAD,CACE4Q,UAAWsD,EAAQqyB,YACnBrqB,SAAU7b,GAAAA,aAAAA,KACV+d,OAAO,WAGX,kBAAC,IAAD,CAAM/E,WAAS,EAAC1D,WAAW,YACzB,kBAAC,GAAD,CACEuG,SAAUnc,GACV6Q,UAAWsD,EAAQuyB,aAGvB,kBAAC,GAAD,CAAYvqB,SAAS,gBA/HlBirB,CAAiBjzB,M,kHErG1B,IAAMkzB,GAAU,CACdC,MAAOrrC,SACPsrC,QAAStrC,U,GAkCRorC,GAAQE,Q,IC9BUC,GAAAA,SAAAA,G,6aACnB,cAAuE,MAAzDv0C,EAAyD,EAAzDA,GAAIuR,EAAqD,EAArDA,KAAqD,IAA/Co6B,QAAAA,OAA+C,MAArC,IAAqC,MAAhCzyB,UAAAA,OAAgC,MAApBxM,EAAoB,qBACrE,eADqE,qBAgB7D,CAAE6nB,KAAM,MAAOigB,KAAM,QAhBwC,oBAiB/D,GAjB+D,uBAkB5D,GAlB4D,sBAmB7D,GAnB6D,yBAoB1D,GApB0D,yBAsBzD,CAAC,OAAQ,YApBrB,EAAKx0C,GAAKA,MAAAA,EAAAA,EAAMuR,EAChB,EAAKA,KAAOA,EACZ,EAAKo6B,QAAUA,EACf,EAAKzyB,UAAYA,EAEjB,EAAKu7B,oBAPgE,E,iCAkCvE,WACE,OAAOl0C,KAAKP,K,mBAQd,SAAM2H,GAEJ,OADApH,KAAKP,GAAK2H,EACHpH,O,0BAOT,WACE,OAAOA,KAAK2Y,Y,oBAOd,WACE,MAAO,GAAP,OAAU3Y,KAAKm0C,eAAf,YAAiCn0C,KAAKyb,WAAtC,YAAoDzb,KAAKwzB,a,qBAO3D,WACE,OAAOxzB,KAAKgR,O,qBAQd,SAAQ5J,GAEN,OADApH,KAAKgR,KAAO5J,EACLpH,O,wBAOT,WACE,OAAOA,KAAKorC,U,wBAOd,WACE,OAAOprC,KAAKo0C,U,wBAQd,SAAWhtC,GAET,OADApH,KAAKo0C,QAAUhtC,EACRpH,O,yBAOT,WACE,OAAOA,KAAKq0C,W,yBAQd,SAAYjtC,GAEV,OADApH,KAAKq0C,SAAWhT,QAAQj6B,GACjBpH,O,sBAOT,WACE,OAAOA,KAAKga,U,sBAQd,SAAS5S,GAEP,OADApH,KAAKga,QAAUqnB,QAAQj6B,GAChBpH,O,sBAOT,WACE,OAAOA,KAAK+Z,Q,sBAQd,SAAS3S,GAEP,OADApH,KAAK+Z,MAAQsnB,QAAQj6B,GACdpH,O,yBAOT,WACE,OAAOA,KAAKia,a,yBAQd,SAAY7S,GAEV,OADApH,KAAKia,WAAa7S,EACXpH,O,qBAQT,SAAQs0C,GAAM,WAOZ,OANArtC,OAAO0L,QAAQ2hC,MAAAA,EAAAA,EAAQ,IAAIxsC,SAAQ,YAAkB,gBAAhBC,EAAgB,KAAXX,EAAW,KAC/CmtC,QAAQp7B,IAAI,EAAMpR,SAAkBjH,IAAVsG,GAC5BmtC,QAAQr7B,IAAI,EAAMnR,EAAKX,MAG3BpH,KAAKw0C,aAAY,GACVx0C,O,sBAQT,WACE,MAAO,O,8BAQT,WACE,MAAO,Q,sBAYT,WACEA,KAAKy0C,UAAS,GAEd,kDAAkBC,a,uBAapB,WACE,MAAO,CACLj1C,GAAIO,KAAK20C,QACTzzC,IAAKlB,KAAKuzB,SACVviB,KAAMhR,KAAKwzB,UACXjc,MAAOvX,KAAKyb,WACZ9C,UAAW3Y,KAAKm0C,eAChBC,QAASp0C,KAAK40C,aACdxJ,QAASprC,KAAK60C,gB,2BAUlB,WACE,OAAO70C,KAAKsX,c,qBA+Bd,WACE,oD,4BAvBF,SAAqBw9B,GACnB,OAAOA,I,oBAST,SAAcR,GACZ,IAAMnyC,EAAOnC,KAAK+0C,cAAcT,GAIhC,OAFY,IAAIt0C,KAAKmC,GAEV+X,QAAQ/X,GAAMsyC,UAAS,O,EA1RjBT,CDIfgB,WACJ,aAME,OANY,yBAyBM,GAzBN,uBA4BA,IA5BA,uBA+BA,IAAItiC,KA9BhB1S,KAAK6zC,GAAQC,YAAShzC,EAKf,IAAIm0C,MAAMj1C,KAAM,CACrBkZ,IADqB,SACjBzU,EAAQ4D,EAAMjB,GAEhB,GAAI3C,EAAOywC,YAAYvN,SAASt/B,IAAS5D,EAAOovC,GAAQE,SAAU,CAEhE,IAAMlwB,EAAM0wB,QAAQr7B,IAAR,MAAAq7B,QAAeG,WAK3B,OAFAjwC,EAAO0wC,SAAS9sC,EAAMjB,GAEfyc,EAIT,OAAO0wB,QAAQr7B,IAAR,MAAAq7B,QAAeG,c,6CAiB5B,WAAiC,IAAfU,IAAe,yDAE/B,OADAp1C,KAAK6zC,GAAQE,SAAWqB,EACjBp1C,O,uBAQT,SAAUgZ,GACR,IAAMvZ,EAAKgJ,SAEX,OADAzI,KAAKq1C,YAAYn8B,IAAIzZ,EAAIuZ,GAClBvZ,I,yBAQT,SAAYA,GACV,OAAOO,KAAKq1C,YAAL,OAAwB51C,K,sBASjC,SAAS4I,EAAMjB,GAAO,WACpB,GAAKpH,KAAK6zC,GAAQE,SAElB,IAAI,Q,65BAAA,CACe/zC,KAAKq1C,YAAY//B,UADhC,yBACSggC,EADT,QAEA7xB,YAAW,kBAAM6xB,EAAG9sC,KAAK,EAAM,EAAMH,EAAMjB,KAAQ,IADrD,IAAK,EAAL,qBAA4C,IAD1C,+BAIF,MAAOob,GACPrM,QAAQqM,MAAMA,M,qBAOlB,WACExiB,KAAKq1C,YAAYE,Y,EArFfP,IEVAQ,GAAAA,GAAAA,EACJ,WAAYC,GAAQ,4CAIT,SAAAtzC,GAAI,OAAI,EAAKszC,OAAOC,SAASvzC,MAHtCnC,KAAKy1C,OAASA,KAMlB,Y,2lBCLMzB,GAAAA,SAAAA,G,6aACJ,aAAc,kBACZ,MAAiCU,UAAU,GAAnCe,EAAR,EAAQA,OAAWE,EAAnB,WADY,OAEZ,oBAAWA,KAENF,OAAS,IAAID,GAAOC,MAAAA,EAAAA,EAAU,IAJvB,E,oCAOd,WACE,OAAOz1C,KAAKy1C,OAAOC,SAAS11C,KAAKsX,iB,EAT/B08B,CAAc4B,IAapB,YCdA,MCKA,GANU,WAMV,GALU,WAKV,GAJU,WAIV,GAHO,Q,glDCiPP,MCnPA,GDGMC,WAOJ,WAAYC,EAAUh7B,EAAOi7B,GAAQ,4BAkB9B,IAAIrjC,KAZT1S,KAAK+1C,OAASA,MAAAA,EAAAA,EAAU,GAGxB/1C,KAAK81C,SAAWA,EAGhB91C,KAAK8a,MAAQA,E,uCAmBf,SAAY9J,GACV,OAAOhR,KAAKmC,KAAKgX,IAAInI,K,qBAQvB,SAAQA,GACN,OAAOhR,KAAKmC,KAAKiG,IAAI4I,K,sBAMvB,WACE,OAAOqwB,QAAQrhC,KAAKmC,KAAKugB,Q,qBAS3B,YAA2B,WAAjB1R,EAAiB,EAAjBA,KAAM7Q,EAAW,EAAXA,QACRgD,EAAM,IAAInD,KAAK8a,MAarB,OAXA3X,EAAI+W,QAAJ,IAAclJ,KAAAA,GAAS7Q,IAEvBH,KAAKmC,KAAK+W,IAAIlI,EAAM7N,GAGpBA,EAAI6yC,WAAU,WACZ,EAAKt+B,KAAKu+B,OAGZj2C,KAAK0X,KAAKu+B,IAEHj2C,O,wBAQT,YAA8B,MAAjBgR,EAAiB,EAAjBA,KAAM7Q,EAAW,EAAXA,QAKjB,OAJA,UAAAH,KAAKk2C,QAAQllC,UAAb,SAAoBkJ,QAAQ/Z,GAE5BH,KAAK0X,KAAKu+B,IAEHj2C,O,wBAST,WAA+Bm2C,GAAa,IAA/BC,EAA+B,EAA/BA,SAAUplC,EAAqB,EAArBA,KACfqlC,EAAUr2C,KAAKk2C,QAAQE,GAQ7B,OAPIC,IACFA,EAAQC,QAAQtlC,GAChBhR,KAAKmC,KAAL,OAAiBi0C,GACjBp2C,KAAKmC,KAAK+W,IAAIlI,EAAMqlC,IACnBF,GAAen2C,KAAK0X,KAAKu+B,KAGrBj2C,O,wBAQT,SAAWgR,GAAM,MACf,UAAAhR,KAAKk2C,QAAQllC,UAAb,SAAoB2G,UAEpB,IAAMkM,EAAM7jB,KAAKmC,KAAL,OAAiB6O,GAI7B,OAFAhR,KAAK0X,KAAKu+B,IAEHpyB,I,qBAQT,SAAQywB,GAAM,WAKZ,OAJArtC,OAAO0L,QAAQ2hC,MAAAA,EAAAA,EAAQ,IAAIxsC,SAAQ,YAAqB,gBAAnBkJ,EAAmB,KAAb7Q,EAAa,KACtD,EAAKo2C,QAAQ,CAAEvlC,KAAAA,EAAM7Q,QAAAA,OAGhBH,O,uBAaT,WACE,IADU,EACJw2C,EAAS,GADL,KAGQx2C,KAAKmC,KAAK8I,QAHlB,IAGV,IAAK,EAAL,qBAAoC,KAAzBlD,EAAyB,QAC5B5E,EAAMnD,KAAKk2C,QAAQnuC,GAEzByuC,EAAOrzC,EAAIqwB,WAAarwB,EAAImU,aANpB,8BASV,OAAOk/B,I,2BAOT,WACE,IADc,EACRA,EAAS,GADD,KAGIx2C,KAAKmC,KAAK8I,QAHd,IAGd,IAAK,EAAL,qBAAoC,KAAzBlD,EAAyB,QAC5B5E,EAAMnD,KAAKk2C,QAAQnuC,GAEzByuC,EAAOrzC,EAAIqwB,WAAarwB,EAAI8V,iBANhB,8BASd,OAAOu9B,I,kBA4BT,SAAK1/B,GACH,IAAkB9F,EAAShR,KAAnB81C,SACF1uC,EAAQpH,KAAKsX,YAGbg+B,EAAKt1C,KAAK+1C,OAAOj/B,GAEL,mBAAPw+B,GACTA,EAAG9sC,KAAKxI,KAAM8W,EAAO9F,EAAM5J,GAI7B,IAAMqvC,EAAQz2C,KAAK+1C,OAAOE,IAEL,mBAAVQ,GACTA,EAAMjuC,KAAKxI,KAAM8W,EAAO9F,EAAM5J,K,mBAQlC,WAEE,OADApH,KAAKmC,KAAKozC,QACHv1C,O,qBAMT,WACE2W,MAAMC,KAAK5W,KAAKmC,KAAKmT,UAAUqC,UAC/B3X,KAAKmC,KAAKozC,W,4BArDZ,SAAqBjB,EAAMx5B,GACzB,IAAM07B,EAAS,GAKf,OAHAvvC,OAAO0L,QAAQ2hC,MAAAA,EAAAA,EAAQ,IAAIxsC,SAAQ,YAAoB,gBAAlBC,EAAkB,KAAb5H,EAAa,KACrDq2C,EAAOzuC,GAAO+S,EAAMi6B,cAAN,OAAuBhtC,EAAvB,MAAkC5H,QAE3Cq2C,M,EA7LLX,GEDN,GAJYvvC,EAAQ,KAEDowC,OAAO,I,ykBCCpBC,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQlB,OAAAA,IAAWf,UAAU,MAQxBttC,MAAQ,GACb,EAAK6J,YAAc,GAGnB,EAAKikC,YAAcjuC,OAAOqO,OAAOqhC,EAAQC,iBAd7B,E,oCA2Bd,WACE,OAAO52C,KAAKoH,Q,sBAQd,SAASA,GAEP,OADApH,KAAKoH,MAAQA,EACNpH,O,4BAOT,WACE,OAAOA,KAAKiR,c,4BAQd,SAAe7J,GAEb,OADApH,KAAKiR,YAAc7J,EACZpH,O,uBAaT,WACE,MAAO,CACLgR,KAAMhR,KAAKwzB,UACXpsB,MAAOpH,KAAK62C,WACZ5lC,YAAajR,KAAK82C,oB,2BAStB,WACE,MAA+B92C,KAAKsX,YAEpC,MAAO,CACLy/B,MAHF,EAAQ3vC,MAIN8rB,YAJF,EAAejiB,gB,4BAmBjB,SAAqBqjC,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGpC,MAAO,CAAEtjC,KAAAA,EAAM5J,MAFoCjH,EAA3C42C,MAEc9lC,YAF6B9Q,EAA7B+yB,iB,EA1GpByjB,CAAgB3C,I,IAAhB2C,GAAAA,kBA+GqB,CACvBlqC,KAAM,OACNiF,MAAO,QACPmf,YAAa,gBAIjB,YCrHA,GAJYvqB,EAAQ,KAEDowC,OAAO,I,ykBCCpBM,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQvB,OAAAA,IAAWf,UAAU,MAQxBttC,MAAQ,GACb,EAAK6J,YAAc,GAGnB,EAAKikC,YAAcjuC,OAAOqO,OAAO0hC,EAAOJ,iBAd5B,E,oCA2Bd,WACE,OAAO52C,KAAKoH,Q,sBAQd,SAASA,GAEP,OADApH,KAAKoH,MAAQA,EACNpH,O,4BAOT,WACE,OAAOA,KAAKiR,c,4BAQd,SAAe7J,GAEb,OADApH,KAAKiR,YAAc7J,EACZpH,O,uBAaT,WACE,MAAO,CACLgR,KAAMhR,KAAKwzB,UACXpsB,MAAOpH,KAAK62C,WACZ5lC,YAAajR,KAAK82C,oB,2BAStB,WACE,MAA+B92C,KAAKsX,YAEpC,MAAO,CACLy/B,MAHF,EAAQ3vC,MAIN8rB,YAJF,EAAejiB,gB,4BAmBjB,SAAqBqjC,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGpC,MAAO,CAAEtjC,KAAAA,EAAM5J,MAFoCjH,EAA3C42C,MAEc9lC,YAF6B9Q,EAA7B+yB,iB,EA1GpB8jB,CAAehD,I,IAAfgD,GAAAA,kBA+GqB,CACvBvqC,KAAM,OACNiF,MAAO,QACPmf,YAAa,gBAIjB,YCrHA,GAJYvqB,EAAQ,KAEDowC,OAAO,I,ykBCEpBO,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQxB,OAAAA,IAAWf,UAAU,MAQxBttC,MAAQ,GACb,EAAK8J,KAAO+lC,EAAUC,SAAShmC,KAC/B,EAAKD,YAAc,GAGnB,EAAKikC,YAAcjuC,OAAOqO,OAAO2hC,EAAUL,iBAf/B,E,oCA4Bd,WACE,OAAO52C,KAAKoH,Q,sBAQd,SAASA,GAEP,OADApH,KAAKoH,MAAQA,EACNpH,O,qBAOT,WACE,OAAOA,KAAKkR,O,qBAQd,SAAQ9J,GAEN,OADApH,KAAKkR,KAAO9J,EACLpH,O,4BAOT,WACE,OAAOA,KAAKiR,c,4BAQd,SAAe7J,GAEb,OADApH,KAAKiR,YAAc7J,EACZpH,O,uBAaT,WACE,MAAO,CACLgR,KAAMhR,KAAKwzB,UACXpsB,MAAOpH,KAAK62C,WACZ3lC,KAAMlR,KAAKm3C,UACXlmC,YAAajR,KAAK82C,oB,2BAStB,WACE,MAAqC92C,KAAKsX,YAAlClQ,EAAR,EAAQA,MAAO6J,EAAf,EAAeA,YAEf,MAAO,CACL8lC,MAAO3vC,EACPgwC,KAJF,EAA4BlmC,KAK1BgiB,YAAajiB,M,4BAejB,SAAqBqjC,GAAM,MACnBtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAC9BpjC,EAAI,UAAG/Q,EAAQi3C,YAAX,QAAmBH,EAAUC,SAAShmC,KAGhD,MAAO,CAAEF,KAAAA,EAAM5J,MAFoCjH,EAA3C42C,MAEc7lC,KAAAA,EAAMD,YAFuB9Q,EAA7B+yB,iB,EAhIpB+jB,CAAkBjD,I,IAAlBiD,GAAAA,kBAwIqB,CACvBxqC,KAAM,OACNiF,MAAO,QACPmf,YAAa,cACbwmB,KAAM,S,IA5IJJ,GAAAA,WAkJc,CAChB/lC,KAAM5E,KAIV,YCvJA,GAJYhG,EAAQ,KAEDowC,OAAO,ICE1B,GAJYpwC,EAAQ,KAEDowC,OAAO,I,qkBC+I1B,MC/IA,GDCMY,SAAAA,G,6aACJ,aAAc,yBAEZ,kBAAQ7B,OAAAA,IAAWf,UAAU,KAFjB,qBAWJ,IAXI,sBAYH,MAZG,wBAaD,IAbC,yBAeA,CAAC,OAAQ,UAAW,WAAY,eAfhC,E,sCA2Bd,WACE,OAAO10C,KAAKgb,U,wBAQd,SAAW5T,GAET,OADApH,KAAKgb,QAAU5T,EACRpH,O,yBAOT,WACE,OAAOA,KAAKgZ,W,yBAQd,SAAY5R,GAEV,OADApH,KAAKgZ,SAAW5R,EACTpH,O,2BAOT,WACE,OAAOA,KAAKu3C,a,2BAQd,SAAcnwC,GAEZ,OADApH,KAAKu3C,WAAanwC,EACXpH,O,0BAQT,SAAagR,EAAM5J,GACjBpH,KAAKu3C,WAAWvmC,GAAQ5J,EACxBpH,KAAKm1C,SAAS,aAAcn1C,KAAKw3C,mB,uBAanC,WACE,MAAO,CACLxmC,KAAMhR,KAAKwzB,UACXxY,QAAShb,KAAKy3C,aACdz+B,SAAUhZ,KAAK03C,cACfH,WAAYv3C,KAAKw3C,mB,2BAUrB,WACE,MAA0Cx3C,KAAKsX,YAAvC0D,EAAR,EAAQA,QAAShC,EAAjB,EAAiBA,SAEjB,OAAO,IACL2+B,QAAS38B,EACTi8B,UAJF,EAA2BM,YAKrBv+B,EAAW,CAAE0D,SAAU1D,GAAa,O,4BAU5C,SAAqBs7B,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAOpC,MAAO,CAAEtjC,KAAAA,EAAMgK,QAFX7a,EAHFw3C,QAKsB3+B,SAFpB7Y,EAFFuc,SAIgC66B,WAF9Bp3C,EADF82C,e,EAvIAK,CAAiBtD,I,qkBEsQvB,SAnQM4D,SAAAA,G,6aACJ,aAAc,yBAEZ,kBAAQnC,OAAAA,IAAWf,UAAU,KAFjB,oBAWL,CACPmD,MAAO,SAAC/gC,EAAO9F,EAAM5J,GAAd,OAAwB,EAAK0wC,YAAYhhC,EAAO9F,EAAM5J,MAZjD,gBAqBT+U,MArBS,yBAsBA,IAtBA,sBAuBH,IAvBG,wBAwBD,IAxBC,qBAyBJ,IAzBI,oBA0BL,IAAI05B,GAAQ,SAAUyB,GAAU,EAAKvB,SA1BhC,qBA2BJ,IAAIF,GAAQ,UAAWyB,GAAU,EAAKvB,SA3BlC,yBA6BA,CAAC,OAAQ,cAAe,WAAY,aAAc,YA7BlD,E,iCAyCd,WACE,OAAO/1C,KAAKP,K,4BAOd,WACE,OAAOO,KAAKiR,c,4BAQd,SAAe7J,GAEb,OADApH,KAAKiR,YAAc7J,EACZpH,O,yBAOT,WACE,OAAOA,KAAK+3C,W,yBAQd,SAAY3wC,GAEV,OADApH,KAAK+3C,SAAW3wC,EACTpH,O,wBAOT,WACE,OAAOA,KAAKg4C,a,wBAQd,SAAW5wC,GAET,OADApH,KAAKg4C,WAAa5wC,EACXpH,O,wBAOT,WACE,OAAOA,KAAKgb,U,wBAQd,SAAW5T,GAET,OADApH,KAAKgb,QAAU5T,EACRpH,O,uBAOT,WACE,OAAOA,KAAKi4C,S,wBAOd,WACE,OAAOj4C,KAAKk4C,U,qBAQd,SAAQ5D,GACN,IACEtjC,EAQEsjC,EARFtjC,KACAojC,EAOEE,EAPFF,QACAnjC,EAMEqjC,EANFrjC,YACA8mC,EAKEzD,EALFyD,SACAC,EAIE1D,EAJF0D,WACAh9B,EAGEs5B,EAHFt5B,QACAi9B,EAEE3D,EAFF2D,OACAC,EACE5D,EADF4D,QAeF,OAZA,gDAAc,CACZlnC,KAAAA,EACAojC,QAAAA,EACAnjC,YAAAA,EACA8mC,SAAAA,EACAC,WAAAA,EACAh9B,QAAAA,IAGFhb,KAAKi4C,OAAO/9B,QAAQ+9B,GACpBj4C,KAAKk4C,QAAQh+B,QAAQg+B,GAEdl4C,O,yBAgBT,SAAY0b,EAAGrT,EAAMjB,GAEnBpH,KAAKm1C,SAAS9sC,EAAMjB,K,uBAatB,WACE,MAAO,CACL3H,GAAIO,KAAK20C,QACT3jC,KAAMhR,KAAKwzB,UACXviB,YAAajR,KAAK82C,iBAClBiB,SAAU/3C,KAAKm4C,cACfH,WAAYh4C,KAAKo4C,aACjBp9B,QAAShb,KAAKy3C,aACdQ,OAAQj4C,KAAKq4C,YAAY/gC,YACzB4gC,QAASl4C,KAAKs4C,aAAahhC,e,2BAU/B,WACE,MAAuDtX,KAAKsX,YAApDrG,EAAR,EAAQA,YAAa8mC,EAArB,EAAqBA,SAAU/8B,EAA/B,EAA+BA,QAE/B,MAAO,CACLu9B,KAAMtnC,EACNunC,SAAUT,EACVU,QALF,EAAwCT,WAMtCL,QAAS38B,EACT09B,GAAI14C,KAAKi4C,OAAOh/B,gBAChB0/B,IAAK34C,KAAKk4C,QAAQj/B,oB,4BAUtB,SAAqBq7B,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAG9B70C,EAOFU,EAPFy4C,GACM3nC,EAMJ9Q,EANFo4C,KACUR,EAKR53C,EALFq4C,SACSx9B,EAIP7a,EAJFw3C,QACSK,EAGP73C,EAHFs4C,QACIR,EAEF93C,EAFFu4C,GACKR,EACH/3C,EADFw4C,IAGF,MAAO,CACLl5C,GAAAA,EACAuR,KAAAA,EACAC,YAAAA,EACA8mC,SAAAA,EACA/8B,QAAAA,EACAg9B,WAAAA,EACAC,OAAQpC,GAAAA,cAAsBoC,EAAQX,IACtCY,QAASrC,GAAAA,cAAsBqC,EAASZ,S,EA9PxCM,CAAa5D,ICFnB,GAJY1tC,EAAQ,KAEDowC,OAAO,I,ykBCCL55B,GAAAA,SAAAA,G,6aACnB,aAAc,0BAEZ,kBAAQ24B,OAAAA,IAAWf,UAAU,MAQxBmE,KAAO,GACZ,EAAKtoB,UAAY,OAGjB,EAAK2kB,YAAcjuC,OAAOqO,OAAOwH,EAAc85B,iBAdnC,E,mCA2Bd,WACE,OAAO52C,KAAK64C,O,qBAQd,SAAQA,GAEN,OADA74C,KAAK64C,KAAOA,EACL74C,O,0BAOT,WACE,OAAOA,KAAKuwB,Y,0BAQd,SAAaA,GAEX,OADAvwB,KAAKuwB,UAAYA,GAAavwB,KAAKuwB,UAC5BvwB,O,sBAOT,WACE,OAAO8c,EAAcg8B,Q,8BAOvB,WACE,OAAOh8B,EAAc+yB,Y,uBAavB,WACE,OAAO,SAAP,wDAEEgJ,KAAM74C,KAAK+4C,UACXxoB,UAAWvwB,KAAKg5C,mB,2BAgBpB,WACE,MAA2Ch5C,KAAKsX,YAEhD,MAAO,CACL6b,MAHF,EAAQniB,KAINioC,KAJF,EAAcJ,KAKZzB,KALF,EAAoB7mB,UAMlBuC,WANF,EAA+BshB,Y,4BAgBjC,SAAqBE,GAEnB,IAAM/jB,EAAY+jB,EAAK8C,MAAQt6B,EAAco6B,SAAS3mB,UAWtD,MAAO,CACL9wB,GAHE60C,EANFnhB,MAUAniB,KAJEsjC,EALFnhB,MAUA0lB,KALEvE,EAJF2E,KAUA1oB,UAAAA,EACA6jB,QAPEE,EAHFxhB,WAWAna,UARE27B,EAFF37B,UAWAyyB,QATEkJ,EADFlJ,a,EArIetuB,CAAsBk3B,I,+GAAtBl3B,GAAAA,QAmJJ,iB,IAnJIA,GAAAA,YAqJA,S,IArJAA,GAAAA,kBAuJM,CACvBrQ,KAAM,OACNysC,KAAM,OACNC,QAAS,UACTtJ,UAAW,c,IA3JM/yB,GAAAA,sBA8JU,CA9JVA,GA8JgB85B,gBAAgBsC,OAIrDp8B,GAAco6B,SAAW,CACvB3mB,UAAW,QCtKb,IAAMsjB,GACKprC,OAML2wC,GAAAA,WACJ,WAAYtjC,GAAS,YACnB9V,KAAKq5C,YAAYvjC,G,iCAGnB,WACE,OAAO9V,KAAK6zC,M,uBAGd,SAAU7iC,GACR,OAAOhR,KAAK8V,QAAQ1N,IAAI4I,K,yBAG1B,WAA0B,WAAd8E,EAAc,uDAAJ,GACpB9V,KAAK6zC,IAAmB,IAAInhC,IAE5BoD,EAAQhO,SAAQ,SAAAmN,GACd,IAAMP,EAAW,IAAIO,EAAO,GAE5B,EAAK4+B,IAAiB36B,IAAIxE,EAAS8e,UAAW9e,Q,qBAIlD,WAAU,Q,65BAAA,CACQ1U,KAAK8V,QAAQR,UADrB,IACR,IAAK,EAAL,qBAAuC,QACnCqC,UAFI,mC,EAvBNyhC,GA8BN,YCrBA,GAbME,W,oFAGJ,WACE,IAAKt5C,KAAKgR,KAAM,MAAM,IAAI7L,MAAM,+BAChC,OAAOnF,KAAKgR,O,qBAGd,WACE,MAAM,IAAI7L,MAAJ,qD,EATJm0C,GCkBN,GAnBMC,WACJ,cAA6C,IAA/BC,EAA+B,EAA/BA,QAA+B,EAAtBC,QAAsB,EAAbC,UAAa,YAC3C15C,KAAKw5C,QAAUA,E,qCAGjB,SAAUnhC,EAAUF,GAClBwhC,EAAAA,SAAAA,UAAmB35C,KAAKw5C,QAASnhC,EAAUF,K,yBAG7C,WACEwhC,EAAAA,SAAAA,YAAqB35C,KAAKw5C,W,qBAG5B,WACEx5C,KAAK45C,cACLD,EAAAA,SAAAA,Y,EAfEJ,G,ICGAM,GAAAA,SAAAA,G,6aACJ,WAAY/E,GAAM,kBAChB,IACEn8B,EASEm8B,EATFn8B,UACAmC,EAQEg6B,EARFh6B,MACA7F,EAOE6/B,EAPF7/B,OACAjE,EAME8jC,EANF9jC,KACAsB,EAKEwiC,EALFxiC,MACAknC,EAIE1E,EAJF0E,QACAthC,EAGE48B,EAHF58B,SACAU,EAEEk8B,EAFFl8B,WACA9C,EACEg/B,EADFh/B,QAVc,OAahB,cAAMA,GAbU,kBA8BX,IAAIpD,KAfT,EAAKonC,WAAanhC,GAAaxM,EAC/B,EAAKqJ,QAAUP,EACf,EAAK8kC,OAASj/B,EACd,EAAKk/B,OAASl/B,EAAMg+B,MACpB,EAAK5vB,MAAQlY,GAAQ,QACrB,EAAKipC,OAAS3nC,GAAS,gBACvB,EAAKknC,QAAUA,GAAW,CAAEU,MAAO,EAAK3iC,MAAO4iC,KAAM,IAAKhnB,MAAO,KACjE,EAAKjb,SAAWA,EAChB,EAAKU,WAAaA,EAClB,EAAKwhC,cAAgB,GAErB,EAAKC,mBA1BW,E,mCAgClB,WACE,OAAOr6C,KAAK85C,a,gBAGd,WACE,OAAO95C,KAAKkpB,Q,kBAGd,WACE,OAAOlpB,KAAKwV,U,iBAGd,WACE,OAAOxV,KAAK+5C,S,iBAGd,WACE,OAAO/5C,KAAKg6C,S,iBAGd,WACE,OAAOh6C,KAAKi6C,S,qBAQd,SAAQjpC,GAAM,WACZ,OAAOhR,KAAKs6C,SAAStpC,GAClB1J,MAAK,SAAAizC,GAEJ,IAAMp3C,EAAM,EAAKq3C,OAAOxpC,IAAS,EAAKqK,OAAOrK,GAAMypC,UAAS,GAEtDt4C,EAAOgB,EAAIu3C,YAAY3F,cAAcwF,GAC3C,OAAOp3C,EACJ+wC,mBAAkB,GAClBh6B,QAAQ/X,GACRw4C,aAAY,GACZlG,UAAS,GACTP,mBAAkB,MAXlB,OAaE,SAAA1xB,GACL,GAAqB,MAAjBA,EAAM4uB,OACR,OAAO,EAAK/1B,OAAOrK,Q,sBAU3B,SAASA,GACP,IAAQuG,EAAUvX,KAAVuX,MACR,OAAO,IAAI4C,EAAAA,SAASA,EAAAA,SAAAA,UAAmBnJ,EAAMuG,IAAQ8B,S,oBAQvD,SAAOrI,GACL,OAAOhR,KAAKmC,KAAKiG,IAAI4I,K,oBASvB,SAAOA,EAAM5J,GACX,OAAOpH,KAAKmC,KAAK+W,IAAIlI,EAAM5J,K,oBAQ7B,SAAO4J,GACL,OAAOhR,KAAKmC,KAAL,OAAiB6O,K,gCAQ1B,SAAmBA,GAAM,MAEvB,OADA,UAAAhR,KAAKw6C,OAAOxpC,UAAZ,SAAmB2G,UACZ3X,KAAK46C,OAAO5pC,K,0BAQrB,WAAuB,IAAV6pC,EAAU,uDAAH,EACZ7pC,EAAO,YAAH,OAAe6pC,GACzB,OAAO76C,KAAKmC,KAAKgX,IAAInI,GAAQhR,KAAK86C,aAAaD,EAAO,GAAK7pC,I,uBAQ7D,SAAUqG,EAAKqD,GAEb1a,KAAK46C,OAAOvjC,EAAImc,WAEhBxzB,KAAK+6C,OAAOrgC,EAASrD,GAGrBA,EAAIi/B,QAAQ57B,GAEZrD,EAAI2jC,MAAMtgC,K,0BAaZ,WAAe,WACPmM,EAAU7mB,KAAKuX,MAEf0jC,EAAkB,CACtBlR,IAAK,SAAAmR,GACH,EAAKC,mBAAmBD,EAAUlqC,OAEpCkI,IAAK,SAAAgiC,GACE,EAAKV,OAAOU,EAAUlqC,OACzB,EAAKqK,OAAO6/B,EAAUlqC,QAK5B,OAAO,SAAA7O,GACL,GAAIA,EAAK2U,SAASmkC,EAAiB,OAC3Bv0B,EAAUzf,OAAOgE,KAAK9I,EAAK4F,IAAI8e,IAAU,GACzCu0B,EAAan0C,OAAOqO,OAAOnT,EAAK4F,IAAI8e,IAAU,GACpDo0B,EAAgB94C,EAAK2U,OAAO,CAAE9F,KAAM0V,EAASvmB,QAASi7C,IAEf,mBAAnC,UAAO,EAAKljC,gBAAZ,aAAO,EAAeG,WACxB,EAAKH,SAASG,SACZ,EAAKrH,KACL,CACErM,SAAU,EAAKxC,KAAKiG,IAAIse,GACxBmiB,aAAcniB,EACdoiB,aAAcjiB,GAEhB1kB,EAAK2U,W,sBAYf,SAAS3U,GAAM,aACP0kB,EAAU7mB,KAAKuX,MAErBtQ,OAAOqO,OAAOnT,EAAKiF,MAAMyf,IAAU/e,SAAQ,SAAAuP,GACzC,IAAMrG,EAAOqG,EAAI8b,MAGXkoB,EAAc,EAAKjB,cAAczS,SAAStwB,EAAI8b,OAG/C,EAAKqnB,OAAOxpC,IAAUqqC,GACV,EAAKhgC,OAAOrK,GAExBkjC,mBAAkB,GAClBuG,UAAS,GACTE,aAAY,GACZlG,UAAS,GACTP,mBAAkB,MAKY,mBAAjC,UAAOl0C,KAAKkY,gBAAZ,aAAO,EAAeC,SACxBnY,KAAKkY,SAASC,OAAOnY,KAAKgR,Q,8BAS9B,SAAiB0D,EAAU4mC,EAAO13B,GACa,mBAAlC5jB,KAAKkY,SAASM,iBACvBxY,KAAKkY,SAASM,gBAAgBxY,KAAKgR,KAAM0D,EAAUA,EAAS6mC,c,8BAOhE,WAAmB,WACjBv7C,KAAKw7C,WAAa,IAAIjC,GAAW,CAC/BC,QAASx5C,KAAKw5C,UAEhBx5C,KAAKw7C,WAAWxF,UAAUh2C,KAAKy7C,gBAAgB,SAAAt5C,GAAI,OAAI,EAAKunC,SAASvnC,Q,qBAGvE,WACE,iDACInC,KAAKw7C,YAAYx7C,KAAKw7C,WAAW7jC,c,EAlQnCkiC,CAAkBT,I,ICFlBtgC,GAAAA,SAAAA,G,0gBAKJ,WACE,OAAOnC,MAAMC,KAAK5W,KAAKmC,KAAKmT,Y,qBAQ9B,SAAQtE,GACN,IAAMqG,EAAMrX,KAAKw6C,OAAOxpC,GACxB,OAAOqG,MAAAA,GAAAA,EAAKg9B,SAAW16B,QAAQ0vB,QAAQhyB,GAAOrX,KAAKyZ,QAAQzI,K,oBAQ7D,SAAO0V,GAAS,WACR1V,EAAO0V,GAAW1mB,KAAK86C,eAGvBzjC,EAAM,IAAIrX,KAAK8a,MAAM,CAAE9J,KAAAA,IAW7B,OAVAqG,EAAIojC,UAAS,GACbpjC,EAAIsjC,aAAY,GAGhBtjC,EAAI2+B,WAAU,SAACthC,EAAUrM,EAAMjB,GAAjB,OACZ,EAAKs0C,iBAAiBhnC,EAAUrM,EAAMjB,MAIxCpH,KAAK+6C,OAAO/pC,EAAMqG,GACXA,I,uBAQT,SAAUrG,GAAM,WACRspB,EAASt6B,KAAKmC,KAAKiG,IAAI4I,GAAMuiB,SACnC,OAAO,IAAIpZ,EAAAA,SAAAA,OAAgB,CACzBnJ,KAAAA,EACAE,KAAMlR,KAAKuX,MACX6H,KAAM,KAEL9X,MAAK,SAAAoU,GAEJ,OAAO,EAAKy/B,mBAAmBnqC,MAEhC1J,MAAK,SAAAuc,GAEJ,OADA,EAAK3L,SAASO,kBAAkB,EAAKzH,KAAM,CAAEA,KAAAA,EAAM9P,IAAKo5B,IACjDzW,O,qBAUb,SAAQ7S,EAAM0J,GAAS,WACbnD,EAAUvX,KAAVuX,MAGFF,EAAMrX,KAAKw6C,OAAOxpC,GAGpB0J,GAAS1a,KAAK27C,UAAUtkC,EAAKqD,GAGjC,IAAMvY,EAAOkV,EAAI4B,gBAmBjB,MAf0B,CACxBiF,KAAM,SAAA09B,GACJ,IAAMC,EAAU,CACd3qC,KAAMqG,EACNvG,KAAM4qC,EAAMzoB,MACZ/T,KAAMw8B,GAER,OAAOzhC,EAAAA,SAAAA,OAAgB0hC,IAEzB19B,MAAO,SAAAy9B,GAEL,OADiB,IAAIzhC,EAAAA,SAASA,EAAAA,SAAAA,UAAmBnJ,EAAMuG,IACvCukC,UAAUF,KAILvkC,EAAII,YAAYtV,GAAMmF,MAAK,SAAAuc,GAMlD,OALIA,EAAIjJ,UACNvD,EAAIojC,UAAS,GAAOhG,UAAS,GAC7B,EAAKv8B,SAASM,gBAAgB,EAAKxH,KAAMqG,EAAKA,EAAIkkC,YAClD13B,EAAI/I,MAAQzD,GAEPwM,O,sCAUX,WAAc7S,EAAM0J,GAApB,qGACS1a,KAAK0Z,QAAQ1I,GAAM1J,MAAK,SAAA+P,GAC7B,IAAMvT,EAAS,EAAKgX,MACjBihC,OAAO1kC,EAAI4B,iBACXwhC,UAAS,GACTnE,QAAQ57B,GAWX,OATA,EAAKqgC,OAAOrgC,EAAS5W,GACrB,EAAK+W,QAAQH,GAGb5W,EAAOkyC,WAAU,SAACthC,EAAUrM,EAAMjB,GAAjB,OACf,EAAKs0C,iBAAiBhnC,EAAUrM,EAAMjB,MAIjCtD,MAhBX,gD,4EAyBA,SAAekN,GACb,OAAOhR,KAAKmC,KAAKgX,IAAInI,K,+BAQvB,SAAkBA,GAChB,IAAMqG,EAAMrX,KAAKw6C,OAAOxpC,GAUxB,OAJAqG,EAAII,WACAzX,KAAKm7C,mBAAmBnqC,GACxBqwB,QAAQhqB,MAAAA,OAAD,EAACA,EAAKsjC,aAAY,GAAOlG,UAAS,IAEtCz0C,KAAKkY,SAASM,gBAAgBxY,KAAKgR,KAAMqG,EAAKA,EAAIkkC,c,wBAO3D,WACE,OAAO5kC,MAAMC,KAAK5W,KAAKmC,KAAKmT,UAAUmkB,QAAO,SAAAt2B,GAAG,OAAIA,EAAIo4C,gB,wBAO1D,WACE,OAAOv7C,KAAKoX,aAAa9W,OAAS,I,yBAOpC,WAAc,WACN07C,EAAWh8C,KAAKoX,aAAanX,KAAI,SAAAkD,GACrC,OAAO,EAAK0X,QAAQ1X,EAAIqwB,cAG1B,OAAO7Z,QAAQu3B,WAAW8K,O,EA5LxBljC,CDwQN,ICxEA,YCnMM,GAA+BxS,QAAQ,kB,uJCI7C,IAAMutC,GAAU,CACdC,MAAOrrC,SACP4sC,YAAa5sC,U,GAkBZorC,GAAQC,M,GACRD,GAAQwB,Y,IARL4G,GAAAA,SAAAA,G,6aACJ,WAAYC,GAAQ,yBAClB,eADkB,kBAKb,gBALa,cAMF,MANE,cAOI,IAAIxpC,KAL1B,EAAKwpC,OAASA,EAFI,E,+BASpB,WACE,OAAOl8C,KAAKk8C,OAAO3kC,Q,uBAGrB,SAAUmP,GAAS,WACX80B,EAAa,IAAIjC,GAAW,CAChCC,QAASx5C,KAAKm8C,WAAWz1B,KAG3B80B,EAAWxF,WACT,SAAA7zC,GAAI,OAAI,EAAKkW,SAASlW,MACtB,SAAAA,GAAI,OAAI,EAAKgW,OAAOhW,MAItBnC,KAAK6zC,GAAQwB,aAAan8B,IAAIlZ,KAAKo8C,WAAW11B,GAAU80B,K,yBAG1D,SAAY90B,GACV,IAAMjnB,EAAKO,KAAKo8C,WAAW11B,GAE3B1mB,KAAK6zC,GAAQwB,aAAajtC,IAAI3I,GAAIkY,UAClC3X,KAAK6zC,GAAQwB,aAAb,OAAiC51C,K,wBAGnC,SAAWinB,GAET,MAAO,CAAEwzB,MADSl6C,KAAVuX,MACe4iC,KAAMzzB,EAASoM,WAAY,O,wBAQpD,SAAWpM,GACT,MAAO,GAAP,OAAU1mB,KAAKuX,MAAf,YAAwBmP,K,oBAG1B,SAAO1V,GACL,OAAOhR,KAAKk8C,OAAO1B,OAAOxpC,K,oBAG5B,SAAO0K,M,sBAQP,SAASvZ,GAAM,WACbk6C,aAAar8C,KAAK6zC,GAAQC,QAE1B9zC,KAAK6zC,GAAQC,OAASrwB,YACpB,kBAAM,EAAK64B,eAAen6C,EAAKo6C,SAAS,GAAGpC,QAxE3B,O,4BAgFpB,SAAezzB,GAAS,WACtB1mB,KAAKk8C,OACF5B,SAAS5zB,GACTpf,MAAK,SAAAk1C,GAEJ,IAAMnlC,EAAM,EAAKmjC,OAAO9zB,GAGlB+1B,EAAcplC,EAAI4B,gBAGIyjC,GAAiBF,EAArCG,gBAAR,KAA6CH,EAA7C,KAEI,EAAKI,aAAaH,EAAaC,KAOjCrlC,EAAIkkC,WACAlkC,EAAIm9B,aAAY,GAChB,EAAKqI,aAAan2B,EAASg2B,OArBrC,OAwBS,SAAAl6B,GAAK,OAAIrM,QAAQC,IAAIoM,Q,0BAShC,SAAas6B,EAAQC,GACnB,OAAQC,IAAAA,CAASF,EAAQC,K,0BAO3B,SAAar2B,EAASvkB,GAAM,MACpBkV,EAAMrX,KAAKw6C,OAAO9zB,GAGlBu2B,EAAa5lC,EAAIqjC,YAAY3F,cAAc5yC,GAGjDkV,EAAI6C,QAAQ+iC,GAAYxI,UAAS,GAGjC,UAAAz0C,KAAKk8C,OAAOtjC,kBAAZ,SAAwB8iC,iBAAiBrkC,K,qBAM3C,WAAU,Q,65BAAA,CACQrX,KAAK6zC,GAAQwB,aAAa//B,UADlC,IACR,IAAK,EAAL,qBAAoD,QAChDskC,cAFI,8BAIR55C,KAAK6zC,GAAQwB,aAAaE,Y,EAvIxB0G,CAAqB3C,IA2I3B,MC1JA,GD0JA,G,IEzJM4D,GAAAA,SAAAA,G,6aACJ,WAAYvkC,EAAWT,GAAU,+BACzB,CACJS,UAAAA,EACAmC,MAAOk5B,GACPhjC,KAAMgjC,GAAAA,MACN1hC,MAAO,iBACPwD,QAAS,CAACmmC,IACV/jC,SAAAA,I,mCAIJ,SAAQlH,GAGN,OAFAhR,KAAKgW,UAAU,gBAAgBggC,UAAUhlC,GAElC,gDAAcA,O,EAfnBksC,CAA2BpkC,I,IAA3BokC,GAAAA,QAkBWlJ,GAAAA,OAGjB,YCxBM,GAA+B1tC,QAAQ,kCCAvC,GAA+BA,QAAQ,oBCAvC,GAA+BA,QAAQ,2B,eCA7C,MAAM,GAA+BA,QAAQ,sC,eCS7CohB,KAAAA,OAAiB,WACf,OAAO,GAGTA,IAAAA,CAAQiJ,GAAAA,eAAAA,SAAAA,KAAAA,WAAoD,SAAA7Z,GAC1DA,EAAME,oBA8ER,SAtEqB,SAAA8E,GACnB,IAAMC,EAAeF,GAAgBC,GAErC,OAAO,SAACG,EAAOC,GAEb,IAAQzc,EAAOwc,EAAPxc,GAEF09C,GAAW35B,EAAAA,EAAAA,UAMX45B,EAAkB,WAA8B,IAA7B7lC,EAA6B,uDAArB4lC,EAASx1C,QACxC+f,KAAAA,SAAiBnQ,IA2CnB,OARA0H,EAAAA,EAAAA,YAAU,WAGR,OAFAk+B,EAASx1C,QAAUlI,EAEZ,WACLioB,KAAAA,YAAoBy1B,EAASx1C,YAE9B,CAAClI,IAGF,kBAACsc,EAAD,QACME,EADN,CAEEC,IAAKA,EACLmhC,WA/Be,SAACpyC,EAAM+N,GAAuC,IAA7BzB,EAA6B,uDAArB4lC,EAASx1C,QACnD,GAAK4P,EAAL,CACA,IAAM+lC,EAAa9+B,GAAcvT,GACjCmyC,EAAgB7lC,GAChBmQ,IAAAA,CAAQ41B,EAAY/lC,EAAOyB,KA4BzBukC,cArBkB,SAACtyC,GAAmC,IAA7BsM,EAA6B,uDAArB4lC,EAASx1C,QACtC61C,EAAeh/B,GAAcvT,GACnCyc,KAAAA,OAAe81B,EAAcjmC,IAoB3B6lC,gBAAiBA,EACjBK,kBA3CsB,WACxB/1B,KAAAA,SAAiB,aCiBvB,GApDwB,SAAA5L,GACtB,IAAMC,EAAeF,GAAgBC,GAErC,OAAO,SAACG,EAAOC,GACb,IAAQ1T,EAASyT,EAATzT,KACFk1C,GAAqBl6B,EAAAA,EAAAA,UAKrBm6B,GAAiBxzB,EAAAA,EAAAA,cAAY,WACjC3hB,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,mBAED,CAACtE,IAMEo1C,GAAgBzzB,EAAAA,EAAAA,cAAY,WAEhC,IAAM0zB,EAAY3hC,MAAAA,OAAH,EAAGA,EAAKvU,QACvB,GAAKk2C,EAAL,CACA,IAAMC,EAAmBD,EAAUE,gBAC/BF,EAAUE,gBACVJ,EAEJG,IACAJ,EAAmB/1C,QAAUm2C,KAC5B,CAAC5hC,EAAKyhC,IAKHK,GAAkB7zB,EAAAA,EAAAA,cAAY,WAC7BuzB,EAAmB/1C,SAASi2C,IACjCF,EAAmB/1C,YAClB,CAACi2C,IAEJ,OACE,kBAAC7hC,EAAD,QACME,EADN,CAEEC,IAAKA,EACL0hC,cAAeA,EACfI,gBAAiBA,OCrDlB,IAAM1zB,IAAe3K,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAChDxhB,KAAM,CACJqjB,QAAS,OACToI,cAAe,SACfsoB,SAAU,EACVvb,UAAW,OACX2mB,UAAW,QACXj+B,SAAU,YAEZk+B,gBAAiB,CACfj8B,OAAQ,OACRjC,SAAU,WACV6X,UAAW,SACX3X,IAAK,EACLuxB,KAAM,EACNvvB,MAAO,OACP/Y,OAAQ,MAEVg1C,YAAa,CACXn+B,SAAU,WACVyxB,KAAM,MACNvxB,IAAK,MACL8O,UAAW,yBAEbovB,eAAgB,CAAElwB,UAAW,QCE/B,SArBe,SAAAuc,GAEb,IAAM9pB,EAAU2J,KAERnjB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAER,OACE,yBAAKkW,UAAWsD,EAAQ7hB,MACtB,yBAAKW,GAAG,SAAS4d,UAAWsD,EAAQu9B,iBAClC,yBAAK7gC,UAAWsD,EAAQw9B,aACtB,yBAAKlhC,IAAKohC,GAAQlhC,IAAKhW,EAAE,WAAY+a,MAAO,MAC5C,kBAAC,EAAAo8B,eAAD,CACE30C,MAAM,YACN0T,UAAWsD,EAAQy9B,qBCO/B,GAfmB,SAAAtiC,GACjB,IAAMC,EAAeF,GAAgBC,GAErC,OAAO,SAACG,EAAOC,GACb,IAAQqiC,EAAYtiC,EAAZsiC,QACF59B,EAAU2J,KAEhB,OACE,kBAAC,EAAAzJ,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ7hB,MAC5Cy/C,EAAU,kBAAC,GAAD,MAAa,kBAACxiC,EAAD,QAAkBE,EAAlB,CAAyBC,IAAKA,QCX9D,IAAMsiC,GAAc,SAAAviC,GAClB,IAAQnJ,EAAgCmJ,EAAhCnJ,SAAUtK,EAAsByT,EAAtBzT,KAAM+O,EAAgB0E,EAAhB1E,MAAOvG,EAASiL,EAATjL,KAC/B,GAAwB+N,EAAAA,EAAAA,YAAxB,YAAO5c,EAAP,KAAa+X,EAAb,KACA,GAA8B6E,EAAAA,EAAAA,WAAS,GAAvC,YAAOw/B,EAAP,KAAgBp7B,EAAhB,KACMs7B,GAAWj7B,EAAAA,EAAAA,UAMXpI,EAAO,WACX5S,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CAC5DyK,MAAAA,EACAvG,KAAAA,KAkBJ,OAXAiO,EAAAA,EAAAA,YAAU,WACRzW,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CAC5DyK,MAAAA,EACAvG,KAAAA,IACC1J,MAAK,SAAAwT,GACNZ,EAAQY,EAAMxD,aACdmnC,EAAS92C,QAAUmT,EACnBqI,GAAW,QAEZ,CAAC3a,EAAM+O,EAAOvG,IAEV0tC,EAAAA,SAAAA,IAAa5rC,GAAU,SAAAyuB,GAAE,OAC9Bod,EAAAA,EAAAA,cAAapd,EAAI,CAAEp/B,KAAAA,EAAMiZ,KAAAA,EAAM1G,SAAU+pC,EAAUF,QAAAA,QAIjDK,GAAkB,SAAA9iC,GACtB,IAAMC,EAAeF,GAAgBC,GAErC,OAAO,SAACG,EAAOC,GACb,OACE,kBAACsiC,GAAgBviC,EACf,kBAACF,EAAD,QAAkBE,EAAlB,CAAyBC,IAAKA,Q,8aCnCtC,IAAM2iC,GAAoB,SAApBA,EAAqB/iC,EAAWgjC,GACpC,WAAiDA,GAA1CC,EAAP,KAA8BC,EAA9B,WACMC,GAAWjjC,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GAAR,OAC1B6iC,EAAmBjjC,EAAnBijC,CAA8B9iC,EAAOC,MAEvC,OAAI8iC,EAAgB1+C,OACXu+C,EAAkBI,EAAUD,GACzBC,GASP,SAASC,GAAiB32B,GAA8B,IAAd7R,EAAc,uDAAJ,GACnDqF,GAAeC,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GAAR,OAAgBqM,EAAetM,EAAOC,MAKhEijC,GAAkBnjC,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GACzC,IACEzc,EAWEwc,EAXFxc,GACAkW,EAUEsG,EAVFtG,GACAoS,EASE9L,EATF8L,IACAxQ,EAQE0E,EARF1E,MACA8lC,EAOEphC,EAPFohC,WACAE,EAMEthC,EANFshC,cACAniC,EAKEa,EALFb,KACAgiC,EAIEnhC,EAJFmhC,gBACAK,EAGExhC,EAHFwhC,kBACAG,EAEE3hC,EAFF2hC,cACAI,EACE/hC,EADF+hC,gBAGIoB,GAAkB57B,EAAAA,EAAAA,UAKlB67B,GAAiBl1B,EAAAA,EAAAA,cAAY,WACjCizB,IACAY,MACC,CAACZ,EAAiBY,IAKfsB,GAAmBn1B,EAAAA,EAAAA,cACvB,YAAkB,IAAfzV,EAAe,EAAfA,SACIA,GACDA,EAASjV,KAAOke,GAAele,IAAK2/C,EAAgBz3C,QAAQ+b,UAElE,CAACjkB,IAsCH,OAhCAwf,EAAAA,EAAAA,YAAU,WAgBR,OAfA2+B,IACAP,EAAW1sB,GAAAA,eAAAA,SAAAA,KAAAA,UAAoDvV,GAC/DzF,EACE7I,GAAAA,KAAAA,KACAA,GAAAA,KAAAA,GAAAA,kBACAwyC,GAGF3pC,EACE7I,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,GAAAA,iBACAwyC,GAIK,WACL/B,EAAc5sB,GAAAA,eAAAA,SAAAA,KAAAA,WACd5I,EAAIjb,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,GAAAA,mBACvBib,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,qBAE/B,CACDrN,EACA49C,EACAE,EACAK,EACAjoC,EACAoS,EACA3M,EACAkkC,IAIA,yBACEjR,SAAS,KACTnyB,IAAKkjC,EACLG,QAASF,EACTG,OAAQ/B,EACRpgC,UAAS,oBAAe9F,IAExB,kBAACwE,EAAD,QACME,EADN,CAEEojC,eAAgBA,EAChB/e,aAAcllB,EACdqiC,kBAAmBA,EACnBvhC,IAAKA,SAOPujC,EAA2BZ,GAAkBM,EAAiB,CAClEO,GACAC,GACAC,GACAhB,GACAviB,KAMF,wCACE,WAAYxmB,GAAqB,IAAZoG,EAAY,uDAAJ,GAAI,+BACzBpG,EAASoG,EAAOvF,GAF1B,kCAKE,WACE,OACE,kBAAC+oC,EAAD,QACMz/C,KAAKic,MADX,CAEEC,IAAKlc,KAAKkc,IACV1T,KAAMxI,KAAKwI,KACXqN,QAAS7V,KAAK6V,QACd6B,KAAM1X,KAAK0X,KACX/B,GAAI3V,KAAK2V,GACToS,IAAK/nB,KAAK+nB,IACVC,QAAShoB,KAAKgoB,eAff,EAAP,CAAqByB,I,qkBCzIvB,IAAMo2B,GAAoB,SAAA5jC,GACxB,IAAQvH,EAAgDuH,EAAhDvH,SAAUorC,EAAsC7jC,EAAtC6jC,kBAAlB,EAAwD7jC,EAAnB8jC,UAAAA,OAArC,MAAiD,GAAjD,EAEA,EAAwBt3B,IAAAA,SAAes3B,GAAvC,YAAO59C,EAAP,KAAa+X,EAAb,KACA,EAA8BuO,IAAAA,SAAe,IAA7C,YAAO2rB,EAAP,KAAgB4L,EAAhB,KAqCA,OA7BAv3B,IAAAA,WAAgB,WACd,IAAIw3B,EACExB,EAAW/pC,EAAS/M,QAC1B,GAAK82C,EAqBL,OAnBAvkC,EAAQukC,EAASnnC,aACjB0oC,EAAWvB,EAAS7J,cACpBqL,EAAexB,EAASzI,WAAU,SAACt6B,EAAG3T,EAAKX,GACpC04C,IACDA,EAAkBnY,SAAS5/B,KAE/BmS,GAAQ,SAAAiR,GACN,OAAI6xB,IAAAA,CAAS7xB,EAAUpjB,GAAMX,GAAe+jB,EACrC,SAAKA,GAAZ,UAAwBpjB,EAAMX,OAGhC44C,GAAW,SAAA70B,GACT,IAAM+0B,EAAazB,EAAS7J,aAC5B,OAAIzpB,IAAc+0B,EAAmB/0B,EACzB+0B,UAKT,WACDD,GAAcxB,EAAS7E,YAAYqG,MAExC,CAACvrC,EAAUqrC,EAAWD,IAElB,CAAE39C,KAAAA,EAAMiyC,QAAAA,IAGjByL,GAAkBj+B,UAAY,CAC5BlN,SAAUmN,KAAAA,OAAAA,WACVi+B,kBAAmBj+B,KAAAA,MAAAA,WACnBk+B,UAAWl+B,KAAAA,OAAAA,YAGb,YCpDO,IAAMs+B,IAAoBxgC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACrD8/B,YAAa,CAAEvoB,UAAW,cCsC5B,SA7BoB,SAAC,GAAsB,IAApB7mB,EAAoB,EAApBA,KAAMojC,EAAc,EAAdA,QAErBzzB,EAAUw/B,KAERh5C,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAER,OACE,6BACE,wBAAIkW,UAAWsD,EAAQy/B,aAAcpvC,GACrC,kBAAC,EAAAi3B,KAAD,CAAMoY,GAAI,CAAEn+B,MAAO,OAAQo+B,QAAS,oBAAsB/0B,UAAU,OAClE,kBAAC,EAAA4c,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAA0Z,WAAD,KAAa7P,IAEf,kBAAC,EAAAusB,QAAD,MACA,kBAAC,EAAA4K,SAAD,CAAUqY,SAAO,GACf,kBAAC,EAAAD,aAAD,CAAcx1B,QAAS5jB,EAAE,sBACzB,kBAAC,EAAA0Z,WAAD,KAAauzB,EAAQH,MAAQ,QAE/B,kBAAC,EAAA1W,QAAD,MACA,kBAAC,EAAA4K,SAAD,CAAUqY,SAAO,GACf,kBAAC,EAAAD,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAA0Z,WAAD,KAAauzB,EAAQpgB,MAAQ,WCRvC,GAtBa,SAAC,GAA0C,IAAxChjB,EAAwC,EAAxCA,KAAM8J,EAAkC,EAAlCA,MAAgB2lC,EAAkB,EAA3BrM,QAEnBA,EAAYyL,GAAkB,CACpCnrC,SAAUoG,EACVilC,UAAWU,IAFLrM,QAWR,OACE,kBAAC,GAAD,CACE,cAAY,qCACZpjC,KAAMA,EACNojC,QAASA,K,qkBCnBf,IAAMtuB,GAAY,CAChB3D,QAAS,OACToI,cAAe,SACfsoB,SAAU,EACV5wB,OAAQ,QAGGy+B,IAAsB/gC,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACtD2b,UAAW,MACNA,IAEL66B,cAAe,SACV76B,IADQ,IAEXwR,UAAW,sBAEbspB,OAAQ,CACNt3C,WAAYa,EAAMgW,QAAQ7W,WAAd,QACZK,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,QAC1B,gBAAiB,CACfphB,MAAOQ,EAAMgW,QAAQ+P,KAAKnF,cCH1BjO,GAAgB,SAACb,EAAOC,GAC5B,IACEzc,EAOEwc,EAPFxc,GACAuR,EAMEiL,EANFjL,KACAxI,EAKEyT,EALFzT,KACAkM,EAIEuH,EAJFvH,SAJF,EAQIuH,EAHFojC,eAAAA,OALF,MAKmB,kBAAM1jC,GAAgB,mBALzC,IAQIM,EAFFqkB,aAAAA,OANF,MAMiB,kBAAM3kB,GAAgB,iBANvC,IAQIM,EADF2hB,SAAAA,OAPF,SAUQz7B,EAAS09C,GAAkB,CACjCnrC,SAAAA,EACAqrC,UAAW9jC,EAAM9Z,KACjB29C,kBAAmB9L,GAAAA,sBAHb7xC,KAMFwe,EAAU+/B,KACVv2C,GAAQ8lB,EAAAA,EAAAA,YACN9oB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQF42C,GAAkB5zB,EAAAA,EAAAA,cAAY,WAAM,MAClCiqB,GAAU,UAAAn4B,EAAM9Z,YAAN,eAAYiyC,UAAW,GACjCyM,EAAW,GAAH,OAAMphD,EAAN,gBACRqhD,EAAY35C,EAAE,iCAEpBqB,EAAKsE,GAAAA,aAAAA,KAA2BA,GAAAA,aAAAA,KAAAA,aAA5B,OACD+zC,EAAW,CACVp7B,KAAM,kBAAC,KAAD,MACNzU,KAAM6vC,EACNvuC,MAAOwuC,EACPz3B,KACE,kBAAC,GAAD,CAAM5pB,GAAIA,EAAIuR,KAAMA,EAAMojC,QAASA,EAASt5B,MAAOpG,SAIxD,CAAClM,EAAM/I,EAAIuR,EAAM0D,EAAUuH,EAAM9Z,KAAMgF,IAE1C2iB,GAAiB5N,EAAK,CACpB6hC,gBAAAA,IA4EF,OACE,yBACE,cAAY,+BACZ1gC,UAAWsD,EAAQmF,WAEnB,kBAAC,EAAAi7B,OAAD,CACE,cAAY,kBACZ/gC,SAAS,SACT3C,UAAWsD,EAAQigC,QAEnB,kBAAC,EAAAI,QAAD,CACE,cAAY,gBACZlgC,QAAQ,QACRE,QAASq+B,GAET,kBAAC,GAAA4B,kBAAD,CACEv+B,KAAK,QACLw+B,WAAS,EACT95C,MAAOjF,EAAKouB,UACZtL,SAzDmB,SAACnO,EAAOqqC,GAzBP,IAAA/5C,EA0B5B0P,EAAM+H,kBA1BsBzX,EA2BN+5C,EA1BlBzsC,EAAS/M,SAAS+M,EAAS/M,QAAQy5C,aAAah6C,KAmF5C,kBAAC,GAAAi6C,aAAD,CAAcj6C,MAAM,OAApB,OACA,kBAAC,GAAAi6C,aAAD,CAAcj6C,MAAM,QAApB,WAvCN,yBACE,cAAY,+BACZiW,UAAWsD,EAAQggC,eAEnB,kBAAC,GAAAW,iBAAD,CACEl6C,MAAOjF,EAAK02C,KACZrtC,SAAUrJ,EAAKouB,UACfpmB,MAAOA,EAAMD,WAAWC,MACxBhJ,QAAS,CAAEsJ,UAAWmzB,GACtB3Y,SA9CiB,SAAA7d,GACnBA,IAAUsN,EAAS/M,QAAQoxC,WAC3BrkC,EAAS/M,SAAS+M,EAAS/M,QAAQ45C,QAAQn6C,IA6CzCo6C,OAAQlhB,EACRnoB,OAvBa,SAAAU,GACdpZ,GAAIoZ,EAAO6K,cA2DpB5G,GAAcvF,MAAQ,gBAEtBuF,GAAc8E,UAAY,CACxBniB,GAAIoiB,KAAAA,OAAAA,WACJ7Q,KAAM6Q,KAAAA,OAAAA,WACNrZ,KAAMqZ,KAAAA,KAAAA,WACNnN,SAAUmN,KAAAA,OACV1f,KAAM0f,KAAAA,OACN+b,SAAU/b,KAAAA,KACVye,aAAcze,KAAAA,KACdw9B,eAAgBx9B,KAAAA,MAGlB,SAAeq9B,GAAiBpiC,ICnLhC,GAJYxW,EAAQ,KAEDowC,OAAO,ICE1B,GAJYpwC,EAAQ,KAEDowC,OAAO,I,qkBCwE1B,MCxEA,GDCM+K,SAAAA,G,6aACJ,aAAc,yBAEZ,kBAAQhM,OAAAA,IAAWf,UAAU,KAFjB,oBAUL,IAVK,sBAWH,IAXG,yBAaA,CAAC,OAAQ,SAAU,aAbnB,E,qCAqBd,WACE,OAAO10C,KAAKf,S,uBAGd,SAAUmI,GAER,OADApH,KAAKf,OAASmI,EACPpH,O,sBAET,WACE,OAAOA,KAAK0hD,W,sBAGd,SAASt6C,GAEP,OADApH,KAAK0hD,SAAWt6C,EACTpH,O,uBAST,WACE,MAAO,CACLgR,KAAMhR,KAAKwzB,UACXv0B,OAAQe,KAAK2hD,YACbD,SAAU1hD,KAAK4hD,c,2BAInB,WACE,MAA6B5hD,KAAKsX,YAElC,MAAO,CACLuqC,OAHF,EAAQ5iD,OAIN6iD,MAJF,EAAgBJ,a,4BAQlB,SAAqBpN,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGpC,MAAO,CAAEtjC,KAAAA,EAAM/R,OAF6BkB,EAApC0hD,OAEeH,SAFqBvhD,EAApB2hD,W,EAjEtBL,CAAczN,I,w3BECCt3B,GAAAA,SAAAA,G,6aACnB,aAAc,0BAEZ,kBAAQ+4B,OAAAA,IAAWf,UAAU,MAQxBqN,OAAS,IAAIlM,GAAQ,SAAU4L,GAAO,CACzC5J,MAAO,SAAC/gC,EAAO9F,EAAM5J,GAAd,OAAwB,EAAK0wC,YAAYhhC,EAAO9F,EAAM5J,MAS/D,EAAKyxC,KAAO,GACZ,EAAK79B,QAAU,GAGf,EAAKk6B,YAAcjuC,OAAOqO,OAAOoH,EAASk6B,iBAxB9B,E,mCAqCd,WACE,OAAO52C,KAAK64C,O,qBAQd,SAAQzxC,GAEN,OADApH,KAAK64C,KAAOzxC,EACLpH,O,wBAOT,WACE,OAAOA,KAAKgb,U,wBAQd,SAAW5T,GAET,OADApH,KAAKgb,QAAU5T,EACRpH,O,uBAOT,WACE,OAAOA,KAAK+hD,S,2BAQd,SAAc36C,GAEZ,OADApH,KAAK+hD,OAAL,SAAmB/hD,KAAK+hD,QAAW36C,GAC5BpH,O,6BAQT,SAAgBoH,GACd,MAAqCpH,KAAK+hD,OAAnBC,GAAvB,EAAS56C,GAAT,QAASA,GAAT,UAEA,OADApH,KAAK+hD,OAAL,MAAmBC,GACZhiD,O,sBAOT,WACE,OAAO0c,EAASo8B,Q,8BAOlB,WACE,OAAOp8B,EAASmzB,Y,qBAQlB,SAAQyE,GACN,IAAQtjC,EAAyCsjC,EAAzCtjC,KAAMojC,EAAmCE,EAAnCF,QAASyE,EAA0BvE,EAA1BuE,KAAM79B,EAAoBs5B,EAApBt5B,QAAS+mC,EAAWzN,EAAXyN,OAMtC,OAJA,gDAAc,CAAE/wC,KAAAA,EAAMojC,QAAAA,EAASyE,KAAAA,EAAM79B,QAAAA,IAErChb,KAAK+hD,OAAO7nC,QAAQ6nC,GAEb/hD,O,yBAgBT,SAAY0b,EAAGrT,EAAMjB,GAEnBpH,KAAKm1C,SAAS9sC,EAAMjB,K,uBAatB,WACE,OAAO,SAAP,wDAEEyxC,KAAM74C,KAAK+4C,UACX/9B,QAAShb,KAAKy3C,aACdsK,OAAQ/hD,KAAKiiD,YAAY3qC,gB,2BAS7B,WACE,MAAyCtX,KAAKsX,YAAtCtG,EAAR,EAAQA,KAAMojC,EAAd,EAAcA,QAEd,MAAO,CACLjhB,MAAOniB,EACPkxC,KAJF,EAAuBrJ,KAKrBlB,QALF,EAA6B38B,QAM3B8X,WAAYshB,EACZ+N,OAAQniD,KAAK+hD,OAAO9oC,oB,4BAexB,SAAqBq7B,GACnB,IACS70C,EAQL60C,EARFnhB,MACOniB,EAOLsjC,EAPFnhB,MACM0lB,EAMJvE,EANF4N,KACSlnC,EAKPs5B,EALFqD,QACQoK,EAINzN,EAJF6N,OAMF,MAAO,CACL1iD,GAAAA,EACAuR,KAAAA,EACA6nC,KAAAA,EACA79B,QAAAA,EACAo5B,QAPEE,EAHFxhB,WAWAna,UARE27B,EAFF37B,UAWAyyB,QATEkJ,EADFlJ,QAWA2W,OAAQlM,GAAAA,cAAsBkM,EAAQN,S,EAvNvB/kC,CAAiBs3B,I,IAAjBt3B,GAAAA,QA2NJ,Y,IA3NIA,GAAAA,YA6NA,O,IA7NAA,GAAAA,kBA+NM,CACvBjQ,KAAM,OACNysC,KAAM,OACNC,QAAS,UACTiJ,QAAS,Y,IAnOQ1lC,GAAAA,sBAsOU,CAtOVA,GAsOgBk6B,gBAAgBsC,OCxOrD,IAAM/2C,GAAO,GACPkgD,GAAS,GAQTC,GAAa,+BAAG,WAAMC,GAAN,0FACbC,EAAAA,KAAAA,cAAmB,CACxBC,OATY,yBAUZC,KAAMH,IAELj7C,MAAK,SAAAq7C,GACJ,OAAOA,EAAS/nC,QAAU+nC,EAAS//C,OAAS,QALzC,OAOE,SAAAyiB,GAAG,OAAIlP,QAAQ+E,KAAK,YAAamK,OARtB,2CAAH,sDAenBg9B,GAAOO,gBAAP,cAAyB,kFACnBzgD,GAAK4/C,OADc,yCACCpoC,QAAQ0vB,QAAQlnC,GAAK4/C,SADtB,gCAEhBO,GAAc,qBAAqBh7C,MAAK,SAAAu7C,GAE7C,OADA1gD,GAAK4/C,OAASc,EACP1gD,GAAK4/C,WAJS,2CAYzBM,GAAOS,eAAP,cAAwB,kFAClB3gD,GAAK4gD,SADa,yCACIppC,QAAQ0vB,QAAQlnC,GAAK4gD,WADzB,gCAEfT,GAAc,gBAAgBh7C,MAAK,SAAAy7C,GAExC,OADA5gD,GAAK4gD,SAAWA,EACT5gD,GAAK4gD,aAJQ,2CAQxB,Y,IC1CMC,GAAAA,SAAAA,G,6aACJ,WAAYrqC,EAAWT,GAAU,yBAC/B,cAAM,CACJS,UAAAA,EACAmC,MAAOk5B,GACPhjC,KAAMgjC,GAAAA,MACN1hC,MAAO,YACPwD,QAAS,CAACmmC,IACV/jC,SAAAA,IAP6B,oBAqBxBmqC,IAVP,EAAKjI,cAAgB,CACnB,eACA,yBACA,yBACA,qBACA,wBAhB6B,E,mCAuBjC,SAAQppC,GAGN,OAFAhR,KAAKgW,UAAU,gBAAgBggC,UAAUhlC,GAElC,gDAAcA,O,EA3BnBgyC,CAAsBlqC,I,IAAtBkqC,GAAAA,QA8BWhP,GAAAA,OAGjB,YCrCM,GAA+B1tC,QAAQ,iC,eCA7C,MAAM,GAA+BA,QAAQ,2B,eCA7C,MAAM,GAA+BA,QAAQ,mB,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCQ7C,SAAS28C,GAAYhnC,GACnB,OACE,kBAAC,KAAD,MAASiK,SAAS,WAAcjK,GAE9B,0BAAMlV,EAAE,qWAKd,SAASm8C,GAAWjnC,GAClB,OACE,kBAAC,KAAD,MAASiK,SAAS,WAAcjK,GAE9B,0BAAMlV,EAAE,ufAKd,SAASo8C,GAAYlnC,GACnB,OACE,kBAAC,KAAD,MAASoB,UAAU,QAAQ6I,SAAS,WAAcjK,GAEhD,0BAAMlV,EAAE,2gBAKd,IAAMq8C,IAAiBC,EAAAA,EAAAA,aAAW,SAAAl5C,GAAK,MAAK,CAC1Cm5C,cAAe,CACb,WAAY,CACV70B,QAAS,KAGb80B,MAAO,CACL/qB,WAAY,GACZhK,YAAa,GACbykB,WAAY,cAAF,QAAgBuQ,EAAAA,EAAAA,OAAMr5C,EAAMgW,QAAQ+P,KAAKnF,QAAS,SATzCs4B,EAWnB,SAAApnC,GAAK,OAAI,kBAAC,KAAaA,MAErBwnC,GAAe,SAAAxnC,GAEnB,IAAQ9Z,EAAkD8Z,EAAlD9Z,KAAMuhD,EAA4CznC,EAA5CynC,YAAaC,EAA+B1nC,EAA/B0nC,aAAcC,EAAiB3nC,EAAjB2nC,aAyEnCC,EAAsB,SAAC1gD,EAAK1D,GAChC,OAAOwH,OAAOgE,KAAK9H,GAChBgkC,OACAlnC,KAAI,SAAA8H,GACH,IAAM+7C,EAAYrkD,EAAK,GAAH,OAAMA,EAAN,YAAYsI,GAAQA,EACxC,OACE,kBAACq7C,GAAD,CACE,cAAY,yBACZr7C,IAAK+7C,EACLC,OAAQD,EACR1/B,MAAOrc,EACPiZ,QAAS,kBAAM4iC,EAAa77C,EAAKtI,GAAMsI,KAEtCd,OAAOgE,KAAK9H,EAAI4E,IAAM9H,KAAI,SAAA+jD,GACzB,OAAO7gD,EAAI4E,GAAKi8C,GAAU1jD,OAAS,EACjC,kBAAC8iD,GAAD,CACE,cAAY,yBACZr7C,IAAK+7C,EAAY,IAAME,EACvBD,OAAQD,EAAY,IAAME,EAC1B5/B,MAAO4/B,EACPhjC,QAAS,kBAAM4iC,EAAa77C,EAAKtI,GAAMsI,KAEtC5E,EAAI4E,GAAKi8C,GAAU/jD,KAAI,SAAA4mC,GACtB,OACE,kBAACuc,GAAD,CACE,cAAY,yBACZr7C,IAAK+7C,EAAY,IAAME,EAAW,IAAMnd,EACxCkd,OAAQD,EAAY,IAAME,EAAW,IAAMnd,EAC3CziB,MAAOyiB,EACP7lB,QAAS,kBAAM4iC,EAAa/c,EAAMid,EAAY,YAxFzC,SAAC3gD,EAAK1D,EAAIsI,EAAKi8C,GAGxC,IAAMC,EAAkBxkD,EAAKA,EAAK,IAAMsI,EAAMA,EACxC+7C,EAAY,CAACG,EAAiBD,GAAUzjD,KAAK,KAGnD,YAA4BO,IAArBqC,EAAI4E,GAAKtH,SAAsC,YAAbujD,EACvC,kBAACZ,GAAD,CAAgBr7C,IAAK+7C,EAAWC,OAAQD,EAAW1/B,MAAO4/B,GACvDH,EAAoB1gD,EAAI4E,GAAKtH,QAASwjD,IAGzC,yBAAKl8C,IAAK+7C,IAkFAI,CAAmB/gD,EAAK1D,EAAIsI,EAAKi8C,WAQ/C,OACE,kBAAC,KAAD,CACE,cAAY,oBACZN,YAAaA,EACbl/C,MAAO,CAAE0pB,UAAW,IACpBy1B,aAAc,SAACjoC,EAAGyoC,GAAJ,OAAsBR,EAAaQ,IACjDC,gBAAiB,CAAC,KAClBC,oBAAqB,kBAACpB,GAAD,MACrBqB,kBAAmB,kBAACpB,GAAD,MACnBqB,eAAgB,kBAACpB,GAAD,OAEfxsC,MAAMiI,QAAQzc,GArFQ,SAArBqiD,EAAsBC,EAAOhlD,GACjC,OAAOglD,EAAMxkD,KAAI,SAAA4mC,GACf,IAAMid,EAAYrkD,EAAK,GAAH,OAAMA,EAAN,YAAYonC,EAAK3W,MAAS2W,EAAK3W,KAEnD,YAAyBpvB,IAAlB+lC,EAAK/zB,SACV,kBAACswC,GAAD,CACE,cAAY,yBACZr7C,IAAK+7C,EACLC,OAAQD,EACR1/B,MAAOyiB,EAAK3W,KACZlP,QAAS,kBAAM4iC,EAAa/c,EAAMid,EAAUjmC,MAAM,SAGpD,kBAACulC,GAAD,CACE,cAAY,yBACZr7C,IAAK+7C,EACLC,OAAQD,EACR1/B,MAAOyiB,EAAK3W,MAEXs0B,EAAmB3d,EAAK/zB,SAAUgxC,OAmEnCU,CAAmBriD,EAAM,MACzB0hD,EAAoB1hD,EAAM,QAqBpC,SAASuiD,GAAcC,EAAWC,GAChC,OAAO5H,IAAAA,CAAS2H,EAAUxiD,KAAMyiD,EAAUziD,MAjB5CshD,GAAa7hC,UAAY,CACvBzf,KAAM0f,KAAAA,OACN8hC,aAAc9hC,KAAAA,KACd+hC,aAAc/hC,KAAAA,KACd6hC,YAAa7hC,KAAAA,MAGf4hC,GAAa3hC,aAAe,CAC1B3f,KAAM,GACNyhD,aAAc,SAAC/c,EAAMzI,GAAP,OAAgBjoB,QAAQC,IAAIywB,EAAMzI,IAChDulB,aAAc,SAAC9c,EAAMzI,GAAP,OAAgBjoB,QAAQC,IAAIywB,EAAMzI,IAChDslB,aAAa,GASf,UAAep/C,EAAAA,EAAAA,MAAKm/C,GAAciB,IC1M3B,IAAM3hB,IAAepjB,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAC/CrL,KAAM,CACJ+gB,QAAS,UACTsC,QAAS,OACTC,WAAY,SACZF,MAAO,QAET8gB,MAAO,CACLxK,WAAY,GACZvC,KAAM,EACN,uBAAwB,CACtBtsB,MAAOQ,EAAMT,SAASC,QAG1Bs5B,WAAY,CAAEpjB,QAAS,IACvB4F,KAAM,CACJ9b,MAAOQ,EAAMgW,QAAQ4K,QAAQiM,UCJ3B6tB,GAAkB,SAAAC,GACtB,OAAOA,EACJC,UAAU,OACVpjD,QAAQ,mBAAoB,IAC5B8lC,eASL,SAAShO,GAAOurB,EAAaC,GAE3BD,EAAcH,GAAgBG,GAW9B,OAAQ,KAAOC,IACb,KAAK34C,EAEH,OADA24C,EAAUJ,GAAgBI,IACXtd,SAASqd,GAE1B,KAAK14C,GAEyB,MAA5B,GAAIqK,MAAMiI,QAAQqmC,GAQhB,OAPAA,EAAO,UAAGA,SAAH,aAAG,EAASxrB,QAAO,SAAAx0B,GACxB,IAAMmC,EAAQqyB,GAAOurB,EAAa//C,GAElC,OAAI,KAAOmC,KAAUkF,EAA2BlF,EAEzCi6B,QAA0B,KAAlBj6B,MAAAA,OAAA,EAAAA,EAAO9G,YAM1B,IAAMgV,EAASrO,OAAOqO,OAAO2vC,GAAW,IAExC,OADaxrB,GAAOurB,EAAa1vC,GACrBhV,OAAS,GAAI2kD,EAE3B,KAAK34C,GAEL,KAAKA,EACH,OA9BF24C,EAAUJ,GAAgBI,EAAQllD,aACnB4nC,SAASqd,GA+BxB,QACE,OAAOC,GAuFb,SAnFe,SAAAhpC,GACb,IAAQinB,EAAajnB,EAAbinB,SAGR,GAAsCnkB,EAAAA,EAAAA,UAAS,IAA/C,YAAOokB,EAAP,KAAoBC,EAApB,KAGQj8B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAEFwZ,EAAUoiB,KA4ChB,OACE,kBAAC,EAAAM,UAAD,CACErf,WAAS,EACTvJ,YAAatT,EAAE,UACfC,MAAO+7B,EACPle,SAVmB,SAAAnO,GAfN,IAAA1P,EAAAA,EAgBD0P,EAAMrS,OAAO2C,MAf3Bg8B,EAAeh8B,GACf87B,EAAS97B,IAwBP8d,WAAY,CAAE,cAAe,gBAC7Boe,WAAY,CACVC,aACE,kBAAC,EAAAxiB,WAAD,CACE,cAAY,qBACZ1D,UAAWsD,EAAQsiB,WACnBjiB,QA7CS,WACjBoiB,EAAe,IACfF,EAAS,MAQc,OAAhBC,GAA+C,KAAvBA,EAAYte,OAsCjC,kBAAC,EAAAuV,QAAD,CAAS9nB,MAAOnL,EAAE,oBAChB,kBAAC,KAAD,CAAYkW,UAAWsD,EAAQ8E,QAGjC,kBAAC,EAAA2U,QAAD,CAAS9nB,MAAOnL,EAAE,gBAChB,kBAAC,KAAD,CAAWkW,UAAWsD,EAAQ8E,aC5IvC,IAAMy/B,GAAiB,CAAC,YAAa,SAAU,WAahDC,GAAmB,SAAAL,GACvB,OAAOA,EACJC,UAAU,OACVpjD,QAAQ,mBAAoB,IAC5B8lC,eA+FQ2d,GAAgB,SAACh+C,EAAOi+C,GAEnC,IAAKj+C,EAAO,OAAOi+C,EAEnB,IAAIziD,EAAS,GASb,OARAwE,EAAQ+9C,GAAiB/9C,GACzBH,OAAOgE,KAAKo6C,GAAYv9C,SAAQ,SAAAC,GAC1Bo9C,GAAiBp9C,GAAK4/B,SAASvgC,GACjCxE,EAAOmF,GAAOs9C,EAAWt9C,GAEzBnF,EA5FmB,SAACA,EAAQwE,EAAOi+C,EAAYt9C,GACnD,IAAIu9C,EAAY,GACZC,EAAM,GACNC,GAAQ,EAyBZ,YAtBgC1kD,IAA5BukD,EAAWt9C,GAAKtH,UAClB6kD,EAAYF,GAAch+C,EAAOi+C,EAAWt9C,GAAKtH,UAGnDykD,GAAep9C,SAAQ,SAAA6gC,GACrB,IAAM8b,EACJ9b,KAAK0c,EAAWt9C,GACZs9C,EAAWt9C,GAAK4gC,GAAGlP,QAAO,SAAAoN,GAAI,OAC5Bse,GAAiBte,GAAMc,SAASvgC,MAElC,GACFq9C,EAAMnkD,OAAS,IACjBilD,EAAI5c,GAAK8b,EACTe,GAAQ,MAGRv+C,OAAOgE,KAAKq6C,GAAWhlD,OAAS,IAClCilD,EAAG,QAAcD,IAEfE,GAASv+C,OAAOgE,KAAKq6C,GAAWhlD,OAAS,KAC3CsC,EAAOmF,GAAOw9C,GAET3iD,EAgEM6iD,CAAiB7iD,EAAQwE,EAAOi+C,EAAYt9C,MAGlDnF,GChHH8iD,IAAY/lC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACtC0V,MAAO,CACLxV,SAAU,WAyId,SAAe1B,IArIS,SAAA7C,GAEtB,IAAQzT,EAAmCyT,EAAnCzT,KAAM+O,EAA6B0E,EAA7B1E,MAAOgD,EAAsB0B,EAAtB1B,QAASF,EAAa4B,EAAb5B,SAE9B,GAA8B0E,EAAAA,EAAAA,WAAS,GAAvC,YAAOw/B,EAAP,KAAgBp7B,EAAhB,KACA,GAA4BpE,EAAAA,EAAAA,YAA5B,YAAOgjC,EAAP,KAAe4D,EAAf,KACA,GAAwC5mC,EAAAA,EAAAA,YAAxC,YAAO6mC,EAAP,KAAqBC,EAArB,KACA,GAAwC9mC,EAAAA,EAAAA,YAAxC,YAAO+mC,EAAP,KAAqBC,EAArB,KAEMplC,EAAU+kC,KAERv+C,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,GAQR8X,EAAAA,EAAAA,YAAU,WACRkE,GAAW,GACX3a,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAyK,GACAjQ,MAAK,SAAA6P,GACLA,EAAM6uC,OAAOpD,kBAAkBt7C,MAAK,SAAAu7C,GAC9BA,IACF8C,EAAU9C,GACVgD,EAAgBhD,IAElB1/B,GAAW,WAGd,CAAC3a,EAAM+O,IAYV,IAoBM2rB,EAAW+iB,IAAAA,EAAU,SAAA7+C,GACzB,IAAMxE,EAASwiD,GAAch+C,EAAO26C,GACpC8D,EAAgBjjD,KACf,KA8BH,OACE,kBAAC,EAAAwjB,OAAD,CACE,cAAY,4BACZ7E,MAAM,EACNhH,QAASA,EACToG,QAAS,CAAEqV,MAAOrV,EAAQqV,QAE1B,kBAACvV,GAAD,CAAalG,QAASA,EAASmG,gBAAgB,GAC5CvZ,EAAE,eAEL,kBAAC,EAAA++C,cAAD,KACE,kBAAC,GAAD,CAAQhjB,SAAUA,IA3BlBqb,EAAgB,kBAAC,GAAD,MAEbwD,EACL,kBAAC,GAAD,CACE5/C,KAAMyjD,EACNjC,aA1Cc,SAAAwC,GAClB,IAAMC,EAAgB,GACtBD,EAAcr+C,SAAQ,SAAAu+C,GACpB,IACMC,EADOD,EAAQxoC,MAAM,KACH4b,QAAO,SAAA8sB,GAAK,OAAKrB,GAAevd,SAAS4e,MAC3Dv1C,EAAOs1C,EAAWE,MACpBx1C,IAASq1C,GAAiC,IAAtBC,EAAWhmD,OACjC8lD,EAAcp1C,GAAQ,CAAE/R,OAAQ+R,EAAM0wC,UAAU,GAEhD0E,EAAcp1C,GAAQ,CAAE/R,OAAQqnD,EAAW/lD,KAAK,KAAMmhD,SAAU1wC,MAIpE+0C,EAAgBK,IA8BZ1C,aAAa,IAGf,oCACE,4BAAKv8C,EAAEkM,GAAeG,uBACtB,4BAAKrM,EAAE,4BAmBT,kBAAC,EAAAs/C,cAAD,KACE,kBAAC,EAAAC,OAAD,CAAQ,cAAY,eAAe1lC,QAASzG,GACzCpT,EAAE,WAEL,kBAAC,EAAAu/C,OAAD,CACE,cAAY,gBACZ/8C,MAAM,UACNqX,QAAS,WACP3G,EAASyrC,GACTvrC,KAEF4K,UAAW2gC,GAEV3+C,EAAE,aCnIb,IAAMu+C,IAAY/lC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACtCqmC,SAAU,CACRC,UAAW,OACXC,UAAW,SACXr4B,YAAa,EACbnM,eAAgB,SAChBH,MAAO,QAET8T,MAAO,CACLxV,SAAU,WAyKd,SAAe1B,IArKW,SAAA7C,GAExB,IAAQzT,EAAoDyT,EAApDzT,KAAM+O,EAA8C0E,EAA9C1E,MAAOuvC,EAAuC7qC,EAAvC6qC,gBAAiBvsC,EAAsB0B,EAAtB1B,QAASF,EAAa4B,EAAb5B,SAE/C,GAA8B0E,EAAAA,EAAAA,WAAS,GAAvC,YAAOw/B,EAAP,KAAgBp7B,EAAhB,KACA,GAAgCpE,EAAAA,EAAAA,YAAhC,YAAOgkC,EAAP,KAAiBgE,EAAjB,KACA,GAAsChoC,EAAAA,EAAAA,YAAtC,YAAOioC,EAAP,KAAoBC,EAApB,KACA,GAAsCloC,EAAAA,EAAAA,UAAS+nC,GAA/C,YAAOI,EAAP,KAAoBC,EAApB,KAEMxmC,EAAU+kC,KAERv+C,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAWFigD,GAAkBj9B,EAAAA,EAAAA,cAAY,SAAArqB,GAClC,IAAIunD,EAAiB,GACrBpgD,OAAOgE,KAAKnL,GACTqnC,OACAr/B,SAAQ,SAACw/C,EAAMC,GACdF,EAAe7nD,KAAK,CAClBC,GAAiB,KAAZ8nD,EAAO,GACZr3B,KAAMo3B,EACNx0C,SAAUhT,EAAKwnD,GAAMngB,OAAOlnC,KAAI,SAAC+a,EAASwsC,GACxC,MAAO,CACL/nD,GAAiB,KAAZ8nD,EAAO,GAAWC,EAAO,EAC9Bt3B,KAAMlV,EACNysC,QAAQ,WAMlBV,EAAYM,GACZJ,EAAeI,KACd,IAsBGnkB,GAAW/Y,EAAAA,EAAAA,cACf,SAAA/iB,GACE,IAAMxE,EFpBkB,SAACwE,EAAOsgD,GACpC,GAAKtgD,EACA,CACH,IAAIxE,EAAS,GAoBb,OAnBAwE,EAAQ+9C,GAAiB/9C,GACzBsgD,EAAY5/C,SAAQ,SAAA++B,GAClB,GAAIse,GAAiBte,EAAK3W,MAAMyX,SAASvgC,GACvCxE,EAAOpD,KAAKqnC,QAGZ,QAAsB/lC,IAAlB+lC,EAAK/zB,SAAwB,CAC/B,IAAMwyC,EAAYze,EAAK/zB,SAAS2mB,QAAO,SAAA8H,GAAE,OACvC4jB,GAAiB5jB,EAAGrR,MAAMyX,SAASvgC,MAEjCk+C,EAAUhlD,OAAS,GACrBsC,EAAOpD,KAAK,CACV0wB,KAAM2W,EAAK3W,KACXpd,SAAUwyC,QAMb1iD,EAtBG,OAAO8kD,EEmBAC,CAAevgD,EAAO27C,GACrCkE,EAAerkD,KAEjB,CAACmgD,IAqDH,OAzCA9jC,EAAAA,EAAAA,YAAU,WACRkE,GAAW,GACX3a,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAyK,GACAjQ,MAAK,SAAA6P,GACLA,EAAM6uC,OAAOlD,iBAAiBx7C,MAAK,SAAAsgD,GAC7BA,GAAMR,EAAgBQ,GAC1BzkC,GAAW,WAGd,CAAC3a,EAAM+O,EAAO6vC,IA8Bf,kBAAC,EAAAhhC,OAAD,CACE,cAAY,uBACZ7E,MAAM,EACNhH,QAASA,EACToG,QAAS,CAAEqV,MAAOrV,EAAQqV,QAE1B,kBAACvV,GAAD,CAAalG,QAASA,EAASmG,gBAAgB,GAC5CvZ,EAAE,gBAEL,kBAAC,EAAA++C,cAAD,KACE,kBAAC,GAAD,CAAQhjB,SAAUA,IAClB,kBAAC,EAAAriB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQgmC,UA3B/CpI,EAAgB,kBAAC,GAAD,MAEbwE,EACL,kBAAC,GAAD,CACE5gD,KAAM6kD,EACNrD,aA1DkB,SAAAkE,GACFA,EAAiBhqC,MAAM,KAC3Bvd,QAAU,GAE1B6mD,EAAeU,MAyDb,oCACE,4BAAK1gD,EAAEkM,GAAeG,uBACtB,4BAAKrM,EAAE,2BAoBP,kBAAC,EAAAk8B,UAAD,CACErf,WAAS,EACTI,MAAOjd,EAAE,WACTC,MAAO8/C,EACPtnC,OAAO,SACPuF,UAAQ,KAGZ,kBAAC,EAAAshC,cAAD,KACE,kBAAC,EAAAC,OAAD,CAAQ,cAAY,eAAe1lC,QAASzG,GACzCpT,EAAE,WAEL,kBAAC,EAAAu/C,OAAD,CACE,cAAY,gBACZ/8C,MAAM,UACNqX,QAAS,WACP3G,EAAS6sC,GACT3sC,KAEF4K,UAAW+hC,GAEV//C,EAAE,gBC7LN,IAAM2gD,IAAanoC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC9CynC,UAAW,CACTloC,QAAS,sBACTqG,SAAU,QAEZ8hC,aAAc,CACZx5B,YAAa,OACb,SAAU,CACRtI,SAAU,SAGdf,SAAU,CACRxb,MAAO,YCgVX,SAAei1C,IA7TF,SAAA3iC,GAEX,IAAQzT,EAAiDyT,EAAjDzT,KAAM+O,EAA2C0E,EAA3C1E,MAAOvG,EAAoCiL,EAApCjL,KAAM0D,EAA8BuH,EAA9BvH,SAA3B,EAAyDuH,EAApB2hB,SAAAA,OAArC,SAEA,GAAoC7e,EAAAA,EAAAA,UAAS,GAA7C,YAAOkpC,EAAP,KAAmBC,EAAnB,KAEMvnC,EAAUmnC,KACR3gD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACAhF,EAAS09C,GAAkB,CACjCnrC,SAAAA,EACAqrC,UAAW9jC,EAAM9Z,KACjB29C,kBAAmB9L,GAAAA,sBAHb7xC,KAgBFgmD,GAAeh+B,EAAAA,EAAAA,cACnB,SAAAi+B,GACM1zC,EAAS/M,SAAS+M,EAAS/M,QAAQs6C,YAAYoG,WAAWD,EAAMrgD,OAEtE,CAAC2M,IAOG4zC,GAAan+B,EAAAA,EAAAA,cACjB,SAAA43B,GACMrtC,EAAS/M,SAAS+M,EAAS/M,QAAQs6C,YAAY/nC,QAAQ6nC,GAC3DmG,EA1CK,KA4CP,CAACxzC,IAOG6zC,GAAap+B,EAAAA,EAAAA,cACjB,SAAAq+B,GACM9zC,EAAS/M,SAAS+M,EAAS/M,QAAQ4gD,WAAWC,GAClDN,EArDK,KAuDP,CAACxzC,IAYG+zC,GAAyBt+B,EAAAA,EAAAA,cAC7B,SAAAnF,GACEA,EAAInG,kBAEJrW,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,cACA,CACEuN,SAAUkuC,EACVzB,gBAAiB3kD,EAAK6Y,QACtBzD,MAAOA,EACP/O,KAAMA,GAERkgD,MAGJ,CAACnxC,EAAOpV,EAAK6Y,QAASxS,EAAM+/C,IAMxBI,GAAwBx+B,EAAAA,EAAAA,cAC5B,SAAAnF,GACEA,EAAInG,kBAEJrW,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,cACA,CACEuN,SAAUiuC,EACV/wC,MAAOA,EACP/O,KAAMA,GAERogD,MAGJ,CAACrxC,EAAO+wC,EAAY9/C,IAShBqgD,GAAoB1+B,EAAAA,EAAAA,cAAY,SAAAnF,GACpC,IAAM8jC,EAAoBC,SAAS/jC,EAAIqY,cAAcgF,QAAQ4lB,YAC7DC,GAAc,SAAA/8B,GACZ,OAAIA,IAAc29B,EAA0B,EAChCA,OAEb,IAKGE,GAAsB7+B,EAAAA,EAAAA,cAAY,WAClCzV,EAAS/M,SAAS+M,EAAS/M,QAAQ4gD,WAAW,IAClDL,EA9HO,KA+HN,CAACxzC,IAcEg2B,GAAWvgB,EAAAA,EAAAA,cACf,SAAA8+B,GACE,OAAOhB,IAAegB,IAExB,CAAChB,IAWGiB,GAAkB/+B,EAAAA,EAAAA,cAAY,SAACpiB,EAAK25C,EAAUyH,GAClD,YAAiBroD,IAAb4gD,EACK35C,IAAQohD,EACX,UAAYA,EACZ,UAAYA,EAAY,OAASphD,EAE9BA,IAAQ25C,EACX,QAAUyH,EAAY,WAAazH,EACnC,QAAUyH,EAAY,WAAazH,EAAW,OAAS35C,IAE5D,IAMGqhD,GAAiBj/B,EAAAA,EAAAA,cAAY,WACjC,IAAM43B,EAAS5/C,EAAK4/C,QAAU,GACxBsH,EAAa,GAWnB,OATApiD,OAAOgE,KAAK82C,GAAQj6C,SAAQ,SAAAC,GAC1B,IAAMuhD,EAAMvH,EAAOh6C,GACbohD,EAAYG,EAAIrqD,OAASqqD,EAAIrqD,YAAS6B,EACtC4gD,EAAW4H,EAAI5H,SAAW4H,EAAI5H,cAAW5gD,EAEzCqC,EAAM,CAAE6N,KADQk4C,EAAgBnhD,EAAK25C,EAAUyH,GAClBphD,IAAKA,GACpCohD,GAAWE,EAAW7pD,KAAK2D,MAG1BkmD,IACN,CAAClnD,EAAK4/C,OAAQmH,IAYXK,GAAap/B,EAAAA,EAAAA,cAAY,WAC7B,IAAM43B,EAASqH,IACf,OAAOrH,EAAOzhD,OAAS,EACrByhD,EAAO9hD,KAAI,SAACmoD,EAAOlkD,GACjB,OACE,kBAAC,EAAA2c,WAAD,CAAY9Y,IAAK,WAAa7D,GAC5B,kBAAC,EAAAq5B,QAAD,MACA,kBAAC,EAAA4K,SAAD,KACE,kBAAC,EAAAoY,aAAD,CACEljC,UAAWsD,EAAQqnC,aACnBj9B,QAASq9B,EAAMp3C,OAEjB,kBAAC,EAAAw4C,wBAAD,KACE,kBAAC,EAAApvB,QAAD,CAAS9nB,MAAOnL,EAAE,iBAChB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,sBACZ0oC,KAAK,MACLzoC,QAAS,kBAAMmnC,EAAaC,KAE5B,kBAAC,KAAD,CAAYliC,SAAS,kBASnC,kBAAC,EAAArF,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WACpDhe,EAAE,gBAGN,CAACwZ,EAASyoC,EAAgBjB,EAAchhD,IAMrCswC,GAAattB,EAAAA,EAAAA,cAAY,WAC7B,OAAOhoB,EAAK6Y,QACV,kBAAC,EAAA6F,WAAD,KACE,kBAAC,EAAA0c,QAAD,MACA,kBAAC,EAAA4K,SAAD,KACE,kBAAC,EAAAoY,aAAD,CACEljC,UAAWsD,EAAQqnC,aACnBj9B,QAAS5oB,EAAK6Y,UAEhB,kBAAC,EAAAwuC,wBAAD,KACE,kBAAC,EAAApvB,QAAD,CAAS9nB,MAAOnL,EAAE,kBAChB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,uBACZ0oC,KAAK,MACLzoC,QAASgoC,GAET,kBAAC,KAAD,CAAY9iC,SAAS,eAO/B,kBAAC,EAAArF,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WACpDhe,EAAE,uBAGN,CAACwZ,EAASxe,EAAK6Y,QAASguC,EAAqB7hD,IAEhD,OACE,6BACE,kBAAC,GAAD,CACE,cAAY,gCACZ6J,KAAMA,EACNojC,QAASjyC,EAAKiyC,SAAW,KAE3B,kBAAC,EAAAnM,KAAD,KAEE,kBAAC,EAAAE,SAAD,CACE,cAAY,uBACZuhB,QAAM,EACN,mBAtRC,EAuRD1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,aACzB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,mBACZoE,UAAWyY,EACX5c,QAAS2nC,GAET,kBAAC,KAAD,OAEDje,EAjSA,GAiSgC,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAEpD,kBAAC,EAAAif,SAAD,CAAUC,GAAIlf,EAnSX,GAmS0Cmf,eAAa,GACvDN,IACD,kBAAC,EAAAhsB,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,uBACZuhB,QAAM,EACN,mBA1SC,EA2SD1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,aACzB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,qBACZoE,UAAWyY,EACX5c,QAASynC,GAET,kBAAC,KAAD,OAED/d,EArTA,GAqTgC,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAEpD,kBAAC,EAAAif,SAAD,CAAUC,GAAIlf,EAvTX,GAuT0Cmf,eAAa,GACvDpS,IACD,kBAAC,EAAAla,QAAD,YC5UV,IAAMmoB,IAAY/lC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACtCwF,UAAW,CACT3D,QAAS,OACToI,cAAe,SACfsoB,SAAU,EACV5wB,OAAQ,OACRqV,UAAW,YAIT5a,GAAW,SAACT,EAAOC,GACvB,IACEzc,EAQEwc,EARFxc,GACAuR,EAOEiL,EAPFjL,KACAxI,EAMEyT,EANFzT,KACA+O,EAKE0E,EALF1E,MACA7C,EAIEuH,EAJFvH,SACAvS,EAGE8Z,EAHF9Z,KACAm+B,EAEErkB,EAFFqkB,aAPF,EASIrkB,EADF2hB,SAAAA,OARF,SAYMjd,EAAU+kC,KACVv7C,GAAQ8lB,EAAAA,EAAAA,YACN9oB,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQF42C,GAAkB5zB,EAAAA,EAAAA,cAAY,WAClC,IAAM02B,EAAW,GAAH,OAAMphD,EAAN,gBACRqhD,EAAY35C,EAAE,4BAEpBqB,EAAKsE,GAAAA,aAAAA,KAA2BA,GAAAA,aAAAA,KAAAA,aAA5B,OACD+zC,EAAW,CACVp7B,KAAM,kBAAC,KAAD,MACNzU,KAAM6vC,EACNvuC,MAAOwuC,EACPz3B,KAAM,kBAAC,GAAD,CAAM5pB,GAAIA,EAAI+I,KAAMA,EAAMwI,KAAMA,EAAMuG,MAAOA,SAGtD,CAAC/O,EAAM/I,EAAIuR,EAAMuG,EAAOpQ,IA2B3B,OAzBA2iB,GAAiB5N,EAAK,CACpB6hC,gBAAAA,IAyBA,yBAAK,cAAY,0BAA0B1gC,UAAWsD,EAAQmF,WAC5D,kBAAC,GAAAw7B,iBAAD,CACEl6C,MAAOjF,MAAAA,OAAF,EAAEA,EAAM02C,KACbrtC,SAAU,SACVrB,MAAOA,EAAMD,WAAWC,MACxBhJ,QAAS,CAAEsJ,UAAWmzB,GACtB3Y,SAtBqB,SAAA7d,GACrBA,IAAUsN,EAAS/M,QAAQoxC,WAC3BrkC,EAAS/M,SAAS+M,EAAS/M,QAAQ45C,QAAQn6C,IAqB3Co6C,OAAQlhB,EACRnoB,OAnBe,SAAAU,GACdpZ,GAAIoZ,EAAO6K,aAwBpBhH,GAASkF,UAAY,CACnBniB,GAAIoiB,KAAAA,OAAAA,WACJ7Q,KAAM6Q,KAAAA,OAAAA,WACNtK,MAAOsK,KAAAA,OAAAA,WACPrZ,KAAMqZ,KAAAA,KAAAA,WACN1f,KAAM0f,KAAAA,OACNnN,SAAUmN,KAAAA,OACV+b,SAAU/b,KAAAA,KACVye,aAAcze,KAAAA,MAGhB,SAAeq9B,GAAiBxiC,ICzGhC,GAJYpW,EAAQ,KAEDowC,OAAO,I,ykBCEpB75B,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQ44B,OAAAA,IAAWf,UAAU,MAOxBqB,OAAS,CACZ8B,MAAO,SAAC/gC,EAAO9F,EAAM5J,GAAd,OAAwB,EAAK0wC,YAAYhhC,EAAO9F,EAAM5J,KAS/D,EAAK6J,YAAc,GACnB,EAAKmtB,KAAO,GACZ,EAAKltB,KAAO,GACZ,EAAK44C,YAAa,EAClB,EAAKC,QAAS,EACd,EAAKC,YAAa,EAClB,EAAKC,WAAa,GAClB,EAAK1S,WAAa,IAAI1B,GAAQ,aAAcoB,GAAW,EAAKlB,QAC5D,EAAKmU,QAAU,IAAIrU,GAAQ,UAAWmB,GAAQ,EAAKjB,QACnD,EAAKoU,SAAW,IAAItU,GAAQ,WAAYc,GAAS,EAAKZ,QACtD,EAAKqU,MAAQ,IAAIvU,GAAQ,QAAS+B,GAAM,EAAK7B,QAG7C,EAAKb,YAAcjuC,OAAOqO,OAAOuH,EAAK+5B,iBAhC1B,E,0CA6Cd,WACE,OAAO52C,KAAKiR,c,4BAQd,SAAe7J,GAEb,OADApH,KAAKiR,YAAc7J,EACZpH,O,qBAOT,WACE,OAAOA,KAAKo+B,O,qBAQd,SAAQh3B,GAEN,OADApH,KAAKo+B,KAAOh3B,EACLpH,O,qBAOT,WACE,OAAOA,KAAKkR,O,qBAQd,SAAQ9J,GAEN,OADApH,KAAKkR,KAAO9J,EACLpH,O,mCAST,SAAsBqqD,EAAWjjD,GAE/B,OADA,uDAAiBijD,EAAYjjD,IACtBpH,O,2BAOT,WACE,OAAOA,KAAK8pD,a,2BAQd,SAAc1iD,GAEZ,OADApH,KAAK8pD,WAAa1iD,EACXpH,O,uBAOT,WACE,OAAOA,KAAK+pD,S,uBAQd,SAAU3iD,GAER,OADApH,KAAK+pD,OAAS3iD,EACPpH,O,2BAOT,WACE,OAAOA,KAAKgqD,a,2BAQd,SAAc5iD,GAEZ,OADApH,KAAKgqD,WAAa5iD,EACXpH,O,2BAOT,WACE,OAAOA,KAAKiqD,a,2BAQd,SAAc7iD,GAEZ,OADApH,KAAKiqD,WAAa7iD,EACXpH,O,2BAOT,WACE,OAAOA,KAAKu3C,a,yBAUd,SAAYzB,EAAU3zC,GAEpB,OADAnC,KAAK81C,GAAU57B,QAAQ/X,GAChBnC,O,gCAWT,SAAmB81C,EAAU31C,EAASi2C,GACpC,IAAMplC,EAAO7Q,EAAQ6Q,KAMrB,OALIolC,IAAaplC,GACfhR,KAAK81C,GAAUwU,WAAW,CAAElU,SAAAA,EAAUplC,KAAAA,IAAQ,GAGhDhR,KAAK81C,GAAUyU,WAAW,CAAEv5C,KAAAA,EAAM7Q,QAAAA,IAC3BH,O,4BAUT,SAAewqD,EAASziD,GAEtB,OADA/H,KAAKwqD,GAASnC,WAAWtgD,GAClB/H,O,yBAUT,SAAYwqD,EAASziD,GACnB,OAAO/H,KAAKwqD,GAAStU,QAAQnuC,K,wBAO/B,WACE,OAAO/H,KAAKkqD,U,yBAOd,WACE,OAAOlqD,KAAKmqD,W,qBAQd,SAAQhoD,GAEN,OADAnC,KAAKyqD,YAAY,QAAStoD,GACnBnC,O,wBAST,SAAW0qD,EAAUvqD,GAEnB,OADAH,KAAK2qD,mBAAmB,QAASxqD,EAASuqD,GACnC1qD,O,qBAQT,SAAQ+H,GACN,OAAO/H,KAAK4qD,YAAY,QAAS7iD,K,wBAQnC,SAAWA,GAET,OADA/H,KAAK6qD,eAAe,QAAS9iD,GACtB/H,O,sBAOT,WACE,OAAOA,KAAKoqD,Q,6BAUd,SAAgBU,EAAQC,EAAUC,GAOhC,OANAhrD,KAAKirD,WACF/U,QAAQ4U,GACRzS,YACAnC,QAAQ6U,GACRG,YAAYF,GAERhrD,O,8BAYT,SAAiB8qD,EAAQla,EAAWma,EAAUI,EAAe/jD,GAM3D,OALApH,KAAKirD,WACF/U,QAAQ4U,GACRla,GAAWsF,QAAQ6U,GACnBK,aAAaD,EAAe/jD,GAExBpH,O,sBAOT,WACE,OAAO6c,EAAKi8B,Q,8BAOd,WACE,OAAOj8B,EAAKgzB,Y,qBAQd,SAAQyE,GACN,IACEtjC,EAaEsjC,EAbFtjC,KACAojC,EAYEE,EAZFF,QACAnjC,EAWEqjC,EAXFrjC,YACAmtB,EAUEkW,EAVFlW,KACAltB,EASEojC,EATFpjC,KACA44C,EAQExV,EARFwV,WACAG,EAOE3V,EAPF2V,WACAF,EAMEzV,EANFyV,OACAC,EAKE1V,EALF0V,WACAzS,EAIEjD,EAJFiD,WACA2S,EAGE5V,EAHF4V,QACAC,EAEE7V,EAFF6V,SACAC,EACE9V,EADF8V,MAoBF,OAjBA,gDAAc,CACZp5C,KAAAA,EACAojC,QAAAA,EACAnjC,YAAAA,EACAmtB,KAAAA,EACAltB,KAAAA,EACA44C,WAAAA,EACAG,WAAAA,EACAF,OAAAA,EACAC,WAAAA,IAGFhqD,KAAKu3C,WAAWr9B,QAAQq9B,GACxBv3C,KAAKkqD,QAAQhwC,QAAQgwC,GACrBlqD,KAAKmqD,SAASjwC,QAAQiwC,GACtBnqD,KAAKoqD,MAAMlwC,QAAQkwC,GAEZpqD,O,yBAgBT,SAAY0b,EAAGrT,EAAMjB,GAEnBpH,KAAKm1C,SAAS9sC,EAAMjB,K,uBAatB,WACE,OAAO,SAAP,wDAEE4J,KAAMhR,KAAKwzB,UACX4gB,QAASp0C,KAAK40C,aACd3jC,YAAajR,KAAK82C,iBAClB1Y,KAAMp+B,KAAKqrD,UACXn6C,KAAMlR,KAAKm3C,UACX2S,WAAY9pD,KAAKsrD,gBACjBrB,WAAYjqD,KAAKurD,gBACjBxB,OAAQ/pD,KAAKwrD,YACbxB,WAAYhqD,KAAKyrD,gBACjBlU,WAAYv3C,KAAKw3C,gBAAgBlgC,YACjC4yC,QAASlqD,KAAK0rD,aAAap0C,YAC3B6yC,SAAUnqD,KAAK2rD,cAAcr0C,YAC7B8yC,MAAOpqD,KAAKirD,WAAW3zC,gB,2BAU3B,WACE,MAUItX,KAAKsX,YATPtG,EADF,EACEA,KACAojC,EAFF,EAEEA,QACAnjC,EAHF,EAGEA,YACAmtB,EAJF,EAIEA,KACAltB,EALF,EAKEA,KACA44C,EANF,EAMEA,WACAG,EAPF,EAOEA,WAKF,MAAO,CACL92B,MAAOniB,EACPunC,KAAMtnC,EACN26C,KAAMxtB,EACNgZ,KAAMlmC,EACN26C,WAAY/B,EACZgC,OAlBF,EAQE/B,OAWAgC,WAnBF,EASE/B,WAWAl3B,WAAYshB,EACZ4X,eAAgB/B,EAChBhT,UAAWj3C,KAAKw3C,gBAAgBv+B,gBAChC+9B,OAAQh3C,KAAK0rD,aAAazyC,gBAC1BgzC,QAASjsD,KAAK2rD,cAAc1yC,gBAC5BizC,UAAWlsD,KAAKirD,WAAWhyC,oB,4BAgB/B,SAAqBq7B,GACnB,IACS70C,EAgBL60C,EAhBFnhB,MACOniB,EAeLsjC,EAfFnhB,MACYihB,EAcVE,EAdFxhB,WACAna,EAaE27B,EAbF37B,UACAyyB,EAYEkJ,EAZFlJ,QACMn6B,EAWJqjC,EAXFiE,KACMna,EAUJkW,EAVFsX,KACM16C,EASJojC,EATF8C,KACY0S,EAQVxV,EARFuX,WACQ9B,EAONzV,EAPFwX,OACY9B,EAMV1V,EANFyX,WACgB9B,EAKd3V,EALF0X,eACWzU,EAITjD,EAJF2C,UACQiT,EAGN5V,EAHF0C,OACSmT,EAEP7V,EAFF2X,QACW7B,EACT9V,EADF4X,UAGF,MAAO,CACLzsD,GAAAA,EACAuR,KAAAA,EACAojC,QAAAA,EACAz7B,UAAAA,EACAyyB,QAAAA,EACAn6B,YAAAA,EACAmtB,KAAAA,EACAltB,KAAAA,EACA44C,WAAAA,EACAC,OAAAA,EACAC,WAAAA,EACAC,WAAAA,EACA1S,WAAY1B,GAAAA,cAAsB0B,EAAYN,IAC9CiT,QAASrU,GAAAA,cAAsBqU,EAASlT,IACxCmT,SAAUtU,GAAAA,cAAsBsU,EAAUxT,IAC1CyT,MAAOvU,GAAAA,cAAsBuU,EAAOxS,S,EAhhBpC/6B,CAAam3B,I,IAAbn3B,GAAAA,QAmhBW,Q,IAnhBXA,GAAAA,YAqhBe,O,IArhBfA,GAAAA,kBAuhBqB,CACvBpQ,KAAM,OACN0sC,QAAS,UACTtoB,YAAa,cACbs7B,KAAM,OACN9U,KAAM,OACN+U,WAAY,aACZC,OAAQ,SACRC,WAAY,aACZC,YAAa,e,IAhiBX1vC,GAAAA,sBAmiByB,CAniBzBA,GAoiBG+5B,gBAAgBnqC,KApiBnBoQ,GAqiBG+5B,gBAAgB/lB,YAriBnBhU,GAsiBG+5B,gBAAgBuV,OAIzBtvC,GAAKq6B,SAAW,CACdjmC,YAAa,GACbmtB,KAAM,GACNltB,KAAM,GACN44C,YAAY,EACZC,QAAQ,EACRC,YAAY,EACZC,WAAY,IAGd,YCtjBA,IAAM9nD,GAAO,GACPkgD,GAAS,GACThN,GAAc,GACdmX,GACG,CAAEtS,MAAO,WAAYC,KAAM,IAAKhnB,MAAO,KAD1Cq5B,GAEK,CAAEtS,MAAO,WAAYC,KAAM,IAAKxC,QAAS,KAE9C8U,GAAiB,SAAAz7C,GAAI,OAAImF,QAAQC,IAAR,UAAepF,EAAf,sBAczB07C,GAAqB,SAACC,EAAaC,GACvC,IAAMC,EAAgB,GAStB,OARA5lD,OAAOgE,KAAK0hD,EAAYvlD,MAAMsV,UAAU5U,SAAQ,SAAAC,GAC9C8kD,EAAc9kD,GAAO,GACrB8kD,EAAc9kD,GAAd,QAAgC4kD,EAAYvlD,MAAMsV,SAAS3U,GAA3B,aAEMjH,IAAlC8rD,EAAUxlD,MAAMsV,SAAS3U,KAC3B8kD,EAAc9kD,GAAd,MAA8B6kD,EAAUxlD,MAAMsV,SAAS3U,GAAzB,UAG3B8kD,GAaTxK,GAAOyK,wBAAP,cAAiC,kFAC3B3qD,GAAK4qD,WADsB,yCACHpzC,QAAQ0vB,QAAQlnC,GAAK4qD,aADlB,gCAExB,IAAIpzC,SAAQ,SAAC0vB,EAASzvB,GAC3B,IACE,IAAMozC,EAAe,CAAE9S,MAAO,QAASC,KAAM,KAC7C9E,GAAW,MAAY2X,EACvBrT,EAAAA,SAAAA,UACEqT,GACA,kBAAMP,GAAe,uBACrB,SAAA5oC,GAAO,MACCkpC,GAAalpC,MAAAA,GAAA,UAAAA,EAAKzc,aAAL,eAAY6lD,QAAS,GACxC9qD,GAAK4qD,WAAaA,EAClB1jB,EAAQ0jB,MAGZ,MAAO1nC,GACPzL,EAAOyL,GACPlP,QAAQ+E,KAAK,uCAAwCmK,QAjB1B,2CA0BjCg9B,GAAO6K,aAAP,cAAsB,kFAEhB/qD,GAAKgrD,qBAFW,yCAGXxzC,QAAQ0vB,QAAQlnC,GAAKgrD,uBAHV,gCAKb3K,EAAAA,KAAAA,cAAmB,CACxBC,OAAQ,uBACRC,KAAM,KAELp7C,MAAK,SAAAq7C,GACJ,GAAIA,EAEF,OADAxgD,GAAKgrD,qBAAuBxK,EACrBxgD,GAAKgrD,wBAPX,OAUE,SAAA9nC,GACLlP,QAAQ+E,KAAK,+BAAgCmK,OAhB7B,2CAwBtBg9B,GAAO+K,iBAAP,cAA0B,kFACpBjrD,GAAK0qD,cADe,yCACOlzC,QAAQ0vB,QAAQlnC,GAAK0qD,gBAD5B,gCAEjB,IAAIlzC,SAAQ,SAAC0vB,EAASzvB,GAC3B,IACEy7B,GAAW,iBAAuBmX,GAClC7S,EAAAA,SAAAA,UACE6S,IACA,kBAAMC,GAAe,oBACrB,SAAAE,GACEtX,GAAW,eAAqBmX,GAChC7S,EAAAA,SAAAA,UACE6S,IACA,kBAAMC,GAAe,kBACrB,SAAAG,GACE,IAAMC,EAAgBH,GAAmBC,EAAaC,GACtDzqD,GAAK0qD,cAAgBA,EACrBxjB,EAAQwjB,SAKhB,MAAOxnC,GACPzL,EAAOyL,GACPlP,QAAQ+E,KAAK,uCAAwCmK,QAvBjC,2CAqC1Bg9B,GAAO1qC,QAAU,WACf1Q,OAAOqO,OAAO+/B,IAAavtC,SAAQ,SAAA0xC,GACjCG,EAAAA,SAAAA,YAAqBH,OAIzB,Y,ICvIM6T,GAAAA,SAAAA,G,6aACJ,WAAY10C,EAAWT,EAAUU,GAAY,yBAC3C,cAAM,CACJD,UAAAA,EACAmC,MAAOk5B,GACPhjC,KAAMgjC,GAAAA,MACN1hC,MAAO,QACPwD,QAAS,CAACmmC,IACVrjC,WAAAA,EACAV,SAAAA,IARyC,oBAapCmqC,IAboC,E,mCAoB7C,SAAQrxC,GAGN,OAFAhR,KAAKgW,UAAU,gBAAgBggC,UAAUhlC,GAElC,gDAAcA,K,qBAMvB,WACE,iDACAhR,KAAKgmD,OAAOruC,c,EAhCV01C,CAAkBv0C,I,IAAlBu0C,GAAAA,QAmCWrZ,GAAAA,OAGjB,YC1CM,GAA+B1tC,QAAQ,+B,eCA7C,MAAM,GAA+BA,QAAQ,sC,eCA7C,MAAM,GAA+BA,QAAQ,sC,eCEhCgnD,IAAyB3tC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC1D4N,UAAW,CAAEA,UAAW,QACxBq/B,aAAc,CACZhjC,cAAe,OAEjBijC,cAAe,CACb7jD,MAAO,OACPklB,UAAW,cAIF4+B,IAA6B9tC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC9D0iB,MAAO,CAAE9c,SAAU,QACnB9B,MAAO,CACL8J,UAAW,OACXhI,SAAU,OACV8I,UAAW,kCACXsX,gBAAiB,WACjB38B,MAAO,2BAETukB,UAAW,CAAEA,UAAW,QACxB8H,MAAO,CAAExV,SAAU,OACnBsF,UAAW,CACT3D,QAAS,OACToI,cAAe,SACfC,SAAU,UAEZm2B,cAAe,CACb1+B,OAAQ,QACRC,MAAO,QAETwrC,UAAW,CACT9tC,OAAQ,kBAEV+tC,iBAAkB,CAChBn/B,YAAa,MACbI,aAAc,MACdqvB,UAAW,kBACX77B,WAAY,WAEZ,UAAW,CACTxC,OAAQ,iBACRC,QAAS,QAGb+tC,oBAAqB,CACnBp/B,YAAa,EACbI,aAAc,O,qkBC1BlB,IAAMi/B,GACE,OADFA,GAEG,QAGHC,GAAuB,SAAA7xC,GAE3B,IACE1B,EAcE0B,EAdF1B,QACAF,EAaE4B,EAbF5B,SACA0zC,EAYE9xC,EAZF8xC,eACAC,EAWE/xC,EAXF+xC,gBACAtY,EAUEz5B,EAVFy5B,SACApjC,EASE2J,EATF3J,MACAyH,EAQEkC,EARFlC,MACAoL,EAOElJ,EAPFkJ,SACA8oC,EAMEhyC,EANFgyC,YACAC,EAKEjyC,EALFiyC,mBACAC,EAIElyC,EAJFkyC,gBACAC,EAGEnyC,EAHFmyC,oBACAC,EAEEpyC,EAFFoyC,kBACAC,EACEryC,EADFqyC,YAGF,GAAwBvvC,EAAAA,EAAAA,UAAS,IAAjC,YAAO5c,EAAP,KAAa+X,EAAb,KACA,GAAoC6E,EAAAA,EAAAA,UAAS,CAC3CwM,UAAW,KACX/I,OAAO,EACPxH,QAAS,KAHX,YAAOqI,EAAP,KAAmBC,EAAnB,KAMM3C,EAAU8sC,KACRtmD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAaFonD,GAAyBpkC,EAAAA,EAAAA,cAC7B,SAAAoB,GACE,OAAOlI,EAAWkI,YAAcA,IAElC,CAAClI,EAAWkI,aASdtM,EAAAA,EAAAA,YAAU,WACR/E,EAAQ+B,EAAM9Z,QACb,CAAC8Z,EAAM9Z,OAYV,IAAMqsD,GAAerkC,EAAAA,EAAAA,cACnB,SAAAnF,GAAO,MACChU,EAAOgU,MAAAA,GAAH,UAAGA,EAAKvgB,cAAR,aAAG,EAAa2C,MACtBqnD,EAAU90C,QAAQ0vB,SAAQ,GAkB9B,OAjBI0kB,GAAkBrY,IACpB+Y,EAAUV,EAAe,CAAE/8C,KAAAA,IAAQ1J,MAAK,SAAAuc,GAOtC,OANAP,EAAc,CACZiI,UAAWsiC,GACXrrC,OAAQqB,EAAIjhB,OACZoY,QAAS7T,EAAE0c,EAAIrB,SAGVqB,EAAIjhB,WAKfsX,GAAQ,SAAAiR,GACN,OAAO,SAAKA,GAAZ,IAAuBna,KAAAA,OAGlBy9C,IAET,CAACV,EAAgB5mD,EAAGuuC,IAOhBgZ,GAAsBvkC,EAAAA,EAAAA,cAAY,SAAAnF,GAAO,MACvC/T,EAAc+T,MAAAA,GAAH,UAAGA,EAAKvgB,cAAR,aAAG,EAAa2C,MACjC8S,GAAQ,SAAAiR,GACN,OAAO,SAAKA,GAAZ,IAAuBla,YAAAA,SAExB,IAMG09C,GAAgBxkC,EAAAA,EAAAA,cACpB,SAAA/iB,GACM4mD,GAAmBtY,GACrBA,EAAS,CAAEtuC,MAAAA,IAASE,MAAK,SAAAuc,GACvBP,EAAc,CACZiI,UAAWsiC,GACXrrC,OAAQqB,EAAIjhB,OACZoY,QAAS7T,EAAE0c,EAAIrB,YAKrBtI,GAAQ,SAAAiR,GACN,OAAO,SAAKA,GAAZ,IAAuB/jB,MAAAA,SAG3B,CAACD,EAAGuuC,EAAUsY,IAMVxM,GAASr3B,EAAAA,EAAAA,cAAY,WAEzBqkC,EAAa,CAAE/pD,OAAQ,CAAE2C,MAAOjF,EAAK6O,QAAU1J,MAAK,SAAAmnD,GAC9CA,GAEF/Y,EAASvzC,GAAMmF,MAAK,SAAAuc,GAAO,OACzB,UAAIA,EAAIjhB,cAAR,QAAkBihB,EAAIjJ,UACpBP,EAASwJ,EAAI1hB,MACboY,KAEA+I,EAAc,CAAEd,OAAO,EAAMxH,QAAS6I,EAAIrB,gBAKjD,CAACrgB,EAAMoY,EAASF,EAAUq7B,EAAU8Y,IAQvC,OACE,kBAAC,EAAApoC,OAAD,CAAQ7E,MAAM,EAAMhH,QAASA,EAASoG,QAAS,CAAEqV,MAAOrV,EAAQqV,QAC9D,yBAAK,cAAY,mCACf,kBAACvV,GAAD,CAAalG,QAASA,EAASmG,gBAAgB,GAC5CpO,GAEH,kBAAC,EAAA4zC,cAAD,KACE,kBAAC,EAAArlC,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQmF,WAC7C,kBAAC,EAAAud,UAAD,CACEjf,MAAK,UAAKjd,EAAE,QAAP,MACLqb,MACE+rC,EAAuBV,KAAoBxqC,EAAWb,MAExD2B,WACEoqC,EAAuBV,KAAoBxqC,EAAWrI,QAExD5T,MAAOjF,EAAK6O,KACZkT,UAAWnK,EACXoL,SAAU8oC,GAAe9oC,EACzB9H,UAAWsD,EAAQqiB,MACnB/d,SAAUupC,EACVtpC,WAAY,CAAE,cAAe,gBAE9BipC,GACC,kBAAC,EAAAS,YAAD,CAAavxC,UAAWsD,EAAQuN,WAC9B,kBAAC,EAAAmV,UAAD,CACEjf,MAAOjd,EAAE,eACTC,MAAOjF,EAAK8O,YACZoM,UAAWsD,EAAQqiB,MACnBpgB,WAAS,EACTisC,QAAS,EACTC,QAAS,GACT3pC,SAAU+oC,GAAsB/oC,EAChCF,SAAUypC,EACVxpC,WAAY,CAAE,cAAe,wBAIlCkpC,GAAuBA,IACxB,kBAAC,EAAAW,WAAD,CAAY1xC,UAAWsD,EAAQyD,OAAQjd,EAAE,UACzC,kBAAC,EAAAynD,YAAD,CAAavxC,UAAWsD,EAAQuN,WAC7BmgC,EAAkBlsD,EAAKiF,MAAO,CAC7B2S,MAAAA,EACAkL,SAAU0pC,EACVnsC,MACE+rC,EAAuBV,KAAqBxqC,EAAWb,MACzD2B,WACEoqC,EAAuBV,KACvBxqC,EAAWrI,QACbmK,SAAUA,EACVrC,aAAc3gB,EAAK2gB,gBAGtBwrC,GACC,kBAAC,KAAD,CAAWjxC,UAAWsD,EAAQ+sC,UAAWtJ,iBAAe,GACtD,kBAAC,KAAD,CACE/mC,UAAWsD,EAAQgtC,iBACnBqB,WAAY,kBAAC,KAAD,OAEZ,kBAAC,EAAAnuC,WAAD,CAAYxD,UAAWsD,EAAQyD,OAC5Bjd,EAAE,mBAGP,kBAAC,KAAD,CAAkBkW,UAAWsD,EAAQitC,qBAClCS,EAAkBlsD,EAAK2gB,aAAc,CACpC/I,MAAAA,EACAkL,SAAU0pC,EACVhiC,WAAW,EACXxH,UAAU,QAOtB,kBAAC,EAAAshC,cAAD,CAAe,cAAY,0BACzB,kBAAC,EAAAC,OAAD,CAAQ,cAAY,cAAc1lC,QAASzG,GACxCpT,EAAE,WAEL,kBAAC,EAAAu/C,OAAD,CACE,cAAY,gBACZ/8C,MAAM,UACNqX,QAASwgC,EAETr8B,SACGopC,EAAuBV,KAAoBxqC,EAAWb,OACvD2C,GAGDhe,EAAE,aAmCf,SAASu9C,GAAcC,EAAWC,GAChC,OAAO5H,IAAAA,CAAS2H,EAAWC,GA5B7BkJ,GAAqBlsC,UAAY,CAC/BtP,MAAOuP,KAAAA,OAAAA,WACP9H,MAAO8H,KAAAA,KACPsD,SAAUtD,KAAAA,KACVosC,YAAapsC,KAAAA,KACbqsC,mBAAoBrsC,KAAAA,KACpBysC,YAAazsC,KAAAA,KACbssC,gBAAiBtsC,KAAAA,KACjBiB,aAAcjB,KAAAA,OACdtH,QAASsH,KAAAA,KACT6zB,SAAU7zB,KAAAA,KACVxH,SAAUwH,KAAAA,KACVwsC,kBAAmBxsC,KAAAA,KACnBusC,oBAAqBvsC,KAAAA,KACrBksC,eAAgBlsC,KAAAA,KAChBmsC,gBAAiBnsC,KAAAA,MAGnBisC,GAAqBhsC,aAAe,CAClCmsC,aAAa,EACbC,oBAAoB,EACpBC,iBAAiB,EACjBG,aAAa,EACb5Y,SAAU,SAAAvzC,GAAI,OAAIwX,QAAQ0vB,QAAQ,CAAEzuB,SAAS,EAAMzY,KAAAA,MAQrD,UAAemC,EAAAA,EAAAA,MAAKwa,GAAUgvC,IAAuBpJ,ICrT/C,GAA+Bp+C,QAAQ,mB,eCuJ7C,SA9IM2oD,WASJ,cAAuB,WAAT9kD,EAAS,EAATA,MAAS,2BARjB,IAQiB,iBAPf,IAOe,mBANb,IAMa,yBAJPnK,KAAKkvD,qBAIE,kBAFd,IAEc,8BA6GH,SAAAjzC,GAClB,OACE,kBAAC,EAAA4E,WAAD,CACE,cAAY,gCACZ0K,UAAU,MACV/mB,MAAO,CAAEyd,OAAQ,QAASC,MAAO,SAEjC,kBAAC,GAAAo/B,iBAAD,CACEl6C,MAAO+nD,IAAAA,CAAUlzC,EAAMmzC,QAAQhoD,OAC/B+Q,OAAQ,SAAAU,GACDoD,EAAMlC,OAAOlB,EAAO6K,QACzBzH,EAAMozC,cAAgBpzC,EAAMozC,aAAax2C,IAE3CrN,SAAS,SACT8jD,gBAAgB,EAChBnlD,MAAO,EAAKmW,OAAOpW,WAAWC,MAC9BhJ,QAAS,CAAEsJ,SAAUwR,EAAMkJ,UAC3BF,SAAU,SAAA7d,GAAK,OAAI6U,EAAMgJ,SAAS7d,UA5HxCpH,KAAKsgB,OAASnW,EACdnK,KAAKkvD,oBAAsBlvD,KAAKkvD,oBAAoBK,KAAKvvD,M,kCAO3D,WACE,OAAOA,KAAK+H,M,sBAOd,WACE,OAAO/H,KAAKokB,Q,8BAOd,WACE,OAAOpkB,KAAKwvD,gB,sBAOd,WAME,OAJAr5C,QAAQ+E,KACN,wDACAlb,KAAK+H,KAEA4R,QAAQ0vB,QAAQ,CACrBzuB,SAAS,EACT4H,MAAO,qC,sBAeX,SAASpb,GACP,OAAO+nD,IAAAA,CAAU/nD,K,4BAQnB,SAAeA,GACb,OAAO,KAAOA,KAAUkF,EAAoBrK,KAAK4xB,MAAMzsB,GAASA,I,iCASlE,SAAoB6U,GAAqB,WAAd5U,EAAc,uDAAP,MAC1BwR,EAAS,CACbkgB,IAAK,SAAA0R,GAAM,OAAI,EAAKglB,oBAAoBhlB,EAAQ,KAChDilB,OAAQ1vD,KAAK2vD,mBAEf,OAAO92C,EAAOxR,GAAM4U,K,iCAUtB,SAAoBA,EAAOxB,EAAam1C,GACtC,IAAMxoD,OAAwBtG,IAAhB8uD,EAA4BA,EAAc3zC,EAAMmzC,QAAQhoD,MACtE,OACE,kBAAC,EAAAi8B,UAAD,CACEne,WAAY,CAAE,cAAe,eAC7BlB,WAAS,EACTvJ,YAAaA,EACbrT,MAAOA,GAAS,GAChB6d,SAAU,SAAAD,GAAG,OAAI/I,EAAMgJ,SAASD,EAAIvgB,OAAO2C,c,EA5G7C6nD,GCUN,SAhBMY,SAAAA,G,+kBAEEvjD,I,mBACE,O,2BACQ,EAAK4iD,qB,sCAOrB,SAAS9nD,GACP,OAAOuS,QAAQ0vB,QAAQ,CAAEzuB,SAAS,EAAMxT,MAAAA,Q,EAZtCyoD,CAAgBC,ICIf,SAASC,GAAyB3oD,GACvC,OAAOA,IAAUgF,GAAiBhF,IAAUiF,EC+B9C,SAnCM2jD,SAAAA,G,+kBAEE1jD,I,mBACE,S,qBACE,M,4BAEM,SAAC2P,GAAwB,IAAjB5U,EAAiB,uDAAV,MACvBwR,EAAS,CACbkgB,IAAK,SAAA0R,GAAM,OAAI,EAAKglB,oBAAoBhlB,EAAQ,YAChDilB,OAAQ,EAAKC,mBAEf,OAAO92C,EAAOxR,GAAM4U,M,sCAQtB,SAAS7U,GAAO,aAEd,OADAA,EAAK,UAAGA,SAAH,aAAG,EAAOzF,QAAQ,KAAM,KACtB,IAAIgY,SAAQ,SAAA0vB,GACjB,IACE,GAAI0mB,GAAyB3oD,GAC3B,OAAOiiC,EAAQ,CAAEzuB,SAAS,EAAMxT,MAAAA,IAElC,IAAM6oD,EAAS,EAAKC,eAAe9oD,GACnCiiC,EAAQ,CAAEzuB,QAASjE,MAAMiI,QAAQqxC,GAAS7oD,MAAAA,IAC1C,MAAOnC,GACPokC,EAAQ,CAAEzuB,SAAS,EAAOxT,MAAAA,Y,EA7B5B4oD,CAAkBF,IC6ExB,SA3EMK,SAAAA,G,+kBAEE7jD,G,mBACE,W,qBACEiS,IAAa,I,4BAEP,SAACtC,GAAwB,IAAjB5U,EAAiB,uDAAV,MACzB+oD,EAAU,EAAKrwD,SAASkc,EAAMmzC,QAAQhoD,OAAOqgC,cAC3C5uB,EAAS,CACbkgB,IAAK,kBAAM,EAAKs3B,qBAAqBp0C,EAAOm0C,IAC5CV,OAAQ,kBAAM,EAAKW,qBAAqBp0C,EAAOm0C,GAAS,KAE1D,OAAOv3C,EAAOxR,Q,sCAQhB,SAASD,GACP,OAAO,IAAIuS,SAAQ,SAAA0vB,GACjB,IACE,IAAM4mB,E3MmKP,SAAsB7oD,GAC3B,OAAOgX,GAAoBhX,G2MpKNkpD,CAAalpD,GAG5BiiC,EAAQ,CAAEzuB,QAFM,KAAOq1C,KAAW3jD,IAGlC,MAAOrH,GACPokC,EAAQ,CAAEzuB,SAAS,U,kCAkBzB,SAAqBqB,EAAOm0C,EAASG,GACnC,IAAIX,GAAc,EAClB,IACEA,EAAc3tD,KAAK4xB,MAAMu8B,GACrB,KAAOR,KAAgBtjD,IACzBsjD,EAAc3tD,KAAK4xB,MAAM+7B,IAC3B,MAAO3qD,GACP2qD,GAAc,EAUhB,OACE,kBAAC,EAAAY,SAAD,CACE7mD,MAAO,UACPnF,MAAO,CAAE0d,MAAO,eAChBuuC,QAASb,EACT3qC,SAXqB,SAAAnO,GACvB,IAAM45C,EAAY55C,EAAMrS,OAAOgsD,QACzBrpD,EAAQmpD,EAAiBhyC,GAAamyC,GAAaA,EACzDz0C,EAAMgJ,SAAS7d,IASb+d,SAAUlJ,EAAMkJ,e,EArElBgrC,CAAoBL,ICyB1B,SA5BMa,SAAAA,G,+kBAEE,U,mBACE,iB,2BACQ,EAAKzB,qB,sCAOrB,SAAS9nD,GACP,OAAOo7C,EAAAA,KAAAA,cAAmB,CACxBC,OAAQ,yBACRC,KAAM,wBACN5N,KAAM1tC,IAELE,MAAK,SAAAuc,GAEJ,MAAO,CAAEjJ,QADOiJ,EAAIjJ,SAAWiJ,EAAIjhB,OACR4f,MAAO,4BAP/B,OASE,SAAA6C,GAEL,OADAlP,QAAQC,IAAI,+BAAgCiP,GACrC,CAAEzK,SAAS,U,EAvBpB+1C,CAA0Bb,IC6DhC,SA1DMc,SAAAA,G,+kBAEEtkD,I,mBACE,U,qBACE,K,4BAEM,SAAA2P,GACd,OACE,kBAAC,EAAAonB,UAAD,CACErf,WAAS,EACT9S,KAAM5E,GACNmO,YAAa,IACbrT,MAAO6U,EAAMmzC,QAAQhoD,OAAS,GAC9B+d,SAAUlJ,EAAMkJ,SAChBF,SAAU,SAAAD,GAAG,OAAI/I,EAAMgJ,SAASD,EAAIvgB,OAAO2C,a,sCAUjD,SAASA,GAAO,WACd,OAAO,IAAIuS,SAAQ,SAAA0vB,GACjB,IACE,GAAI0mB,GAAyB3oD,GAC3B,OAAOiiC,EAAQ,CAAEzuB,SAAS,EAAMxT,MAAAA,IAElC,IAAM6oD,EAAS,EAAKY,kBAAkBzpD,GAEtCiiC,EAAQ,CAAEzuB,QADM,KAAOq1C,KAAW3jD,KAAsBwkD,MAAMb,GAClCA,OAAAA,IAC5B,MAAOhrD,GACPokC,EAAQ,CAAEzuB,SAAS,U,+BAiBzB,SAAkBxT,GAChB,QAAIA,EAAMQ,QAAQ,MAAQ,IAEnBmpD,WAAW3pD,O,EAtDhBwpD,CAAmBd,ICgCzB,SAlCMkB,SAAAA,G,+kBAEE1kD,I,mBACE,U,qBACE,M,4BAEM,SAAC2P,GAAwB,IAAjB5U,EAAiB,uDAAV,MACvBwR,EAAS,CACbkgB,IAAK,SAAA0R,GAAM,OAAI,EAAKglB,oBAAoBhlB,EAAQ,YAChDilB,OAAQ,EAAKC,mBAEf,OAAO92C,EAAOxR,GAAM4U,M,sCAQtB,SAAS7U,GACP,OAAO,IAAIuS,SAAQ,SAAA0vB,GACjB,IACE,GAAI0mB,GAAyB3oD,GAC3B,OAAOiiC,EAAQ,CAAEzuB,SAAS,EAAMxT,MAAAA,IAGlCiiC,EAAQ,CAAEzuB,QADK3Y,KAAK4xB,MAAMzsB,GACAszC,cAAgBzzC,SAC1C,MAAOhC,GACPokC,EAAQ,CAAEzuB,SAAS,Y,EA5BrBo2C,CAAmBlB,ICsCzB,SAtCMmB,SAAAA,G,+kBAEE3kD,G,mBACE,U,qBACE,M,4BAEM,SAAC2P,GAAwB,IAAjB5U,EAAiB,uDAAV,MAEvB6pD,EAAe,CACnBn4B,IAAK,kBAAM,EAAK02B,oBAAoBxzC,EAAO,OAC3CyzC,OAAQ,kBAAM,EAAKC,kBAAkB1zC,KAGvC,OAAOi1C,EAAa7pD,Q,sCAQtB,SAASD,GAAO,WACd,OAAO,IAAIuS,SAAQ,SAAA0vB,GACjB,IACE,GAAI0mB,GAAyB3oD,GAC3B,OAAOiiC,EAAQ,CAAEzuB,SAAS,EAAMxT,MAAAA,IAElC,IAAM6oD,EAAS,EAAKC,eAAe9oD,GAGnCiiC,EAAQ,CAAEzuB,QADR,KAAOq1C,KAAW3jD,GAAqB2jD,aAAkB7uD,SAE3D,MAAO6D,GACPokC,EAAQ,CAAEzuB,SAAS,EAAO4H,MAAO,kC,EAhCnCyuC,CAAmBnB,ICgDzB,GA5CMqB,WACJ,cAA6C,IAA/BhnD,EAA+B,EAA/BA,MAA+B,IAAxBinD,cAAAA,OAAwB,qBAE3CpxD,KAAKmK,MAAQA,EAEbnK,KAAKqxD,UAAY,IAAI3+C,IACjB0+C,IACFpxD,KAAKsxD,YAAYL,IACjBjxD,KAAKsxD,YAAYV,IACjB5wD,KAAKsxD,YAAYnB,IACjBnwD,KAAKsxD,YAAYN,IACjBhxD,KAAKsxD,YAAYtB,IACjBhwD,KAAKsxD,YAAYX,IACjB3wD,KAAKsxD,YAAYzB,K,uCAQrB,SAAYC,GACV,IAAMyB,EAAmB,IAAIzB,EAAS,CAAE3lD,MAAOnK,KAAKmK,QACpDnK,KAAKqxD,UAAUn4C,IAAIq4C,EAAiBC,SAAUD,K,yBAOhD,WACE,OAAO,IAAIvxD,KAAKqxD,UAAUpmD,U,qBAQ5B,SAAQiG,GACN,OAAOlR,KAAKqxD,UAAUjpD,IAAI8I,O,EAxCxBigD,GCoEN,GAzEqB,WAEnB,IAAMhnD,GAAQ8lB,EAAAA,EAAAA,YACRwhC,EAAkB,IAAIN,GAAgB,CAAEhnD,MAAAA,IA4CxCunD,EAAa,+BAAG,WAAOxgD,EAAM9J,GAAb,gFACduqD,EAAWF,EAAgBta,QAAQjmC,GADrB,SAEFygD,EAASjc,SAAStuC,GAFhB,cAEdyc,EAFc,yBAGbA,EAAIjJ,QAAUxT,EAAQuqD,EAAQ,SAHjB,2CAAH,wDAiBnB,MAAO,CACLC,SAtCe,SAAAC,GAAY,MAC3B,iBAAOJ,EAAgBta,QAAQ0a,UAA/B,aAAO,EAAmCD,YAsC1CE,aAlDmB,WAA2B,IAA1BC,EAA0B,uDAAf,CAAC,UAChC,OAAON,EACJO,cACAv4B,QAAO,SAAAvoB,GAAI,OAAK6gD,EAASpqB,SAASz2B,OAgDrC+gD,iBA/BuB,SAAAJ,GAAY,MACnC,iBAAOJ,EAAgBta,QAAQ0a,UAA/B,aAAO,EAAmCI,oBA+B1CP,cAAAA,EACAhc,SAXe,SAAAvzC,GACf,IAAM0vD,EAAWJ,EAAgBta,QAAQh1C,EAAK+O,MAC9C,OAAK2gD,EACEA,EAASnc,SAASvzC,EAAKiF,OADRuS,QAAQ0vB,QAAQ,CAAEzuB,SAAS,EAAMzY,KAAAA,O,qkBCrC3D,IAAM+vD,GACI,SADJA,GAEK,UAFLA,GAGM,WAGNC,GAAwB,SAAAl2C,GAC5B,IACElC,EAOEkC,EAPFlC,MACAoL,EAMElJ,EANFkJ,SACAitC,EAKEn2C,EALFm2C,YACAC,EAIEp2C,EAJFo2C,iBACAC,EAGEr2C,EAHFq2C,kBACAC,EAEEt2C,EAFFs2C,iBACA9+B,EACExX,EADFwX,MAIF,GAAwB1U,EAAAA,EAAAA,UAAS,IAAjC,YAAO5c,EAAP,KAAa+X,EAAb,KACA,GAAsC6E,EAAAA,EAAAA,UAASmzC,IAA/C,YAAOM,EAAP,KAAoBC,EAApB,KACQtrD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAU2sC,KAChB,EACEoF,KADMZ,EAAR,EAAQA,aAAcF,EAAtB,EAAsBA,SAAUK,EAAhC,EAAgCA,iBAAkBP,EAAlD,EAAkDA,cAAehc,EAAjE,EAAiEA,SAa3Did,GAAcxoC,EAAAA,EAAAA,cAClB,SAAA/iB,GACE,OAAI6U,EAAM9Z,KAAK+O,OAAS5E,EACf,IAAP,OAAWlF,EAAX,KAGKA,IAET,CAAC6U,EAAM9Z,KAAK+O,OAQR0hD,GAAiBzoC,EAAAA,EAAAA,cAAY,SAAA/iB,GACjC,IAAIxE,EAASsvD,GASb,OAPI9qD,IAAUiF,IACZzJ,EAASsvD,IAEP9qD,IAAUgF,IACZxJ,EAASsvD,IAGJtvD,IACN,IAOGiwD,GAAgB1oC,EAAAA,EAAAA,cAAY,SAAA2oC,GAAY,MACtCC,EAAS,UAAGD,EAAS1rD,aAAZ,QAAqB0rD,EAAShwC,aAC7C,OAAOgwC,MAAAA,OAAA,EAAAA,EAAU5hD,QAAS5E,EACtBrK,KAAKC,UAAU6wD,GACfA,IACH,IAOGC,GAAc7oC,EAAAA,EAAAA,cAClB,SAAA2oC,GACE,IAAM5hD,EAAO4hD,EAAS5hD,KAEtB,GAAIqhD,EAAkB,CACpB,GAAIC,IAAgBN,GAClB,OAAO9lD,EAET,GAAIomD,IAAgBN,GAClB,OAAO7lD,EAIX,OAAO6E,IAAS5E,EACZrK,KAAK4xB,MAAMi/B,EAAS1rD,OACpB0rD,EAAS1rD,QAEf,CAACmrD,EAAkBC,IAafS,GAAa9oC,EAAAA,EAAAA,cACjB,SAAA2oC,GACE,IAAMI,EAAiB,SAClBJ,GADe,IAElB1rD,MACEmrD,GAAoBC,IAAgBN,GAChC9lD,EACAjK,EAAKiF,MACX8J,KAAM/O,EAAK+O,OAGb,OAAImhD,EAAyBA,EAAiBa,GAEvCxd,EAASwd,GACb5rD,MAAK,SAAAuc,GACJ,IAAKA,EAAIjJ,QACP,MAAM,IAAIzV,MACRgC,EAAE0c,EAAIrB,QAAUrb,EAAEkM,GAAeI,yBAGjCoQ,EAAIosC,SAAQ9tD,EAAKiF,MAAQyc,EAAIosC,OAAOlwD,YACxC,IAAMozD,EAAe,SAChBD,GADa,IAEhB9rD,MAAO4rD,EAAY7wD,KAErB,OAAO,SAAK0hB,GAAZ,IAAiB1hB,KAAMgxD,OAZpB,OAcE,SAAA9tC,GAEL,OADAoO,EAAM,CAAEzY,QAASqK,EAAIrK,QAASC,SAAU3J,KACjC+T,OAGb,CACEktC,EACAC,EACArwD,EACAsxB,EACAiiB,EACAsd,EACAX,EACAlrD,IAeEisD,GAAmBjpC,EAAAA,EAAAA,cACvB,SAAAnF,GAAO,MACC9T,EAAO8T,MAAAA,GAAH,UAAGA,EAAKvgB,cAAR,aAAG,EAAa2C,MAE1BsqD,EAAcxgD,EAAM/O,EAAKiF,OAAOE,MAAK,SAAAwd,GACnC5K,GAAQ,SAAAiR,GACN,OAAO,SACFA,GADL,IAEEja,KAAAA,EACA9J,MAAO0d,MAAAA,EAAAA,EAAYqG,EAAU/jB,gBAKrC,CAACjF,EAAMuvD,IAOH2B,GAA0BlpC,EAAAA,EAAAA,cAC9B,SAAAnF,GACE,IAAMsuC,EAAMtuC,EAAIvgB,OAAO2C,MACvB8S,GAAQ,SAAAiR,GACN,OAAImoC,IAAQpB,GACH,SAAK/mC,GAAZ,IAAuB/jB,MAAOiF,IAE5BinD,IAAQpB,IAAyBoB,IAAQpB,GACpC,SAAK/mC,GAAZ,IAAuB/jB,MAAOurD,EAAY12C,EAAM9Z,KAAK2gB,gBAEhDqI,KAGTsnC,EAAea,KAEjB,CAACr3C,EAAM9Z,KAAK2gB,aAAc6vC,KAS5B1zC,EAAAA,EAAAA,YAAU,WACJszC,GAAkBE,EAAeG,EAAe32C,EAAM9Z,KAAKiF,QAE/D8S,EAAQ,SAAK+B,EAAM9Z,MAAZ,IAAkBiF,MAAOyrD,EAAc52C,EAAM9Z,WACnD,CAAC8Z,EAAM9Z,KAAMowD,EAAkBM,EAAeD,IAYjD,IAAMW,GAAqBppC,EAAAA,EAAAA,cAAY,WACrC,OAAImoC,EAA0B,KAE5B,kBAAC,EAAA1D,YAAD,CAAavxC,UAAWsD,EAAQuN,WAC9B,kBAAC,EAAA6gC,WAAD,eAAgB5nD,EAAE,QAAlB,OACA,kBAAC,EAAAqsD,OAAD,CACExvC,WAAS,EACT5c,MAAOjF,EAAK+O,MAAQ5E,GACpB2Y,SAAUmuC,EACVjuC,SAAUitC,GAAejtC,EACzBD,WAAY,CAAE,cAAe,eAE5B4sC,IAAe7xD,KAAI,SAAA8H,GAAG,OACrB,kBAAC,EAAAonB,SAAD,CAAUpnB,IAAKA,EAAKX,MAAOW,GACxB6pD,EAAS7pD,WAMnB,CACDod,EACAxE,EACAxe,EACAmwD,EACAF,EACAN,EACAF,EACAwB,EACAjsD,IAGIssD,GAAqBtpC,EAAAA,EAAAA,cAAY,WACrC,OACE,kBAAC,EAAAykC,YAAD,CAAarjC,UAAU,YACrB,kBAAC,EAAAmoC,WAAD,CACE,cAAY,uBACZtsD,MAAOorD,EACPvtC,SAAUouC,EACVh2C,UAAWsD,EAAQ4sC,cAEnB,kBAAC,EAAAoG,iBAAD,CACEvsD,MAAO8qD,GACP/sC,SAAUA,EACVyuC,QAAS,kBAAC,EAAAC,MAAD,CAAO3uC,WAAY,CAAE,cAAe,kBAC7Cd,MAAOjd,EAAE,oBAEX,kBAAC,EAAAwsD,iBAAD,CACEvsD,MAAO8qD,GACP/sC,SAAUA,EACVyuC,QAAS,kBAAC,EAAAC,MAAD,CAAO3uC,WAAY,CAAE,cAAe,mBAC7Cd,MAAOjd,EAAE,qBAEX,kBAAC,EAAAwsD,iBAAD,CACEvsD,MAAO8qD,GACP/sC,SAAUA,EACVyuC,QAAS,kBAAC,EAAAC,MAAD,CAAO3uC,WAAY,CAAE,cAAe,oBAC7Cd,MAAOjd,EAAE,mBAAoB,CAC3B2sD,UAAW3xD,EAAK2xD,WAAa3sD,EAAE,iBAMxC,CACDhF,EAAK2xD,UACLtB,EACA7xC,EACA0yC,EACAlsD,EACAge,IAMIkpC,GAAoBlkC,EAAAA,EAAAA,cACxB,SAACrH,EAAc3hB,GAAY,MAEzB,OADsB8wD,EAAiB9vD,EAAK+O,MAG1C,qCACI/P,EAAQwrB,WAAa4lC,GAAoBkB,IACzCtyD,EAAQwrB,WAAa6lC,IAAgBN,GAOrCD,EAAiB9vD,EAAK+O,KAAtB+gD,CACE,CACE7C,QAAS,CACPhoD,MAAOjG,EAAQwrB,UACXgmC,EAAY7vC,GACZ3gB,EAAKiF,OAEX6d,SAAU,SAAArB,GAEN4uC,IAAgBN,IAChBS,EAAYxxD,EAAQ2hB,gBAAkBc,GAEtC6uC,EAAeP,IAEjBh4C,GAAQ,SAAAiR,GACN,OAAO,SAAKA,GAAZ,IAAuB/jB,MAAOwc,QAGlCuB,SAAUhkB,EAAQgkB,UAAYA,EAC9BpL,MAAK,UAAE5Y,EAAQ4Y,aAAV,QAAmBA,GAE1B,UA3BF,uBAAGsD,UAAWsD,EAAQ6sC,eACnBrmD,EAAE,oBAAqB,CACtB2sD,UAAW3xD,EAAK2xD,WAAa3sD,EAAE,aAPd,uCAsC7B,CACEqrD,EACAD,EACAptC,EACAhjB,EACA4X,EACA4G,EACA8yC,EACAd,EACAV,EACA9qD,IAIJ,OACE,kBAAC,GAAD,QACM8U,EADN,CAEEy5B,SAAUud,EACV5E,kBAAmBA,EACnBD,oBAAqBmF,MAK3BpB,GAAsBvwC,UAAY,CAChCzf,KAAM0f,KAAAA,OAAAA,WACN9H,MAAO8H,KAAAA,KACPuwC,YAAavwC,KAAAA,KACbsD,SAAUtD,KAAAA,KACVssC,gBAAiBtsC,KAAAA,KACjBywC,kBAAmBzwC,KAAAA,KACnB0wC,iBAAkB1wC,KAAAA,KAClBwwC,iBAAkBxwC,KAAAA,KAClB4R,MAAO5R,KAAAA,MAGT,SAAewa,GAAWvd,GAAUqzC,KCtZ9B,GAA+B7rD,QAAQ,gC,eCEhCytD,IAA0Bp0C,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC3DxhB,KAAM,CACJ+gB,QAAS,kBACTqC,MAAO,QAET8xC,QAAS,CACP9tC,SAAU,UAEZkuB,QAAS,CACPjyB,QAAS,OACToI,cAAe,UAEjB+L,OAAQ,CACN29B,UAAW,WCJTC,GAAoB,SAAAj4C,GACxB,IACE3J,EAIE2J,EAJF3J,MACAQ,EAGEmJ,EAHFnJ,SACAsxC,EAEEnoC,EAFFmoC,gBAHF,EAKInoC,EADFqF,OAAAA,OAJF,MAIW,oBAJX,EAMMX,EAAUozC,KAEhB,OACE,kBAAC,KAAD,CAAY,cAAazyC,EAAQiK,UAAU,MAAMlO,UAAWsD,EAAQ7hB,MAClE,kBAAC,KAAD,CAAWslD,gBAAiBA,GAC1B,kBAAC,KAAD,CAAkB4K,WAAY,kBAAC,KAAD,OAC5B,kBAAC,KAAD,CAAYzjC,UAAU,MAAMlO,UAAWsD,EAAQ2V,QAC7C,kBAAC,KAAD,CAAYjZ,UAAWsD,EAAQqzC,SAAU1hD,KAG7C,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAkB+K,UAAWsD,EAAQyzB,SAClCthC,MAOXohD,GAAkBtyC,UAAY,CAC5BtP,MAAOuP,KAAAA,UAAoB,CAACA,KAAAA,QAAmBA,KAAAA,SAC/CuiC,gBAAiBviC,KAAAA,MAGnBqyC,GAAkBpyC,aAAe,CAC/BxP,MAAO,sCACP8xC,iBAAiB,GAGnB,YCtCA,IAAM+P,GAAgB,SAAAl4C,GAEpB,IAmDQkF,EA3BWy6B,EAvBjB4O,EAQEvuC,EARFuuC,QACAroD,EAOE8Z,EAPF9Z,KACAmQ,EAME2J,EANF3J,MACA8hD,EAKEn4C,EALFm4C,YACAC,EAIEp4C,EAJFo4C,eACAz2B,EAGE3hB,EAHF2hB,SACAD,EAEE1hB,EAFF0hB,QAPF,EASI1hB,EADFqF,OAAAA,OARF,MAQW,0BARX,EAWQna,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAiER,OACE,kBAAC,GAAD,CAAmBma,OAAQA,EAAQhP,MAAOA,GACxC,kBAAC,GAAD,CACEqrB,QAASA,EACTx7B,MAxDay5C,EAwDIz5C,EAvDjBwU,MAAMiI,QAAQg9B,GAAeA,EAC1B30C,OAAOqO,OAAOsmC,GAAO37C,KAAI,SAACC,EAAMM,GACrC,MAAO,CACLf,GAAI,GAAF,OAAKe,EAAL,YAAUN,EAAK8Q,MACjBA,KAAM9Q,EAAK8Q,KACX5J,MAAOlH,EAAKkH,MACZ8J,KAAMhR,EAAKgR,KACXD,YAAa/Q,EAAK+Q,iBAiDlBkQ,SA9BEA,EAAU,CACd,SAAAiuC,GAAO,MAAK,CACV3pC,KAAM,kBAAM,kBAAC,KAAD,OACZN,UAAWyY,EACX02B,QAASntD,EAAE,QACX6Z,QAAS,kBAAMqzC,EAAe7J,EAAS4E,EAAQp+C,UAI/C4sB,GACFzc,EAAQ3hB,KAAK,CACXimB,KAAM,kBAAM,kBAAC,KAAD,OACZ6uC,QAASntD,EAAE,YAAa,CAAEotD,YAAajiD,IACvCkiD,cAAc,EACdxzC,QAAS,kBAAMqzC,EAAe7J,MAE3BrpC,GAeHyc,SAAU,CACR62B,WAAY,kBAAM72B,GAClB82B,YAAa,kBAAM92B,GACnBw2B,YAAa,SAAAhF,GAAO,OAAIgF,EAAY5J,EAAS4E,EAAQp+C,YAuB/D,SAAS0zC,GAAcC,EAAWC,GAChC,OAAO5H,IAAAA,CAAS2H,EAAUxiD,KAAMyiD,EAAUziD,MAjB5CgyD,GAAcvyC,UAAY,CACxB4oC,QAAS3oC,KAAAA,OAAAA,WACTuyC,YAAavyC,KAAAA,KAAAA,WACbwyC,eAAgBxyC,KAAAA,KAAAA,WAChBvP,MAAOuP,KAAAA,OACP1f,KAAM0f,KAAAA,UAAoB,CAACA,KAAAA,MAAiBA,KAAAA,SAC5C8b,QAAS9b,KAAAA,MACT+b,SAAU/b,KAAAA,MAGZsyC,GAAcryC,aAAe,CAC3B3f,KAAM,GACNy7B,UAAU,GAQZ,UAAet5B,EAAAA,EAAAA,MAAK6vD,GAAezP,ICzH5B,I,GAAMiQ,IAAoBh1C,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACpDrL,KAAM,CACJ+gB,QAAS,kBACTqC,MAAO,QAET4D,UAAW,CACT5D,MAAO,OACPC,QAAS,OACTE,eAAgB,gBAChBD,WAAY,UAEd4gB,MAAO,CACLpjB,OAAQzV,EAAM2V,QAAQ,GACtByO,WAAY,UACZrM,MAAO,MACP4U,WAAY,QAEd5G,KAAM,CACJ/N,QAAS,OACTE,eAAgB,SAChBD,WAAY,UAEdwyC,OAAQ,CACNzyC,QAAS,OACToI,cAAe,MACfnI,WAAY,SACZyyC,SAAU,QAEZC,aAAc,CACZ5yC,MAAO,OACPD,OAAQ,OACR0D,YAAa,MACbmI,aAAc,OAEhBinC,UAAW,CACTv8B,WAAYruB,EAAM2V,QAAQ,GAC1B6F,YAAaxb,EAAM2V,QAAQ,IAE7Bk1C,cAAe,CACb7yC,QAAS,OACTC,WAAY,SACZpC,SAAU,WACVC,MAAO,QACPC,IAAK,QAEPk0B,QAAS,CAAEjyB,QAAS,OAAQoI,cAAe,UAC3CwO,IAAK,CAAE5W,QAAS,OAAQoI,cAAe,OACvCypC,QAAS,CAAE9tC,SAAU,UACrBoQ,OAAQ,CAAE29B,UAAW,WCvCjBgB,IAAW,aACd9hD,GAAuC,WADzB,OAEdA,GAAmC,WAFrB,OAGdA,GAAqC,WAHvB,OAIdA,GAAqC,WAJvB,OAKdA,GAAoC,WALtB,OAMdA,GAAqC,WANvB,OAOdA,GAAsC,WAPxB,OAQdA,GAAoC,WARtB,OASdA,GAAmC,WATrB,OAUdA,GAA4C,WAV9B,IAaX+f,GAAc,SAAAjX,GAElB,IAAQyyC,EAAmDzyC,EAAnDyyC,oBAAqBtnD,EAA8B6U,EAA9B7U,MAAO8tD,EAAuBj5C,EAAvBi5C,SAAUt3B,EAAa3hB,EAAb2hB,SAEtCz2B,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAUg0C,KAkChB,OACE,kBAAC,GAAD,CACErzC,OAAO,sBACPhP,MAvBA,oCACE,kBAAC,KAAD,CAAYiZ,UAAU,OAAOlO,UAAWsD,EAAQqzC,SAC7C7sD,EAAE,gBAEJ+tD,GACC,kBAAC,KAAD,CAAY3pC,UAAU,OAAOlO,UAAWsD,EAAQq0C,eAC9C,oCACE,kBAAC,KAAD,CACEzpC,UAAU,OACVlO,UAAWsD,EAAQm0C,aACnBtwD,MAAO,CAAEqF,gBAAiBorD,GAAYC,MAExC,kBAAC,KAAD,CAAY3pC,UAAU,QAAQ2pC,MAYtC9Q,iBAAiB,GAGjB,kBAAC,KAAD,CACEl/B,WAAY,CAAE,cAAe,qBAC7BC,UAAWyY,EACXvgB,UAAWsD,EAAQo0C,UACnB3wC,MAAOjd,EAAE,eACT0nD,QAAQ,IACRjsC,WAAS,EACTE,aAAc1b,EACd6d,SAAU,SAAAD,GAAG,OAAI0pC,EAAoB1pC,EAAIvgB,OAAO2C,QAChDwY,OAAO,SACPkB,QAAQ,eAqBhB,SAAS4jC,GAAcC,EAAWC,GAChC,IAAMuQ,EAAkBxQ,EAAUv9C,QAAUw9C,EAAUx9C,MAEtD,OADiBu9C,EAAUuQ,WAAatQ,EAAUsQ,UAC/BC,EAlBrBjiC,GAAYtR,UAAY,CACtBxa,MAAOya,KAAAA,OACPqzC,SAAUrzC,KAAAA,OACV6sC,oBAAqB7sC,KAAAA,KACrB+b,SAAU/b,KAAAA,MAGZqR,GAAYpR,aAAe,CACzBozC,SAAU,GACV9tD,MAAO,GACPsnD,oBAAqB,SAAC1pC,EAAKkL,GAAN,OAAe/Z,QAAQC,IAAI4O,EAAIvgB,OAAO2C,MAAO8oB,IAClE0N,UAAU,GAUZ,UAAet5B,EAAAA,EAAAA,MAAK4uB,GAAawxB,IC3G3B,GAA+Bp+C,QAAQ,sC,eCA7C,MAAM,GAA+BA,QAAQ,8B,eCGhC8uD,IAAc/R,EAAAA,EAAAA,aAAW,SAAAl5C,GAAK,MAAK,CAC9CmqD,QAAS,CACPzqD,gBAAiBM,EAAMgW,QAAQk1C,OAAO/rD,WACtCgoC,YAAannC,EAAMgW,QAAQk1C,OAAO/oC,OAClC3iB,MAAOQ,EAAMgW,QAAQk1C,OAAO1rD,MAC5BkW,QAAS1V,EAAM2V,QAAQ,GACvB1C,SAAU,IACV8I,SAAU/b,EAAMm+B,WAAWgtB,QAAQ,IACnChpC,OAAQ,gBARe+2B,CAUvBjpB,MCXSm7B,IAAuB51C,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACvDrL,KAAM,CACJ+gB,QAAS,kBACTqC,MAAO,QAET8xC,QAAS,CACP9tC,SAAU,UAEZkuB,QAAS,CACPjyB,QAAS,OACToI,cAAe,UAEjB+L,OAAQ,CACN29B,UAAW,OAEbjxB,MAAO,CACLpjB,OAAQzV,EAAM2V,QAAQ,GACtByO,WAAY,UACZrM,MAAO,MACP4U,WAAY,QAEd5G,KAAM,CACJ/N,QAAS,OACTE,eAAgB,SAChBD,WAAY,UAEd2W,IAAK,CACH5W,QAAS,OACToI,cAAe,OAEjBqqC,OAAQ,CACNzyC,QAAS,OACToI,cAAe,MACfnI,WAAY,SACZyyC,SAAU,QAEZW,sBAAuB,CACrBnzC,eAAgB,SAChBF,QAAS,OACToI,cAAe,MACfsoB,SAAU,GAEZN,KAAM,CACJ3yB,OAAQ,sBACRC,QAAS,OAEX41C,iBAAkB,CAChB71C,OAAQ,MAEVm1C,UAAW,CACTv8B,WAAYruB,EAAM2V,QAAQ,GAC1B6F,YAAaxb,EAAM2V,QAAQ,IAE7B41C,SAAU,CACR91C,OAAQ,O,4FCjCN+1C,GAAsB,SAAA15C,GAC1B,IACE6tC,EAOE7tC,EAPF6tC,WACAE,EAME/tC,EANF+tC,WACAD,EAKE9tC,EALF8tC,OACA3rB,EAIEniB,EAJFmiB,KACAw3B,EAGE35C,EAHF25C,aACAC,EAEE55C,EAFF45C,wBACAj4B,EACE3hB,EADF2hB,SAGF,GAAsC7e,EAAAA,EAAAA,UAjB/B,GAiBP,YAAO+2C,EAAP,KAAoBC,EAApB,KAEMp1C,EAAU40C,KACRpuD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAWF6uD,GAAqB7rC,EAAAA,EAAAA,cACzB,SAAA8rC,GACMA,IAAgBH,GACpBC,EAlCG,KAoCL,CAACD,IAMGI,GAAsB/rC,EAAAA,EAAAA,cAAY,SAAAsY,GACtCszB,GAAe,SAAA5qC,GACb,OAAIA,IAAcsX,EA5Cf,EA6CSA,OAEb,IAgBG0zB,EAAiB,SAACC,EAAS9jD,EAAO+jD,EAAe/B,GAAhC,OACrB,kBAAC,KAAD,CAAY/oC,UAAU,MAAMlO,UAAWsD,EAAQ60C,uBAC7C,kBAAC,KAAD,CACEn4C,UAAWsD,EAAQ80C,iBACnB7B,QACE,kBAAC,KAAD,CACE1uC,WAAY,CAAE,cAAe,SAAf,OAAwBkxC,IACtCjxC,UAAWyY,EACX6yB,QAAS4F,EACTpxC,SAAU,kBAAM4wC,EAAwBO,GAAUC,IAClD1sD,MAAM,YAGVya,MAAO9R,IAET,kBAAC,KAAD,CAAmBwd,YAAa,kBAAMkmC,EAAmB1B,EAAQ70D,MAC/D,kBAAC,KAAD,CAAY,cAAY,kBAAkB8rB,UAAU,OAClD,kBAAC6pC,GAAD,CACEkB,YAAa,CAAEC,eAAe,GAC9Bh8C,QAASy7C,EACTz0C,KAAMu0C,IAAgBxB,EAAQ70D,GAC9B86B,sBAAoB,EACpBC,sBAAoB,EACpBloB,MACE,oCACE,kBAAC,KAAD,CAAY3I,MAAM,WAAW2qD,EAAQhiD,OACpCgiD,EAAQrjD,cAIb,kBAAC,KAAD,CACE,cAAY,uBACZoM,UAAWsD,EAAQ4xB,KACnBvxB,QAAS,kBAAMk1C,EAAoB5B,EAAQ70D,MAE3C,kBAAC,KAAD,CAAU4d,UAAU,sBAQhC,OACE,kBAAC,GAAD,CACEiE,OAAO,+BACPhP,MAAOnL,EAAE,wBAET,kBAAC,KAAD,CAAYokB,UAAU,MAAMlO,UAAWsD,EAAQi0C,QAE5CuB,EAAe,aAAchvD,EAAE,cAAe2iD,EAAY,CACzDrqD,GAjHI,EAkHJ6S,MAAOnL,EAAE,uBACT8J,YAAa9J,EAAE,+BAGhBgvD,EAAe,aAAchvD,EAAE,cAAe6iD,EAAY,CACzDvqD,GAtHI,EAuHJ6S,MAAOnL,EAAE,cACT8J,YAAa9J,EAAE,2BAGhBgvD,EAAe,SAAUhvD,EAAE,UAAW4iD,EAAQ,CAC7CtqD,GA3HA,EA4HA6S,MAAOnL,EAAE,UACT8J,YAAa9J,EAAE,wBAGnB,kBAAC,KAAD,CACE+d,WAAY,CAAE,cAAe,cAC7Bd,MAAOjd,EAAE,QACTge,UAAWyY,EACXvgB,UAAWsD,EAAQo0C,UACnBjyC,aAAcsb,EACdnZ,SAAU,SAAAD,GAAG,OAAI4wC,EAAa5wC,EAAIvgB,OAAO2C,QACzCwY,OAAO,SACPkB,QAAQ,eA2BhB,SAAS4jC,GAAcC,EAAWC,GAM5BD,EAHFkR,wBAGElR,EAFFiR,aAFF,IAGKY,EAHL,KAII7R,EAJJ,IASK8R,GACD7R,EAHFiR,wBAGEjR,EAFFgR,aAFF,KAIIhR,EAJJ,KAMA,OAAO5H,IAAAA,CAASwZ,EAAeC,GAnCjCd,GAAoB/zC,UAAY,CAC9BkoC,WAAYjoC,KAAAA,KACZmoC,WAAYnoC,KAAAA,KACZkoC,OAAQloC,KAAAA,KACRuc,KAAMvc,KAAAA,OACN+zC,aAAc/zC,KAAAA,KACdg0C,wBAAyBh0C,KAAAA,KACzB+b,SAAU/b,KAAAA,MAGZ8zC,GAAoB7zC,aAAe,CACjCgoC,YAAY,EACZE,YAAY,EACZD,QAAQ,EACR3rB,KAAM,GACNw3B,aAAc,SAAA1lC,GAAI,OAAI/Z,QAAQC,IAAI8Z,IAClC2lC,wBAAyB,SAACa,EAAOtvD,GAAR,OAAkB+O,QAAQC,IAAIsgD,EAAOtvD,IAC9Dw2B,UAAU,GAqBZ,UAAet5B,EAAAA,EAAAA,MAAKqxD,GAAqBjR,IC/LzC,IAAMiS,GAAkB,SAAA16C,GAEtB,IAAQ2hB,EAAgE3hB,EAAhE2hB,SAAUz7B,EAAsD8Z,EAAtD9Z,KAAMkyD,EAAgDp4C,EAAhDo4C,eAAgBD,EAAgCn4C,EAAhCm4C,YAAawC,EAAmB36C,EAAnB26C,eAE7ChF,EAAac,KAAbd,SACAzqD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAEF0vD,EAAa,CACjBvkD,MAAOnL,EAAE,QACT04B,MAAO,OACP3d,MAAO,IACP40C,UAAW,CACTC,YAAa,KAEfC,UAAW,CACTxyB,aAAc,WACd5e,WAAY,SACZ4E,SAAU,UAEZb,OAAQ,SAAAylC,GAAO,OACb,0BAAM,cAAY,eAAewC,EAASxC,EAAQl+C,SAGhDysB,EAAU,IAAIi5B,GASpB,OARAj5B,EAAQn+B,KAAKq3D,GASX,kBAAC,GAAD,CACEv1C,OAAO,qBACPhP,MAAOnL,EAAE,cACTqjD,QAAQ,aACR5sB,SAAUA,EACVz7B,KAAMA,EACNw7B,QAASA,EACTy2B,YAAaA,EACbC,eAAgB,SAAC7J,EAASyM,GAAV,OACd5C,EAAe7J,EAASyM,EAAQ9E,QAuBxC,SAASzN,GAAcC,EAAWC,GAChC,OAAO5H,IAAAA,CAAS2H,EAAUxiD,KAAMyiD,EAAUziD,MAlB5Cw0D,GAAgB/0C,UAAY,CAC1Bzf,KAAM0f,KAAAA,UAAoB,CAACA,KAAAA,MAAiBA,KAAAA,SAC5C+0C,eAAgB/0C,KAAAA,MAChBuyC,YAAavyC,KAAAA,KACbwyC,eAAgBxyC,KAAAA,KAChB+b,SAAU/b,KAAAA,MAGZ80C,GAAgB70C,aAAe,CAC7B3f,KAAM,GACNy0D,eAAgB,GAChBxC,YAAa,kBAAMz4C,GAAgB,gBACnC04C,eAAgB,kBAAM14C,GAAgB,mBACtCiiB,UAAU,GAQZ,UAAet5B,EAAAA,EAAAA,MAAKqyD,GAAiBjS,IC9E/B,GAA+Bp+C,QAAQ,kB,qkBCEtC,IAAM4wD,IAAsBv3C,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACtDgtD,WAAY,CACVj1C,MAAO,QAETk1C,YAAa,CACXx3C,OAAQzV,EAAM2V,QAAQ,GACtBU,SAAU,SAEZozC,QAAS,CACP1tC,SAAU,gB,qkBC8Sd,SA7S2B,SAAA/jB,GACzB,IAAQ+hB,EAAgD/hB,EAAhD+hB,UAAW6oC,EAAqC5qD,EAArC4qD,WAAYI,EAAyBhrD,EAAzBgrD,qBAEzBxsC,EAAUu2C,KACR/vD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACR,ECfuB,SAAAhF,GACvB,IAAQgrD,EAAqChrD,EAArCgrD,qBAAsBJ,EAAe5qD,EAAf4qD,WAaxBsK,EAAc,SAACrwD,EAAG2B,GACtB,OAAI3B,EAAEod,MAAQzb,EAAEyb,MAAc,EAClBzb,EAAEyb,MAAQpd,EAAEod,OAAS,EAAI,GAgJvC,MAAO,CAAEkzC,iBA/GentC,EAAAA,EAAAA,cAAY,WAClC,IAAMotC,EAAa,GACfC,GAAc,EAClB,SACiB12D,IAAfisD,GACE9lD,OAAOgE,KAAK8hD,GAAYjlD,SAAQ,SAAA2vD,GAC9B,MACE1K,EAAW0K,GAAatkC,MAAMtV,MAAM,KADtC,YAAO65C,EAAP,KAAkBC,EAAlB,KAGMC,EAAS,CAAExwD,MAAOqwD,EAAarzC,MAAOuzC,GAAYD,GAExD,GAAKC,EAKH,IAAoB,KAFpBH,EAAaD,EAAW3vB,WAAU,SAAAf,GAAI,OAAIA,EAAKziB,QAAUszC,MAGvDH,EAAW/3D,KAAK,CACd4kB,MAAOszC,EACPv2D,QAAS,CAACy2D,SAIT,CAEH,IAAMC,EAAgB,MAAKN,EAAWC,IACtCD,EAAWC,GAlDW,SAACM,EAAU53D,GAC3C,IAAK,IAAIM,EAAI,EAAGA,EAAIs3D,EAAS32D,QAAQb,OAAQE,IAAK,CAChD,IAAM6E,EAAUyyD,EAAS32D,QAAQX,GAAG4jB,MACpC,GAAIlkB,EAAKkkB,OAAS/e,EAAS,CACzByyD,EAAS32D,QAAQuC,OAAOlD,EAAG,EAAGN,GAC9B,MAEF,GAAIM,IAAMs3D,EAAS32D,QAAQb,OAAS,EAAG,CACrCw3D,EAAS32D,QAAQ3B,KAAKU,GACtB,OAGJ,OAAO43D,EAsC4BC,CACvBF,EACAD,QAjBSL,EAAW/3D,KAAKo4D,MAsBnC,MAAOp1C,GACPrM,QAAQ+E,KAAK,oDAEf,OAAOq8C,IACN,CAACxK,IA0EsBiL,mBApEA7tC,EAAAA,EAAAA,cAAY,SAAAilC,GACpC,QACctuD,IAAZsuD,QACqBtuD,IAArBsuD,EAAQrX,UACa,KAArBqX,EAAQrX,SAER,MAAO,GAGT,IACE,IAAMkgB,EAAU,MAAKlL,EAAWqC,EAAQrX,UAAUmgB,MAclD,OAZIjxD,OAAOgE,KAAKgtD,GAAS33D,OAAS,EACf,CAAC,CAAE8G,MAAO6wD,EAAQxf,QAASr0B,MAAO6zC,EAAQxf,UAI1CxxC,OAAOgE,KAAKkiD,EAAqB8K,EAAQ/mD,OAAOjR,KAC/D,SAAAoF,GACE,MAAO,CAAE+B,MAAO/B,EAAS+e,MAAO/e,OAKhB8hC,KAAKkwB,GAC3B,MAAO70C,GAEP,OADArM,QAAQ+E,KAAK,yCACN,MAER,CAAC6xC,EAAYI,IAuC6BgL,mBAjCnBhuC,EAAAA,EAAAA,cAAY,SAAAilC,GACpC,QACctuD,IAAZsuD,QACqBtuD,IAArBsuD,EAAQrX,UACa,KAArBqX,EAAQrX,eACej3C,IAAvBsuD,EAAQpX,YACe,KAAvBoX,EAAQpX,WAER,MAAO,GAGT,IACE,IAAMigB,EAAU,MAAKlL,EAAWqC,EAAQrX,UAAUmgB,MAclD,OAZIjxD,OAAOgE,KAAKgtD,GAAS33D,OAAS,EACf,CAAC,CAAE8G,MAAO6wD,EAAQtgB,QAASvzB,MAAO6zC,EAAQtgB,UAI1CwV,EAAqB8K,EAAQ/mD,MAC5Ck+C,EAAQpX,YACR/3C,KAAI,SAAAoF,GACJ,MAAO,CAAE+B,MAAO/B,EAAS+e,MAAO/e,OAId8hC,KAAKkwB,GAC3B,MAAO70C,GAEP,OADArM,QAAQ+E,KAAK,4CACN,MAER,CAAC6xC,EAAYI,KD9IdiL,CAAiB,CAAEjL,qBAAAA,EAAsBJ,WAAAA,IADnCuK,EAAR,EAAQA,gBAAiBU,EAAzB,EAAyBA,kBAAmBG,EAA5C,EAA4CA,kBActCE,EAAgB,SAAAl3D,GACpB,YACcL,IAAZK,GACAA,EAAQlB,KAAI,SAAC23D,EAAQU,GACnB,OACE,4BAAQvwD,IAAKuwD,EAAalxD,MAAOwwD,EAAOxwD,OACrCwwD,EAAOxzC,WAYZm0C,GAAiBpuC,EAAAA,EAAAA,cAAY,SAAAilC,GACjC,IAAMoJ,EAASvxD,OAAOgE,KAAKmkD,EAAQnX,QAAQ33C,OACzC,kBAAC,EAAA85B,QAAD,CAAS9nB,MAAM,SACb,uBAAG+K,UAAU,UAAU7Y,MAAO,CAAE0hB,SAAU,kBAE1CplB,EACE23D,EAAUxxD,OAAOgE,KAAKmkD,EAAQlX,SAAS53C,OAC3C,kBAAC,EAAA85B,QAAD,CAAS9nB,MAAM,SACb,uBAAG+K,UAAU,WAAW7Y,MAAO,CAAE0hB,SAAU,kBAE3CplB,EACJ,OACE,oCACG03D,EACAC,KAGJ,IAOGC,GAAuBvuC,EAAAA,EAAAA,cAC3B,SAAAlO,GACE,OACE,kBAAC,EAAAonB,UAAD,CACEnf,UAAWA,EACXzJ,YAAawB,EAAM08C,UAAUrmD,MAC7BlL,WAAuBtG,IAAhBmb,EAAM7U,MAAsB,GAAK6U,EAAM7U,MAC9C6d,SAAU,SAAAnO,GAAK,OAAImF,EAAMgJ,SAASnO,EAAMrS,OAAO2C,QAC/C8d,WAAY,CACV,cAAe,aACf1gB,MAAO,CACL0hB,SAAU,GACV2R,UAAW,aAMrB,CAAC3T,IAQG00C,GAA4BzuC,EAAAA,EAAAA,cAChC,SAAAlO,GAKE,IAsBM9a,EAAUm2D,EAAgBvK,GAChC,OACE,yBAAK1vC,UAAWsD,EAAQw2C,YACtB,kBAAC,EAAAvI,YAAD,CAAavxC,UAAWsD,EAAQy2C,aAC9B,kBAAC,EAAAyB,aAAD,CACE3zC,WAAY,CAAE,cAAe,kBAC7B7H,UAAWsD,EAAQizC,QACnBxsD,MAAO6U,EAAM7U,MACb6d,SA9BS,SAAAnO,GACf,IAAMiyB,EAAU,MAAK9sB,EAAMmzC,SAC3BrmB,EAAQgP,SAAWjhC,EAAMrS,OAAO2C,MAGhC,IAAM0xD,EAAiBd,EAAkBjvB,GAEzC,GAA8B,IAA1B+vB,EAAex4D,OAAc,CAC/ByoC,EAAQ/tB,QAAU,GAClB+tB,EAAQiP,WAAa8gB,EAAe,GAAG1xD,MACvC,IAAM2xD,EAAiBZ,EAAkBpvB,GAEX,IAA1BgwB,EAAez4D,SACjByoC,EAAQ/tB,QAAU+9C,EAAe,GAAG3xD,YAEtC2hC,EAAQiP,WAAa,GACrBjP,EAAQ/tB,QAAU,GAEpBiB,EAAM+8C,gBAAgBjwB,KAchB,4BAAQ3hC,MAAM,KACbjG,EAAQlB,KAAI,SAACy3D,EAAWuB,GACvB,YAA6Bn4D,IAAtB42D,EAAUv2D,QACf,8BACE4G,IAAKkxD,EACL70C,MAAK,aAAQszC,EAAUtzC,QAEtBszC,EAAUv2D,QAAQlB,KAAI,SAAC03D,EAAUuB,GAChC,OACE,4BAAQnxD,IAAKmxD,EAAe9xD,MAAOuwD,EAASvwD,OACzCuwD,EAASvzC,WAMlB,4BACErc,IAAK,aAAekxD,EACpB7xD,MAAOswD,EAAUtwD,OAEhBswD,EAAUtzC,eAS3B,CAACzD,EAASosC,EAAYuK,EAAiBa,EAAmBH,IAQtDmB,GAA0BhvC,EAAAA,EAAAA,cAC9B,SAAAlO,GAKE,IAQM9a,EAAU62D,EAAkB/7C,EAAMmzC,SACxC,OACE,yBAAK/xC,UAAWsD,EAAQw2C,YACtB,kBAAC,EAAAvI,YAAD,CAAavxC,UAAWsD,EAAQy2C,aAC9B,kBAAC,EAAAyB,aAAD,CACE3zC,WAAY,CAAE,cAAe,iBAC7B7H,UAAWsD,EAAQizC,QACnBxsD,MAAO6U,EAAM7U,MACb6d,SAhBS,SAAAnO,GACf,IAAMiyB,EAAU,MAAK9sB,EAAMmzC,SAC3BrmB,EAAQiP,WAAalhC,EAAMrS,OAAO2C,MAClC2hC,EAAQ/tB,QAAU,GAClBiB,EAAM+8C,gBAAgBjwB,KAchB,4BAAQ3hC,MAAM,KACbixD,EAAcl3D,QAMzB,CAACwf,EAASq3C,IAQNoB,GAA0BjvC,EAAAA,EAAAA,cAC9B,SAAAlO,GAKE,IAMM9a,EAAUg3D,EAAkBl8C,EAAMmzC,SACxC,OACE,yBAAK/xC,UAAWsD,EAAQw2C,YACtB,kBAAC,EAAAvI,YAAD,CAAavxC,UAAWsD,EAAQy2C,aAC9B,kBAAC,EAAAyB,aAAD,CACE3zC,WAAY,CAAE,cAAe,iBAC7B7H,UAAWsD,EAAQizC,QACnBxsD,MAAO6U,EAAM7U,MACb6d,SAdS,SAAAD,GACf,IAAM+jB,EAAU,MAAK9sB,EAAMmzC,SAC3BrmB,EAAQ/tB,QAAUgK,EAAIvgB,OAAO2C,MAC7B6U,EAAM+8C,gBAAgBjwB,KAahB,4BAAQ3hC,MAAM,KACbixD,EAAcl3D,QAMzB,CAACwf,EAASw3C,IAoEZ,MAAO,CAAEkB,YAvDUlvC,EAAAA,EAAAA,cAAY,WAC7B,MAAO,CACL,CACE7X,MAAO,GACPutB,MAAO,WACPlW,OAAQ4uC,EACR36B,SAAU,QACV1b,MAAO,IAET,CACE5P,MAAOnL,EAAE,QACT04B,MAAO,OACPy5B,YAAa,MACb3vC,OAAQ,SAAAylC,GAAO,OACb,0BAAM,cAAY,eAAeA,EAAQp+C,OAE3Cw+C,cAAekJ,GAEjB,CACEpmD,MAAOnL,EAAE,qBACT04B,MAAO,WACPlW,OAAQ,SAAAylC,GAAO,aACb,0BAAM,cAAY,mBAAlB,UACGrC,EAAWqC,MAAAA,OAAD,EAACA,EAASrX,iBADvB,aACG,EAA+B5kB,QAGpCq8B,cAAeoJ,GAEjB,CACEtmD,MAAOnL,EAAE,WACT04B,MAAO,aACPlW,OAAQ,SAAAylC,GAAO,OACb,0BAAM,cAAY,kBAAkBA,EAAQpX,aAE9CwX,cAAe2J,GAEjB,CACE7mD,MAAOnL,EAAE,WACT04B,MAAO,UACPlW,OAAQ,SAAAylC,GAAO,OACb,0BAAM,cAAY,kBAAkBA,EAAQp0C,UAE9Cw0C,cAAe4J,MAGlB,CACDrM,EACAwL,EACAG,EACAU,EACAD,EACAP,EACAzxD,MEnTE,GAA+Bb,QAAQ,iC,eCA7C,MAAM,GAA+BA,QAAQ,wC,eCA7C,MAAM,GAA+BA,QAAQ,sB,qkBCE7C,IAAMyvB,GAAe,CACnBwjC,cAAe,CACbr3C,MAAO,OACPC,QAAS,OACT0yC,SAAU,OACVvwB,UAAW,aACXzkB,QAAS,OACTuC,WAAY,UAEdo3C,YAAa,CACX55C,OAAQ,QAEV65C,OAAQ,CACNv3C,MAAO,SACPD,OAAQ,SACRrC,OAAQ,QAIC85C,IAAiB/5C,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,gBACzC4rB,IADyC,IAE5C4jC,aAAc,CACZx3C,QAAS,OACToI,cAAe,MACflI,eAAgB,WAChBD,WAAY,UAEdw3C,YAAa,CACXhrC,aAAc,OAEhBnJ,KAAM,CACJ9b,MAAOQ,EAAMsb,KAAK9b,MAClB,UAAW,CACTA,MAAOQ,EAAMsb,KAAKo0C,kBAKXC,IAAmBn6C,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBAC5CyV,IAD4C,IAE/CiN,MAAO,CACL9gB,MAAO,OACPgE,SAAU,WACVrG,QAAS,wBCmFb,SAtHiB,SAAA5D,GAEf,IACExc,EASEwc,EATFxc,GACAs6D,EAQE99C,EARF89C,OACA/+C,EAOEiB,EAPFjB,QACAhC,EAMEiD,EANFjD,SACA+xC,EAKE9uC,EALF8uC,SACAiP,EAIE/9C,EAJF+9C,mBACAC,EAGEh+C,EAHFg+C,kBACAC,EAEEj+C,EAFFi+C,mBACAC,EACEl+C,EADFk+C,2BAGIx5C,EAAU+4C,KACRvyD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAWFizD,GAAuBjwC,EAAAA,EAAAA,cAAY,WACvCgwC,EACE,CACEn/C,QAAAA,EACAq/C,eAAgBN,EAChB/yC,SAAUhO,EACViO,UAAW,CAAC1a,KAEdw+C,EACAgP,KAED,CAAC/gD,EAAUmhD,EAA4BJ,EAAQ/+C,EAAS+vC,IAKrDuP,GAAenwC,EAAAA,EAAAA,cAAY,WAC/B+vC,EAAmBz6D,KAClB,CAACA,EAAIy6D,IAKFK,GAAoBpwC,EAAAA,EAAAA,cAAY,WACpC8vC,EAAkBj/C,EAAS+vC,EAAUgP,KACpC,CAAC/+C,EAAS+vC,EAAUgP,EAAQE,IAQ/B,OACE,kBAAC,IAAD,CAAM58C,UAAWsD,EAAQ44C,eACvB,kBAAC,IAAD,CAAMr5D,MAAI,EAACs6D,GAAI,EAAGn9C,UAAWsD,EAAQ64C,aACnC,kBAAC,KAAD,CAAQn8C,UAAWsD,EAAQ84C,SAC1BtyD,EAAE,YAFL,KAIA,kBAAC,IAAD,CAAMkW,UAAWsD,EAAQ44C,cAAer5D,MAAI,EAACs6D,GAAI,GAC/C,kBAAC,EAAApgC,QAAD,CAAS9nB,MAAO7S,GACd,kBAAC,EAAAohB,WAAD,CAAY,cAAY,4BAA4BphB,KAGxD,kBAAC,IAAD,CAAMS,MAAI,EAACs6D,GAAI,EAAGn9C,UAAWsD,EAAQg5C,cAElC19C,EAAM2hB,UACL,kBAAC,EAAAxD,QAAD,CAAS9nB,MAAOnL,EAAE,mBAChB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,wBACZ1D,UAAWsD,EAAQ8E,KACnB8F,UAAU,SACVvK,QAASo5C,GAET,kBAAC,KAAD,QAMN,kBAAC,EAAAhgC,QAAD,CAAS9nB,MAAOnL,EAAE,iBAChB,oCACE,kBAAC,EAAA4Z,WAAD,CACE,cAAY,sBACZoE,SAAU60C,EAAmBryB,SAASloC,GACtC4d,UAAWsD,EAAQ8E,KACnB8F,UAAU,SACVvK,QAASs5C,GAET,kBAAC,GAAAG,KAAD,SAMLx+C,EAAM2hB,UACL,kBAAC,EAAAxD,QAAD,CAAS9nB,MAAOnL,EAAE,mBAChB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,wBACZ1D,UAAWsD,EAAQ8E,KACnB8F,UAAU,SACVvK,QAASu5C,GAET,kBAAC,GAAAG,OAAD,WClEd,GA9CmB,SAAAz+C,GAEjB,IACEy6C,EAOEz6C,EAPFy6C,MACAiE,EAME1+C,EANF0+C,WACA/pB,EAKE30B,EALF20B,UACAmpB,EAIE99C,EAJF89C,OACAn8B,EAGE3hB,EAHF2hB,SACAg9B,EAEE3+C,EAFF2+C,oBACiBC,EACf5+C,EADFmzC,QAAWp+C,KAGP2P,EAAUm5C,KAEVgB,GAAiB3wC,EAAAA,EAAAA,cACrB,SAAAnF,GACE41C,EACE51C,EAAIvgB,OAAO2C,MACXyzD,EACAjqB,EACAmpB,EACArD,KAGJ,CAACmE,EAAajqB,EAAWmpB,EAAQrD,EAAOkE,IAG1C,OACE,kBAAC,IAAD,CAAMv9C,UAAWsD,EAAQ44C,eACvB,kBAAC,IAAD,CAAMr5D,MAAI,EAACs6D,GAAI,EAAGn9C,UAAWsD,EAAQ64C,aACnC,kBAAC,KAAD,CAAQn8C,UAAWsD,EAAQ84C,SAD7B,UAEM/C,EAFN,MAIA,kBAAC,IAAD,CAAMx2D,MAAI,EAACs6D,GAAI,GACb,kBAAC,KAAD,CACEt1C,WAAY,CAAE,cAAe,mBAC7BC,UAAWyY,EACX9a,aAAc63C,EACdt9C,UAAWsD,EAAQqiB,MACnB/d,SAAU61C,OC5Cb,IAAMC,IAAiBp7C,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACjDiqC,QAAS,CACPv0B,QAAS,gBACT,mHACE,CACE4O,QAAS,MACTxD,WAAY,oBACZ8L,OAAQ,UACRikC,cAAe,SAGrB5D,YAAa,CACXx3C,OAAQzV,EAAM2V,QAAQ,GACtBU,SAAU,KAEZozC,QAAS,CACP1tC,SAAU,YAEZ8Y,QAAS,CACP7c,QAAS,OACToI,cAAe,MACfnI,WAAY,UAEd64C,kBAAmB,CACjB/4C,MAAO,YAIEg5C,IAAev7C,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAChDxhB,KAAM,CACJ+gB,QAAS,SACTqC,MAAO,qBAET8xC,QAAS,CACP9tC,SAAU,YAEZi1C,YAAa,CACXpsC,UAAW,OACXlP,QAAS,qBAEXu7C,SAAU,CAAEl1C,SAAU,UACtB6S,IAAK,CACH5W,QAAS,OACToI,cAAe,MACfnI,WAAY,UAEdi5C,UAAW,CACTx7C,QAAS,WACT+N,WAAY,QAEdwmB,QAAS,CACPjyB,QAAS,OACToI,cAAe,SACf1K,QAAS,2BC6Eb,SAzHgB,SAAA5D,GAEd,IACE2hB,EAKE3hB,EALF2hB,SACAs8B,EAIEj+C,EAJFi+C,mBACAF,EAGE/9C,EAHF+9C,mBACAC,EAEEh+C,EAFFg+C,kBACAE,EACEl+C,EADFk+C,2BAGIx5C,EAAUu6C,KAqBVI,EAAe,SAAA1qB,GACnB,OACE,kCACgC9vC,IAA7Bmb,EAAMmzC,QAAQxe,IACb3pC,OAAOgE,KAAKgR,EAAMmzC,QAAQxe,IAAY3wC,KAAI,SAAC85D,EAAQwB,GACjD,IAAMC,EAAWv/C,EAAMmzC,QAAQxe,GAAWmpB,GACpC/gD,EAAWwiD,MAAAA,OAAH,EAAGA,EAAUxiD,SACrBgC,EAAUwgD,MAAAA,OAAH,EAAGA,EAAUxgD,QACpBu8B,GAAaikB,MAAAA,OAAA,EAAAA,EAAUjkB,aAAc,GACrCkkB,EAC+B,IAAnCx0D,OAAOgE,KAAKssC,GAAYj3C,SAAiB0Y,EAC3C,OACE,kBAAC,KAAD,CACEorC,iBAAe,EACf/mC,UAAWsD,EAAQw6C,YACnBpzD,IAAG,UAAKwzD,EAAL,YAAoB3qB,GACvB3K,WAAUw1B,QAA0B36D,GAEpC,kBAAC,KAAD,CACEkuD,WAAYyM,OAAmB36D,EAAY,kBAAC,KAAD,OAE3C,yBAAKuc,UAAWsD,EAAQqzC,SAEtB,yBAAK32C,UAAWsD,EAAQoY,KArCtB,SAAA6X,GAMlB,OAAO,uBAAGvzB,UAAS,UAAKsD,EAAQy6C,SAAb,YALD,CAChBnjB,OAAQ,UACRC,QAAS,YAG2CtH,MAgCnC8qB,CAAY9qB,GAEb,yBAAKvzB,UAAWsD,EAAQ06C,WACtB,2BAAItB,IAGN,yBAAK18C,UAAWsD,EAAQ06C,WAAxB,WAAwCrgD,EAAxC,SAIN,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAkBqC,UAAWsD,EAAQyzB,SAErB,OAAbp7B,GACC,yBAAK,cAAY,oBACf,kBAAC,GAAD,CACEvZ,GAAIuZ,EACJ+gD,OAAQA,EACRn8B,SAAUA,EACV5iB,QAASA,EACT41B,UAAWA,EACXma,SAAU9uC,EAAMmzC,QAAQp+C,KACxBgpD,mBAAoBA,EACpBC,kBAAmBA,EACnBC,mBAAoBA,EACpBC,2BAA4BA,KAKlC,yBAAK,cAAY,sBACdlzD,OAAOgE,KAAKssC,GAAYt3C,KAAI,SAACy2D,EAAOiF,GACnC,OACE,yBAAK,0CAAkCjF,IACrC,kBAAC,GAAD,QACMz6C,EADN,CAEElU,IAAK4zD,EAAa/qB,EAClBhT,SAAUA,EACV84B,MAAOA,EACPiE,WAAYpjB,EAAWmf,GACvB9lB,UAAWA,EACXmpB,OAAQA,iBAclC,OACE,yBACE,cAAY,mBACZ18C,UAAS,UAAKsD,EAAQ7hB,KAAb,YAAqBmd,EAAM2/C,aAEnCN,EAAa,UACbA,EAAa,a,qkBChHpB,IAAMO,GAAW,SAAA5/C,GAEf,IAAMiiB,GAAW1a,EAAAA,EAAAA,UACXs4C,GAAoBt4C,EAAAA,EAAAA,UAIxBu4C,EAYE9/C,EAZF8/C,SACAvzD,EAWEyT,EAXFzT,KACA+O,EAUE0E,EAVF1E,MACAyiD,EASE/9C,EATF+9C,mBACAgC,EAQE//C,EARF+/C,iBACAC,EAOEhgD,EAPFggD,oBACArB,EAME3+C,EANF2+C,oBACAT,EAKEl+C,EALFk+C,2BACAD,EAIEj+C,EAJFi+C,mBACAD,EAGEh+C,EAHFg+C,kBACA/1C,EAEEjI,EAFFiI,UACA0Z,EACE3hB,EADF2hB,SAIF,GAAoC7e,EAAAA,EAAAA,UAAS,IAA7C,YAAOguC,EAAP,KAAmBmP,EAAnB,KACA,GAAwDn9C,EAAAA,EAAAA,UAAS,IAAjE,YAAOouC,EAAP,KAA6BgP,EAA7B,KACA,GAA4Bp9C,EAAAA,EAAAA,UAAS,IAArC,YAAOq9C,EAAP,KAAeC,EAAf,KAGM17C,EAAUo6C,KACR5zD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACAm1D,EChBoB,SAACC,EAAe3rB,EAAWma,GACrD,IACE,IAAMyR,EAAaD,EAAcvhD,QAC3ByhD,EAAaF,EAAcvkB,WACjC,EACEukB,EAAc3rB,GAAWma,GAAUpT,QAAQ95B,MAAM,KADnD,YAAO6+C,EAAP,KAAqBC,EAArB,KAGA,YAAqB77D,IAAjB67D,EACKD,EAEAD,EAAa,IAAMC,EAAeF,EAAaG,EAExD,MAAOt3C,GAEP,YADAlP,QAAQC,IAAI,iDAAkDiP,KDI1Dg0C,EAAeuD,GAAmB,CACxCzP,qBAAAA,EACAJ,WAAAA,EACA7oC,UAAAA,IAHMm1C,WAgBFwD,EAAiB,WAChB3+B,EAASv2B,SAAYm0D,EAAkBn0D,SAC5C8b,YAAW,WAAM,MAIc,EAEtB,EALDq5C,EAAa5+B,EAASv2B,QAAQo1D,YAAYC,eAC1CC,EACJnB,MAAAA,GADa,UACbA,EAAmBn0D,eADN,aACb,EAA4B/C,cAAc,kBACxCk4D,GAAcG,EAChBnB,MAAAA,GAAA,UAAAA,EAAmBn0D,eAAnB,SAA4B0X,UAAUC,IAAI,WAE1Cw8C,MAAAA,GAAA,UAAAA,EAAmBn0D,eAAnB,SAA4B0X,UAAUtb,OAAO,eAU7Co8B,GAAahW,EAAAA,EAAAA,cACjB,SAAAyxB,GACE,IAAM7S,EAAUpyB,MAAMiI,QAAQg9B,GAC1BA,EACA30C,OAAOqO,OAAOsmC,GAAO37C,KAAI,SAAAC,GAAI,gBACxBA,GADwB,IAE3B8Q,KAAM9Q,EAAK8Q,UAEjBqrD,GAAU,SAAAlxC,GAAS,OACjB6xB,IAAAA,CAAS7xB,EAAW4d,GAAW5d,EAAY4d,OAG/C,CAACszB,IAMGa,GAAiB/yC,EAAAA,EAAAA,cACrB,SAACilC,EAASxe,EAAW7oC,GAEnB,IAAMo1D,EAAmBb,EAAoBlN,EAASxe,EAAW7oC,GAMjE,OALAqnD,EAAQxe,GAAW7oC,GAAnB,QAAqCo1D,EACrC/N,EAAQxe,GAAW7oC,GAAnB,SAAsCqnD,EAAQxe,GAAW7oC,GAAK2U,SAC9D0yC,EAAQxe,GAAW7oC,GAAnB,WAAwCqnD,EAAQxe,GAAW7oC,GAAKkvC,iBAEzDmY,EAAQxe,GAAW7oC,GAAnB,YAC6BqnD,IAGtC,CAACkN,IAMGc,GAAgBjzC,EAAAA,EAAAA,cACpB,SAAAilC,GAAW,MAOT,OANAA,EAAQnX,QAAS,UAAA8U,EAAWqC,EAAQrX,iBAAnB,eAA8BW,KAAM,GAGrDzxC,OAAOgE,KAAKmkD,EAAQnX,QAAQnwC,SAAQ,SAAAC,GAClCqnD,EAAU8N,EAAe9N,EAAS,SAAUrnD,MAEvCqnD,IAET,CAACrC,EAAYmQ,IAMTG,GAAiBlzC,EAAAA,EAAAA,cACrB,SAAAilC,GAAW,MAOT,OANAA,EAAQlX,SAAU,UAAA6U,EAAWqC,EAAQrX,iBAAnB,eAA8BY,MAAO,GAGvD1xC,OAAOgE,KAAKmkD,EAAQlX,SAASpwC,SAAQ,SAAAC,GACnCqnD,EAAU8N,EAAe9N,EAAS,UAAWrnD,MAExCqnD,IAET,CAACrC,EAAYmQ,IAcTI,GAAenzC,EAAAA,EAAAA,cACnB,SAAA4e,GACE,OAAO,IAAIpvB,SAAQ,SAAC0vB,EAASzvB,GAE3BmvB,EAAUq0B,EAAcr0B,GACxBA,EAAUs0B,EAAet0B,GAEzBizB,EAAiBjzB,EAASM,EAASzvB,QAGvC,CAACoiD,EAAkBoB,EAAeC,IAS9BE,GAAkBpzC,EAAAA,EAAAA,cACtB,SAAC4e,EAASy0B,GACR,OAAO,IAAI7jD,SAAQ,SAAC0vB,EAASzvB,GAAW,QAChC6jD,EAAkB10B,EAAQgP,WAAaylB,EAAQzlB,UAKnD0lB,GAEA,UAAC10B,EAAQkP,cAAT,OAAC,OAEDlP,EAAUq0B,EAAcr0B,KAMxB00B,GAEA,UAAC10B,EAAQmP,eAAT,OAAC,EAAiBwlB,MAElB30B,EAAUs0B,EAAet0B,IAG3BizB,EAAiBjzB,EAASM,EAASzvB,EAAQ4jD,QAG/C,CAACxB,EAAkBoB,EAAeC,IAQ9BM,GAAkBxzC,EAAAA,EAAAA,cACtB,SAAA/iB,GACE,OAAO,IAAIuS,SAAQ,SAAA0vB,GACjB4yB,EAAoB70D,EAAOiiC,QAG/B,CAAC4yB,KASHh9C,EAAAA,EAAAA,YAAU,WAERzW,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAyK,GACAjQ,MAAK,SAAA6P,GAELA,EAAM6uC,OAAO8G,0BAA0BxlD,MAAK,SAAAuc,GACtCA,GAAKq4C,EAAcr4C,MAGzB1M,EAAM6uC,OAAOkH,eAAe5lD,MAAK,SAAAuc,GAC3BA,GAAKs4C,EAAwBt4C,WAGpC,CAACrb,EAAM+O,KAEV0H,EAAAA,EAAAA,YAAU,WACRkhB,EAAW47B,KACV,CAACA,EAAU57B,IAad,IAqCMy9B,GAAoBzzC,EAAAA,EAAAA,cACxB,SAAA0zC,GACE,OACE,kBAAC,GAAD,CACEjC,WAAW,YACXh+B,SAAUA,EACVwxB,QAASyO,EAAUzO,QACnB4K,mBAAoBA,EACpBY,oBAAqBA,EACrBV,mBAAoBA,EACpBD,kBAAmBA,EACnBE,2BAA4BA,MAIlC,CACEv8B,EACAo8B,EACAY,EACAV,EACAD,EACAE,IAUJ,OACE,kBAAC,GAAD,CACE74C,OAAO,2BACPhP,MAAOnL,EAAE,mBACTi9C,iBAAiB,GAEjB,kBAAC,EAAAvjC,WAAD,CACE0K,UAAU,MACVlO,UAAWsD,EAAQyzB,QACnBl4B,IAAK4/C,GAEL,kBAAC,GAAD,CACE5/C,IAAKgiB,EACLP,QAAS07B,IACTl3D,KAAMi6D,EACNv+B,YAAa+/B,EACbhgC,SAAU,CACR62B,WAAY,kBAAM72B,GAClB82B,YAAa,kBAAM92B,GACnBkgC,SAAUlgC,EAAW0/B,EAAe,KACpCS,YAAaR,EACbnJ,YAAauJ,GAEf7/B,WAAY,CACVkjB,QA5FkB,SAAAvW,GAC1B,OACE,kBAAC,EAAA5pB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQqe,SAC7C,kBAAC,EAAAne,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQs6C,mBAC7C,kBAAC,GAAA+C,cAAkBvzB,MAyFjBwzB,QA9EkB,SAAAxzB,GAE1B,OADAoyB,IAEE,kBAAC,GAAAqB,cAAD,QACMzzB,EADN,CAEE0zB,kBAAmB,SAAA92D,GACjBojC,EAAO0zB,kBAAkB92D,GACzBw1D,KAEFuB,kBAAmB,SAAC/2D,EAAM0hC,EAASy0B,GACjC/yB,EAAO2zB,kBAAkB/2D,EAAM0hC,EAASy0B,GACxCX,eA6FV,SAASnY,GAAcC,EAAWC,GAChC,IAAMyZ,EAAarhB,IAAAA,CAAS2H,EAAUoX,SAAUnX,EAAUmX,UACpDuC,EAAoBthB,IAAAA,CACxB2H,EAAUqV,mBACVpV,EAAUoV,oBAEZ,OAAOqE,GAAcC,EAxBvBzC,GAASj6C,UAAY,CACnBm6C,SAAUl6C,KAAAA,OAAAA,WACVm6C,iBAAkBn6C,KAAAA,KAAAA,WAClBo6C,oBAAqBp6C,KAAAA,KAAAA,WACrB+4C,oBAAqB/4C,KAAAA,KAAAA,WACrBs4C,2BAA4Bt4C,KAAAA,KAAAA,WAC5Bq4C,mBAAoBr4C,KAAAA,KAAAA,WACpBo4C,kBAAmBp4C,KAAAA,KAAAA,WACnBm4C,mBAAoBn4C,KAAAA,MACpB+b,SAAU/b,KAAAA,MAGZg6C,GAAS/5C,aAAe,CACtB8b,UAAU,EACVo8B,mBAAoB,IAatB,UAAe11D,EAAAA,EAAAA,MAAKu3D,GAAUnX,IEjYvB,IAAM6Z,IAAqB5+C,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACtDiyB,KAAM,CACJ3yB,OAAQ,MACRC,QAAS,WCqGb,MClFA,GApBa,SAAC,GAA0C,IAAxC7O,EAAwC,EAAxCA,KAAM8J,EAAkC,EAAlCA,MAAgB2lC,EAAkB,EAA3BrM,QAEnBA,EAAYyL,GAAkB,CACpCnrC,SAAUoG,EACVilC,UAAWU,IAFLrM,QAWR,OACE,yBAAK,cAAY,6BACf,kBAAC,GAAD,CAAapjC,KAAMA,EAAMojC,QAASA,MCjBjC,IAAMoqB,IAAa7+C,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC9CxhB,KAAM,CACJmjB,OAAQ,OACRE,QAAS,OACToI,cAAe,UAEjBzE,UAAW,CACT+sB,SAAU,EACVhzB,QAAS,OACT+mC,UAAW,Y,qkBCsBf,IAAM/pC,GAAO,SAACZ,EAAOC,GACnB,IAAQzc,EAAqDwc,EAArDxc,GAAIuR,EAAiDiL,EAAjDjL,KAAMxI,EAA2CyT,EAA3CzT,KAAMirB,EAAqCxX,EAArCwX,MAAO/e,EAA8BuH,EAA9BvH,SAA/B,EAA6DuH,EAApB2hB,SAAAA,OAAzC,SAGA,GAAoD7e,EAAAA,EAAAA,UAAS,IAA7D,YAAOi7C,EAAP,KAA2ByE,EAA3B,KACM99C,EAAU69C,KACRr3D,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACAkyD,EH9BiB,WAEzB,IAAM14C,EAAU49C,KACRp3D,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQFu3D,EAAiB,SAAAtP,GACrB,OACE,kBAACgG,GAAD,CACE9iD,MACE,oCACE,kBAAC,KAAD,CAAY3I,MAAM,UAAU4hB,UAAU,MACpC,2BAAI6jC,EAAQp+C,OAEd,2BAAIo+C,EAAQn+C,eAIhB,kBAAC,KAAD,CAAYoM,UAAWsD,EAAQ4xB,MAC7B,kBAAC,KAAD,SAWFogB,EAAc,SAAAvD,GAClB,OAAIA,EAAQl+C,OAAS5E,EAEjB,0BAAM,cAAY,gBAAgBrK,KAAKC,UAAUktD,EAAQhoD,QAEtD,0BAAM,cAAY,gBAAgBgoD,EAAQhoD,QAqDnD,MAAO,CAAEiyD,WArCU,WACjB,MAAO,CACL,CACE/mD,MAAO,GACPutB,MAAO,cACP3d,MAAO,KACP80C,UAAW,CAAEn3C,QAAS,OAAQgY,UAAW,SACzC8mC,SAAS,EACTh1C,OAAQ+0C,GAEV,CACEpsD,MAAOnL,EAAE,QACT04B,MAAO,OACP3d,MAAO,MACPo3C,YAAa,MACbtC,UAAW,CACTxyB,aAAc,WACd5e,WAAY,SACZ4E,SAAU,UAEZb,OAAQ,SAAAylC,GAAO,OAAI,0BAAM,cAAY,eAAeA,EAAQp+C,QAE9D,CACEsB,MAAOnL,EAAE,SACT04B,MAAO,QACP3d,MAAO,MACP80C,UAAW,CACT55C,SAAU,IACVonB,aAAc,WACd5e,WAAY,SACZ4E,SAAU,UAEZb,OAAQgpC,MG1DSiM,GAAfvF,WACAl3D,EAAS09C,GAAkB,CACjCnrC,SAAAA,EACAqrC,UAAW9jC,EAAM9Z,KACjB29C,kBAAmB9L,GAAAA,sBAHb7xC,KAKFy0D,EAAiByC,IAgBjBwF,GAAe10C,EAAAA,EAAAA,cACnB,SAAC20C,EAAW5tD,EAAM6tD,GAAiB,QAC3BC,EAAQ,UAAGnuD,GAAaK,EAAK+tD,sBAArB,QAAuC/tD,EAC/CwJ,EAAO,UAAGokD,EAAU9tD,YAAb,QAAqB8tD,EAC5BI,EAAc,UAAThuD,EAAmBC,GAAkBE,GAChD,IAAI,MACF,IAAKytD,EACH,MAAM,IAAI35D,MACRgC,EAAEkM,GAAeQ,uBAAwB,CAAEmrD,SAAAA,KAE1C,IAAKE,EAAG39D,KAAKmZ,GAChB,MAAM,IAAIvV,MAAMgC,EAAEkM,GAAeU,kBAAmB,CAAEirD,SAAAA,KAGxD,IAAMG,EAAY,UAAGJ,MAAAA,OAAH,EAAGA,EAAc/tD,YAAjB,QAAyB+tD,EAErCK,GAAgBD,GAAgBh9D,EAAK+O,GAAMwJ,GAIjD,GAFEykD,GAAgBA,IAAiBzkD,GAAWvY,EAAK+O,GAAMwJ,IAEjC0kD,EACtB,MAAM,IAAIj6D,MAAMgC,EAAEkM,GAAeY,kCAEnC,MAAOuO,GACP,MAAO,CAAE5f,QAAQ,EAAO4f,MAAOA,EAAMxH,SAEvC,MAAO,CAAEpY,QAAQ,EAAM4f,MAAO,MAEhC,CAACrgB,EAAMgF,IA+DHk4D,GAAqBl1C,EAAAA,EAAAA,cACzB,SAACm1C,EAAYvU,EAAU/xC,GACrBtE,EAAS/M,QAAQ43D,gBAAgBD,EAAYvU,EAAU/xC,KAEzD,CAACtE,IAmBG8qD,GAAiBr1C,EAAAA,EAAAA,cACrB,SAACqgC,EAASzhB,EAASy0B,EAASzjD,GAC1B,IACE,IAAMq8C,EAAUrtB,EAAQ/3B,KAClByuD,EAAa,OAAGrJ,EAAUrtB,GAE1B1lB,EAAaw7C,EAAazI,EAAS5L,EAASgT,EAAQxsD,MAC1D,IAAKqS,EAAWzgB,OACd,MAAM,IAAIuC,MAAMke,EAAWb,OAEzBzI,EAEErF,EAAS/M,SACX+M,EAAS/M,QAAQ8iD,YAAYD,EAASiV,GAGpC/qD,EAAS/M,SACX+M,EAAS/M,QAAQgjD,mBAAmBH,EAASzhB,EAASy0B,EAAQxsD,MAElE,MAAOqU,GACHA,EAAIrK,SACNyY,EAAM,CAAEzY,QAASqK,EAAIrK,QAASC,SAAU3J,QAG9C,CAACoD,EAAU+e,EAAOorC,IAGdhU,EAAiB,SAACL,EAASziD,GAC/B,OAAO,IAAI4R,SAAQ,SAAC0vB,EAASzvB,GACvBlF,EAAS/M,SAAS+M,EAAS/M,QAAQkjD,eAAeL,EAASziD,GAC3D2M,EAAS/M,QAAQijD,YAAYJ,EAASziD,GAAM6R,IAC3CyvB,QAUH0U,GAAkB5zB,EAAAA,EAAAA,cAAY,WAAM,QAClCiqB,EAAO,oBAAGn4B,EAAM9Z,YAAT,aAAG,EAAYiyC,eAAf,QAA0B,GACjCyM,EAAW,GAAH,OAAMphD,EAAN,gBACRqhD,EAAY35C,EAAE,wBAEpBqB,EAAKsE,GAAAA,aAAAA,KAA2BA,GAAAA,aAAAA,KAAAA,aAA5B,OACD+zC,EAAW,CACVp7B,KAAM,kBAAC,KAAD,MACNzU,KAAM6vC,EACNvuC,MAAOwuC,EACPz3B,KACE,kBAAC,GAAD,CAAM5pB,GAAIA,EAAIuR,KAAMA,EAAMojC,QAASA,EAASt5B,MAAOpG,SAIxD,CAAClM,EAAM/I,EAAIuR,EAAMiL,EAAM9Z,KAAMuS,EAAUvN,IAE1C2iB,GAAiB5N,EAAK,CACpB6hC,gBAAAA,IAcF,IAAM2hB,GAAuBv1C,EAAAA,EAAAA,cAC3B,SAACusC,EAAOO,GAAW,MACXnD,EAAY3sD,EAAE0J,GAAa6lD,EAAMuI,gBACjCllD,GAASk9C,EACT0I,EAAUx9D,EAAKu0D,GAAOO,IAAWlmD,GACjC5N,EAAM,SACPw8D,GADI,IAEPnV,QAASkM,EACTxlD,KAAI,UAAEyuD,EAAQzuD,YAAV,QAAkB5E,GACtB0E,KAAM2uD,EAAQ53D,KAAOkvD,EACrBnD,UAAAA,IAEIhf,EAAO,CACXz6B,SAAU,SAAAy4C,GACR,OAAO0M,EAAe9I,EAAO5D,EAAU3vD,EAAK4W,IAE9Cg0C,eAAgB,SAAAhlB,GAAO,OACrBpvB,QAAQ0vB,QAAQw1B,EAAa91B,EAAS2tB,EAAOvzD,EAAI6N,QACnDsB,MAAOnL,EAAE,gBAAiB,CAAE2sD,UAAAA,IAC5B3xD,KAAMgB,EACNmvD,kBAAmBoE,IAAUlmD,GAC7BhI,KAAAA,GAGFA,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,cACAgoC,EACAqd,MAGJ,CAAChwD,EAAM08D,EAAcW,EAAgBh3D,EAAMrB,IASvC8yD,GAAoB9vC,EAAAA,EAAAA,cACxB,SAACy1C,EAAYC,EAAc9U,GACzB,IAAMxzC,EAAQuoD,GAAAA,MACdt3D,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEyK,MAAAA,EACAvG,KAAM,iBACN7O,KAAM,CACJ6Y,QAAS4kD,KAGb,SAAA/7C,GACE,GAAIA,EAAIjJ,QAAS,CACf,IAAM40B,EAAa,CACjB/vC,GAAI,GAAF,OAAKokB,EAAI/I,MAAMnC,UAAf,YAA4BpB,EAA5B,YAAqCsM,EAAI7S,MAC3CA,KAAM6S,EAAI7S,KACVuG,MAAAA,GAEF/O,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B0iC,GAEvD6vB,EAAmBQ,EAAc9U,EAAUlnC,EAAI7S,YAKvD,CAACxI,EAAM62D,IAOHnF,GAAqB/vC,EAAAA,EAAAA,cACzB,SAAA6gC,GAEE,GAAKA,EAAL,CAEA,IAAMzzC,EAAQuoD,GAAAA,MACdt3D,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CAC5DyK,MAAAA,EACAvG,KAAMg6C,IACL1jD,MAAK,SAAA+P,GACN7O,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B,CACrDrN,GAAI4X,EAAIkc,SACRviB,KAAMqG,EAAImc,UACVjc,MAAAA,UAIN,CAAC/O,IASG2xD,GAA6BhwC,EAAAA,EAAAA,cACjC,SAAC41C,EAAWF,EAAc9U,GACxBviD,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,mBAAtB,GAAC,MACAizD,GADD,IAEF1lD,SAAU,SAAA2lD,GACR,IAAMC,EAAWD,EAAiBniD,MAAM,KAClC7E,EAAWinD,EAAS3/D,OAAS,EAAI2/D,EAAS,GAAKD,EAErDX,EAAmBQ,EAAc9U,EAAU/xC,SAIjD,CAACxQ,EAAM62D,IAyBT,OAhBApgD,EAAAA,EAAAA,YAAU,WACRzW,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAP,IACAjF,MAAK,SAAA6P,GACLsnD,EAAsBtnD,EAAMijC,oBAE7B,CAAC5xC,IASF,kBAAC,EAAAqY,WAAD,CACE,cAAY,sBACZ0K,UAAU,MACVlO,UAAWsD,EAAQmF,WAEnB,kBAAC,GAAD,CACE4oC,oBAtSoB,SAAAtnD,GACpBsN,EAAS/M,SAAS+M,EAAS/M,QAAQu4D,eAAe94D,IAsSlDw2B,SAAUA,EACVs3B,SAAU/yD,EAAK+O,KACf9J,MAAOjF,EAAK8O,cAEd,kBAAC,GAAD,QACMgL,EADN,CAEE2hB,SAAUA,EACVm+B,SAAU55D,EAAKioD,MACf4P,mBAAoBA,EACpBgC,iBApSU,SAAC50D,EAAOiiC,EAASzvB,EAAQmlD,GACvC,IAEE33D,EAAM4J,KAAO5J,EAAM4J,KAAK6T,OAGxB,IAAMxB,EAAaw7C,EAAaz3D,EAAM4J,KAAM,QAAS+tD,GACrD,IAAK17C,EAAWzgB,OACd,MAAM,IAAIuC,MAAMke,EAAWb,OAI7B,IAAKpb,EAAM2wC,SACT,MAAM,IAAI5yC,MAAMgC,EAAEkM,GAAea,+BAC9B,IAAK9M,EAAM4wC,WACd,MAAM,IAAI7yC,MAAMkO,GAAec,mBAC5B,IAAK/M,EAAM4T,QACd,MAAM,IAAI7V,MAAMkO,GAAee,mBAEjC,GAAIM,EAAS/M,QAAS,CACpB,IAAIo3D,MAAAA,OAAA,EAAAA,EAAchnB,YAAa3wC,EAAM2wC,SAEnC,OADArjC,EAAS/M,QAAQw4D,WAAWpB,EAAa/tD,KAAM5J,GACxCiiC,IACF30B,EAAS/M,QAAQy4D,WAAWh5D,EAAM3H,IAEzC,IAAMggE,EAAa,OAAGr4D,EAAM4J,KAAO5J,GACnCsN,EAAS/M,QAAQ04D,QAAQZ,GACzBp2B,KAEF,MAAOhkB,GAEPoO,EAAM,CAAEzY,QAASqK,EAAIrK,QAASC,SAAU3J,KAExCsI,MAoQEqiD,oBAhQa,SAACqE,EAAMj3B,GACpB30B,EAAS/M,SAAS+M,EAAS/M,QAAQy4D,WAAWE,EAAKtvD,MACvDq4B,KA+PIuxB,oBArPqB,SACzBxzD,EACAy4D,EACAjvB,EACA2vB,EACAzB,GAEApqD,EAAS/M,QAAQ64D,iBACfX,EACAjvB,EACA2vB,EACAzB,EACA13D,IA0OE+yD,2BAA4BA,EAC5BD,mBAAoBA,EACpBD,kBAAmBA,KAErB,kBAAC,GAAD,CACE77B,KAAMj8B,EAAKi8B,KACX4rB,WAAY7nD,EAAK6nD,WACjBF,WAAY3nD,EAAK2nD,WACjBC,OAAQ5nD,EAAK4nD,OACbnsB,SAAUA,EACVg4B,aArTa,SAAAxuD,GACbsN,EAAS/M,SAAS+M,EAAS/M,QAAQ84D,QAAQr5D,IAqT3CyuD,wBA1TwB,SAACa,EAAOtvD,GAChCsN,EAAS/M,SAAS+M,EAAS/M,QAAQ+4D,sBAAsBhK,EAAOtvD,MA2TlE,kBAAC,GAAD,CACEw2B,SAAUA,EACVz7B,KAAMA,EAAKo1C,WACXqf,eAAgBA,EAChBvC,eAAgBqL,EAChBtL,YAAavJ,IAEf,kBAAC,GAAD,CACEvpC,OAAO,mBACPhP,MAAOnL,EAAE,wBACTy2B,SAAUA,EACVz7B,KAAMA,EAAK+nD,QACXvsB,QAASi5B,EACTvC,eAAgBqL,EAChBtL,YAAavJ,EACbL,QAAQ,YAEV,kBAAC,GAAD,CACElpC,OAAO,uBACPhP,MAAOnL,EAAE,eACTy2B,SAAUA,EACVz7B,KAAMA,EAAKgoD,SACXxsB,QAASi5B,EACTvC,eAAgBqL,EAChBtL,YAAavJ,EACbL,QAAQ,eAMhB3tC,GAAKtF,MAAQ,OAEbsF,GAAK+E,UAAY,CACfniB,GAAIoiB,KAAAA,OAAAA,WACJ7Q,KAAM6Q,KAAAA,OAAAA,WACNrZ,KAAMqZ,KAAAA,KAAAA,WACN1f,KAAM0f,KAAAA,OACNnN,SAAUmN,KAAAA,OACV+b,SAAU/b,KAAAA,MAGZ,SAAeq9B,GAAiBriC,ICzchC,GAJYvW,EAAQ,KAEDowC,OAAO,I,ykBCCpBiqB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQlrB,OAAAA,IAAWf,UAAU,MASxB0V,MAAQ,GAGb,EAAKlV,YAAcjuC,OAAOqO,OAAOqrD,EAAa/pB,iBAdlC,E,oCA2Bd,WACE,OAAO52C,KAAKoqD,Q,sBAQd,SAAShjD,GAEP,OADApH,KAAKoqD,MAAQhjD,EACNpH,O,qBAQT,SAAQoH,GAEN,OADApH,KAAKoqD,MAAL,cAAiBpqD,KAAKoqD,OAAtB,CAA6BhjD,IACtBpH,KAAKoqD,Q,wBAQd,SAAWhjD,GAET,OADApH,KAAKoqD,MAAQpqD,KAAKoqD,MAAM3wB,QAAO,SAAAwT,GAAC,OAAIA,IAAM7lC,KACnCpH,KAAKoqD,Q,wBAQd,SAAWhjD,GACT,OAAOpH,KAAKoqD,MAAMziB,SAASvgC,GACvBpH,KAAK4gE,WAAWx5D,GAChBpH,KAAK6gE,QAAQz5D,K,mBAOnB,WACE,OAAOpH,KAAKoqD,MAAM9pD,S,uBAapB,WACE,MAAO,CACL0Q,KAAMhR,KAAKwzB,UACX42B,MAAOpqD,KAAKirD,c,2BAShB,WACE,MAAwBjrD,KAAKsX,YAArBtG,EAAR,EAAQA,KAAMo5C,EAAd,EAAcA,MAEd,OAAO,OACJp5C,EAAOo5C,M,4BAeZ,SAAqB9V,GACnB,IAAMn0C,EAAU8G,OAAOqO,OAAOg/B,MAAAA,EAAAA,EAAQ,IAAI,GAI1C,MAAO,CAAEtjC,KAHI/J,OAAOgE,KAAK9K,MAAAA,EAAAA,EAAW,IAAI,GAGzBiqD,MAFDnjD,OAAOqO,OAAOnV,MAAAA,EAAAA,EAAW,IAAI,Q,EA7HzCwgE,CAAqB3sB,I,IAArB2sB,GAAAA,kBAkIqB,CACvBl0D,KAAM,OACNq0D,MAAO,UAIX,Y,glDCsHA,SA1PMC,SAAAA,G,wgBAkBJ,YAA2B,IAAjB/vD,EAAiB,EAAjBA,KAAM7Q,EAAW,EAAXA,QAKd,OAJAH,KAAKmC,KAAK+W,IAAIlI,EAAM7Q,GAEpBH,KAAK0X,KAAKu+B,IAEHj2C,O,wBAQT,SAAWgR,GAAM,MACf/J,OAAOqO,OAAP,UAActV,KAAKk2C,QAAQllC,UAA3B,QAAoC,IAAIlJ,SAAQ,SAAAk5D,GAC9CA,EAAIrpD,aAGN,IAAMkM,EAAM7jB,KAAKmC,KAAL,OAAiB6O,GAI7B,OAFAhR,KAAK0X,KAAKu+B,IAEHpyB,I,qBAQT,SAAQywB,GAAM,WAEZt0C,KAAK2X,UAEL1Q,OAAO0L,QAAQ2hC,MAAAA,EAAAA,EAAQ,IAAIxsC,SAAQ,YAAmC,gBAAjCm5D,EAAiC,KAAnBC,EAAmB,KACpEj6D,OAAO0L,QAAQuuD,MAAAA,EAAAA,EAAiB,IAAIp5D,SAAQ,YAA6B,kBAA3Bq5D,EAA2B,MAC5D,UAD4D,KACrD/W,aAAP,QAAgB,IAErBtiD,SAAQ,SAAAw4D,GAAI,OAChB,EAAKc,kBAAkBH,EAAcE,EAAkBb,c,uCAW/D,SAA0BW,GACxB,OAAOjhE,KAAKmC,KAAKiG,IAAI64D,K,6BASvB,SAAgBC,EAAeG,GAC7B,IAAMl+D,EAAM,IAAIw9D,GAIhB,OAHAx9D,EAAI+W,QAAQ,CAAElJ,KAAMqwD,IACpBH,EAAcG,GAAgBl+D,EAEvBA,I,yBAQT,SAAY89D,GAIV,OAHAjhE,KAAKmC,KAAK+W,IAAI+nD,EAAc,IAC5BjhE,KAAK0X,KAAKu+B,IAEHj2C,KAAKk2C,QAAQ+qB,K,2BAOtB,WAAgB,kBACQjhE,KAAKmC,MADb,yBACHm/D,EADG,QAEZ,OAA0BA,EAA1B,GAAOvpB,EAAP,KAAiB3wC,EAAjB,KACMm6D,EAAY,GAClBt6D,OAAO0L,QAAQvL,GAAOU,SAAQ,YAAsC,gBAApCq5D,EAAoC,KAAlBK,EAAkB,KAG9DA,EAAav+D,QAAU,IACzBs+D,EAAUJ,GAAoBK,MAII,IAAlCv6D,OAAOgE,KAAKs2D,GAAWjhE,QAGzB,EAAK+nD,WAAWtQ,IAdpB,IAAK,EAAL,qBAAiC,IADnB,iC,uCA2BhB,SAA0BmpB,EAAeC,GACvC,OACED,EAAcC,IACdnhE,KAAKyhE,gBAAgBP,EAAeC,K,mCAUxC,SAAsBF,GACpB,OACEjhE,KAAK0hE,0BAA0BT,IAC/BjhE,KAAK2hE,YAAYV,K,+BAUrB,SAAkBA,EAAcE,EAAkBb,GACpCtgE,KAAK4hE,0BACf5hE,KAAK6hE,sBAAsBZ,GAC3BE,GAGEW,WAAWxB,GAEftgE,KAAK+hE,gBAEL/hE,KAAK0X,KAAKu+B,M,uBAaZ,WAAY,aACJO,EAAS,GADL,KAGQx2C,KAAKmC,KAAK8I,QAHlB,yBAGClD,EAHD,QAIF7H,EAAO,EAAKg2C,QAAQnuC,GAEpBm5D,EAAgB,GAEtBj6D,OAAO0L,QAAQzS,GAAM4H,SAAQ,YAAkB,gBAAhBk6D,EAAgB,KAAVC,EAAU,KAC7Cf,EAAcc,GAAQC,EAAK3qD,eAG7Bk/B,EAAOzuC,GAAOm5D,GAThB,IAAK,EAAL,qBAAoC,IAH1B,8BAeV,OAAO1qB,I,2BAOT,WACE,IADc,EACRA,EAAS,GADD,KAGax2C,KAAKmC,MAHlB,yBAGHq/D,EAHG,QAIZ,OAA8BA,EAA9B,GAAOU,EAAP,KAAqB96D,EAArB,KAEAH,OAAOqO,OAAOlO,GAAOU,SAAQ,SAAAq6D,GAC3B3rB,EAAO0rB,GAAP,SACK1rB,EAAO0rB,IACPC,EAAgBlpD,qBANzB,IAAK,EAAL,qBAAsC,IAHxB,8BAcd,OAAOu9B,I,qBA4BT,WACE7/B,MAAMC,KAAK5W,KAAKmC,KAAKmT,UAAUxN,SAAQ,SAAAV,GACrCH,OAAOqO,OAAOlO,MAAAA,EAAAA,EAAS,IAAIU,SAAQ,SAAAsiD,GAAK,OAAIA,EAAMzyC,gBAEpD3X,KAAKmC,KAAKozC,W,4BAvBZ,SAAqBjB,EAAMx5B,GACzB,IAAM07B,EAAS,GAef,OAbAvvC,OAAO0L,QAAQ2hC,MAAAA,EAAAA,EAAQ,IAAIxsC,SAAQ,YAAmC,gBAAjCm5D,EAAiC,KAAnBC,EAAmB,KACpEj6D,OAAO0L,QAAQuuD,GAAep5D,SAAQ,YAA2B,kBAAzBu5D,EAAyB,KAAXjX,EAAW,KACzDjqD,EAAU,OACb8gE,EADU,OACQI,EAAejX,IAGpC5T,EAAOyqB,GAAP,mBACMzqB,EAAOyqB,UADb,QAC8B,IAD9B,UAEGI,EAAevmD,EAAMi6B,cAAc50C,WAKnCq2C,M,EA/OLuqB,CAA4BlrB,ICHlC,GAJYvvC,EAAQ,KAEDowC,OAAO,I,ykBCCpB0rB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQ3sB,OAAAA,IAAWf,UAAU,MAQxBj1C,GAAK,GAGV,EAAKy1C,YAAcjuC,OAAOqO,OAAO8sD,EAAQxrB,iBAb7B,E,iCA0Bd,WACE,OAAO52C,KAAKP,K,mBAQd,SAAM2H,GAEJ,OADApH,KAAKP,GAAK2H,EACHpH,O,uBAaT,WACE,MAAO,CACLP,GAAIO,KAAK20C,QACT3jC,KAAMhR,KAAKwzB,a,2BASf,WAGE,MAAO,CACLxiB,KAHehR,KAAKsX,YAAdtG,S,4BAkBV,SAAqBsjC,GAKnB,MAAO,CAAE70C,GAJEwH,OAAOgE,KAAKqpC,GAAM,GAIhBtjC,KAHG/J,OAAOqO,OAAOg/B,GAAM,GAC5BtjC,U,EArFNoxD,CAAgBpuB,I,IAAhBouB,GAAAA,kBA0FqB,CACvB31D,KAAM,SAIV,YC9FA,GAJYnG,EAAQ,KAEDowC,OAAO,I,ykBCCpB2rB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQ5sB,OAAAA,IAAWf,UAAU,MAQxBj1C,GAAK,GACV,EAAKs0C,SAAU,EAGf,EAAKmB,YAAcjuC,OAAOqO,OAAO+sD,EAAMzrB,iBAd3B,E,sCA2Bd,WACE,OAAO52C,KAAK+zC,U,wBAQd,SAAW3sC,GAET,OADApH,KAAK+zC,QAAU3sC,EACRpH,O,uBAaT,WACE,MAAO,CACLP,GAAIO,KAAK20C,QACT3jC,KAAMhR,KAAKwzB,UACXugB,QAAS/zC,KAAKsiE,gB,2BASlB,WACE,MAA0BtiE,KAAKsX,YAE/B,MAAO,CACLtG,KAHF,EAAQA,KAIN2E,GAJF,EAAco+B,Y,4BAmBhB,SAAqBO,GACnB,IAAM70C,EAAKwH,OAAOgE,KAAKqpC,GAAM,GACvBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGpC,MAAO,CAAE70C,GAAAA,EAAIuR,KAFiB7Q,EAAtB6Q,KAEW+iC,QAFW5zC,EAAhBwV,Q,EAxFZ0sD,CAAcE,I,IAAdF,GAAAA,kBA6FqB,CACvB51D,KAAM,OACN+1D,QAAS,YAIb,YClGA,GAJYl8D,EAAQ,KAEDowC,OAAO,I,qkBCC1B,IAKM+rB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQhtB,OAAAA,IAAWf,UAAU,MAQxB99B,KAAO,GACZ,EAAK8rD,GAAK,GACV,EAAKC,WAAa,EAGlB,EAAKztB,YAAcjuC,OAAOqO,OAAOmtD,EAAK7rB,iBAf1B,E,mCAwBd,WACE,OAAO52C,KAAK4W,O,qBAGd,SAAQxP,GAEN,OADApH,KAAK4W,KAAOxP,EACLpH,O,mBAGT,WACE,OAAOA,KAAK0iE,K,mBAGd,SAAMt7D,GAEJ,OADApH,KAAK0iE,GAAKt7D,EACHpH,O,2BAGT,WACE,OAAOA,KAAK2iE,a,2BAGd,SAAcv7D,GAEZ,OADApH,KAAK2iE,WAAav7D,EACXpH,O,sBAGT,WACE,MAAO,CAACA,KAAK4iE,UAAW5iE,KAAK6iE,SAAS5iE,KAAI,SAAAmH,GACxC,OAAOA,EAAMyW,MAzDX,KAyDiC,GAAGA,MA1DjC,MA0D0D,Q,uBAUnE,WACE,MAAO,CACLpe,GAAIO,KAAK20C,QACT/9B,KAAM5W,KAAK4iE,UACXF,GAAI1iE,KAAK6iE,QACTF,WAAY3iE,KAAK8iE,mB,2BAIrB,WACE,MAAiC9iE,KAAKsX,YAEtC,MAAO,CACLyrD,KAHF,EAAQnsD,KAINosD,GAJF,EAAcN,GAKZO,WALF,EAAkBN,e,4BAepB,SAAqBruB,GACnB,IAAM70C,EAAKwH,OAAOgE,KAAKqpC,GAAM,GACvBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGpC,MAAO,CAAE70C,GAAAA,EAAImX,KAF0CzW,EAA/C4iE,KAEWL,GAFoCviE,EAAnC6iE,GAEGL,WAFgCxiE,EAA3B8iE,gB,EA5F1BR,CAAazuB,I,IAAbyuB,GAAAA,kBAiGqB,CACvBS,GAAI,KACJC,KAAM,OACNC,GAAI,KACJC,WAAY,eAIhB,YC7GA,GAJY/8D,EAAQ,KAEDowC,OAAO,I,ykBCCpB4sB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQ7tB,OAAAA,IAAWf,UAAU,MAQxB/L,EAAI,EACT,EAAKwH,EAAI,EAGT,EAAK+E,YAAcjuC,OAAOqO,OAAOguD,EAAS1sB,iBAd9B,E,gCA2Bd,WACE,OAAO52C,KAAK2oC,I,kBAQd,SAAKvhC,GAEH,OADApH,KAAK2oC,EAAIvhC,EACFpH,O,kBAOT,WACE,OAAOA,KAAKmwC,I,kBAQd,SAAK/oC,GAEH,OADApH,KAAKmwC,EAAI/oC,EACFpH,O,uBAaT,WACE,MAAO,CACLgR,KAAMhR,KAAKwzB,UACXmV,EAAG3oC,KAAKujE,OACRpzB,EAAGnwC,KAAKwjE,U,2BASZ,WACE,MAAiBxjE,KAAKsX,YAEtB,MAAO,CACLqxB,EAAG,CAAEoO,MAHP,EAAQpO,GAINwH,EAAG,CAAE4G,MAJP,EAAW5G,O,4BAmBb,SAAqBhuC,GACnB,GAAIwU,MAAMiI,QAAQzc,GAAO,CACvB,IAAM6d,EAAW7d,MAAAA,EAAAA,EAAQ,CAAC,EAAG,GAE7B,MAAO,CAAEwmC,EAAG3oB,EAAS,GAAImwB,EAAGnwB,EAAS,IAErC,IAAMw2B,EAAS,GAMf,OAJAvvC,OAAO0L,QAAQxQ,MAAAA,EAAAA,EAAQ,IAAI2F,SAAQ,YAAqB,kBAAnBkJ,EAAmB,KAAb7Q,EAAa,KACtDq2C,EAAOxlC,GAAP,UAAe7Q,EAAQ42C,aAAvB,QAAgC,KAG3BP,M,EAnHP8sB,CAAiBtvB,I,IAAjBsvB,GAAAA,kBAuHqB,CACvBG,EAAG,IACHC,EAAG,MAIP,YC5HA,GAJYp9D,EAAQ,KAEDowC,OAAO,I,ykBCGpBitB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQluB,OAAAA,IAAWf,UAAU,MAQxBkvB,WAAa,CAChB/rB,MAAO,SAAC/gC,EAAO9F,EAAM5J,GAAd,OAAwB,EAAK0wC,YAAYhhC,EAAO9F,EAAM5J,KAS/D,EAAK2wC,SAAW,GAChB,EAAK+R,YAAa,EAClB,EAAKC,QAAS,EACd,EAAKC,YAAa,EAClB,EAAK6Z,OAAS,GACd,EAAK7jD,SAAW,IAAIsjD,GACpB,EAAK/rB,WAAa,IAAI1B,GAAQ,aAAcoB,GAAW,EAAK2sB,YAC5D,EAAK1Z,QAAU,IAAIrU,GAAQ,UAAWmB,GAAQ,EAAK4sB,YACnD,EAAKzZ,SAAW,IAAItU,GAAQ,WAAYc,GAAS,EAAKitB,YAGtD,EAAK1uB,YAAcjuC,OAAOqO,OAAOquD,EAAa/sB,iBA/BlC,E,uCA4Cd,WACE,OAAO52C,KAAK+3C,W,yBAQd,SAAY3wC,GAEV,OADApH,KAAK+3C,SAAW3wC,EACTpH,O,2BAOT,WACE,OAAOA,KAAK8pD,a,2BAQd,SAAc1iD,GAEZ,OADApH,KAAK8pD,WAAa1iD,EACXpH,O,uBAOT,WACE,OAAOA,KAAK+pD,S,uBAQd,SAAU3iD,GAER,OADApH,KAAK+pD,OAAS3iD,EACPpH,O,2BAOT,WACE,OAAOA,KAAKgqD,a,2BAQd,SAAc5iD,GAEZ,OADApH,KAAKgqD,WAAa5iD,EACXpH,O,uBAOT,WACE,OAAOA,KAAK6jE,S,uBAQd,SAAUz8D,GAER,OADApH,KAAK6jE,OAASz8D,EACPpH,O,sBAQT,SAAS8jE,GAEP,OADA9jE,KAAK6jE,OAAOrkE,KAAKskE,GACV9jE,O,yBAQT,SAAY8jE,GACV,IAAMC,EAAiB/jE,KAAK6jE,OAAOj8D,QAAQk8D,GAE3C,OADIC,GAAkB,GAAG/jE,KAAK6jE,OAAOngE,OAAOqgE,EAAgB,GACrD/jE,O,yBAOT,WACE,OAAOA,KAAKggB,W,yBASd,SAAY2oB,EAAGwH,GAQb,OAPAnwC,KAAKggB,SAAS9F,QAAQ,CAAEyuB,EAAAA,EAAGwH,EAAAA,IAE3BnwC,KAAKm1C,SACHwuB,EAAa/sB,gBAAgBotB,SAC7BhkE,KAAKikE,cAAc3sD,aAGdtX,O,gCAUT,SAAmB81C,EAAU31C,GAAS,MAC9B6Q,EAAO7Q,EAAQ6Q,KAGrB,OAFA,UAAAhR,KAAK81C,UAAL,SAAgByU,WAAW,CAAEv5C,KAAAA,EAAM7Q,QAAAA,IAE5BH,O,gCAUT,SAAmB81C,EAAU1uC,GAG3B,OAFApH,KAAK81C,GAAY1uC,EAEVpH,O,4BAUT,SAAewqD,EAASziD,GAAK,MAE3B,OADA,UAAA/H,KAAKwqD,UAAL,SAAenC,WAAWtgD,GACnB/H,O,yBAUT,SAAYwqD,EAASziD,GAAK,MACxB,iBAAO/H,KAAKwqD,UAAZ,aAAO,EAAetU,QAAQnuC,K,yBAUhC,SAAYyiD,EAASrqD,GAAS,MACtB6Q,EAAO7Q,EAAQ6Q,KAErB,OADA,UAAAhR,KAAKwqD,UAAL,SAAejU,QAAQ,CAAEvlC,KAAAA,EAAM7Q,QAAAA,IACxBH,O,2BAOT,WACE,OAAOA,KAAKu3C,a,wBAOd,WACE,OAAOv3C,KAAKkqD,U,yBAOd,WACE,OAAOlqD,KAAKmqD,W,qBAQd,SAAQ7V,GACN,IACEtjC,EAUEsjC,EAVFtjC,KACA+mC,EASEzD,EATFyD,SACA+R,EAQExV,EARFwV,WACAC,EAOEzV,EAPFyV,OACAC,EAME1V,EANF0V,WACA6Z,EAKEvvB,EALFuvB,OACA7jD,EAIEs0B,EAJFt0B,SACAu3B,EAGEjD,EAHFiD,WACA2S,EAEE5V,EAFF4V,QACAC,EACE7V,EADF6V,SAiBF,OAdA,gDAAc,CACZn5C,KAAAA,EACA+mC,SAAAA,EACA+R,WAAAA,EACAC,OAAAA,EACAC,WAAAA,EACA6Z,OAAAA,IAGF7jE,KAAKggB,SAAS9F,QAAQ8F,GACtBhgB,KAAKu3C,WAAWr9B,QAAQq9B,GACxBv3C,KAAKkqD,QAAQhwC,QAAQgwC,GACrBlqD,KAAKmqD,SAASjwC,QAAQiwC,GAEfnqD,O,yBAgBT,SAAY0b,EAAGrT,EAAMjB,GAEnBpH,KAAKm1C,SAAS9sC,EAAMjB,K,uBAatB,WACE,MAAO,CACL4J,KAAMhR,KAAKwzB,UACXukB,SAAU/3C,KAAKm4C,cACf2R,WAAY9pD,KAAKsrD,gBACjBvB,OAAQ/pD,KAAKwrD,YACbxB,WAAYhqD,KAAKyrD,gBACjBoY,OAAQ7jE,KAAKkkE,YACblkD,SAAUhgB,KAAKikE,cAAc3sD,YAC7BigC,WAAYv3C,KAAKw3C,gBAAgBlgC,YACjC4yC,QAASlqD,KAAK0rD,aAAap0C,YAC3B6yC,SAAUnqD,KAAK2rD,cAAcr0C,e,2BASjC,WACE,MACEtX,KAAKsX,YAEP,MAAO,CACL6sD,UAJF,EAAQnzD,KAKNwnC,SALF,EAAcT,SAMZ8T,WANF,EAAwB/B,WAOtBgC,OAPF,EAAoC/B,OAQlCgC,WARF,EAA4C/B,WAS1Coa,WATF,EAAwDP,OAUtDQ,cAAe,MACVrkE,KAAKikE,cAAchrD,iBAExBg+B,UAAWj3C,KAAKw3C,gBAAgBv+B,gBAChC+9B,OAAQh3C,KAAK0rD,aAAazyC,gBAC1BgzC,QAASjsD,KAAK2rD,cAAc1yC,oB,4BAehC,SAAqBq7B,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGxByD,EASR53C,EATFq4C,SACYsR,EAQV3pD,EARF0rD,WACQ9B,EAON5pD,EAPF2rD,OACY9B,EAMV7pD,EANF4rD,WACY8X,EAKV1jE,EALFikE,WACepkD,EAIb7f,EAJFkkE,cACW9sB,EAGTp3C,EAHF82C,UACQiT,EAEN/pD,EAFF62C,OACSmT,EACPhqD,EADF8rD,QAGF,MAAO,CACLj7C,KAAAA,EACA+mC,SAAAA,EACA+R,WAAAA,EACAC,OAAAA,EACAC,WAAAA,EACA6Z,OAAAA,EACA7jD,SAAUsjD,GAAAA,cAAuBtjD,GACjCu3B,WAAY1B,GAAAA,cAAsB0B,EAAYN,IAC9CiT,QAASrU,GAAAA,cAAsBqU,EAASlT,IACxCmT,SAAUtU,GAAAA,cAAsBsU,EAAUxT,S,EArZ1CgtB,CAAqB3vB,I,IAArB2vB,GAAAA,kBAyZqB,CACvBl3D,KAAM,OACN63D,SAAU,WACVlY,WAAY,aACZE,WAAY,aACZiY,OAAQ,SACRP,SAAU,eAId,YCpaA,GAJY19D,EAAQ,KAEDowC,OAAO,I,ykBCGpB8tB,GAAAA,SAAAA,G,6aACJ,aAAc,0BAEZ,kBAAQ/uB,OAAAA,IAAWf,UAAU,MAQxBkvB,WAAa,CAChB/rB,MAAO,SAAC/gC,EAAO9F,EAAM5J,GAAd,OAAwB,EAAK0wC,YAAYhhC,EAAO9F,EAAM5J,KAS/D,EAAK2wC,SAAW,GAChB,EAAK/3B,SAAW,IAAIsjD,GACpB,EAAK/rB,WAAa,IAAI1B,GAAQ,aAAcoB,GAAW,EAAK2sB,YAG5D,EAAK1uB,YAAcjuC,OAAOqO,OAAOkvD,EAAQ5tB,iBAzB7B,E,uCAsCd,WACE,OAAO52C,KAAK+3C,W,yBAQd,SAAY3wC,GAEV,OADApH,KAAK+3C,SAAW3wC,EACTpH,O,yBAOT,WACE,OAAOA,KAAKggB,W,yBASd,SAAY2oB,EAAGwH,GAOb,OANAnwC,KAAKggB,SAAS9F,QAAQ,CAAEyuB,EAAAA,EAAGwH,EAAAA,IAC3BnwC,KAAKm1C,SACHqvB,EAAQ5tB,gBAAgBotB,SACxBhkE,KAAKikE,cAAc3sD,aAGdtX,O,2BAOT,WACE,OAAOA,KAAKu3C,a,gCAUd,SAAmBzB,EAAU31C,GAAS,MAC9B6Q,EAAO7Q,EAAQ6Q,KAGrB,OAFA,UAAAhR,KAAK81C,UAAL,SAAgByU,WAAW,CAAEv5C,KAAAA,EAAM7Q,QAAAA,IAE5BH,O,4BAUT,SAAewqD,EAASziD,GAAK,MAE3B,OADA,UAAA/H,KAAKwqD,UAAL,SAAenC,WAAWtgD,GACnB/H,O,yBAUT,SAAYwqD,EAASziD,GAAK,MACxB,iBAAO/H,KAAKwqD,UAAZ,aAAO,EAAetU,QAAQnuC,K,yBAUhC,SAAYyiD,EAASrqD,GAAS,MACtB6Q,EAAO7Q,EAAQ6Q,KAErB,OADA,UAAAhR,KAAKwqD,UAAL,SAAejU,QAAQ,CAAEvlC,KAAAA,EAAM7Q,QAAAA,IACxBH,O,qBAQT,SAAQs0C,GACN,IAAQtjC,EAAyCsjC,EAAzCtjC,KAAM+mC,EAAmCzD,EAAnCyD,SAAU/3B,EAAyBs0B,EAAzBt0B,SAAUu3B,EAAejD,EAAfiD,WAClC,gDAAc,CAAEvmC,KAAAA,EAAM+mC,SAAAA,IAEtB/3C,KAAKggB,SAAS9F,QAAQ8F,GACtBhgB,KAAKu3C,WAAWr9B,QAAQq9B,K,yBAS1B,SAAY77B,EAAGrT,EAAMjB,GAEnBpH,KAAKm1C,SAAS9sC,EAAMjB,K,uBAatB,WACE,MAAO,CACL4J,KAAMhR,KAAKwzB,UACXukB,SAAU/3C,KAAKm4C,cACfn4B,SAAUhgB,KAAKikE,cAAc3sD,YAC7BigC,WAAYv3C,KAAKw3C,gBAAgBlgC,e,2BASrC,WACE,MAA2BtX,KAAKsX,YAEhC,MAAO,CACLmtD,eAHF,EAAQzzD,KAIN0zD,cAJF,EAAc3sB,SAKZssB,cAAerkE,KAAKikE,cAAchrD,gBAClCg+B,UAAWj3C,KAAKw3C,gBAAgBv+B,oB,4BAepC,SAAqBq7B,GACnB,IAAMtjC,EAAO/J,OAAOgE,KAAKqpC,GAAM,GACzBn0C,EAAU8G,OAAOqO,OAAOg/B,GAAM,GAGnByD,EAGb53C,EAHFukE,cACe1kD,EAEb7f,EAFFkkE,cACW9sB,EACTp3C,EADF82C,UAGF,MAAO,CACLjmC,KAAAA,EACA+mC,SAAAA,EACA/3B,SAAUsjD,GAAAA,cAAuBtjD,GACjCu3B,WAAY1B,GAAAA,cAAsB0B,EAAYN,S,EA3N9CutB,CAAgBxwB,I,IAAhBwwB,GAAAA,kBA+NqB,CACvB/3D,KAAM,OACN63D,SAAU,WACVN,SAAU,aAIdQ,GAAQttB,SAAW,GAEnB,Y,2gCCjNA,SA1BMytB,SAAAA,G,0gBACJ,WACE,IADU,EACJnuB,EAAS,GADL,KAGQx2C,KAAKmC,KAAK8I,QAHlB,IAGV,IAAK,EAAL,qBAAoC,KAAzBlD,EAAyB,QAC5B5E,EAAMnD,KAAKk2C,QAAQnuC,GAEzByuC,EAAOrzC,EAAIwxC,SAAWxxC,EAAImU,aANlB,8BASV,OAAOk/B,I,2BAGT,WACE,IADc,EACRA,EAAS,GADD,KAGIx2C,KAAKmC,KAAK8I,QAHd,IAGd,IAAK,EAAL,qBAAoC,KAAzBlD,EAAyB,QAC5B5E,EAAMnD,KAAKk2C,QAAQnuC,GAEzByuC,EAAOrzC,EAAIwxC,SAAWxxC,EAAI8V,iBANd,8BASd,OAAOu9B,M,EAtBLmuB,CAAuB9uB,ICE7B,GAJYvvC,EAAQ,KAEDowC,OAAO,I,ykBCYpB95B,GAAAA,SAAAA,G,6aACJ,aAAc,yBAEZ,kBAAQ64B,OAAAA,IAAWf,UAAU,KAFjB,8BAoWI,SAAAj1C,GAChB,IAAMmlE,EAAe,GAYrB,OATA,EAAKC,WAAW1iE,KAAK2F,SAAQ,SAAC5H,EAAM6H,GAE9B7H,EAAK4kE,WAAWn9B,SAASloC,KAC3B,EAAKslE,WAAWh9D,GAEhB68D,EAAaplE,KAAKuI,OAIf68D,KAjXK,qCAwXW,SAAAnlE,GACvB,EAAKulE,kBAAkB7iE,KAAK2F,SAAQ,SAAC4T,EAAG3T,GAClCtI,IAAOsI,GACT,EAAKk9D,mBAAmBl9D,SAjX5B,EAAK67D,WAAa,CAChB/rB,MAAO,SAAC/gC,EAAO9F,EAAM5J,GAAd,OAAwB,EAAK0wC,YAAYhhC,EAAO9F,EAAM5J,KAS/D,EAAK6J,YAAc,GACnB,EAAKuwD,aAAe,IAAIT,GACtB,eACAJ,GACA,EAAKiD,YAEP,EAAKC,OAAS,IAAIc,GAAe,SAAUtC,GAAO,EAAKuB,YACvD,EAAKpxB,MAAQ,IAAIqD,GAAQ,QAAS4sB,GAAM,EAAKmB,YAC7C,EAAK1C,cAAgB,IAAIrrB,GACvB,gBACA8tB,GACA,EAAKC,YAEP,EAAKrsB,WAAa,IAAI1B,GAAQ,aAAcoB,GAAW,EAAK2sB,YAC5D,EAAKsB,SAAW,IAAIrvB,GAAQ,WAAY2uB,GAAS,EAAKZ,YAGtD,EAAK1uB,YAAcjuC,OAAOqO,OAAOsH,EAAKg6B,iBArC1B,E,0CAkDd,WACE,OAAO52C,KAAKiR,c,4BAQd,SAAe7J,GAEb,OADApH,KAAKiR,YAAc7J,EACZpH,O,8BAOT,WACE,OAAOA,KAAKkhE,gB,iCAQd,SAAoBnd,GAClB,OAAO/jD,KAAKkhE,cAAchrB,QAAQ6N,K,yBAOpC,WACE,OAAO/jD,KAAKklE,W,4BAQd,SAAeC,GACb,OAAOnlE,KAAKklE,SAAShvB,QAAQivB,K,6BAO/B,WACE,OAAOnlE,KAAKwhE,e,sBAOd,WACE,OAAOxhE,KAAKwyC,Q,uBAOd,WACE,OAAOxyC,KAAK6jE,S,sBAQd,SAASC,GACP,OAAO9jE,KAAK6jE,OAAO3tB,QAAQ4tB,K,8BAO7B,WACE,IAAMsB,EAAQzuD,MAAMC,KAAK5W,KAAKqlE,mBAAmBljE,KAAKmT,UAChD4vD,EAAWvuD,MAAMC,KAAK5W,KAAKslE,cAAcnjE,KAAKmT,UACpD,OAAO8vD,EAAM/kE,OAAO6kE,K,sBAQtB,SAASK,GACP,IAAMzB,EAAU3nD,KAKhB,OAJAnc,KAAK6jE,OAAOttB,QAAQ,CAClBvlC,KAAM8yD,EACN3jE,QAAS,CAAEV,GAAIqkE,EAAS9yD,KAAMu0D,EAAWxxB,SAAS,KAE7C/zC,O,yBAQT,SAAY8jE,GAEV,OADA9jE,KAAK6jE,OAAOxb,WAAWyb,GAChB9jE,O,mCAQT,SAAsB8jE,EAAS/vB,GAC7B,IAAMyxB,EAAYxlE,KAAKylE,SAAS3B,GAKhC,OAJA9jE,KAAK6jE,OAAOtZ,WAAW,CACrBv5C,KAAM8yD,EACN3jE,QAAS,SAAKqlE,GAAP,IAAkBzxB,QAAAA,MAEpB/zC,O,uBAST,SAAU8jE,GAAuB,IAAd3jE,EAAc,uDAAJ,GACrBqlE,EAAYxlE,KAAKylE,SAAS3B,GAKhC,OAJA9jE,KAAK6jE,OAAOtZ,WAAW,CACrBv5C,KAAM8yD,EACN3jE,QAAS,SAAKqlE,GAAcrlE,KAEvBH,O,2BAOT,WACE,OAAOA,KAAKu3C,a,0BAQd,SAAamuB,GACX,OAAO1lE,KAAKu3C,WAAWrB,QAAQwvB,K,0BAOjC,SAAa10D,EAAM7Q,GAEjB,OADAH,KAAKu3C,WAAWhB,QAAQ,CAAEvlC,KAAAA,EAAM7Q,QAAAA,IACzBH,O,6BAQT,SAAgB0lE,GAEd,OADA1lE,KAAKu3C,WAAW8Q,WAAWqd,GACpB1lE,O,gCAWT,SAAmB81C,EAAU31C,EAASi2C,GACpC,IAAMplC,EAAO7Q,EAAQ6Q,KAMrB,OALIolC,IAAaplC,GACfhR,KAAK81C,GAAUwU,WAAW,CAAElU,SAAAA,EAAUplC,KAAAA,IAAQ,GAGhDhR,KAAK81C,GAAUyU,WAAW,CAAEv5C,KAAAA,EAAM7Q,QAAAA,IAC3BH,O,4BAUT,SAAewqD,EAASziD,GAEtB,OADA/H,KAAKwqD,GAASnC,WAAWtgD,GAClB/H,O,yBAUT,SAAYwqD,EAASziD,GACnB,OAAO/H,KAAKwqD,GAAStU,QAAQnuC,K,sBAO/B,WACE,OAAO6U,EAAKk8B,Q,8BAOd,WACE,OAAOl8B,EAAKizB,Y,qBAQd,SAAQyE,GACN,IACErjC,EASEqjC,EATFrjC,YACAD,EAQEsjC,EARFtjC,KACAojC,EAOEE,EAPFF,QACA8sB,EAME5sB,EANF4sB,cACAgE,EAKE5wB,EALF4wB,SACA1D,EAIEltB,EAJFktB,aACAhvB,EAGE8B,EAHF9B,MACAqxB,EAEEvvB,EAFFuvB,OACAtsB,EACEjD,EADFiD,WAYF,OATA,gDAAc,CAAEtmC,YAAAA,EAAaD,KAAAA,EAAMojC,QAAAA,IAEnCp0C,KAAKkhE,cAAc3rB,QAAQr7B,QAAQgnD,GACnClhE,KAAKklE,SAAS3vB,QAAQr7B,QAAQgrD,GAC9BllE,KAAKwhE,aAAajsB,QAAQr7B,QAAQsnD,GAClCxhE,KAAKwyC,MAAM+C,QAAQr7B,QAAQs4B,GAC3BxyC,KAAK6jE,OAAOtuB,QAAQr7B,QAAQ2pD,GAC5B7jE,KAAKu3C,WAAWhC,QAAQr7B,QAAQq9B,GAEzBv3C,O,qBAGT,SAAQ+kC,GACN,IAAQ/zB,EAAS+zB,EAAT/zB,KACF7Q,EAAUwjE,GAAAA,cAAA,OAA8B3yD,EAA9B,MAA0C+zB,KAC1D/kC,KAAKqlE,mBAAmB9uB,QAAQ,CAAEvlC,KAAAA,EAAM7Q,QAAAA,M,wBAG1C,SAAW4kC,GACT,IAAQ/zB,EAAS+zB,EAAT/zB,KACF7Q,EAAUqkE,GAAAA,cAAA,OAAyBxzD,EAAzB,MAAqC+zB,KACrD/kC,KAAKslE,cAAc/uB,QAAQ,CAAEvlC,KAAAA,EAAM7Q,QAAAA,M,wBAQrC,SAAW4jD,GAGT,OAFA/jD,KAAK2lE,gBAAgB5hB,GACrB/jD,KAAK4lE,uBAAuB7hB,GACrB/jD,KAAKqlE,mBAAmBhd,WAAWtE,K,2BAQ5C,SAAc8hB,GAGZ,OAFA7lE,KAAK2lE,gBAAgBE,GACrB7lE,KAAK4lE,uBAAuBC,GACrB7lE,KAAKslE,cAAcjd,WAAWwd,K,qBAwCvC,SAAQhvC,GACN,WAAmBA,EAAnB,GAAOjgB,EAAP,KAAa8rD,EAAb,KACMjjE,EAAK0c,KAMX,OAJAnc,KAAK6kE,WAAWtuB,QAAQ,CAAEvlC,KAAMvR,EAAIU,QAAS,CAAEyW,KAAAA,EAAM8rD,GAAAA,KAI9C,IAAEjjE,GAAAA,GAFKO,KAAK6kE,WAAW5rD,gBAERxZ,M,wBAOxB,SAAWA,GACTO,KAAK6kE,WAAWxc,WAAW5oD,K,gCAO7B,SAAmBA,GACjBO,KAAKglE,kBAAkB3c,WAAW5oD,K,+BAQpC,SAAkBqmE,EAAQC,GACxB/lE,KAAK6kE,WAAW3uB,QAAQ4vB,GAAQE,cAAcD,K,+BAQhD,SAAkBD,GAChB,OAAO9lE,KAAK6kE,WAAW3uB,QAAQ4vB,GAAQhD,kB,+BAGzC,SAAkBZ,EAAc+D,EAAUlb,GAExC,OADA/qD,KAAKglE,kBAAkB5D,kBAAkBc,EAAc+D,EAAUlb,GAC1D/qD,KAAKglE,kBAAkB/rD,kB,yBAShC,SAAYyC,EAAGrT,EAAMjB,GAEnBpH,KAAKm1C,SAAS9sC,EAAMjB,K,uBAatB,WACE,OAAO,SAAP,wDAEE6J,YAAajR,KAAK82C,iBAClBoqB,cAAelhE,KAAKqlE,mBAAmB/tD,YACvC4tD,SAAUllE,KAAKslE,cAAchuD,YAC7BkqD,aAAcxhE,KAAKglE,kBAAkB1tD,YACrCk7B,MAAOxyC,KAAK6kE,WAAWvtD,YACvBusD,OAAQ7jE,KAAKkkE,YAAY5sD,YACzBigC,WAAYv3C,KAAKw3C,gBAAgBlgC,gB,2BASrC,WACE,MAAuCtX,KAAKsX,YAGtC4uD,EAAiB,SAAArxD,GACrB,OAAOA,EAAQsxD,WAAatxD,EAAQoE,qBAAkBnY,GAGxD,MAAO,CACLqyB,MARF,EAAQniB,KASNkiB,YATF,EAAcjiB,YAUZ6hB,WAVF,EAA2BshB,QAWzBgyB,SAAUpmE,KAAKqlE,mBAAmBpsD,gBAClCotD,UAAWrmE,KAAKslE,cAAcrsD,gBAC9B0nD,aAAcuF,EAAelmE,KAAKglE,mBAClCsB,MAAOJ,EAAelmE,KAAK6kE,YAC3B0B,OAAQL,EAAelmE,KAAKkkE,aAC5BjtB,UAAWj3C,KAAKw3C,gBAAgBv+B,oB,4BAepC,SAAqBq7B,GACnB,IACS70C,EAYL60C,EAZFnhB,MACOniB,EAWLsjC,EAXFnhB,MACYihB,EAUVE,EAVFxhB,WACAna,EASE27B,EATF37B,UACAyyB,EAQEkJ,EARFlJ,QACan6B,EAOXqjC,EAPFphB,YACUguC,EAMR5sB,EANF8xB,SACWlB,EAKT5wB,EALF+xB,UACc7E,EAIZltB,EAJFqsB,aACOnuB,EAGL8B,EAHFgyB,MACQzC,EAENvvB,EAFFiyB,OACWhvB,EACTjD,EADF2C,UAGF,MAAO,CACLx3C,GAAAA,EACAuR,KAAAA,EACAojC,QAAAA,EACAz7B,UAAAA,EACAyyB,QAAAA,EACAn6B,YAAAA,EACAiwD,cAAerrB,GAAAA,cAAsBqrB,EAAeyC,IACpDuB,SAAUrvB,GAAAA,cAAsBqvB,EAAUV,IAC1ChD,aAAcT,GAAAA,cACZS,EACAb,IAEFnuB,MAAOqD,GAAAA,cAAsBrD,EAAOiwB,IACpCoB,OAAQhuB,GAAAA,cAAsBguB,EAAQxB,IACtC9qB,WAAY1B,GAAAA,cAAsB0B,EAAYN,S,EA7hB9Cr6B,CAAao3B,I,IAAbp3B,GAAAA,QAiiBW,Q,IAjiBXA,GAAAA,YAkiBe,kB,IAliBfA,GAAAA,YAoiBe,Q,IApiBfA,GAAAA,sBAsiByB,CAC3B,WACA,eACA,QACA,kB,IA1iBEA,GAAAA,kBA6iBqB,CACvBnQ,KAAM,OACN0sC,QAAS,UACTtoB,YAAa,gBAIjBjU,GAAKs6B,SAAW,GAEhB,YClkBA,IAAM/0C,GAAO,GACPkgD,GAAS,GAQTC,GAAa,+BAAG,WAAOC,EAAczN,GAArB,0FACb0N,EAAAA,KAAAA,cAAmB,CACxBC,OATY,qBAUZC,KAAMH,EACNzN,KAAAA,IAECxtC,MAAK,SAAAuc,GACJ,OAAOA,EAAIjJ,QAAUiJ,EAAIjhB,OAAS,QAN/B,OAQE,SAAAyiB,GAAG,OAAIlP,QAAQ+E,KAAK,YAAamK,OATtB,2CAAH,wDAgBnBg9B,GAAOmkB,gBAAP,cAAyB,kFACnBrkE,GAAKskE,aADc,yCACO9sD,QAAQ0vB,QAAQlnC,GAAKskE,eAD5B,gCAEhBnkB,GAAc,kBAAmB,IAAIh7C,MAAK,SAAAuc,GAE/C,OADA1hB,GAAKskE,aAAe5iD,EAAI6iD,UACjBvkE,GAAKskE,iBAJS,2CAYzBpkB,GAAOskB,YAAP,+BAAqB,gGAASruD,EAAT,EAASA,OAAQsuD,EAAjB,EAAiBA,SAAU9wC,EAA3B,EAA2BA,QAA3B,kBACZwsB,GAAc,cAAe,CAAChqC,EAAQsuD,EAAU9wC,KADpC,2CAArB,sDAIA,Y,ICvCM+wC,GAAAA,SAAAA,G,6aACJ,WAAYluD,EAAWT,EAAUU,GAAY,yBAC3C,cAAM,CACJD,UAAAA,EACAmC,MAAOk5B,GACPhjC,KAAMgjC,GAAAA,MACN1hC,MAAO,QACPwD,QAAS,CAACmmC,IACVrjC,WAAAA,EACAV,SAAAA,IARyC,oBAapCmqC,IAboC,E,mCAe7C,SAAQrxC,GAGN,OAFAhR,KAAKgW,UAAU,gBAAgBggC,UAAUhlC,GAElC,gDAAcA,O,EAnBnB61D,CAAkB/tD,I,IAAlB+tD,GAAAA,QAsBW7yB,GAAAA,OAGjB,YC7BM,GAA+B1tC,QAAQ,kBCAvC,GAA+BA,QAAQ,oC,eCiCvCwgE,GACW,cAGjB,SArCMC,WACJ,aACE,GADY,YACRA,EAAUryD,SAAU,OAAOqyD,EAAUryD,SACzCqyD,EAAUryD,SAAW1U,KACrBA,KAAK47C,MAAQ,G,8BAMf,WACE,OAAO57C,KAAK47C,Q,mBAQd,SAAM7zC,EAAKX,GACTpH,KAAK47C,MAAM7zC,GAAOX,I,kBAQpB,SAAKW,GACH,OAAO/H,KAAKmC,KAAK4F,O,EA7Bfg/D,G,ICCAC,GAAAA,WACJ,WAAYr+B,EAAGwH,GAAG,YAChBnwC,KAAKinE,IAAM,CAACt+B,EAAGwH,GAAGlwC,KAAI,SAAAmwC,GAAC,OAAKA,GAAQ,K,2BAGtC,WACE,OAAOpwC,KAAKinE,IAAI,K,aAGlB,WACE,OAAOjnE,KAAKinE,IAAI,K,qBAGlB,WACE,OAAOjnE,KAAKinE,M,iBAGd,SAAI92B,GACF,OAAOnwC,KAAKknE,GAAG/2B,GAAG,SAACnpC,EAAG2B,GAAJ,OAAU3B,EAAI2B,O,iBAGlC,SAAIwnC,GACF,OAAOnwC,KAAKknE,GAAG/2B,GAAG,SAACnpC,EAAG2B,GAAJ,OAAU3B,EAAI2B,O,iBAGlC,SAAIwnC,GACF,OAAOnwC,KAAKknE,GAAG/2B,GAAG,SAACnpC,EAAG2B,GAAJ,OAAU3B,EAAI2B,O,iBAGlC,SAAIwnC,GACF,OAAOnwC,KAAKknE,GAAG/2B,GAAG,SAACnpC,EAAG2B,GAAJ,OAAU3B,EAAI2B,O,iBAGlC,SAAIwnC,GACF,OAAOnwC,KAAKinE,IAAI/xC,QAAO,SAACiyC,EAAKl6B,EAAGzsC,GAAT,OAAe2mE,EAAMl6B,EAAIkD,EAAE82B,IAAIzmE,KAAI,K,kBAG5D,SAAK2vC,GACH,OAAO,IAAI62B,EAAKhnE,KAAK2oC,EAAIwH,EAAExH,EAAI3oC,KAAKmwC,EAAIA,EAAEA,EAAGnwC,KAAK2oC,EAAIwH,EAAEA,EAAInwC,KAAKmwC,EAAIA,EAAExH,K,oBAGzE,WACE,OAAOy+B,KAAKC,KAAKrnE,KAAKsnE,IAAItnE,S,uBAG5B,WACE,OAAOA,KAAKunE,MAAM,EAAIvnE,KAAKM,Y,kBAG7B,WACE,OAAO,IAAI0mE,GAAMhnE,KAAKmwC,EAAGnwC,KAAK2oC,K,iBAGhC,WACE,OAAO3oC,KAAKunE,OAAO,K,kBAGrB,WACE,OAAO,IAAIP,EAAKhnE,KAAK2oC,GAAI3oC,KAAKmwC,K,mBAGhC,SAAM1oC,GACJ,OAAOzH,KAAKC,KAAI,SAAAmwC,GAAC,OAAIA,EAAI3oC,O,iBAG3B,SAAImO,GACF,OAAOoxD,EAAKQ,UAAUxnE,KAAKinE,IAAIhnE,IAAI2V,M,gBAQrC,SAAGu6B,EAAGs3B,GACJ,OAAOT,EAAKQ,UAAUxnE,KAAKinE,IAAIhnE,KAAI,SAACgtC,EAAGzsC,GAAJ,OAAUinE,EAASx6B,EAAGkD,EAAE82B,IAAIzmE,U,oBAGjE,SAAOknE,EAAMC,GACX,OAAO3nE,KAAKinE,IAAI/xC,OAAOwyC,EAAMC,K,sBAG/B,WACE,MAAO,CAAEh/B,EAAG3oC,KAAK2oC,EAAGwH,EAAGnwC,KAAKmwC,K,sBAG9B,WACE,MAAO,OAAP,OAAcnwC,KAAK2oC,EAAnB,eAA2B3oC,KAAKmwC,EAAhC,Q,wBAGF,SAAiBsU,GACf,GAAIA,EAAMnkD,OAAS,EAAG,MAAM,IAAI6E,MAAM,4BACtC,OAAO,IAAI6hE,EAAKviB,EAAM,GAAIA,EAAM,M,gBAGlC,SAAU9b,EAAGwH,GACX,OAAO,IAAI62B,EAAKr+B,EAAGwH,K,uBAGrB,SAAiBy3B,GACf,OAAO,IAAIZ,EAAKY,EAAQj/B,EAAGi/B,EAAQz3B,O,EApGjC62B,G,IAAAA,GAAAA,OAuGU,IAAIA,GAAK,EAAG,I,IAvGtBA,GAAAA,KAwGQ,IAAIA,GAAK,EAAG,I,IAxGpBA,GAAAA,KAyGQ,IAAIA,GAAK,EAAG,IAG1B,YC7GM,GAA+B1gE,QAAQ,8B,qBCAvCuhE,GAAoB,KACpBC,GAAgB,CACpB,CAAC,GAAID,OACL,CAAC,GAAIA,QAEDE,GACK,UADLA,GAEM,WAGNC,GAAe,sBAAGnjE,OAAO4G,mBAAV,cAAG,GAAoBw8D,sBAAvB,UAAyC,GAExD90D,GASU,aATVA,GAcU,wBAKV+0D,GACE,OADFA,GAEO,YAFPA,GAGO,YAHPA,GAIY,iBAGZC,GACE,WADFA,GAEO,YAGPC,GAAsB,SAAAjD,GAC1B,MAAO,QAAP,OAAeA,MAAAA,OAAf,EAAeA,EAAQxjE,QAAQ,MAAO,OC5ClC0mE,GAIK,UAJLA,GAKK,UALLA,GAWU,aAXVA,GAYW,cAZXA,GAiBS,aAGTC,GACE,OADFA,GAEE,OCtBR,MAAM,GAA+BhiE,QAAQ,Q,eCA7C,MAAM,GAA+BA,QAAQ,qC,eCA7C,MAAM,GAA+BA,QAAQ,kC,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,4BCAvC,GAA+BA,QAAQ,uB,qkBCG7C,IAAMiiE,GAAe,CACnBpmD,QAAS,OACTE,eAAgB,iBAGZmmD,GAAe,SAChBD,IADa,IAEhB/xC,aAAc,SAGViyC,GAAoB,CACxBnxC,UAAW,OACXsvB,UAAW,OACXp4B,YAAa,OACbI,aAAc,QAGV85C,GAAa,SACdH,IADW,IAEdI,WAAY,OACZjyC,cAAe,OACfkyC,UAAW,kBACXlsC,aAAc,kBACdlG,aAAc,OACd,UAAW,CACTmyC,WAAY,MACZC,UAAW,UAEb,UAAW,CACTp+C,SAAU,SACVpN,SAAU,QACVonB,aAAc,WACd,QAAS,CACP5kB,OAAQ,QAGZ,uBAAwB,CACtBiY,UAAW,WAIFgxC,IAAiBlpD,EAAAA,GAAAA,aAAW,SAAAxV,GAAK,MAAK,CACjDrL,KAAM,CACJkhB,SAAU,WACVE,IAAK,OACLD,MAAO,QAET2H,SAAU,CACRhI,OAAQ,MACRY,SAAU,SAEZ5F,QAAS,CACP/Q,gBAAiBi/D,GAAAA,MAAAA,MAEnBtmD,MAAO,CACL3Y,gBAAiBM,EAAMgW,QAAQqC,MAAMnZ,MAEvC0/D,KAAM,CACJl/D,gBAAiBM,EAAMgW,QAAQ4K,QAAQiM,MAEzCgyC,QAAS,CACPn/D,gBAAiBo/D,GAAAA,MAAAA,MAEnBC,eAAgB,CACd58C,OAAQ,iBACRyK,OAAQ,UACR9L,WAAY,mBACZ,UAAW,CACTqmB,YAAa,SAGjB7rB,KAAM,CACJS,SAAU,QAEZijD,YAAa,CACX16C,QAAS,GACT9I,YAAa,QAEf3K,QAAS,CACPmH,QAAS,OACTyD,WAAY,MACZxD,WAAY,cAIHgnD,IAA4BzpD,EAAAA,GAAAA,aAAW,SAAAW,GAAM,MAAK,CAC7D+oD,mBAAoB,MACfb,IAELc,0BAA2B,MACtBb,IAELc,kBAAmB,MACdb,IAELc,WAAY,CACVt7C,UAAW,YAIFu7C,IAAiC9pD,EAAAA,GAAAA,aAAW,SAAAW,GAAM,MAAK,CAClEopD,wBAAyB,MACpBlB,IAELmB,+BAAgC,MAC3BlB,IAELmB,YAAa,CACX17C,UAAW,YAIF27C,IAAmClqD,EAAAA,GAAAA,aAAW,SAAAW,GAAM,MAAK,CACpExhB,KAAM,CACJ,MAAO,CACL8mB,WAAY,aAGhBkkD,0BAA2B,MACtBtB,IAELuB,iCAAkC,MAC7BtB,IAELmB,YAAa,CACX17C,UAAW,YAIF87C,IAAsBrqD,EAAAA,GAAAA,aAAW,SAAAW,GAAM,MAAK,CACvD2pD,uBAAwB,MACnBvB,IAELwB,WAAY,CACVh8C,UAAW,OAEbi8C,WAAY,CACVt8C,cAAe,OACf3H,SAAU,YClIRkkD,GAAc,CAClBxvD,QAASyvD,KACTrB,QAASsB,KACT9nD,MAAO+nD,KACPxB,KAAMyB,MAGFC,GAAW,SAAAxuD,GAEf,MAAqCA,EAA7ByuD,SAAAA,OAAR,MAAmB,GAAnB,EAAuBC,EAAc1uD,EAAd0uD,UAEjBhqD,EAAUkoD,KAiDhB,OACE,oCAAG8B,GAAa,yBAAKttD,UAAWsD,EAAQ7hB,MArCjC4rE,EAASzqE,KAAI,SAAC+oE,EAAS9kE,GAC5B,IAAQgN,EAA2B83D,EAA3B93D,KAAM8J,EAAqBguD,EAArBhuD,QAASgG,EAAYgoD,EAAZhoD,QACjB4Y,EAAOwwC,GAAYl5D,GACnB05D,EAAO5B,EAAQ4B,KACjB5B,EAAQ4B,KACR,aAMJ,OACE,kBAAC,KAAD,CACE7iE,IAAK7D,EACLmZ,UAAS,UAAKwtD,IAAAA,CAAKlqD,EAAQzP,IAAlB,YAA4ByP,EAAQiH,SAApC,YACP5G,EAAUL,EAAQuoD,eAAiB,IAErCloD,QATuB,WACzBA,GAAWA,EAAQgoD,IASjBhuD,QACE,0BAAMqC,UAAWsD,EAAQ3F,SACvB,kBAAC4e,EAAD,CAAMvc,UAAWwtD,IAAAA,CAAKlqD,EAAQ8E,KAAM9E,EAAQwoD,eAC3CnuD,EACA4vD,aAmBfH,GAAS7oD,UAAY,CACnB8oD,SAAU7oD,KAAAA,MAAAA,WACV8oD,UAAW9oD,KAAAA,MAGb,YCjFM,GAA+Bvb,QAAQ,0B,eCA7C,MAAM,GAA+BA,QAAQ,iC,eCA7C,MAAM,GAA+BA,QAAQ,oC,eCEhCwkE,IAAuBnrD,EAAAA,GAAAA,aAAW,SAAAxV,GAAK,MAAK,CACvDrL,KAAM,CACJkhB,SAAU,WACV2kB,OAAQ,OACR1kB,MAAO,OACP8W,OAAQ,UACRzK,OAAQ,wBACRrB,WAAY,mBACZ,UAAW,CACTqmB,YAAannC,EAAMgW,QAAQC,KAAK,MAElC,OAAQ,CACN8N,UAAW,IACXhI,SAAU,OACV/D,QAAS,OACTC,WAAY,SACZ6I,WAAY,iBAEd,aAAc,CACZA,WAAY,iBAEd,aAAc,CACZqM,UAAW,OACXla,SAAU,OACVk0B,YAAannC,EAAMgW,QAAQC,KAAK,IAChC,UAAW,CACTkxB,YAAa,eAEf,UAAW,CACTzxB,QAAS,YAEX,OAAQ,CACNqG,SAAU,QAEZ,aAAc,CACZ8I,UAAW,oBAIjB+7C,cAAe,CACb5oD,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChB,QAAS,CACPzC,OAAQ,MAGZorD,UAAW,CACT9oD,MAAO,OACPD,OAAQ,WCFZ,SAxCuB,WACrB,OAAgClD,EAAAA,EAAAA,WAAS,GAAzC,YAAOksD,EAAP,KAAiBC,EAAjB,KAGQ/jE,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAEFwZ,EAAUmqD,KAEVK,GAAehhD,EAAAA,EAAAA,cAAY,WAC/B+gD,GAAY,SAAA//C,GAAS,OAAKA,OACzB,IAEH,OACE,kBAAC,KAAD,CACE,cAAY,0BACZ9N,UAAS,UAAKsD,EAAQ7hB,KAAb,YAAqBmsE,EAAW,WAAa,KAEtD,kBAAC,KAAD,CAAa,cAAY,sBAAsBjqD,QAASmqD,GACtD,4BAEMhkE,EADH8jE,EACK,8BACA,uBACN,kBAAC,KAAD,OAEDhkE,OAAOqO,OAAO/D,IAAiBtR,KAAI,SAACmrE,EAAK5qE,GACxC,OACE,yBAAKuH,IAAG,UAAKqjE,EAAI35D,MAAT,YAAkBjR,GAAK6c,UAAWsD,EAAQoqD,eAChD,2BAAI5jE,EAAEikE,EAAI35D,QACV,yBACE4L,UAAWsD,EAAQqqD,UACnBxmE,MAAO,CAAEqF,gBAAiBuhE,EAAIz5D,gBCvCxC,GAA+BrL,QAAQ,QCAvC,GAA+BA,QAAQ,MCAvC,GAA+BA,QAAQ,e,eCStC,SAAS+kE,GAAqBloE,GACnC,GAAKA,EAAL,CACA,IAAIqzC,EAEJ,IAGEA,EAAS,CAFCrrC,IAAAA,IAAWhI,EAAK,UAAWA,EAAI,IAC/BgI,IAAAA,IAAWhI,EAAK,UAAWA,EAAI,KAEzC,MAAOqf,GACPrM,QAAQqM,MAAMA,GAGhB,OAAOg0B,GAGF,SAAS80B,GAAevzB,GAA+B,MAArBwzB,EAAqB,wDACtDC,EAAsBD,EAAwC,GAA1B,wBACpCE,GAAgB,UAAA1zB,EAASX,YAAT,eAAez1C,QAAQ,MAAO,OAAQ,UACtDyB,EAAyB,UAAnB20C,EAAS5kB,MAAoB,QAAUs4C,EAEnD,MAAO,GAAP,OAAUroE,GAAV,OAAgBooE,GAeX,SAASE,GAAT,GAA+C,IAAlBC,EAAkB,EAAlBA,GAAIC,EAAc,EAAdA,GAAIC,EAAU,EAAVA,GAAIC,EAAM,EAANA,GAC9C,OAAOC,GAAAA,OACG,OACPC,OAAO,QACPxnE,MAAM,SAAU,SAChBA,MAAM,eAAgB,GACtBynE,KAAK,KAAMN,GACXM,KAAK,KAAML,GACXK,KAAK,KAAMJ,GACXI,KAAK,KAAMH,GACX/mC,OC3CL,IAAMmnC,GAAoB,SAAA9tC,GACxB,IAAM+tC,EAAe/tC,EAAKvgB,MAAM,KAC1ButB,EAAU+gC,EAAa,IAAM,IAC7BC,EAAWD,EAAa3qE,MAAM,EAAG,GAAGjB,KAAK,KAE/C,MAAO,CAAC,kBAAmB,KAAKonC,SAASyD,GAAlC,UACAghC,EADA,gBAEAA,EAFA,YAEYhhC,IAkBd,SAASihC,GAAclpE,GAAmC,IAA9BmpE,EAA8B,uDAArB,GAAIC,EAAiB,uDAAL,IAC1D,OAAOtlE,OAAOgE,KAAK9H,GAAK+xB,QAAO,SAACiyC,EAAKnmE,GACnC,IAAMwrE,EAAMF,EAAOhsE,OAASgsE,EAASC,EAAY,GAIjD,MAHsB,WAAlB,KAAOppE,EAAInC,IACbiG,OAAOwlE,OAAOtF,EAAKkF,GAAclpE,EAAInC,GAAIwrE,EAAMxrE,EAAGurE,IAC/CpF,EAAIqF,EAAMxrE,GAAKmC,EAAInC,GACjBmmE,IACN,I,mOCxCgBuF,GAAAA,WACnB,WAAYvqE,GAAM,+CAoBH,CAAC,YAAa,WAAY,kBApBvB,4BAsBC,CACjB,QACA,aACA,aACA,YACA,UACA,SACA,kBA7BgB,kBAgCT,IAAIuQ,KAhCK,mBAiCR,CAAEu9B,EAAG,GAAIC,EAAG,KAjCJ,mBAkCR,CAAEvH,EAAG,GAAIwH,EAAG,IAlCJ,wBAmCH,IAnCG,qBAoCP,GApCO,yBA8EH,WACb,IAAMqG,EAAS,CAAEkC,GAAI,EAAGC,IAAK,GAM7B,OAJA,EAAKg0B,OAAO7kE,SAAQ,SAAAw4D,GAClB9pB,EAAO8pB,EAAKpvD,OAAS,K,mWAGhB,EACL07D,IAAKxF,KAAKyF,IAAIr2B,EAAOkC,GAAIlC,EAAOmC,MAC7BnC,MAvFW,sBA+FN,WACV,IAAQs2B,EAAiB,EAAjBA,aAEF7uB,EADW,EACC6uB,EACZ7qD,GAAU,EAAK8qD,eAAeH,IAAM,GAAKE,EAE/C,OAAO1F,KAAKyF,IAAI5uB,EAAWh8B,MArGX,+BA6GG,SAAA/Q,GACnB,IAAM87D,EAAY,EAAKD,eACjB9qD,EAAS,EAAKgrD,YACZ/qD,EAAwB,EAAxBA,MAAO4qD,EAAiB,EAAjBA,aACf,EAAiB,EAAKjtD,QAAd8oB,EAAR,EAAQA,EAAGwH,EAAX,EAAWA,EAEL+8B,EAAQ,CACZx0B,GAAI/P,EAAI,EACRgQ,IAAKz2B,EAAQymB,EAAI,GAGbwkC,EAAQlrD,EAAS,GAAM+qD,EAAU97D,GAAQ,GAAK47D,EAAgB,EAAI38B,EAExE,MAAO,CAAC+8B,EAAMh8D,GAAOi8D,MA1HL,uBA6HL,SAAApiB,GAAY,MACvB,iBAAO,EAAK4hB,OAAOvkE,IAAI2iD,UAAvB,aAAO,EAA2B/qC,YA7HlChgB,KAAKmC,KAAO,CACV1C,GAAI0C,EAAK1C,GACT0kE,UAAWhiE,EAAKgiE,WAAa,GAC7BlY,QAAS9pD,EAAK8pD,SAAW,GACzBj7C,KAAM7O,EAAKgiE,UACXltB,UAAW90C,EAAK80C,WAAa,GAC7BuB,SAAUr2C,EAAKq2C,UAAY,GAC3B6rB,cAAegH,GAAqBlpE,EAAKkiE,gBAAkB,CAAC,GAAI,IAChED,WAAYjiE,EAAKiiE,YAAc,GAC/BvY,WAAY1pD,EAAK0pD,WACjBE,WAAY5pD,EAAK4pD,WACjBD,OAAQ3pD,EAAK2pD,OACb56C,KAAMi3D,GACNrtD,MAAO,Q,8BAwBX,WACE,IAAM6tB,EAAI3oC,KAAKmC,KAAKkiE,cAAc,GAClC,OAAO17B,GAAK,EAAIA,GAAK,EAAIk/B,IAAqBl/B,I,gBAGhD,WACE,IAAMwH,EAAInwC,KAAKmC,KAAKkiE,cAAc,GAClC,OAAOl0B,EAAI,EAAIA,GAAK,EAAI03B,IAAqB13B,I,iBAG/C,WACE,OAAOnwC,KAAKotE,QAAQl9B,I,kBAGtB,WACE,OAAOk3B,KAAKyF,IAAI7sE,KAAKitE,YAAajtE,KAAKotE,QAAQn9B,K,kBAGjD,WACE,IAAQo9B,EAA8BrtE,KAA9BqtE,KAAMC,EAAwBttE,KAAxBstE,KAEd,MAAO,CACLC,QAASF,EAH2BrtE,KAAlBkiB,MAGM,EACxBsrD,QAASF,EAJ2BttE,KAAXiiB,OAIA,K,mBAI7B,WACE,OAAOjiB,KAAKytE,U,IAGd,SAAYrmE,GACVpH,KAAKytE,SAAWpsC,QAAQj6B,O,EAvEPslE,GCFfgB,GAAa,CAAC,kBAoCdC,GAAc,SAACC,EAAOC,GAK1B,MAJc,CACZ,SAAC7mE,EAAG2B,GAAJ,OApBkBmlE,EAoBK9mE,EAAEgU,QApBD+yD,EAoBUplE,EAAEqS,QAnB/B8yD,IAASC,GAZD,SAACD,EAAMC,GACtB,MAAO,CAACD,EAAMC,GAAMvyD,MAAK,SAAAgtC,GAAG,OAAIklB,GAAW/lC,SAAS6gB,MAW5BwlB,CAASF,EAAMC,GADpB,IAACD,EAAMC,GAqBxB,SAAC/mE,EAAG2B,GAAJ,OAAoB3B,EAAEkK,OAAMvI,EAAEuI,OAEnB+8D,OAAM,SAAA34B,GAAE,OAAIA,EAAGs4B,EAAOC,OCpCrC,IAAMK,GAAW,CAAC,kBAEZC,GAAAA,WACJ,WACEppC,EADF,GAaE,IAVE/zB,EAUF,EAVEA,KACAE,EASF,EATEA,KACAwL,EAQF,EAREA,SACAi7B,EAOF,EAPEA,QACAa,EAMF,EANEA,SACAC,EAKF,EALEA,QACAxB,EAIF,EAJEA,UACAm3B,EAGF,EAHEA,QACAC,EAEF,EAFEA,OAEF,oCAea,CAAC,UAAW,aAfzB,qBAgBS,GAfTruE,KAAK+kC,KAAOA,EACZ/kC,KAAKmC,KAAO,CACV6O,KAAAA,EACAE,KAAAA,EACA8H,SAAU0D,GAAY,GACtB1B,QAAS28B,GAAW,GACpBI,SAAUS,GAAY,GACtB81B,QAAS71B,GAAW,GACpBlB,WAAYN,GAAa,GACzBqqB,QAAS8M,IAAW,EACpBC,OAAQA,GAAU,M,8BAOtB,WACE,OAAOruE,KAAKmC,KAAK6O,O,mBAGnB,WACE,OAAOhR,KAAKytE,U,IAGd,SAAYrmE,GACVpH,KAAKytE,SAAWrmE,M,EAzCd+mE,GA6CAI,GAAAA,SAAAA,G,6aACJ,WAAYxpC,EAAM5iC,EAAM4zC,GAAQ,yBAC9B,cAAMhR,EAAM5iC,GADkB,oBAcvB,MAduB,mBAexB,SAfwB,oBAgBvB,IAhBuB,gBAiB3B,GAjB2B,gBAkB3B,GAlB2B,mBAmBxB,IAAIuQ,KAnBoB,sBAoBtB,GApBsB,sBAsBtB,WACR,EAAKgkC,OAAO3yC,YAvBkB,uBAoDrB,SAACuxC,GAAmC,IAA/Bk5B,IAA+B,yDAC7CzC,GAAAA,MAAAA,iBACAA,GAAAA,MAAAA,kBAEA,aAAQ0C,EAAR,EAAQA,QAAShkE,EAAjB,EAAiBA,UACbgkE,IAAYD,GAAwB/jE,GAAW6qC,OAzDrB,sBA4DtB,WACR,EAAKo5B,aAAa,EAAK34B,OAAO/0B,QAA9B,WA7D8B,0BAgElB,WACZ,EAAK0tD,aAAa,EAAK34B,OAAO44B,YAA9B,WAjE8B,yBAoEnB,WACX,EAAKD,aAAa,EAAK34B,OAAO64B,WAA9B,WArE8B,wBAwEpB,WACV,EAAKF,aAAa,EAAK34B,OAAO84B,UAA9B,WAzE8B,uBAuHrB,SAACC,EAAOC,GACjB,MAAO,CAACD,EAAOC,GAAOvzD,MAAK,SAAAgtC,GAAG,OAAI0lB,GAASvmC,SAAS6gB,SAxHtB,uBAkIrB,SAAAphD,GACT,EAAKsvC,OAAOu1B,KAAK,QAAS7kE,MAnII,yBA0InB,SAAAjF,GAAQ,QACb6Y,EAAO,UAAG7Y,MAAAA,OAAH,EAAGA,EAAM6Y,eAAT,QAAoB,EAAK7Y,KAAK6Y,QACrC9J,EAAI,UAAG/O,MAAAA,OAAH,EAAGA,EAAM+O,YAAT,QAAiB,GAE3B,EAAK89D,QAAUh0D,EAEf,IAAM5X,EAAMuqE,GAAY,CAAE3yD,QAAAA,EAAS9J,KAAAA,GAAQ,EAAK/O,MAC5C,EAAKiB,IAAL,UACA,EAAKA,IAAI6rE,cACb,EAAKC,SAAS9rE,MAnJgB,sBA0JtB,WACR,OAAO,EAAK+rE,aAAalB,OAAM,SAAAlmE,GAAG,QAAM,EAAK5F,KAAK4F,SA3JpB,2BAoKjB,WAAa,2BAAT+sC,EAAS,yBAATA,EAAS,gBAC1B,IAAOQ,EAAoBR,EAA3B,GAAca,EAAab,EAA3B,SACA,GAAkB,mBAAPQ,EAAmB,OAAOA,EAAE,WAAF,MAAMK,OApK3C,EAAKI,OAASA,EACd,EAAK3yC,IAAM,CACT9B,QAAS,4BJ1BoB0Z,EI2BL,EAAK7Y,KAAK6Y,QJ1B/B,4BAAqBA,EAAQrZ,QAAQ,MAAO,MAAO8lC,eIyB7C,YACqC,EAAK2nC,YJ3BlD,IAA4Bp0D,GI4B7Bi0D,YAAa,yCAAuB,EAAKG,aAEzC3gD,QAAS,CAAEntB,QAAS,EAAG2tE,YAAa,KAGtC,EAAKtlD,SAAS0lD,YAXgB,E,kCA0BhC,WACE,IAAMjsE,EAAMpD,KAAKoD,IAAL,UASZ,OARApD,KAAK02C,OAASq1B,GAAAA,OACJ,cACPE,KAAK,KAAMjsE,KAAKsvE,IAChBrD,KAAK,KAAMjsE,KAAKuvE,IAChBtD,KAAK,IAAKjsE,KAAKwvE,QACfvD,KAAK,eAAgB,GACrBA,KAAK,QAAS7oE,GAEVpD,O,uBAGT,WAAY,WAUV,OATAA,KAAK02C,OAAO/gC,GAAG,SAAS,kBAAM,EAAK85D,SAAS,EAAKzuD,SAAS,MAC1DhhB,KAAK02C,OAAO/gC,GAAG,cAAc,WAC3B,EAAK85D,SAAS,EAAKd,gBAErB3uE,KAAK02C,OAAO/gC,GAAG,YAAY,WACzB,EAAK85D,SAAS,EAAKb,eAErB5uE,KAAK02C,OAAO/gC,GAAG,eAAe,kBAAM,EAAK85D,SAAS,EAAKZ,cAEhD7uE,O,cA2BT,WACE,OAAOA,KAAK02C,OAAO3R,S,gBAGrB,WACE,OAAO/kC,KAAKmC,KAAK+O,O,oBAGnB,WACE,IAAQ6zB,EAAe/kC,KAAf+kC,KACR,MAAO,CACL5iC,KAFqBnC,KAATmC,KAGZutE,SAAU,CAAEztD,OAAQ8iB,EAAK9iB,OAAQC,MAAO6iB,EAAK7iB,OAC7C0yC,OAAQ7vB,EAAK6vB,OACbjsB,EAAG5D,EAAKsoC,KAAOrtE,KAAKsvE,GACpBn/B,EAAGpL,EAAKuoC,KAAOttE,KAAKuvE,M,sBAOxB,WACE,OAAOrB,GAASvmC,SAAS3nC,KAAKmC,KAAK6Y,W,mBAGrC,WACE,OAAOhb,KAAKmC,KAAKm/D,S,IAOnB,SAAYl6D,GACVpH,KAAKmC,KAAKm/D,QAAUl6D,EACpBpH,KAAK02C,OAAOu1B,KAAK,QAASjsE,KAAKoD,IAAL,a,oBAN5B,WACE,OAAOpD,KAAK+kC,KAAK4qC,OAAOllE,W,sBAQ1B,WACE,OAAOzK,KAAKmC,KAAKm/D,QAAU,eAAiB,K,yBAO9C,WAAuD,IAA3C34B,EAA2C,uDAAvC3oC,KAAKsvE,GAAIn/B,EAA8B,uDAA1BnwC,KAAKuvE,GAAI9nE,EAAiB,uDAAbzH,KAAKwvE,OAC7CxvE,KAAKsvE,GAAK3mC,EACV3oC,KAAKuvE,GAAKp/B,EACVnwC,KAAKwvE,OAAS/nE,EACdzH,KAAK02C,OAAOu1B,KAAK,KAAMjsE,KAAKsvE,IAAIrD,KAAK,KAAMjsE,KAAKuvE,IAAItD,KAAK,IAAKjsE,KAAKwvE,Y,EAhIjEjB,CAAiBJ,I,IAAjBI,GAAAA,iBA0KmB,SAAAv9D,GACrB,IAAM4+D,EAAM5+D,EAAK6M,MAAM,KACvB,EAAiB,CAAC+xD,EAAIpuE,MAAM,GAAI,GAAGjB,KAAK,KAAMqvE,EAAIpuE,OAAO,GAAGjB,QAAjDsvE,EAAX,KAEA,MAAO,CAFP,KACa,CAAC,KAAM,OAAOloC,SAASkoC,EAAGpoC,eAAiB,KAAOooC,GAC7Cp2C,QAAO,SAAAunC,GAAG,OAAY,OAARA,KAAczgE,KAAK,QAIvD,YChKA,GArEMuvE,WACJ,WAAYnnC,EAAGwH,EAAGjgB,GAAM,2CAad,WACR,EAAKwmB,OAAO3yC,YAbZ/D,KAAK02C,OAAS,KACd12C,KAAK2J,MAAQ,QACb3J,KAAK2oC,EAAIA,EACT3oC,KAAKmwC,EAAIA,EACTnwC,KAAK+vE,GAAK,EACV/vE,KAAKgwE,GAAK,GACVhwE,KAAKkwB,KAAOA,EACZlwB,KAAKiwE,cAAe,EAEpBjwE,KAAK2pB,S,kCAWP,WACE,IAAMumD,EAAalwE,KAAKmwE,YA4BxB,OA1BAnwE,KAAK02C,OAASq1B,GAAAA,OACJ,YACPE,KAAK,IAAKjsE,KAAK2oC,GACfsjC,KAAK,IAAKjsE,KAAKmwC,EAAI+/B,EAAW5vE,OAASN,KAAKgwE,IAC5C/D,KAAK,OAAQjsE,KAAK2J,OAClBsiE,KAAK,eAAgB,GACrBA,KAAK,QAASjsE,KAAKiwE,aAAe,eAAiB,IACnDzrE,MAAM,YAAa,QACnBA,MAAM,cAAe,UACrBA,MAAM,oBAAqB,WAE9BxE,KAAK02C,OACF05B,UAAU,SACVjuE,KAAK+tE,GACLG,QACArE,OAAO,SACPxnE,MAAM,cAAe,UACrBA,MAAM,oBAAqB,WAC3BynE,KAAK,QAAS,QACdA,KAAK,KAAMjsE,KAAK+vE,IAChB9D,KAAK,KAAMjsE,KAAKgwE,IAChB/D,KAAK,IAAKjsE,KAAK2oC,GACfzY,MAAK,SAAUnpB,GACd,OAAOA,KAGJ/G,O,cAGT,WACE,OAAOA,KAAK02C,OAAO3R,S,uBAGrB,WACE,IAAI7U,EAAO,GACX,IACEA,EAAOlwB,KAAKkwB,KAAKrS,MAAM,KACvB,MAAO2E,GACPrM,QAAQqM,MAAMA,GAEhB,OAAO0N,M,EAjEL4/C,GCyHN,GAzHMQ,WACJ,WAAYhB,EAAIC,EAAI5lE,GAAoB,WAAb6lE,EAAa,uDAAJ,GAAI,gCAc9B,WACR,EAAK94B,OAAO3yC,YAf0B,mBAsB/B,WAYP,OAXA,EAAK2yC,OAASq1B,GAAAA,OACJ,cACPE,KAAK,KAAM,UACXA,KAAK,KAAM,EAAKqD,IAChBrD,KAAK,KAAM,EAAKsD,IAChBtD,KAAK,IAAK,EAAKuD,QACfvD,KAAK,QAAS,wBACdA,KAAK,SAAU,EAAKtiE,OACpBsiE,KAAK,OAAQ,EAAKtiE,OAClBnF,MAAM,UAAW,EAAKiqB,SAElB,KAlC+B,4BAyCtB,WAEhB,OAAI,EAAK8hD,UACP,EAAK75B,OACFlyC,MAAM,OAAQ,UACdynE,KAAK,SAAU,UACfznE,MAAM,UAAW,IACb,GAGJ,EAAKgsE,SA+BVC,uBAtBgB,SAAVC,IAEJ,IAAqB,IAAjB,EAAKF,SAAqB,EAAKD,SACjC,OAAO,EAAKI,kBAGd,EAAKj6B,OACFzrB,aACA2lD,KAAK7E,GAAAA,YACL8E,SAAS,KACTrsE,MAAM,OAAQ,WACdA,MAAM,UAAW,GACjBynE,KAAK,SAAU,WACfhhD,aACA2lD,KAAK7E,GAAAA,UACL8E,SAAS,KACTrsE,MAAM,OAAQ,WACdA,MAAM,UAAW,GACjBynE,KAAK,SAAU,WACft2D,GAAG,MAAO+6D,MAKR,IAhCL,EAAKh6B,OACFlyC,MAAM,OAAQ,EAAKmF,OACnBsiE,KAAK,SAAU,EAAKtiE,OACpBnF,MAAM,UAAW,EAAKiqB,SAClB,MAvDTzuB,KAAK02C,OAAS,KACd12C,KAAKsvE,GAAKA,GAAM,GAChBtvE,KAAKuvE,GAAKA,GAAM,GAChBvvE,KAAKwvE,OAASA,EACdxvE,KAAKwwE,SAAU,EACfxwE,KAAKuwE,UAAW,EAChBvwE,KAAK8wE,gBAAkB,KACvB9wE,KAAK2J,MAAQA,GAAS,OACtB3J,KAAKyuB,QAAU,GAEfzuB,KAAK2pB,S,4BA4EP,WACE,OAAO3pB,KAAK02C,OAAO3R,S,mBAGrB,WACE,OAAQ/kC,KAAKuwE,W,kBAGf,WACE,OAAOvwE,KAAKwwE,S,IAGd,SAAWppE,GACTpH,KAAKuwE,UAAW,EAChBvwE,KAAKwwE,QAAUppE,EACfpH,KAAK2wE,kBACLt0B,aAAar8C,KAAK8wE,mB,yBAGpB,SAAkB9P,GAAK,WACrBhhE,KAAKuwE,SAAWvP,EAChBhhE,KAAK2wE,kBAELt0B,aAAar8C,KAAK8wE,iBAClB9wE,KAAK8wE,gBAAkBrtD,YAAW,WAC5B,EAAK8sD,WACP,EAAKA,UAAW,EAChB,EAAKI,qBAEN,S,EArHDL,G,qkBCWN,IAAMS,GACI,CACN7uD,MAAO,CAAE5gB,QAAS,EAAG0lB,SAAU,GAC/Brd,MAAO,CAAErI,QAAS,QAAS0lB,SAAU,UAenCgqD,GAAAA,SAAAA,G,+aAQJ,cAAgD,MAAlCrB,EAAkC,EAAlCA,OAAQ5qC,EAA0B,EAA1BA,KAAMgR,EAAoB,EAApBA,OAAQgC,EAAY,EAAZA,SAAY,mBAC9C,cAAMhT,GADwC,yBA4NnC,WACX,IAAMksC,EAAa7J,KAAKyF,IAAI,EAAKhtD,QAAQ8oB,EAAG,EAAK9oB,QAAQswB,GAQzD,OAPA,EAAKuG,OACFu1B,KAAK,QAAS,EAAK/pD,MAAQ+uD,GAC3BhF,KAAK,SAAU,EAAKhqD,OAASgvD,GAChC,EAAKv6B,OACFw6B,OAAO,QACPjF,KAAK,QAAS,EAAK/pD,OACnB+pD,KAAK,SAAU,EAAKhqD,QAChB,UArOuC,wBA4OpC,WAYV,OAVA,EAAKy0B,OAAO/gC,GAAG,SAAS,kBAAM,EAAK85D,SAAS,EAAKzuD,YACjD,EAAK01B,OAAO/gC,GAAG,aAAa,kBAAM,EAAK85D,SAAS,EAAK0B,gBACrD,EAAKz6B,OAAO/gC,GAAG,cAAc,kBAAM,EAAK85D,SAAS,EAAKhqC,iBACtD,EAAKiR,OAAO/gC,GAAG,cAAc,kBAAM,EAAK85D,SAAS,EAAK/pC,iBACtD,EAAKgR,OAAO/gC,GAAG,YAAY,kBAAM,EAAK85D,SAAS,EAAK2B,eAEpD,EAAK16B,OAAO/gC,GAAG,eAAe,kBAAM,EAAK85D,SAAS,EAAKZ,cAEvD,EAAKwC,UAEE,UAxPuC,sBA+PtC,WACR,OAAI,EAAK5mE,WAET,EAAK6mE,MAAMC,QAAUxF,GAAAA,OAElBp2D,GAAG,SAAS,kBAAM,EAAK85D,SAAS,EAAK+B,gBACrC77D,GAAG,OAAO,kBAAM,EAAK85D,SAAS,EAAKgC,cACnC97D,GAAG,QAAQ,kBAAM,EAAK85D,SAAS,EAAKiC,WACvC,EAAKJ,MAAMC,QAAQ,EAAK76B,SAPE,UAhQoB,2BAsSjC,WAeb,OAbI,EAAK85B,SAAS,EAAKA,QAAQ74D,UAG/B,EAAK64D,QAAU,IAAIF,GACjB,EAAKpuD,MAAQ,EAAI,EAAKrC,QAAQ8oB,EAAI,EAClC,EAAK1mB,OAAS,EAAI,EAAKpC,QAAQswB,GAIjC,EAAKuG,OAAOs1B,QAAO,WACjB,OAAO,EAAKwE,QAAQjvC,MAGf,UArTuC,sBA4atC,WACR,EAAKmV,OAAO3yC,YA7akC,0BAsblC,SAAC4kC,EAAGwH,GAEX,EAAKw/B,OAAOgC,aAAahpC,EAAGwH,KAGjC,EAAKuG,OAAOu1B,KAAK,IAAKtjC,GAAGsjC,KAAK,IAAK97B,GAGnC,EAAKhuC,KAAKkiE,cAAc,GAAK17B,EAC7B,EAAKxmC,KAAKkiE,cAAc,GAAKl0B,MA/biB,+BAwc7B,SAAC4/B,EAAIC,GACtB,IAAMrnC,EAAI,EAAK0kC,MAAQ0C,GAAM,GACvB5/B,EAAI,EAAKm9B,MAAQ0C,GAAM,GAC7B,EAAK4B,YAAYjpC,EAAGwH,MA3c0B,uBAmdrC,SAAAmF,GACL,EAAKm5B,SAASn5B,OApd4B,qBA6dvC,SAAA7wC,GACP,IAAMotE,EAAoBptE,EAAOwhE,SAC3B6L,EAAgBrtE,EAAO4Y,UAAU00D,QACvC,MAA6B,WAAtBF,GAAkCC,EAAcnqC,SAAS,WAhelB,0BAwelC,WAEZ,IAAI,EAAKqqC,OAAOjG,GAAAA,MAAAA,QAAhB,CAEAA,GAAAA,MAAAA,kBAGA,IAAQkG,EAAalG,GAAAA,MAAAA,SAEhB,EAAK/kD,UAAairD,GACrB,EAAKtC,OAAOuC,QAAQ,UAAW,CAAEp7D,MAAO,oBAlfI,2BA0fjC,WACb,EAAK64D,OAAOwC,YAAZ,UA3f8C,2BAkgBjC,WACb,EAAKxC,OAAOwC,YAAc,QAngBoB,sBA2gBtC,WACRpG,GAAAA,MAAAA,kBAGA,IAAQkG,EAAalG,GAAAA,MAAAA,SACrB,EAAKqG,sBAAsBH,MAhhBmB,yBAwhBnC,WACXlG,GAAAA,MAAAA,iBACAA,GAAAA,MAAAA,kBAGA1vB,aAAa,EAAKg2B,gBAGlB,EAAK1C,OAAOuC,QAAQ,aAAc,CAAEntC,KAAM,SAAQ,MAhiBJ,wBAwiBpC,WACVgnC,GAAAA,MAAAA,iBACAA,GAAAA,MAAAA,kBAGA,EAAK4D,OAAOuC,QAAQ,cAAe,CAAEntC,KAAM,OAAMjuB,MAAOi1D,GAAAA,QAAY,MA7iBtB,0BAqjBlC,WAEZ,EAAKr1B,OAAOlyC,MAAM,SAAU,QAE5B,EAAK8sE,MAAMgB,MAAM3pC,EAAI,EAAK+N,OAAOu1B,KAAK,KAAOF,GAAAA,MAAAA,EAC7C,EAAKuF,MAAMgB,MAAMniC,EAAI,EAAKuG,OAAOu1B,KAAK,KAAOF,GAAAA,MAAAA,KA1jBC,wBAikBpC,WAEV,EAAKr1B,OAAOlyC,MAAM,SAAU,WAEQ,SAAhC,EAAKmrE,OAAOtoE,KAAKM,QAAQlI,KACM,eAAjC,EAAKkwE,OAAOtoE,KAAKkrE,SAAS9yE,GACtB,EAAKkwE,OAAO6C,kBACZ,EAAK7C,OAAOuC,QAAQ,eAxkBoB,qBAilBvC,WAAM,QAGb,EAAKvC,OAAOuC,QAAQ,OAApB,QACA,IAAQI,EAAU,EAAKhB,MAAfgB,MAGR,EAAKV,YAAY7F,GAAAA,MAAAA,EAAauG,EAAM3pC,EAAGojC,GAAAA,MAAAA,EAAauG,EAAMniC,GAGtD,WAAY,EAAK4F,QAAQ,EAAKA,OAAO27B,OAAZ,OAAyB3F,GAAAA,QAEzC,oBAAG,EAAK4D,OAAOtoE,KAAKM,eAApB,aAAG,EAA0B+pE,cAA7B,QAAuC,CAClD72B,KAAM,eAKAA,KAAR,WAnmB8C,0CA2pB/B,qFACf,EAAKnE,OAAOw6B,OAAO,QAAQjF,KAAK,QAASX,GAAe,EAAKmH,YAD9C,SAGT,EAAK5uE,SAHI,cAIf,EAAK6uE,aAJU,sEA3pB+B,qBAwqBvC,WAEP,OADA,EAAKC,WAAWC,eAAeC,eAAeC,cACvCn5D,QAAQ0vB,QAAR,WA1qBuC,yBAkrBnC,SAAAlnC,GACX,IAAMmzC,EAAK,CACT+uB,cAAe,SAAAzoB,GAAK,OAAI,EAAKm3B,eAAen3B,IAC5Ct6C,QAAS,SAAAs6C,GACP,EAAKz5C,KAAL,SAAiB,EAAKA,MAASA,GAC/B,EAAK4wE,eAAen3B,GACpB,EAAKz5C,KAAK6O,KAAO,EAAKA,OAO1B,OAJA/J,OAAOgE,KAAK9I,GAAM2F,SAAQ,SAAAC,IACvButC,EAAGvtC,IAAQutC,EAAE,SAAanzC,GACtB,EAAK6wE,iBAAiBrrC,SAAS5/B,IAAM,EAAK8D,OAAOonE,kBAEjD,KA/rBuC,0BAusBlC,SAAA3S,GAAQ,MACd4S,EAAW,EAAKvD,OAAOtoE,KAAKM,QAGlC,IAAIokE,GAAAA,MAAAA,UAAqC,eAAhBmH,EAASzzE,GAAlC,CAEA,IAAM0hB,EAAU,CAEd7f,QAAS,WACP,EAAKquE,OAAOuC,QAAQ,UAAW,CAC7Bj1D,IAAKqjD,EACLzpC,KAAM,KACNs8C,IAAK,KACLC,UAAU,KAGdC,WAAY,WACV,EAAK1D,OAAOuC,QAAQ,WACpB,EAAKvC,OAAOuC,QAAQ,UAAW,CAC7Bj1D,IAAKqjD,EACLzpC,KAAM,KACNs8C,IAAK,KACLC,UAAU,KAIdpE,QAAS,WACP,IAAQ/xD,EAAQi2D,EAASj3D,MAAjBgB,IAEHi2D,EAASj3D,MAAM4a,KAAK43B,QAAQxxC,EAAKqjD,KACtC4S,EAASj3D,MAAMk3D,IAAM7S,EACrB4S,EAASj3D,MAAMm3D,UAAW,EAC1B,EAAKzD,OAAOuC,QAAQ,eASN,UAAG/wD,MAAAA,OAAH,EAAGA,EAAU+xD,EAASzzE,WAAtB,QALI,WACpB0W,QAAQnK,MAAM,4CAMHxD,WAlvBiC,8BA0vB9B,SAAA83D,GAChB,EAAKqP,OAAO55B,OAAO8E,KAAK,CACtB7pC,KAAM,cACNE,KAAM,OACN4F,MAAOi1D,GAAAA,MACPzL,KAAAA,OA/vB4C,6BAwwB/B,SAAAA,GACf,EAAKqP,OAAO55B,OAAO8E,KAAK,CACtB7pC,KAAM,aACNE,KAAM,OACN4F,MAAOi1D,GAAAA,MACPzL,KAAAA,OA7wB4C,4BAixBhC,SAAAA,GACd,EAAKqP,OAAOuC,QAAQ,cAAe,CAAE5R,KAAMA,EAAMxpD,MAAOi1D,GAAAA,QAAY,MAlxBtB,yBAwxBnC,WACX,IAAQuH,EAAWvC,GACnB,EAAKr6B,OACFw6B,OAAO,QACPjF,KACC,SACA,EAAKjlD,SAAWssD,EAAO3pE,MAAMqd,SAAWssD,EAAO3pE,MAAP,SAEzCsiE,KACC,eACA,EAAKjlD,SAAWssD,EAAOpxD,MAAM8E,SAAWssD,EAAOpxD,MAAP,YAlyBE,6DA4yB7B,WAAM/f,GAAN,4EACXoxE,IACJ,EAAKpxE,KAAK+O,OAASi3D,IAAnB,UAAsC,EAAKpwB,gBAA3C,OAAsC,EAAequB,SAASjkE,EAAKgxB,QAEjEhxB,EAAKgxB,QAAU,EAAK+uC,eAAgBqR,EAJvB,wDAMjBA,IACG,EAAKd,UAAYxrE,OAAOwlE,OAAO,EAAKgG,UAAWtwE,IAPjC,SAQX,EAAKqxE,iBARM,2CA5yB6B,oFA4zB/B,SAAA3P,GAAU,MACnB4P,EAAU,UAAG,EAAKtxE,KAAKiiE,kBAAb,QAA2B,GACrCsP,EACJD,EAAWxF,OAAM,SAAA1qB,GACf,IAAMowB,EAAY9P,EAAOz7D,IAAIm7C,GAC7B,QAAIowB,IACMA,EAAU5/B,YAGhB0/B,EAAWnzE,OAAS,EAC5B,EAAKw4B,YAAc46C,KAt0B2B,wBAw1BpC,SAAAvxE,GACV,IAAMi8B,EAAOiuC,GAAclqE,GAI3B,OAHA8E,OAAOgE,KAAKmzB,GAAMt2B,SAAQ,SAAA8rE,GACxB,EAAKzxE,KAAO0xE,IAAAA,CAAM,EAAK1xE,KAAMyxE,MAExB,EAAKnlB,aA71BkC,sBAo2BtC,WACR,OAAQ,EAAK0gB,aAAa3zD,MAAK,SAAAzT,GAE7B,OAA0B,OAAnB,EAAK5F,KAAK4F,MAAmBA,KAAO,EAAK5F,YAv2BJ,sBAg3BtC,SAAAq5D,GACR,EAAKmR,OAAO7kE,SAAQ,SAAAw4D,GAClBA,EAAKwT,WAAWtY,SAl3B4B,6BA43B/B,SAACzQ,EAAU3jD,GAC1B,IAAMk5D,EAAO,EAAKqM,OAAOvkE,IAAI2iD,GACzBuV,IAAMA,EAAKgB,QAAUl6D,MA93BqB,wBAq4BpC,SAAA2sE,GACV,EAAK5xE,KAAK80C,UAAY88B,KAp4BtB,EAAKpE,OAASA,EACd,EAAK55B,OAASA,EACd,EAAK08B,UAAY16B,EAQjB,EAAKs6B,eAAiB,KACtB,EAAK37B,OAAS,KACd,EAAK46B,MAAQ,CAAEC,QAAS,KAAMyC,SAAU,KAAM1B,MAAO,CAAE3pC,EAAG,EAAGwH,EAAG,IAChE,EAAK8jC,QAAU,KACf,EAAKC,WAAY,EACjB,EAAK1D,SAAU,EAjB+B,E,4BA+BhD,WACE,OAAOxwE,KAAK02C,OAAO3R,S,gBAQrB,WACE,OAAO/kC,KAAKmC,KAAKgiE,Y,oBAQnB,WACE,MAAwB,IAAjBnkE,KAAKotE,QAAQl9B,I,kBAQtB,WACE,OAAOlwC,KAAKwwE,QAAQp/B,Q,IAqBtB,SAAWhqC,GACTpH,KAAKwwE,QAAQp/B,OAAShqC,I,oBAnBxB,WACE,OAAOpH,KAAK2vE,OAAOllE,W,oBAQrB,WACE,OAAOzK,KAAKyyE,Y,oBAiBd,WACE,OAAOzyE,KAAKk0E,W,IAQd,SAAa9sE,GACXpH,KAAKk0E,UAAY7yC,QAAQj6B,GACzBpH,KAAKm0E,e,qBAQP,WACE,MAAO,CACLxrC,EAAG3oC,KAAKkiB,MAAQ,EAAIliB,KAAK6f,QAAQ8oB,EAAI,EACrCwH,GAAI,M,wBASR,WACE,OAAOnwC,KAAKmC,KAAKq2C,W,sBAQnB,SAAei2B,GAAS,WACtBzuE,KAAKyuE,QAAUptC,QAAQotC,GACvBzuE,KAAK02C,OAAOu1B,KAAK,aAAcjsE,KAAKyuE,QAAU,UAAY,UAC1DzuE,KAAK2sE,OAAO7kE,SAAQ,SAAAw4D,GAAI,OAAKA,EAAKmO,QAAU,EAAKA,a,6BAMnD,WACE,MAAO,CACL9lC,EAAG,CAAEoO,MAAO/2C,KAAKmC,KAAKkiE,cAAc,IACpCl0B,EAAG,CAAE4G,MAAO/2C,KAAKmC,KAAKkiE,cAAc,O,iBAQxC,WACE,OAAOrkE,KAAK2sE,S,kBAYd,WAQE,OAPA3sE,KAAK2yE,WACFyB,aACAxB,eACAC,eACAC,cACAzD,YAEIrvE,O,wBAOT,WACE,IAAQszE,EAAWvC,GACXlxD,EAAY7f,KAAZ6f,QACFoxD,EAAa7J,KAAKyF,IAAIhtD,EAAQ8oB,EAAG9oB,EAAQswB,GAiC/C,OA9BInwC,KAAK02C,QAAQ12C,KAAK02C,OAAO3yC,SAG7B/D,KAAK02C,OAASq1B,GAAAA,OACJ,OACPE,KACC,KAHU,UAIPjsE,KAAK2vE,OAAO0E,YAJL,YAIoBr0E,KAAKmC,KAAK1C,IAAMO,KAAKmC,KAAKq2C,WAEzDh0C,MAAM,WAAY,WAClBynE,KAAK,QAASjsE,KAAKkiB,MAAQ+uD,GAC3BhF,KAAK,SAAUjsE,KAAKiiB,OAASgvD,GAC7BhF,KAAK,IAAKjsE,KAAKqtE,MACfpB,KAAK,IAAKjsE,KAAKstE,MAIlBttE,KAAK02C,OACFs1B,OAAO,YACPC,KAAK,IAAKpsD,EAAQ8oB,EAAI,GACtBsjC,KAAK,IAAKpsD,EAAQswB,GAClB87B,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,QAASjsE,KAAKkiB,OACnB+pD,KAAK,SAAUjsE,KAAKiiB,QACpBgqD,KAAK,QAASX,GAAetrE,KAAKyyE,YAClCxG,KAAK,SATR,sBASiCjsE,KAAK2vE,OAAO0E,YAT7C,MAUGpI,KAAK,SAAUqH,EAAO3pE,MAAP,SACfsiE,KAAK,eAAgBqH,EAAOpxD,MAAP,SAEjBliB,O,0BA0DT,WAAe,WAgBb,OAdIA,KAAKi0E,SAASj0E,KAAKi0E,QAAQt8D,UAG/B3X,KAAKi0E,QAAU,IAAInE,GACjB9vE,KAAKs0E,UAAU3rC,EACf3oC,KAAKs0E,UAAUnkC,EACfnwC,KAAKgR,MAIPhR,KAAK02C,OAAOs1B,QAAO,WACjB,OAAO,EAAKiI,QAAQ1yC,MAGfvhC,O,wBA6BT,WAAa,WACX,MAAO,CACLghB,QAAS,SAAAs/C,GAAI,OAAI,EAAKiU,YAAYjU,IAClCqO,YAAa,SAAArO,GAAI,OAAI,EAAKkU,gBAAgBlU,IAC1CsO,WAAY,SAAAtO,GACV,IACE,IAAMmU,EAAqB9vE,SAAS+vE,iBAClC3I,GAAAA,MAAAA,QACAA,GAAAA,MAAAA,SAGF,GACE0I,EAAmBp1D,UAAUuyB,SAAS,gBACtC6iC,EAAmBp1D,UAAUuyB,SAAS,yBAEtC,OACF,MAAOpvB,GACPrM,QAAQnK,MAAMwW,GAEhB,EAAKmyD,eAAerU,IAEtBuO,UAAW,SAAAvO,GAAI,OAAI,EAAKsU,cAActU,O,sBAQ1C,SAASuU,GAAa,WACdC,EACJD,MAAAA,EAAAA,EACC,SAACE,EAAOC,EAAOC,GAAf,OAA2B,IAAI1G,GAASwG,EAAOC,EAAOC,IAGnDC,EAAal1E,KAAKk1E,aAGpBl1E,KAAK2sE,OAAOjqD,KAAO,IACrB1iB,KAAK2sE,OAAO7kE,SAAQ,SAAAw4D,GAClBA,EAAK3oD,aAEP3X,KAAK2sE,OAAOp3B,SAId,IAAI,QAEI6U,EAAK,oBAAGpqD,KAAKyyE,iBAAR,aAAG,EAAgBvmB,iBAAnB,QAAgC,GAE3CjlD,OAAOgE,KAAKm/C,GAAOtiD,SAAQ,SAAAqtE,GAEzB,CAAC,KAAM,OAAOrtE,SAAQ,SAAAoJ,GAAQ,QAEtB/O,EAAI,oBAAGioD,EAAM+qB,UAAT,aAAG,EAAsBjkE,UAAzB,QAAkC,GAE5CjK,OAAOgE,KAAK9I,GAAM2F,SAAQ,SAAAijD,GAAY,QAE9ByQ,EAAW,IACfxqD,KAAM,GAAF,OAAKmkE,EAAL,YAAqBpqB,GACzB75C,KAAMA,EACNsnC,SAAQ,oBAAE4R,EAAM+qB,UAAR,aAAE,EAAqB38B,gBAAvB,QAAmC,IACxCr2C,EAAK4oD,IAIJuV,EAAOwU,EAAQ,EAAMtZ,EAAU0Z,GAGrC,GAAI5U,EAAK7R,UAAW,CAElB,IAAM2mB,EAAc,GAAH,OAAMD,EAAN,YAAsBpqB,GACvC,EAAK4hB,OAAOzzD,IAAIk8D,EAAa9U,aAKrC,MAAO99C,GACPrM,QAAQqM,MAAMA,GAGhB,OAAOxiB,O,yBAOT,WAAc,WACNwvE,EAASxvE,KAAKq1E,SACdr1D,EAAW,CACf04B,GAAI14C,KAAKs1E,mBAAmB,MAC5B38B,IAAK34C,KAAKs1E,mBAAmB,QAc/B,OAXAt1E,KAAK2sE,OAAO7kE,SAAQ,SAAAw4D,GAElB,EAAK5pB,OAAOs1B,QAAO,WAEjB,OADA1L,EAAKsR,YAAL,MAAAtR,EAAI,IAAgBtgD,EAASsgD,EAAKpvD,OAA9B,QAAqCs+D,KAClClP,EAAK/+B,MAIdvhB,EAASsgD,EAAKpvD,MAAM,IAAM,EAAK47D,gBAG1B9sE,O,mCAgMT,SAAsBiyE,GAAU,WAC9B51B,aAAar8C,KAAKqyE,gBAClBryE,KAAKqyE,eAAiB5uD,YAAW,WAE/B,IAAM8xD,GAAa,EAAKvuD,SAGnBirD,GAAU,EAAKtC,OAAOuC,QAAQ7J,GAAmB,MAGtD,EAAKrhD,SAAWuuD,EAGhB,EAAK5F,OAAOuC,QACV7J,GACA,CAAEjD,MAAO,CAAC,GAAO6M,SAAAA,IACjB,KAED,O,4BAQL,SAAe9vE,GAEb,GAAoC,SAAhCnC,KAAK2vE,OAAOtoE,KAAKM,QAAQlI,GAA7B,CAGA,IAGM+1E,EAAoB,CACxBnR,cAAegH,GAJE,SAAKrrE,KAAKmC,KAAKkiE,eAAkBliE,EAAKkiE,iBAQzDrkE,KAAKmC,KAAL,SAAiBnC,KAAKmC,MAASqzE,GAG/Bx1E,KAAK02C,OAAOu1B,KAAK,IAAKjsE,KAAKqtE,MAAMpB,KAAK,IAAKjsE,KAAKstE,MAG5C,WAAYttE,KAAK+1C,QACnB/1C,KAAK+1C,OAAO27B,OAAO1xE,KAAM,CAAE2oC,EAAG3oC,KAAKqtE,KAAMl9B,EAAGnwC,KAAKstE,U,yBAyLrD,WAAc,WACZttE,KAAK2vE,OAAO3D,QAAO,WACjB,OAAO,EAAKzqC,Q,4BA+DhB,WACE,OAAOvhC,KAAKkiE,gB,4CAUd,WAA0BnqB,GAA1B,sIAAoD09B,EAApD,+BAA8D,GACpDvzD,EA56BH,GA46BUD,EA36BT,GA26BiBpC,EA16BhB,EA46BCyzD,EAAWvC,IACbr6B,EAASq1B,GAAAA,OACL,OACPvnE,MAAM,WAAY,WAClBynE,KAAK,QAAS/pD,EAAQrC,GACtBosD,KAAK,SAAUhqD,GACfgqD,KAAK,IAAKwJ,IAKVzJ,OAAO,QACPC,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,QAAS/pD,GACd+pD,KAAK,SAAUhqD,GACfgqD,KAAK,QAASX,GAAevzB,GAAU,IACvCk0B,KAAK,SAAUqH,EAAO3pE,MAAP,SACfsiE,KAAK,eAAgBqH,EAAOpxD,MAAP,SAGlBkvB,EAAS,IAAIk/B,GAAepuD,EAAQ,EAAGD,EAAS,EAAG,OAAQ,GAEjEy0B,EAAOs1B,QAAO,WACZ,OAAO56B,EAAO7P,MA3BlB,kBA8BSmV,GA9BT,2C,kDAj6BIs6B,CAAiBtE,IAm8BvB,Y,qkBC/9BA,IAAMgJ,GAAa,QAEbC,GAAAA,SAAAA,G,6aACJ,WAAY7gC,GAAM,kBAChB,IAAM/P,EAAO,CACXtlC,GAAIi2E,GACJvR,UAAWuR,GACXE,UAAW,GACXp9B,SAAUk9B,GACVrR,cAAe,CACb17B,EAAG,CAAEoO,MAAO,IACZ5G,EAAG,CAAE4G,MAAO,MAGVgB,EAAW,CACf5kB,MAAOuiD,GACPxpB,UAAW,CACT2pB,MAAO,CACLl9B,IAAK,CACHk9B,MAAO,CACLl+B,QAASxkC,KAGbqlC,SAAU,sBACVC,QAAS,gBArBC,OA0BhB,uBAAW3D,GAAX,IAAiB/P,KAAAA,EAAMgT,SAAAA,KA1BP,mBAkCX,WACL,EAAK46B,WAAWyB,aAAaxB,eAAeE,iBAnC5B,yBAyCL,eAzCK,yBAgDL,WACX,MAAO,CACL9xD,QAAS,SAAAs/C,GAAI,OAAI,EAAKiU,YAAYjU,IAClCqO,YAAa,aAGbC,WAAY,aAGZC,UAAW,iBA5Bb,EAAK1sE,KAAK2Y,MAAQ46D,GAElB,EAAK7pE,OA/BW,E,mCA+DlB,WACE,MAAO,CACL88B,EAAG3oC,KAAKkiB,MAAQ,EAAIliB,KAAK6f,QAAQ8oB,EAAI,EACrCwH,EAAGnwC,KAAKiiB,OAAS,Q,EAnEjB0zD,CAAkB3E,I,IAAlB2E,GAAAA,QAuEWD,IAGjB,YC/EM,GAA+BpvE,QAAQ,S,qkBCStC,IAuBMwvE,GAAY,SAAC74D,EAAKk2D,GAC7B,IAEA,EAAuD4C,GAAY94D,EAAKk2D,GAAhE6C,EAAR,EAAQA,GAAIrK,EAAZ,EAAYA,GAAIsK,EAAhB,EAAgBA,IAAKC,EAArB,EAAqBA,IAAKC,EAA1B,EAA0BA,QAASC,EAAnC,EAAmCA,QAASC,EAA5C,EAA4CA,OAE5C,GAAIC,GAAWL,EAAKC,EAAKG,GAAS,OAAOE,GAAiBt5D,EAAKk2D,GAE/D,IAAIqD,EAAMC,GAAYT,EAAIG,EAASl5D,GAC/By5D,EAAMD,GAAY9K,EAAIyK,EAASjD,GAEnC,GAAIqD,EAAIG,IAAID,GAAKp2E,SARS,GAQqB,OAAOs2E,GAAS35D,EAAKk2D,GACpE,IAAM0D,EAAML,EAAIG,IAAIX,GACdc,EAAOJ,EAAIC,IAAIH,GACfO,EAAOF,EAAIvP,IAAIwP,GACfE,EAAQH,EAAItP,MAAMwP,EAAOF,EAAIvP,IAAIuP,IACnCI,EAASH,EAAKH,IAAIK,GAAOjyB,YACvBmyB,EAAUlB,EAAGW,IAAIV,GACjBkB,EAAWF,EAAO3P,IAAI4P,GACtBE,EAAcH,EAAO1P,MAAM4P,GAC3BE,EAAYlB,EAAQhmC,EAAI,EACxBmnC,EAASF,EAAY92E,SAAW+2E,EACtCJ,EACEE,EAAW,EACPF,EAAO1P,MAAM,EAAI8P,GAAa,EAAIC,GAtB1B,IAuBRL,EAAO1P,MAAM8P,GAAa,EAAIC,IACpC,IAAMC,EAAMf,EAAIl3D,IAAI23D,GAEdO,EAAMd,EAAIC,IAAIhL,GACd8L,EAAOjB,EAAIG,IAAID,GACfgB,EAAOF,EAAIlQ,IAAImQ,GACfE,EAAQH,EAAIjQ,MAAMmQ,EAAOF,EAAIlQ,IAAIkQ,IACnCI,EAASH,EAAKd,IAAIgB,GAAO5yB,YACvB8yB,EAAUlM,EAAGgL,IAAIT,GACjB4B,EAAWF,EAAOtQ,IAAIuQ,GACtBE,EAAcH,EAAOrQ,MAAMuQ,GAC3BE,EAAY5B,EAAQjmC,EAAI,EACxB8nC,EAASF,EAAYz3E,SAAW03E,EACtCJ,EACEE,EAAW,EACPF,EAAOrQ,MAAM,EAAIyQ,GAAa,EAAIC,GAtC1B,IAuCRL,EAAOrQ,MAAMyQ,GAAa,EAAIC,IACpC,IAAMC,EAAMxB,EAAIp3D,IAAIs4D,GAEdO,EAAM,CAACnC,EAAIQ,GACX4B,EAAMF,EAAIvB,IAAIY,GACdc,EACJD,EAAI9Q,IAAI2P,GAAU,GAAKmB,EAAI93E,SAAW,IAIxC,OAHIy2E,EAAO,IAAMsB,GAAaF,EAAI34E,KAAK+3E,GACnCG,EAAO,IAAMW,GAAaF,EAAI34E,KAAK04E,GACvCC,EAAI34E,KAAKk3E,EAAK/K,GACPwM,EAAIl4E,KAAI,SAAAmwC,GAAC,OAAIA,EAAEkoC,eAGX1B,GAAW,SAAC35D,EAAKk2D,GAG5B,MAAO,CAFI,IAAInM,GAAK/pD,EAAI0rB,EAAG1rB,EAAIkzB,GACpB,IAAI62B,GAAKmM,EAAIxqC,EAAGwqC,EAAIhjC,IACflwC,KAAI,SAAAmwC,GAAC,OAAIA,EAAEkoC,eAqBhB/B,GAAmB,SAACt5D,EAAKk2D,GAWpC,OAAOoF,GAAUt7D,EAAKk2D,EATL,CACfqF,gBAAiB,kBAAe,CAAE7vC,EAAjB,EAAG8vC,OACpBC,YAAa,SAACr6C,EAAOs6C,EAAOC,GAE1B,OADAv6C,EAAMsK,EAAItK,EAAMsK,EAAErpB,IAAIq5D,EAAMpR,MAAMqR,IAC3Bv6C,GAETw6C,aAAc,SAACx6C,EAAD,OAAUy6C,EAAV,EAAUA,IAAV,OACZz6C,EAAMsK,EAAEguC,IAAImC,GAAKx4E,SARI,OAsDrBi4E,GAAY,SAChBt7D,EACAk2D,EAFgB,GAIb,IAUcxqC,EAXf6vC,EACC,EADDA,gBAAiBE,EAChB,EADgBA,YAAaG,EAC7B,EAD6BA,aAI1BE,EAAUC,GAAM,GAAK,GACrBC,EAAa,GACbC,EAAgBnD,GAAY94D,EAAKk2D,GAC/B6C,EAA6CkD,EAA7ClD,GAAIrK,EAAyCuN,EAAzCvN,GAAImN,EAAqCI,EAArCJ,IAAKL,EAAgCS,EAAhCT,KAAMxC,EAA0BiD,EAA1BjD,IAAKE,EAAqB+C,EAArB/C,QAASC,EAAY8C,EAAZ9C,QACnC+C,EAAK,SAAAxwC,GAAC,OAAIA,EAAEguC,IAAIV,GAAK31E,SAAW61E,EAAQxtC,EAAI,GAC5CywC,EAAK,SAAAzwC,GAAC,OAAIA,EAAEguC,IAAImC,GAAKx4E,SAAW81E,EAAQztC,EAAI,GAG5C0wC,EAAW,SAAA1wC,GAAC,OAAIA,EAAEguC,IAAImC,GAAKvR,OAAO,KAAY6R,EAAGzwC,GAAKywC,EAAGzwC,MAE3D9hC,EAAI,EACJ+xE,EAAK,GACLU,EAAWtS,GAAAA,KACX3oC,EAAQm6C,EAAgBU,GAE5B,IADAD,EAAWz5E,KAAKw2E,EAAGsC,WAAYG,EAAKH,YAC7BzxE,IAjBQ,KAiBQgyE,EAAax6C,EAAO66C,IAAgB,CACzD,IAAMP,GATShwC,EASQtK,EAAMsK,EATTA,EAAEguC,IAAIV,GAAK1O,MAAO,KAAU4R,EAAGxwC,GAAKwwC,EAAGxwC,MAS3BrpB,IAAI+5D,EAASh7C,EAAMsK,IACnDiwC,EAAKG,EAAQ,EAAIJ,EAAMhC,IAAI2C,GAAUh5E,UACrCg5E,EAAWX,EACXt6C,EAAQq6C,EAAYr6C,EAAOs6C,EAAOC,GAClCK,EAAWz5E,KAAK6+B,EAAMsK,EAAE2vC,YAG1B,OADAW,EAAWz5E,KAAKs5E,EAAIR,WAAY3M,EAAG2M,YAC5BW,GAGHlD,GAAc,SAAC94D,EAAKk2D,GACxB,IAAMoG,EAAOC,GAAYv8D,GACnBw8D,EAAOD,GAAYrG,GACnBgD,EAAU,IAAInP,GAAKuS,EAAK7J,SAASxtD,MAAOq3D,EAAK7J,SAASztD,QACtDm0D,EAAU,IAAIpP,GAAKyS,EAAK/J,SAASxtD,MAAOu3D,EAAK/J,SAASztD,QAEtDg0D,EAAM,IAAIjP,GAAKuS,EAAK3kB,OAAO2Y,QAASgM,EAAK3kB,OAAO4Y,SAChD0I,EAAM,IAAIlP,GAAKyS,EAAK7kB,OAAO2Y,QAASkM,EAAK7kB,OAAO4Y,SAEhDwI,EAAK,IAAIhP,GAAKuS,EAAK5wC,EAAG4wC,EAAKppC,GAC3Bw7B,EAAK,IAAI3E,GAAKyS,EAAK9wC,EAAG8wC,EAAKtpC,GAE3B2oC,EAAMnN,EAAGgL,IAAI,IAAI3P,GAAKoP,EAAQztC,EAAI,EAAG,IACrC8vC,EAAOzC,EAAG12D,IAAI,IAAI0nD,GAAKmP,EAAQxtC,EAAI,EAAG,IAE5C,MAAO,CAAEqtC,GAAAA,EAAIrK,GAAAA,EAAImN,IAAAA,EAAKL,KAAAA,EAAMxC,IAAAA,EAAKC,IAAAA,EAAKC,QAAAA,EAASC,QAAAA,EAASC,OAAQoD,EAAKpD,SAGjE2C,GAAQ,SAACU,EAAK7M,GAAN,OAAc,SAAAlkC,GAAC,OAAIy+B,KAAKyF,IAAI6M,EAAKtS,KAAKsS,IAAI7M,EAAKlkC,MAGvD6wC,GAAc,SAAAz0C,GAAI,gBACnBA,GADmB,IAEtB6vB,OAAQ+kB,GAAAA,MAAAA,SAAe50C,EAAK6vB,QAAQglB,OAAO,CACzCrM,QAASxoC,EAAK4D,EACd6kC,QAASzoC,EAAKoL,IAEhBu/B,SAAUiK,GAAAA,MAAAA,SAAe50C,EAAK2qC,UAAUkK,OAAO,CAC7C13D,MAAO,EACPD,OAAQ,IAEVo0D,QAAQtxC,EAAK6vB,UA0CT6hB,GAAc,SAAC9tC,EAAGjmB,EAAMqiB,GAC5B,IAAIoL,EAAIxH,EAMR,MALuB,OAAnB5D,EAAK5iC,KAAK+O,KACZi/B,EAAIxH,EAAEguC,IAAI,IAAI3P,GAAKtkD,EAAKimB,EAAI,EAAG,IACH,QAAnB5D,EAAK5iC,KAAK+O,OACnBi/B,EAAIxH,EAAErpB,IAAI,IAAI0nD,GAAKtkD,EAAKimB,EAAI,EAAG,KAE1BwH,GAGHmmC,GAAa,SAACL,EAAKC,EAAKG,GAC5B,IAAM/1E,EAAS41E,EAAIS,IAAIV,GAAK31E,SAC5B,OAAQ+1E,GAAU/1E,EAAS,IC1R7B,MAAM,GAA+BgG,QAAQ,yD,gmBCK7C,IAAMsL,GAAY,cAAH,OAAiBL,GAAgBK,UAAUF,OACpDG,GAAU,cAAH,OAAiBN,GAAgBM,QAAQH,OAChDI,GAAkB,cAAH,OAAiBP,GAAgBO,gBAAgBJ,OAEzDmoE,IAAc,IACzBC,SAAU,CACRxG,OAAQ,CACNhyE,QAAS,QACT0nE,QAAS,UACT+Q,UAAW,EACX73D,MAAO,MANc,UASpB/O,IAToB,iCAUvB,MAAO,CAAEmgE,OAAQ,SAAKtzE,KAAK85E,SAASxG,QAArB,IAA6BhyE,QAAS,cAV9B,MAYpB6R,IAZoB,iCAavB,OAAO,MAAKnT,KAAK85E,WAbM,GAepBloE,IAfoB,GAepBA,KAfoB,MAepBA,IAfoB,eAgBvB,MAAO,CAAEjI,MAAO4H,GAAgBK,UAAUD,QAhBnB,GAkBpBE,IAlBoB,GAkBpBA,KAlBoB,MAkBpBA,IAlBoB,eAmBvB,MAAO,CAAElI,MAAO4H,GAAgBM,QAAQF,QAnBjB,GAqBpBG,IArBoB,GAqBpBA,KArBoB,MAqBpBA,IArBoB,eAsBvB,MAAO,CAAEnI,MAAO4H,GAAgBO,gBAAgBH,QAtBzB,gB,qkBCE3B,IAAMqoE,GACK,KADLA,GAEE,IAGFC,GAAAA,WACJ,WACEtK,EACA1yD,EACAk2D,EAHF,GAeE,WAVE1zE,EAUF,EAVEA,GACAy6E,EASF,EATEA,WACAC,EAQF,EAREA,WACAC,EAOF,EAPEA,WACAC,EAMF,EANEA,WACA1X,EAKF,EALEA,WACAngD,EAIF,EAJEA,MACA83D,EAGF,EAHEA,eACAC,EAEF,EAFEA,eAEF,sCA8Cc,SAAAC,GAEd,OADA,EAAKC,WC7EyB,SAACx9D,EAAKk2D,GAA4B,IAAvBqH,EAAuB,uDAAd1E,GACpD,IACE,OAAO0E,EAAOv9D,EAAKk2D,GACnB,MAAO3wD,GAEP,OADArM,QAAQqM,MAAMA,GACP,IDwEWk4D,CAAmB,EAAKz9D,IAAK,EAAKk2D,IAAKqH,GAClD,KAhDP,0BAwDc,SAAAC,GACd,OAAO1O,GAAAA,OAEJ4O,MAAM5O,GAAAA,YACNpjC,GAAE,SAAUiyC,GACX,OAAOA,EAAGjyC,KAEXwH,GAAE,SAAUyqC,GACX,OAAOA,EAAGzqC,IAPP47B,CAQF0O,MAhELz6E,KAAK2vE,OAASA,EACd3vE,KAAKid,IAAMA,EACXjd,KAAKmzE,IAAMA,EACXnzE,KAAKwiB,MAAQA,EACbxiB,KAAK66E,gBAAkBlL,EAAOkL,gBAC9B76E,KAAKmC,KAAO,CACV1C,GAAAA,EACAy6E,WAAAA,EACAC,WAAAA,EACAC,WAAAA,EACAC,WAAAA,EACAC,eAAAA,EACAC,eAAAA,EACAtX,WAAYN,GAEd3iE,KAAKytE,UAAW,EAChBztE,KAAKk0E,WAAY,E,4BAGnB,WACE,OAAOl0E,KAAKmC,KAAK1C,K,mBAGnB,WACE,OAAOO,KAAKytE,U,IAGd,SAAYrmE,GACVpH,KAAKytE,SAAWrmE,I,uBAGlB,WACE,OAAOpH,KAAK86E,c,IAGd,SAAgB1zE,GAAO,WACrBpH,KAAK86E,aAAe1zE,GACE,IAAtBpH,KAAK86E,aACDr3D,YAAW,kBAAM,EAAKs3D,qBAAoB,KAC1C/6E,KAAK+6E,uB,EAxDPd,GAqFee,GAAAA,SAAAA,G,6aACnB,WACErL,EACA1yD,EACAk2D,EACAhxE,GAGA,MAFA84E,EAEA,wDADAC,EACA,uDADuB,kBAAMv/D,GAAgB,yBAC7C,mBACA,cAAMg0D,EAAQ1yD,EAAKk2D,EAAKhxE,GADxB,yBAaW,WACX,EAAKg5E,gBAAgBC,aAAa/L,eAdlC,sBAiBQ,WACR,EAAK34B,OAAO3yC,YAlBZ,yBAyBW,WACX,IAAQ02E,EAAR,OAAQA,WA6BR,OA5BA,EAAK/jC,OAASq1B,GAAAA,OACJ,OACPE,KAAK,KAFM,eAEQ,EAAK0D,OAAO0E,YAFpB,YAEmC,EAAKlyE,KAAK1C,KACxDwsE,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,QAAS,EAAK4O,iBACnB5O,KAAK,SAAU,EAAK4O,iBAEvB,EAAKnkC,OACFs1B,OAAO,YACPA,OAAO,UACPC,KAAK,KAHR,sBAG6B,EAAK0D,OAAO0E,YAHzC,YAGwD,EAAKlyE,KAAK1C,KAC/DusE,OAAO,gBACPC,KAAK,KAAM,KACXA,KAAK,KAAM,KACXA,KAAK,eAAgB,KAExB,EAAKv1B,OACFs1B,OAAO,QACPC,KAAK,QAAS,YACdA,KAAK,KAAK,WACT,OAAO,EAAKoP,cAAcZ,MAE3BxO,KAAK,SAAU,EAAKqP,kBACpBrP,KAAK,eAAgB,EAAKznE,MAAM8uE,OAAOpxD,OACvC+pD,KAAK,iBAAkB,iBACvBA,KAAK,eAAgB,KAEjB,UAvDP,wBA8DU,WAMV,OALA,EAAK7tC,KACFzoB,GAAG,aAAa,kBAAM,EAAK85D,SAAS,EAAKd,gBACzCh5D,GAAG,YAAY,kBAAM,EAAK85D,SAAS,EAAKb,eACxCj5D,GAAG,SAAS,kBAAM,EAAK85D,SAAS,EAAKzuD,YACrCrL,GAAG,eAAe,kBAAM,EAAK85D,SAAS,EAAK97B,kBACvC,UApEP,0BA2EY,WACZ,IAAQ8mC,EAAR,OAAQA,WAIR,OAHA,EAAK/jC,OAAOw6B,OAAO,iBAAiBjF,KAAK,KAAK,WAC5C,OAAO,EAAKoP,cAAcZ,MAErB,UAhFP,uBAwFS,SAACnlC,GAAmC,IAA/Bk5B,IAA+B,yDAC7CzC,GAAAA,MAAAA,iBACAA,GAAAA,MAAAA,kBAEA,aAAQ0C,EAAR,EAAQA,QAAShkE,EAAjB,EAAiBA,UACbgkE,IAAYD,GAAwB/jE,GAAW6qC,OA7FnD,6BAoGe,WACf,EAAKq6B,OAAO55B,OAAO8E,KAAK,CAAE7pC,KAAM,cAAeE,KAAM,OAAQ/O,KAAM,YArGnE,8BA4GgB,WAChB,EAAKwtE,OAAO55B,OAAO8E,KAAK,CAAE7pC,KAAM,aAAcE,KAAM,OAAQ/O,KAAM,YA7GlE,6BAmHe,WACf,EAAKo5E,oBACFn9C,KAAK6tC,KAAK,eAAgB,EAAKznE,MAAM8uE,OAAOyG,WAC5C9N,KAAK,aAFR,eAE8B,EAAK0D,OAAO0E,YAF1C,wBApHA,4BA4Hc,WACd,EAAKkH,oBACFn9C,KAAK6tC,KAAK,eAAgB,EAAKznE,MAAM8uE,OAAOpxD,OAC5C+pD,KAAK,aAAc,SA/HtB,0BA8IY,WAQZ,GAPoC,YAAhC,EAAK0D,OAAOtoE,KAAKM,QAAQlI,IAC3B,EAAK+7E,iBAGF,EAAK7L,OAAO8L,cAAiB,EAAK9L,OAAOtoE,KAAK2nE,QAAQ0M,iBACzD,EAAKC,iBAEH,EAAKn5D,MAAO,CACd,IAAMxH,EAAU,EAAKwH,MAAMxH,QACrBgF,EAAW,CAAE2oB,EAAGojC,GAAAA,MAAAA,QAAkB57B,EAAG47B,GAAAA,MAAAA,SAC3C,EAAKmP,qBACH,CACErkD,KAAM,SAAK,EAAK10B,MAAZ,IAAkB6Y,QAAAA,EAASgF,SAAAA,IAC/B47D,WAAW,GAEb,YA9JJ,yBAsKW,WACN,EAAKC,aACR,EAAKC,gBAGF,EAAKnM,OAAO8L,cAAiB,EAAK9L,OAAOtoE,KAAK2nE,QAAQ0M,iBACzD,EAAKK,kBAEH,EAAKv5D,OACP,EAAK04D,qBAAqB,CAAErkD,KAAM,EAAK10B,KAAMy5E,WAAW,GAAS,WA/KnE,sBAsLQ,WACJ7P,GAAAA,MAAAA,WAEJ,EAAK4D,OAAO55B,OAAO8E,KAAK,CAAE7pC,KAAM,UAAWE,KAAM,OAAQ/O,KAAM,SAC/D,EAAKgyE,YAAY,EAAK0H,iBA1LtB,4BAgMc,WAAM,QACpB,EAAKlM,OAAOuC,QACV,cADF,OAGIp7D,MAAOi1D,GAAAA,MACPjG,OAAQ,EAAK3jE,KAAK1C,IACf,EAAK0C,MALZ,IAMI65E,SAAQ,oBAAE,EAAK/+D,IAAI9a,YAAX,aAAE,EAAe6Y,eAAjB,QAA4B,cAEtC,MAzMF,yBAwPW,SAAAgM,GACX,EAAK60D,YAAc70D,EACfA,EAAU,EAAKw0D,kBAEjB,EAAKM,gBACL,EAAKC,sBA7PP,qBAiQO,SAAC9+D,EAAKk2D,GACb,EAAKl2D,IAAMA,GAAO,EAAKA,IACvB,EAAKk2D,IAAMA,GAAO,EAAKA,IACvB,EAAKgI,gBAAgBc,iBApQrB,yBAuQW,SAAA95E,GACX,EAAKA,KAAL,SAAiB,EAAKA,MAASA,MAxQ/B,0BA2QY,SAAAqgB,GACZ,EAAKA,MAAQA,EACb,EAAKs5D,mBA7QL,gCAgRkB,WAKlB,OAJA,EAAK19C,KAAK6tC,KACR,SACA,EAAKzpD,MAAQ,EAAKhe,MAAM8uE,OAAOtK,QAAU,EAAKsS,kBAEzC,UArRP,sBA6RQ,SAACr+D,EAAKk2D,EAAK3gC,GACnB,OAAOm7B,GAAY1wD,EAAI9a,KAAMgxE,EAAIhxE,QAAU,EAAK+5E,WAAWj/D,EAAKk2D,EAAK3gC,MA9RrE,uBAiSS,SAACv1B,EAAKk2D,GACf,MAAO,CAACl2D,EAAKk2D,GAAK33D,MAAK,SAAA8kD,GAAI,OAAIA,EAAKoN,iBAlSpC,wBA4SU,SAACyO,EAAOC,GAClB,MAAO,CAAC,MAAO,MAAMn8E,KAAI,SAAAiR,GACvB,MAAO,CAACirE,EAAOC,GAAO9gD,MAAK,SAAAglC,GAAI,OAAIA,EAAKpvD,OAASA,WA9SnD,yBA0TW,SAACirE,EAAOC,EAAO5pC,GAC1B,IAAKA,EAAO,OAAO,EAKnB,IAJA,MAAmB,EAAK6pC,UAAUF,EAAOC,GAAzC,YAAOn/D,EAAP,KAAYk2D,EAAZ,KACMmJ,EAAS9pC,EAAMl9B,SAEjBinE,EAAWD,EAAOzhC,QACd0hC,EAASC,MAAM,CACrB,IAAM3lD,EAAO0lD,EAASn1E,MAAMjF,KAW5B,GAAI,CATa,CAAC,GAAD,OACZ00B,EAAKqjD,WADO,YACOrjD,EAAKsjD,YADZ,UAEZl9D,EAAI8nB,KAAK5iC,KAAK1C,GAFF,YAEQwd,EAAI9a,KAAK6O,OAEnB,CAAC,GAAD,OACV6lB,EAAKujD,WADK,YACSvjD,EAAKwjD,YADd,UAEVlH,EAAIpuC,KAAK5iC,KAAK1C,GAFJ,YAEU0zE,EAAIhxE,KAAK6O,QAGXi9D,OAAM,SAAAwO,GAAI,OAAIA,EAAK,KAAOA,EAAK,MACpD,OAAO,EAGTF,EAAWD,EAAOzhC,OAGpB,OAAO,KAjVP,EAAKnE,OAAS,KACd,EAAKukC,cAAgBA,EACrB,EAAKyB,oBAAsBv6E,EAAK8gE,WAChC,EAAKiY,qBAAuBA,EAE5B,EAAKyB,aAPL,E,4CAsIF,WACE,IAAMluD,EAAUzuB,KAAK48E,YAAc,GAAM,EACzC58E,KAAKo+B,KAAK6tC,KAAK,UAAWx9C,K,cAqE5B,WACE,OAAOzuB,KAAK02C,OAAO3R,S,gBAGrB,WACE,OAAO/kC,KAAK02C,OAAOw6B,OAAO,U,iBAG5B,WAAY,QACJhgE,EAAI,UAAGlR,KAAKid,IAAI9a,YAAZ,aAAG,EAAe6Y,QAC5B,iBAAO6+D,GAAe3oE,UAAtB,QAA+B2oE,GAAeC,W,oBAGhD,WACE,OAAO95E,KAAK2vE,OAAOllE,W,sBAOrB,SAAegkE,GACbzuE,KAAKyuE,QAAUptC,QAAQotC,GACvBzuE,KAAK02C,OAAOu1B,KAAK,aAAcjsE,KAAKyuE,QAAU,UAAY,Y,oCAG5D,SAAuBoO,GAErB,OADA78E,KAAK08E,oBAAsBG,EACpB78E,O,4BAGT,WAAiB,MACTkR,EAAO,cAAH,iBACRlR,KAAK08E,2BADG,QACoB18E,KAAKmC,KAAK8gE,YAElC6Z,EAAc98E,KAAKwE,MAAM8uE,OAAX,QAEpB,OAAItzE,KAAKi7E,eAAiBpB,GAAe3oE,GAChC2oE,GAAe3oE,GAAMvH,MAEvBmzE,I,oBAsGT,SAAOX,EAAOC,GAIZ,OAFep8E,KAAKq8E,UAAUF,EAAOC,GAEvBn8E,KAAI,SAAAC,GAAQ,QAClB6kC,EAAO7kC,EAAK6kC,KAAK5iC,KAAK1C,GACtByR,EAAI,oBAAGhR,EAAK6kC,KAAK0tC,iBAAb,aAAG,EAAqBr7B,YAAxB,QAAgC,GAO1C,MAAO,CAACrS,EANK7kC,EAAKiC,KAAK6O,MAMHzQ,KAJlB2Q,IAASiC,GACL6mE,GACAA,U,wBAMV,SAAiB+C,GACf,IACEt9E,EAIEs9E,EAJFt9E,GACAsjE,EAGEga,EAHFha,KACAC,EAEE+Z,EAFF/Z,GAHF,EAKI+Z,EADF9Z,WAAAA,OAJF,MAIe1xD,GAAgBC,iBAAiBE,MAJhD,EAMA,EAAiDspE,EAASgC,YAAYja,GAAtE,YAAOmX,EAAP,KAAmBC,EAAnB,KAA+BG,EAA/B,KACA,EAAiDU,EAASgC,YAAYha,GAAtE,YAEA,MAAO,CACLvjE,GAAAA,EACAy6E,WAAAA,EACAC,WAAAA,EACAG,eAAAA,EACAF,WAPF,KAQEC,WARF,KASEE,eATF,KAUE5X,WAAYM,O,EAtYG+X,CAAiBf,I,IAAjBe,GAAAA,eAgZE,SAAAiC,GAKnB,IAUgBt0C,EAAGwH,EANH76B,EAJhB,EAA0B2nE,EAAMp/D,MAAMm8D,IAAtC,UAAOkD,EAAP,KAAiBC,EAAjB,WACM/X,EAAQ8X,EAAMr/D,MAAMm8D,IAC1B,OAAyB5U,GAWzB,MAAO,CAXP,MAQgBz8B,EARhB,WAQmBwH,EAGSgtC,GATZ7nE,EAMiBqzB,EALxBrzB,EAAOhV,OACVgV,EAAO/U,KAAKy5E,IAAmB35E,OAAO25E,IACtC,IAG8B35E,OAAO8vC,EAAE5vC,KAAKy5E,MAGd5U,MEvgBxC,MAAM,GAA+B9+D,QAAQ,8C,6bCAtC,IAAM82E,GAAb,iCACE,WAAYvmD,GAAM,kBAChB,IAAM7b,EAAU,QAAH,OAAW6b,EAAKp3B,GAAhB,eADG,OAEhB,cAAMub,IACD6b,KAAOA,EAHI,EADpB,oBAAiC1xB,QAQpBk4E,GAAb,iCACE,WAAYxmD,EAAMymD,EAAUC,GAAU,kBACpC,IAAMC,EAAgBF,EAAS/6E,OAAOJ,KAAK6Y,QACrCyiE,EAAgBH,EAAS74E,OAAOtC,KAAK6Y,QACrCA,EAAU,uBAAH,OAA0BwiE,EAA1B,eAA8CC,GAHvB,OAIpC,cAAMziE,IACD6b,KAAOA,EACZ,EAAK0mD,SAAWA,EANoB,EADxC,oBAAyCp4E,Q,+NCEzC,SARMu4E,SAAAA,G,6aACJ,WAAY5oC,GAAM,yBAChB,c,mWAAA,IAAWA,IAEX,EAAKjpC,OAHW,E,cADd6xE,CAAoB1M,I,ICMpB2M,GAAAA,SAAAA,G,6aACJ,cAAgD,MAAlChO,EAAkC,EAAlCA,OAAQ5qC,EAA0B,EAA1BA,KAAMgR,EAAoB,EAApBA,OAAQgC,EAAY,EAAZA,SAAY,oBAC9C,cAAM,CACJ43B,OAAAA,EACA5qC,KAAAA,EACAgR,OAAAA,EACAgC,SAAAA,KAGG51C,KAAO,CACV1C,GAAIslC,EAAKtlC,GACTglE,eAAgB1/B,EAAK0/B,gBAAkB,GACvCC,cAAe3/B,EAAK2/B,eAAiB,GACrC1zD,KAAM+zB,EAAK0/B,eACXJ,cAAegH,GAAqBtmC,EAAKs/B,gBAAkB,CAAC,GAAI,IAChEptB,UAAWlS,EAAKkS,WAAa,GAC7B/lC,KAAMi3D,GACNrtD,MAAO,QAET,EAAKq0D,aAAe,CAAC,gBAAiB,iBAAkB,iBAlBV,E,8BA0BhD,WACE,OAAOnvE,KAAKmC,KAAKsiE,iB,wBAQnB,WACE,OAAOzkE,KAAKmC,KAAKuiE,gB,4BAQnB,WACE,MAAO,KAAP,OAAY1kE,KAAKkiE,kB,EA9Cfyb,CAA0B3M,IAkDhC,Y,4lBCpDM4M,GAAAA,SAAAA,G,6aAOJ,WAAY9oC,GAAM,kBAChB,IAAQ/1C,EAA0B+1C,EAA1B/1C,QAAY42C,EAApB,KAAkCb,EAAlC,IADgB,OAEhB,cAAMa,GAFU,iCAqBV,8FACA,EAAKg9B,WADL,cAEN,EAAKyB,aACFxB,eACAC,eACAC,cACAzD,YACAwO,WAPG,sEArBU,uBAmCP,WACT,OAAO,UApCS,oCA0CP,mBAUAC,EAVA,8EAUAA,EAVA,SAUSrB,EAAM/0E,GACtB,OAAO+0E,MAAAA,EAAAA,EAAQ/0E,GATXquC,EAAS,EAAKm/B,aAahB,EAAKvI,OAAOjqD,KAAO,IACrB,EAAKiqD,OAAO7kE,SAAQ,SAAAw4D,GAClBA,EAAK3oD,aAEP,EAAKg1D,OAAOp3B,SAnBL,SAwBDwoC,EAAeD,EAAQ,UAAC,EAAKrL,iBAAN,aAAC,EAAgB9R,aAAc,IAEtDqd,EAAc,GAEpB/2E,OAAO0L,QAAQorE,GAAcj2E,SAAQ,YAAmC,gBAAjCo6D,EAAiC,KAAnB+b,EAAmB,KACtEh3E,OAAO0L,QAAQsrE,GAAen2E,SAAQ,YAAyB,gBAAvBm+D,EAAuB,UACrDn+D,QAAR,+BAAgB,WAAMqtE,GAAN,iEACd6I,EAAYx+E,KAAK,CAAE0iE,aAAAA,EAAc+D,SAAAA,EAAUkP,aAAAA,IAD7B,2CAAhB,6DA9BG,SAoCDx7D,QAAQu3B,WACZ8sC,EAAY/9E,IAAZ,+BAAgB,WAAMmH,GAAN,8FACN86D,EAAyC96D,EAAzC86D,aAAc+D,EAA2B7+D,EAA3B6+D,SAAUkP,EAAiB/tE,EAAjB+tE,aAG1B+I,EAAY,EAAKC,OAAOjc,GAC1Bkc,EAAU,IACVC,EANU,UAMA,EAAK5L,UAAUrM,SAASH,UANxB,aAMA,EAAmCztB,SAE7C0lC,IACFE,EAAU,KACVC,EAAO,UAAG,EAAK5L,UAAUpM,UAAUJ,UAA5B,aAAG,EAAoCvB,eAVlC,SAeU,EAAK4Z,QAC3BnJ,EACAkJ,EACAH,GAlBY,UAeRK,EAfQ,+BAsBZpoE,QAAQqM,MAAR,8BACyB2yD,EADzB,8BAC2DlP,EAD3D,0BACqF,EAAK9jE,KAAKuiE,cAD/F,MAtBY,2BA4Bdz9D,OAAOgE,KAAKszE,GAAWz2E,SAAQ,SAAAoJ,GAC7B,GAAK,CAAC,KAAM,OAAOy2B,SAASz2B,EAAKstE,qBAAjC,CAEA,IAAMC,EAAUX,EAASS,MAAAA,OAAD,EAACA,EAAYrtE,GAAO,IAE5CjK,OAAOgE,KAAKwzE,GAAS32E,SAAQ,SAAAw4D,GAC3B,KAAI6U,EAAa32C,OAAb,UAAuB+/C,EAAUG,WAAjC,YAA+Cpe,IAAU,GAA7D,CAGA,IAAMn+D,EAAO27E,EAASS,MAAAA,OAAD,EAACA,EAAYrtE,GAAO,IAEzCjK,OAAOgE,KAAK9I,GAAM2F,SAAQ,SAAAijD,GACxB,IAAMyQ,EAAW,IACfxqD,KAAM,GAAF,OAAKi1D,GAAL,OAAgBmY,GAAhB,OAA0BjJ,GAC9BjkE,KAAMA,EACNsnC,SAAUslC,EAASS,MAAAA,OAAD,EAACA,EAAW/lC,SAAU,IACxC61B,OAAQpI,GACL9jE,EAAK4oD,IAIJ4zB,EAAQ,IAAIpQ,GAAJ,OAAmB/S,EAAUzlB,GAGrCq/B,EAAc,GAAH,OAAMnP,GAAN,OAAiBmY,GAAjB,OAA2BjJ,GAE5C,EAAKxI,OAAOzzD,IAAIk8D,EAAauJ,cAtDrB,4CAAhB,wDADI,OA4DE,SAAAn8D,GACNrM,QAAQqM,MAAMA,MAjGT,yDAoGPrM,QAAQqM,MAAR,MApGO,oGA1CO,qBA8JT,SAAAxR,GACP,OAAOA,MAAAA,OAAA,EAAAA,EAAM4tE,WAAW,SAAS,KA/JjB,oDA6KR,WAAO7zB,EAAUszB,EAASH,GAA1B,uFAEAW,EAAY9zB,EAASltC,MAAM,KAC7BihE,EAAWT,EACXU,EAAYF,EAAUr9E,MAAM,GAAI,GAAGjB,KAAK,MAExC29E,EANE,gCAOa,EAAKc,oBAAoBX,EAASQ,EAAU,IAPzD,OAOJC,EAPI,OAQJC,EAAYF,EAAUr9E,MAAM,GAAI,GAAGjB,KAAK,KARpC,gCAWC,EAAKy8E,YAAY8B,EAAUC,IAX5B,kCAaN5oE,QAAQqM,MAAR,MAbM,0DA7KQ,6FAkMT,8FACD,EAAKmwD,WADJ,cAEP,EAAKC,eAAeC,eAAeC,cAF5B,sEAlMS,yBA+ML,SAAA7M,GACX,OAAOA,EAASpoD,MAAM,MAAMvd,QAAU,KAhNtB,gEAmNI,WAAO2+E,EAAUhZ,GAAjB,+GAEc,EAAKlnE,QAA7BA,EAFU,EAEVA,QAAS6Z,EAFC,EAEDA,WAEXsmE,EAAW,IAAIngF,EAAQ6Z,EAAY7Z,EAAQogF,OAAOC,WAJtC,SAKCF,EAAS/mC,YAAY8mC,GALtB,UAKZI,EALY,QAOd,EAAKC,WAAWrZ,GAPF,oBAQVsZ,EAAWF,EAAKjZ,SAASH,GARf,uBAWR,IAAI9gE,MAAJ,yBACc8gE,EADd,qCACmDgZ,EADnD,OAXQ,iCAgBTM,EAAS/mC,UAhBA,iBAoBwBytB,EAASpoD,MAAM,MApBvC,UAoBT2hE,EApBS,KAoBSC,EApBT,WAsBVC,EAAcL,EAAKhZ,UAAUmZ,GAAe9a,cAtBlC,kBAwBT,EAAKsa,oBAAoBU,EAAaD,EAAYl/E,KAAK,QAxB9C,0DA2BZo/E,EA3BY,4DA2BoD1Z,EA3BpD,KA4BlB9vD,QAAQqM,MAAR,UAAiBm9D,EAAjB,sBA5BkB,0DAnNJ,iHAmPJ,WAAO1Z,EAAUlb,GAAjB,0FACoB,EAAKhsD,QAA7BA,EADI,EACJA,QAAS6Z,EADL,EACKA,WAEXsmE,EAAW,IAAIngF,EAAQ6Z,EAAY7Z,EAAQogF,OAAOS,MAH5C,SAIOV,EAAS/mC,YAAY8tB,GAJ5B,cAINlhC,EAJM,QAMNu7B,EAAOv7B,EAAKmnB,UAAUnB,IAAa,QAG/BuV,EAAI,WAAiBvV,GATnB,kBAWLuV,GAXK,2CAnPI,yDAIhB,EAAKvhE,QAAUA,EAJC,E,gCAWlB,WACE,OAAOiB,S,EAnBL49E,CAAsBD,IAyQ5B,YCvQA,SANMkC,SAAAA,G,qlBACO,WACT,EAAKnpC,OAAOu1B,KAAK,UAAW,U,gBAF1B4T,CAA+BjC,I,mOCC/BkC,GAAAA,SAAAA,G,6aACJ,cAAiD,MAAnCnQ,EAAmC,EAAnCA,OAAQ5qC,EAA2B,EAA3BA,KAAMgT,EAAqB,EAArBA,SAAUtpB,EAAW,EAAXA,QAAW,YAC/C,IAAMsxD,E,mWAAa,EACjBtgF,GAAI,GACJ0kE,UAAWp/B,EAAKyT,SAChBo9B,UAAW,GACXvR,cAAe,CACb17B,EAAG,CAAEoO,MAAO,IACZ5G,EAAG,CAAE4G,MAAO,MAEXhS,GAT0C,OAW/C,cAAM,CAAE4qC,OAAAA,EAAQ5qC,KAAMg7C,EAAYhqC,OAAQ,GAAIgC,SAAAA,IAXC,uBAgBtC,WAAqB,IAApBtpB,EAAoB,uDAAV,MACpB,EAAKioB,OAAOu1B,KAAK,UAAWx9C,MAjBmB,sBAuBvC,kBAAM9S,GAAgB,cAV9B,EAAK9P,OAAOgyE,SAASpvD,GAb0B,E,cAD7CqxD,CAAsB9O,IA2B5B,YC3BA,IAAMgP,GAAiB,CACrBl6D,UAAW,OACXif,KAAM,QA4DR,SAzDMk7C,SAAAA,G,6aACJ,WAAYt3C,EAAGwH,EAAGjgB,EAAM6nB,EAAU7mC,GAA6B,MAAvBgvE,EAAuB,uDAAR,OAAQ,oBAC7D,cAAMv3C,EAAGwH,EAAGjgB,IACP8/C,GAAK,GACV,EAAK9+D,KAAOA,EACZ,EAAK6mC,SAAL,UAAmBioC,GAAeE,GAAlC,aAAoDnoC,GAEpD,EAAKpuB,SANwD,E,kCAc/D,WACE,IAAMumD,EAAalwE,KAAKmwE,YA0BxB,OAxBAnwE,KAAK02C,OAASq1B,GAAAA,OACJ,YACPE,KAAK,IAAKjsE,KAAK2oC,GACfsjC,KAAK,IAAKjsE,KAAKmwC,GACf87B,KAAK,eAAgB,GACrBA,KAAK,OAAQjsE,KAAK2J,OAClBsiE,KAAK,QAASjsE,KAAKiwE,aAAe,eAAiB,IACnDzrE,MAAM,YAAa,QACnBA,MAAM,oBAAqB,WAE9BxE,KAAK02C,OACF05B,UAAU,SACVjuE,KAAK+tE,GACLG,QACArE,OAAO,SACPxnE,MAAM,oBAAqB,WAC3BynE,KAAK,QAAS,QACdA,KAAK,KAAMjsE,KAAK+vE,IAChB9D,KAAK,KAAMjsE,KAAKgwE,IAChB/D,KAAK,IAAKjsE,KAAK2oC,GACfzY,MAAK,SAAUnpB,GACd,OAAOA,KAGJ/G,O,uBAOT,WACE,IAAMmgF,EAAM,CAACngF,KAAKkwB,MAGlB,OADIlwB,KAAKkR,MAAMivE,EAAI3gF,KAAKQ,KAAKkR,MACtBivE,M,EArDLF,CAAuBnQ,ICN7B,IACMn+D,GAAQ,UACRyuE,GAAiB,UAMVC,GAAb,iC,IAAaA,GAAAA,WAMM,WAAqB,IAApBC,EAAoB,uDAAV,MACpB5pC,EAAS6pC,GAAiB,GAAI,IAAItU,KAAK,IAAK,MAelD,OAbAv1B,EACGs1B,OAAO,QACPC,KAAK,OAAQt6D,IACbs6D,KAAK,SAAUt6D,IACfs6D,KAAK,YAAamU,IAClBnU,KAAK,YAAamU,IAClBnU,KAAK,YANR,gBAM8BqU,EAN9B,MAOGrU,KACC,IACA,8wBAIGv1B,EAAO3R,UAQX,IAAMy7C,GAAb,iC,IAAaA,GAAAA,WAMM,WAAqB,IAApBF,EAAoB,uDAAV,MACpB5pC,EAAS6pC,GAAiB,GAAI,IAAItU,KAAK,IAAK,MAelD,OAbAv1B,EACGs1B,OAAO,QACPC,KAAK,OAAQt6D,IACbs6D,KAAK,SAAUt6D,IACfs6D,KAAK,YAAamU,IAClBnU,KAAK,YAAamU,IAClBnU,KAAK,YANR,gBAM8BqU,EAN9B,MAOGrU,KACC,IACA,sxBAIGv1B,EAAO3R,UAOX,IAAM07C,GAAb,4EAME,WACE,IAAM/pC,EAAS6pC,GAAiB,GAAI,IAcpC,OAZA7pC,EAAOs1B,QAAO,WACZ,OAAO0U,GAAc,GAAI,GAAI,EAAG/uE,OAGlC+kC,EACGs1B,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,SAAU,WACfA,KAAK,YAAamU,IAClBnU,KAAK,YAAamU,IAClBnU,KAAK,IAAK,+DAENv1B,EAAO3R,WArBlB,KA4Ba47C,GAAb,4EAME,WACE,IAAMjqC,EAAS6pC,GAAiB,GAAI,IAcpC,OAZA7pC,EAAOs1B,QAAO,WACZ,OAAO0U,GAAc,GAAI,GAAI,EAAG/uE,OAGlC+kC,EACGs1B,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,SAAU,WACfA,KAAK,YAAamU,IAClBnU,KAAK,YAAamU,IAClBnU,KAAK,IAAK,yDAENv1B,EAAO3R,WArBlB,KAoCMw7C,GAAmB,SAACr+D,EAAOD,GAC/B,OAAO8pD,GAAAA,OACG,OACPE,KAAK,QAAS/pD,GACd+pD,KAAK,SAAUhqD,GACfgqD,KAAK,UAJD,cAImB/pD,EAJnB,YAI4BD,IAChCgqD,KAAK,OAAQ,SAQZyU,GAAgB,SAACpR,EAAIC,EAAI9nE,EAAGkC,GAWhC,OAVeoiE,GAAAA,OACL,OACPC,OAAO,UACPC,KAAK,KAAMqD,GACXrD,KAAK,KAAMsD,GACXtD,KAAK,IAAKxkE,GACVwkE,KAAK,SAAUtiE,GACfsiE,KAAK,OAAQtiE,GACbsiE,KAAK,eA1JW,KA4JLlnC,Q,ykBCzJV67C,GAAAA,WACJ,WAAY/pD,EAAM3lB,EAAM6zB,GAAM,YAC5B/kC,KAAK+F,WAAag/B,EAClB/kC,KAAKyE,OAAS,CACZ67D,KAAMzpC,EAAKwjD,WACXt1C,KAAMlO,EAAKujD,WACXyG,aAAchqD,EAAKiqD,oBAErB9gF,KAAKuC,OAAS,CACZ+9D,KAAMzpC,EAAKsjD,WACXp1C,KAAMlO,EAAKqjD,WACX2G,aAAchqD,EAAKkqD,oBAErB/gF,KAAKkR,KAAOA,EACZlR,KAAK02C,OAASq1B,GAAAA,OAAU,OAAOvnE,MAAM,iBAAkB,QACvDxE,KAAK2pB,S,kCAOP,WAAS,WACHq3D,EAAY,EAEhBhhF,KAAK02C,OAAOs1B,QAAO,WACjB,IACMvmD,GADgC,QAAd,EAAKvU,KAAiBmvE,GAAYG,IAC7BS,UAE7B,OADAD,GAAav7D,EAAKvD,MAAM6vD,QAAQ3qE,MACzBqe,KAGT,IAAMtjB,EAAqB,QAAdnC,KAAKkR,KAAiBlR,KAAKyE,OAASzE,KAAKuC,OAChD2+E,EAAYlhF,KAAKmhF,aAAah/E,GACpC,EAA6BnC,KAAKohF,cAAcj/E,GAAhD,YAAO8jE,EAAP,KAAiBob,EAAjB,KACAH,EAAUp5E,SAAQ,SAAA5H,GAChB8wE,GAAAA,aAAsB9wE,EAAK8Q,KAAM9Q,EAAKgR,KAAM8vE,GAAW15E,MAAK,SAAAg6E,GAC1D,EAAK5qC,OAAOs1B,QAAO,WACjB,IAAMuV,EAAOD,EAAUv8C,OAgBvB,OAfAw8C,EAAK/8E,MAAMw2D,cAAgB,MAE3BumB,EAAKC,WAAa,SAAAx8D,GAEhBA,EAAInG,kBACJmG,EAAIhO,iBAEJ,EAAKjR,WAAW07E,eAAevhF,IAGjCqhF,EAAKG,QAAU,SAAA18D,GAEbA,EAAInG,kBACJmG,EAAIhO,kBAECuqE,QAIXP,GAAa,MAGfhhF,KAAK2hF,YAAY1b,EAAU+a,EAAW,GAEtChhF,KAAK2hF,YAAYN,EAAUL,EAAW,M,cAQxC,WACE,OAAOhhF,KAAK02C,OAAO3R,S,yBAiBrB,SAAY7U,GAAqB,IAAfyY,EAAe,uDAAX,GAAIwH,EAAO,uDAAH,EAC5BnwC,KAAK02C,OACFs1B,OAAO,QACPC,KAAK,QAAS,qBACdA,KAAK,eAAgB,GACrBA,KAAK,IAAKtjC,GACVsjC,KAAK,IAAK97B,GACV3rC,MAAM,YAAa,QACnBA,MAAM,oBAAqB,WAC3B0rB,KAAKA,K,2BAaV,SAAc/tB,GACZ,IAAMy/E,EAAaz/E,EAAK0+E,aAAavgF,OAC/BuhF,EAAY1/E,EAAKm+D,KAAKziD,MAAM,KAC5ByiD,EAAOuhB,EAAUrgF,MAAMogF,EAAa,GAAGrhF,KAAK,KAElD,MAAO,CADMqhF,EAAa,EAAIC,EAAU,GAAK1/E,EAAK4iC,KACpCu7B,K,0BAYhB,SAAan+D,GACX,IAAMy/E,EAAaz/E,EAAK0+E,aAAavgF,OAAS,EAC9C,OAAO6B,EAAK0+E,aAAa5gF,KAAI,SAAC8kC,EAAM7gC,GAClC,IAAIgN,EAAO,OAQX,OANIhN,IAAU09E,IAAY1wE,EAAgB,UAAT6zB,EAAmBA,EAAO,QAMpD,OAAE/zB,KAPE+zB,EAOI7zB,KAAAA,GALF,CACXmuE,KAAM,CAAEvkE,MAAO,OAAQo6C,SAAUiT,IACjCpjC,KAAM,CAAEjqB,MAAO,OAAQo6C,SAAUiT,IACjC0N,MAAO,IAEoB3kE,IAA7B,IAAoC/O,KAAAA,W,EA3IpCy+E,GAgJN,Y,IChJMkB,GAAAA,SAAAA,G,6aACJ,WAAY/8C,EAAM5iC,EAAM4zC,GAAQ,0BAC9B,cAAMhR,EAAM5iC,EAAM4zC,IAEbgsC,aAAehW,GAAAA,OACV,OACPE,KAAK,QAAS,mBACdA,KAAK,IAAK,MACVA,KAAK,IAAK,MACb,EAAKv1B,OAAOs1B,QAAO,WACjB,OAAO,EAAK+V,aAAah9C,UATG,E,kCAiBhC,WAAS,WAwBP,OAvBA/kC,KAAK02C,OAASq1B,GAAAA,OACJ,OACPE,KAAK,QAAS,OACdA,KAAK,QAAS,sBACdA,KAAK,OAAQjsE,KAAK2J,OAGrB3J,KAAK02C,OAAOs1B,QAAO,WAEjB,OAD2C,OAAnB,EAAK7pE,KAAK+O,KAAgBmvE,GAAYG,IACvCS,aAIzBjhF,KAAK02C,OACFs1B,OAAO,QACPC,KAAK,QAAS,qBACdA,KAAK,eAAgB,GACrBA,KAAK,IAAK,IACVA,KAAK,IAAK,GACVznE,MAAM,YAAa,QACnBA,MAAM,oBAAqB,WAC3B0rB,KAAKlwB,KAAKmC,KAAK6O,MAEXhR,O,uBAOT,WAGE,OAFAA,KAAK02C,OAAO/gC,GAAG,aAAc3V,KAAK2uE,aAClC3uE,KAAK02C,OAAO/gC,GAAG,WAAY3V,KAAK4uE,YACzB5uE,O,yBAST,WAAyB,IAAbmwC,EAAa,uDAATnwC,KAAKuvE,GAEnB,OADAvvE,KAAK02C,OAAOu1B,KAAK,IAAK97B,GACfnwC,O,qBAQT,SAAQ62B,GACN,IAAMmrD,EAAU,IAAIpB,GAAiB/pD,EAAM72B,KAAKmC,KAAK+O,KAAMlR,KAAK+kC,MAKhE,OAJA/kC,KAAKwyC,MAAMt5B,IAAI2d,EAAKp3B,GAAIuiF,GACxBhiF,KAAK+hF,aAAa/V,QAAO,WACvB,OAAOgW,EAAQzgD,MAEVvhC,O,wBAQT,SAAW62B,GACT72B,KAAKwyC,MAAL,OAAkB3b,EAAKp3B,IACvBO,KAAK+hF,aAAa3R,UAAU,KAAKrsE,W,iCAMnC,WACE,IAAIk+E,EAAiB,EAKrB,OAJAjiF,KAAKwyC,MAAM1qC,SAAQ,SAAA+uB,GACjBA,EAAK6f,OAAOu1B,KAAK,IAAKgW,GACtBA,GAAkBprD,EAAK0K,GAAG2gD,UAAUjgE,OAAS,KAExCjiB,S,EAnGL8hF,CAAqBvT,IAuG3B,YCuEA,GA/KM4T,WACJ,cAKG,IAJDjyD,EAIC,EAJDA,KAIC,IAHD0W,WAAAA,OAGC,aAFDnW,OAAAA,OAEC,MAFQ,KAER,MADD2xD,sBAAAA,OACC,MADuB,kBAAMzmE,GAAgB,0BAC7C,cACD3b,KAAKkwB,KAAOA,EACZlwB,KAAKywB,OAASA,EACdzwB,KAAK8S,SAAW,IAAIJ,IACpB1S,KAAK4mC,WAAaA,EAClB5mC,KAAKoiF,sBAAwBA,EAC7BpiF,KAAKqiF,eAAiB,KAEtBriF,KAAK02C,OAAS,KACd12C,KAAKi0E,QAAU,KACfj0E,KAAKsiF,mBAAqB,KAE1BtiF,KAAK2pB,S,kCAOP,WAEM3pB,KAAK02C,QAAQ12C,KAAK2X,UAEtB3X,KAAK02C,OAASq1B,GAAAA,OACJ,OACPE,KAAK,IAAK,MACVA,KAAK,IAAK,MACVA,KAAK,QAAS,sBAEjBjsE,KAAK4yE,eAEL5yE,KAAKuiF,mB,0BAOP,WAAe,WAETviF,KAAKi0E,SAASj0E,KAAKi0E,QAAQlwE,SAC/B/D,KAAKi0E,QAAUlI,GAAAA,OACL,OACPE,KAAK,OAAQ,SACbznE,MAAM,SAAU,WAEnBxE,KAAKi0E,QAAQjI,QAAO,WAClB,OAAI,EAAKplC,WAAmB65C,GAASQ,UACzBN,GAAUM,aAGxBjhF,KAAKi0E,QACFjI,OAAO,YACPC,KAAK,IAAK,MACVA,KAAK,IAAK,MACVA,KAAK,QAAS,qBACdA,KAAK,eAAgB,GACrBznE,MAAM,YAAa,QACnBA,MAAM,oBAAqB,WAC3B0rB,KAAKlwB,KAAKkwB,MAEblwB,KAAKi0E,QAAQt+D,GAAG,SAAS,WAEvB,EAAKixB,YAAc,EAAKA,WACxB,EAAKw7C,wBAEL,EAAKxP,eAED,EAAKhsC,WAAY,EAAK27C,iBACrB,EAAKC,WAEV,EAAKzP,oBAGP/yE,KAAK02C,OAAOs1B,QAAO,kBAAM,EAAKiI,QAAQlvC,Y,4BAOxC,WAAiB,WAEX/kC,KAAKsiF,oBAAoBtiF,KAAKsiF,mBAAmBv+E,SACrD/D,KAAKsiF,mBAAqBvW,GAAAA,OAChB,OACPE,KAAK,IAAK,MACVA,KAAK,IAAK,MACVA,KAAK,QAAS,sBACbjsE,KAAK4mC,YAEP5mC,KAAK8S,SAAShL,SAAQ,SAAAggC,GACpB,EAAKw6C,mBAAmBtW,QAAO,WAC7B,OAAOlkC,EAAMvG,SAKnBvhC,KAAK02C,OAAOs1B,QAAO,kBAAM,EAAKsW,mBAAmBv9C,UACjD/kC,KAAKyiF,kBAAkBziF,KAAK8S,Y,sBAO9B,WAEE9S,KAAK8S,SAAShL,SAAQ,SAAAggC,GAChBA,EAAM46C,kBAAkB56C,EAAM46C,sBAGpC1iF,KAAKsiF,mBAAmBv+E,W,4BAO1B,WACM/D,KAAKywB,QAAQzwB,KAAKywB,OAAOkyD,2B,+BAO/B,SAAkB7vE,GAAU,WAErBA,GACLA,EAAShL,SAAQ,SAAAggC,GACXA,EAAM26C,mBAAmB36C,EAAM26C,oBACnC,EAAKA,kBAAkB36C,EAAMh1B,e,cASjC,WACE,OAAO9S,KAAK02C,OAAO3R,S,qBAMrB,WACE/kC,KAAK02C,OAAO3yC,W,sBASd,SAAS+jC,GACP,IAAM5jC,EAAQlE,KAAK8S,SAAS4P,KAAO,EACnC1iB,KAAK8S,SAASoG,IAAIhV,EAAO4jC,GACrB9nC,KAAK4mC,YACP5mC,KAAKsiF,mBAAmBtW,QAAO,WAC7B,OAAOlkC,EAAMvG,U,EAzKf4gD,G,ICKAS,GAAAA,SAAAA,G,6aACJ,cAA+D,MAAjDjT,EAAiD,EAAjDA,OAAQ5qC,EAAyC,EAAzCA,KAAMgR,EAAmC,EAAnCA,OAAQ8sC,EAA2B,EAA3BA,MAAO9qC,EAAoB,EAApBA,SAAUtnB,EAAU,EAAVA,OAAU,mBAC7D,cAAM,CAAEk/C,OAAAA,EAAQ5qC,KAAAA,EAAMgR,OAAAA,EAAQ8sC,MAAAA,EAAO9qC,SAAAA,IADwB,wBAmCnD,WASV,OAPA,EAAKrB,OAAO/gC,GAAG,SAAS,WACjB,EAAK8a,QACV,EAAKg/C,SAAS,EAAKzuD,YAErB,EAAK01B,OAAO/gC,GAAG,aAAa,kBAAM,EAAK85D,SAAS,EAAK0B,gBACrD,EAAKz6B,OAAO/gC,GAAG,YAAY,kBAAM,EAAK85D,SAAS,EAAK2B,eAE7C,UA5CsD,2BA2GhD,WACb,IAAM0R,EAAgB,EAAK1xC,OAe3B,OAbI,EAAKo/B,SAAS,EAAKA,QAAQ74D,UAG/B,EAAK64D,QAAU,IAAIF,GAAe,KAAM,IAGxC,EAAK55B,OAAOs1B,QAAO,WACjB,OAAO,EAAKwE,QAAQjvC,MAItB,EAAK6P,OAAS0xC,EAEP,UA3HsD,qBAwItD,WAAsB,IAArBC,EAAqB,wDAM7B,OALA,EAAKpQ,UAAS,SAAC5tC,EAAM5iC,EAAM4zC,GAAb,OAAwB,IAAI+rC,GAAa/8C,EAAM5iC,EAAM4zC,MAChEitC,oBACAnQ,eAECkQ,GAAU,EAAKE,cACZ,UA9IsD,oCA4NvC,SAACC,EAAWC,GAoBlC,OAlBAA,EAAmBx6C,GAAK,EAAKzmB,MAAQ,EACrCihE,EAAmBhzC,GAAK,EAAKtwB,QAAQ8oB,EAAI,EAAK9oB,QAAQswB,EAAI,EAAKluB,OAE9C,CACfokD,UAAW,CACT19B,EAAGw6C,EAAmBx6C,EACtBwH,EAAG+yC,EAAU/yC,GAEfi2B,SAAU,CACRz9B,EAAGu6C,EAAUv6C,EACbwH,EAAGgzC,EAAmBhzC,GAExBizC,MAAO,CACLz6C,EAAGu6C,EAAUv6C,EACbwH,EAAGgzC,EAAmBhzC,IAIV,EAAKhuC,KAAK+O,SAhPmC,uBAyPpD,SAAAokC,GAAM,UAETw8B,EAAa,UAAG/F,GAAAA,aAAH,iBAAG,EAAUtnE,cAAb,iBAAG,EAAkB4Y,iBAArB,aAAG,EAA6B00D,QAC9CD,MAAAA,GAAAA,EAAenqC,SAAS,yBAEzB,EAAK8mC,SAASn5B,OA9P2C,oCAiQvC,WACtB,EAAK+tC,eAAiB,EAAKA,iBAlQkC,yBAwQjDp9B,IAAAA,EAAU,WACtB,EAAKq2B,OAAOx0E,SAAQ,SAAA+uB,GAClB,EAAKysD,QAAQzsD,QAEd,MA5Q4D,2BAmRhD,SAAAA,GACb,IAAM0sD,EAAc1sD,EAAKyjD,eAAeh6E,OAAS,EAC3CkjF,EAAc3sD,EAAK0jD,eAAej6E,OAAS,EAC3CmjF,EAAkB,EAAKC,WAAW7sD,EAAM,aAAc0sD,GACtDI,EAAkB,EAAKD,WAAW7sD,EAAM,aAAc2sD,GAG5D,MAAO,CAAErJ,WAFU,EAAKxN,OAAOvkE,IAAIq7E,GAEdpJ,WADF,EAAK1N,OAAOvkE,IAAIu7E,OAzR0B,yBAqSlD,SAAC9sD,EAAM+Z,EAAW3tC,GAC7B,OAAO4zB,EAAK+Z,GAAW/yB,MAAM,KAAKna,OAAOT,GAAO1C,KAAK,QAtSQ,wBAgTnD,SAACs2B,EAAM+Z,GAAc,QAC/B,OACE/Z,EAAK+Z,KAAe,EAAKzuC,KAAK1C,IAC9Bo3B,EAAK+Z,MAAL,UAAoB,EAAKngB,cAAzB,iBAAoB,EAAatuB,YAAjC,aAAoB,EAAmB1C,OAnToB,+BA4T5C,WAAiB,UAAhBslC,EAAgB,8DAC9B6B,EAAU,UAAG7B,EAAKtU,cAAR,iBAAG,EAAamzD,uBAAhB,aAAG,EAA8Bh9C,WAI/C,OAHI7B,MAAAA,GAAA,UAAAA,EAAMtU,cAAN,SAAcA,QAAUmW,IAC1BA,EAAa,EAAKi9C,iBAAiB9+C,EAAKtU,SAEnCmW,KAjUsD,+BAwX5C,SAAAs7B,GACbA,IAAiB,EAAKA,eAC1B,EAAKuQ,eAAY3xE,EACjB,EAAK+C,QAAO,OA3XiD,6BAmY9C,SAAA09E,GAEf,GAAKA,EAAKzmE,MAAV,CAEA,IAAMgpE,EAAY,CAChBrR,UAAW,CAAEvxE,IAAKqgF,EAAKvwE,KAAMA,KAAMuwE,EAAKvwE,MACxC7O,KAAM,CAAE2Y,MAAOymE,EAAKzmE,MAAO5J,KAAMqwE,EAAKrsB,WAGxC,EAAKya,OAAOuC,QAAQ,aAAc,CAAEntC,KAAM++C,IAAa,OA1YvD,EAAKrzD,OAASA,EACd,EAAK3d,SAAW,GAChB,EAAKwpE,OAAS,IAAI5pE,IAClB,EAAK2wE,eAAgB,EACrB,EAAKU,kBAAoB,KACzB,EAAKC,YAAc,KAP0C,E,gCAoB/D,WAQE,OAPAhkF,KAAKo0E,aACFxB,eACAC,eACAF,UAAS,SAAC5tC,EAAM5iC,EAAM4zC,GAAb,OAAwB,IAAI+rC,GAAa/8C,EAAM5iC,EAAM4zC,MAC9DitC,oBACA3T,YAEIrvE,O,0BAsBT,WAAe,WAkBb,OAhBIA,KAAKi0E,SAASj0E,KAAKi0E,QAAQt8D,UAG/B3X,KAAKi0E,QAAU,IAAIgM,GACjBjgF,KAAKs0E,UAAU3rC,EACf3oC,KAAKs0E,UAAUnkC,EACfnwC,KAAKgR,KACLhR,KAAKkiE,aACLliE,KAAK6iF,OAIP7iF,KAAK02C,OAAOs1B,QAAO,WACjB,OAAO,EAAKiI,QAAQ1yC,MAGfvhC,O,+BAMT,WAAoB,WA2BlB,OA1BIA,KAAK+jF,mBAAmB/jF,KAAK+jF,kBAAkBpsE,UAE/C3X,KAAK2sE,OAAOjqD,OAEd1iB,KAAK+jF,kBAAoB,IAAI5B,GAAgB,CAC3CjyD,KAAM,QACN0W,WAAY5mC,KAAKqjF,cACjB5yD,OAAQzwB,KAAKywB,OACb2xD,sBAAuBpiF,KAAKoiF,wBAG9BpiF,KAAK02C,OAAOs1B,QAAO,WACjB,OAAO,EAAK+X,kBAAkBxiD,MAGhCvhC,KAAK2sE,OAAS,IAAIj6D,IAChB,IAAI1S,KAAK2sE,OAAOh6D,WAAWw0B,MAAK,cAA4B,gBAAnBngC,GAAmB,uBAAP2B,GAAO,WAC1D,OAAO3B,EAAE7E,KAAK+O,KAAKk2B,cAAcz+B,EAAExG,KAAK+O,UAI5ClR,KAAK2sE,OAAO7kE,SAAQ,SAAAw4D,GAClB,EAAKyjB,kBAAkBE,SAAS3jB,OAI7BtgE,O,4BA4BT,WAA6B,IAAd2oC,EAAc,uDAAV,EAAGwH,EAAO,uDAAH,EACxBnwC,KAAK02C,OAAOu1B,KAAK,IAAKtjC,GAAGsjC,KAAK,IAAK97B,K,iCAoBrC,SAAoBpL,GAClB,IAAIm/C,EAAWnzB,WAAWhsB,EAAK2R,OAAOu1B,KAAK,MACvCkY,EAAWpzB,WAAWhsB,EAAK2R,OAAOu1B,KAAK,MAC3C,GAAIlnC,EAAKtU,OAAQ,CACf,MAAiBzwB,KAAKokF,oBAAoBr/C,EAAKtU,QAAvCkY,EAAR,EAAQA,EAAGwH,EAAX,EAAWA,EACLk0C,EAAgBt/C,EAAKxD,GAAGa,cACxBkiD,EAAkBD,EAAcjiD,cACtC8hD,GACEv7C,EAAI07C,EAAc17C,EAAEopC,QAAQ3qE,MAAQk9E,EAAgB37C,EAAEopC,QAAQ3qE,MAChE+8E,GACEh0C,EAAIk0C,EAAcl0C,EAAE4hC,QAAQ3qE,MAAQk9E,EAAgBn0C,EAAE4hC,QAAQ3qE,MAElE,MAAO,CAAEuhC,EAAGu7C,EAAU/zC,EAAGg0C,K,iCAW3B,SAAoBI,EAAQC,EAAUtB,GACpC,IAAMuB,EAAQ,CACZ9Y,GAAIuX,EAAUv6C,EAAI47C,EAAO57C,EAAI3oC,KAAKkiB,MAAQ,EAAIliB,KAAK6f,QAAQ8oB,EAAI,EAC/DijC,GAAIsX,EAAU/yC,EAAIo0C,EAAOp0C,EAAInwC,KAAKiiB,OAASjiB,KAAK6f,QAAQswB,EACxD07B,GAAIqX,EAAUv6C,EAAI47C,EAAO57C,EAAI3oC,KAAKkiB,MAAQ,EAAIliB,KAAK6f,QAAQ8oB,EAAI,EAC/DmjC,GAAI0Y,EAASr0C,EAAIo0C,EAAOp0C,EAAInwC,KAAKkiB,MAAQ,GAQ3C,MAAO,CANO,CACZypD,GAAI8Y,EAAM5Y,GACVD,GAAI6Y,EAAM3Y,GACVD,GAAI4Y,EAAM5Y,GAAK7rE,KAAK6f,QAAQ8oB,EAAI,EAChCmjC,GAAI2Y,EAAM3Y,IAEG2Y,K,yBASjB,WAAyB,IAAb1/C,EAAa,uDAAN/kC,KACjB,OAAK+kC,EAAKtU,OACHzwB,KAAK0kF,YAAY3/C,EAAKtU,QADJsU,I,gCAS3B,WAAqB,aAIb4/C,EAHY3kF,KAAKywB,OAAO3d,SAAS80B,WACrC,SAAA/gC,GAAC,OAAIA,EAAE1E,KAAK1C,KAAO,EAAK0C,KAAK1C,MAEK,EACpC,iBAAOO,KAAKywB,OAAO3d,SAAS6xE,UAA5B,QAAgD3kF,KAAKywB,S,qBA4HvD,WACE,MAAO,CACLkY,EAAG3oC,KAAKkiB,MAAQliB,KAAK6f,QAAQ8oB,EAC7BwH,EAAG,K,yBAOP,SAAkB6wB,GAChBhhE,KAAKwwE,QAAQoU,cAAgB5jB,I,mBAO/B,WACE,OAAOhhE,KAAKwwE,QAAQqU,U,iBAOtB,WACE,OAAO7kF,KAAKs8E,S,yBA4Cd,WAAuB,IAAXtrE,EAAW,uDAAJ,GACjB,OAAIhR,KAAKywB,QACPzf,EAAK8zE,QAAQ9kF,KAAKgR,MACXhR,KAAKywB,OAAOs0D,YAAY/zE,IAExBA,EAAKzQ,KAAK,Q,yBAOrB,WAAc,WAERP,KAAKywB,OACPzwB,KAAKywB,OAAOu0D,YAAYhlF,MAGxBA,KAAK2vE,OAAO3D,QAAO,WAEjB,OADA,EAAKt1B,OAAOu1B,KAAK,IAAK,IAAIA,KAAK,IAAK,IAC7B,EAAK1qC,Q,qBAUlB,SAAQ1K,GACN,MAAmC72B,KAAKilF,aAAapuD,GAA7CsjD,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,WAChBF,GAAcn6E,KAAKklF,UAAUruD,EAAM,gBACrCsjD,EAAWmJ,QAAQzsD,GACnB72B,KAAKywB,OAAO00D,cAAcjsE,IAAI2d,EAAKp3B,GAAIo3B,IAErCwjD,GAAcr6E,KAAKklF,UAAUruD,EAAM,gBACrCwjD,EAAWiJ,QAAQzsD,GACnB72B,KAAKywB,OAAO00D,cAAcjsE,IAAI2d,EAAKp3B,GAAIo3B,IAGzC72B,KAAKs8E,OAAOpjE,IAAI2d,EAAKp3B,GAAIo3B,K,wBAQ3B,SAAWA,GACT,MAAmC72B,KAAKilF,aAAapuD,GAA7CsjD,EAAR,EAAQA,WAAYE,EAApB,EAAoBA,WAChBF,GAAYA,EAAWiL,WAAWvuD,GAClCwjD,GAAYA,EAAW+K,WAAWvuD,GAEtC72B,KAAKs8E,OAAL,OAAmBzlD,EAAKp3B,IAExBO,KAAKijF,gB,iCAMP,WAEE,IAAIoC,EAAiB,EACrBrlF,KAAK2sE,OAAO7kE,SAAQ,SAAAw4D,GAClBA,EAAKglB,sBAAsB1T,YAAYyT,GACvCA,GAAkB/kB,EAAK/+B,GAAG2gD,UAAUjgE,OAAS,O,+BAOjD,WACOjiB,KAAKywB,SACNzwB,KAAK6jF,mBACP7jF,KAAKulF,iBAELvlF,KAAK0iF,sB,8BAOT,WACM1iF,KAAKgkF,aAAahkF,KAAKgkF,YAAYjgF,SACvC/D,KAAK8S,SAAShL,SAAQ,SAAAggC,GACpBA,EAAM46C,wB,4BAOV,WAAiB,WACf,GAAK1iF,KAAKywB,OAAV,CACIzwB,KAAKgkF,aAAahkF,KAAKgkF,YAAYjgF,SACvC,IAAMyhF,EAAWxlF,KAAK0kF,cAChBC,EAAkB3kF,KAAKylF,qBACvBtC,EAAqBnjF,KAAKokF,oBAAoBO,GAC9CH,EAAWxkF,KAAKokF,oBAAoBpkF,MACpCukF,EAASvkF,KAAKokF,oBAAoBoB,GAClCtC,EAAYljF,KAAKokF,oBAAoBpkF,KAAKywB,QAC1Ci1D,EAAS1lF,KAAK2lF,sBAAsBzC,EAAWC,GAErD,EAAuBnjF,KAAK4lF,oBAAoBrB,EAAQC,EAAUkB,GAAlE,YAAOG,EAAP,KAAcpB,EAAd,KAEAzkF,KAAKgkF,YAAcjY,GAAAA,OACT,OACPE,KAAK,IAAK,MACVA,KAAK,IAAK,MACVA,KAAK,QAAS,gBAEjBjsE,KAAKgkF,YAAYhY,QAAO,WACtB,OAAON,GAAkB+Y,MAE3BzkF,KAAKgkF,YAAYhY,QAAO,WACtB,OAAON,GAAkBma,MAG3B7lF,KAAK2vE,OAAOn9B,MAAMw5B,QAAO,WACvB,OAAO,EAAKgY,YAAYj/C,e,EAjhBxB69C,CAAiB5R,IAshBvB,Y,IC7hBM8U,GAAAA,SAAAA,G,6aACJ,cAAwD,MAA1CnW,EAA0C,EAA1CA,OAAQ5qC,EAAkC,EAAlCA,KAAMgR,EAA4B,EAA5BA,OAAQgC,EAAoB,EAApBA,SAAUtnB,EAAU,EAAVA,OAAU,oBACtD,cAAM,CAAEk/C,OAAAA,EAAQ5qC,KAAAA,EAAMgR,OAAAA,EAAQ8sC,MAAO,OAAQ9qC,SAAAA,EAAUtnB,OAAAA,KAElD5kB,OAHiD,E,cADpDi6E,CAAwBlD,IAQ9B,Y,ICPMmD,GAAAA,SAAAA,G,6aACJ,WAAYpW,EAAQ5qC,EAAMgR,EAAQ8sC,EAAO9qC,EAAUtnB,GAAQ,0BACzD,cAAMk/C,EAAQ5qC,EAAMgR,EAAQ8sC,EAAO9qC,IAC9B06B,UAAY16B,GAAY,EAAK06B,UAClC,EAAKhiD,OAASA,EACd,EAAK3d,SAAW,IAAIJ,IACpB,EAAK4pE,OAAS,IAAI5pE,IAClB,EAAK2wE,eAAgB,EACrB,EAAKU,kBAAoB,KACzB,EAAKC,YAAc,KAEnB,EAAKn4E,OAVoD,E,gCAuB3D,WAGE,OAFA7L,KAAKo0E,aAAaxB,eAAeC,eAE1B7yE,O,0BAMT,WAAe,WAmBb,OAjBIA,KAAKi0E,SAASj0E,KAAKi0E,QAAQt8D,UAG/B3X,KAAKi0E,QAAU,IAAIgM,GACjBjgF,KAAKs0E,UAAU3rC,EACf3oC,KAAKs0E,UAAUnkC,EACfnwC,KAAKgR,MAAQhR,KAAKkiE,aAClBliE,KAAKkiE,aACLliE,KAAK+3C,SAASX,KACdp3C,KAAK6iF,OAIP7iF,KAAK02C,OAAOs1B,QAAO,WACjB,OAAO,EAAKiI,QAAQ1yC,MAGfvhC,O,qBAaT,WACE,MAAO,CACL2oC,EAAG3oC,KAAKkiB,MAAQliB,KAAK6f,QAAQ8oB,EAC7BwH,EAAG,O,EApEH41C,CAAoB/U,IAyE1B,Y,IC1EMgV,GAAAA,SAAAA,G,6aACJ,WAAYrW,EAAQ5qC,EAAMgR,EAAQgC,EAAUtnB,GAAQ,0BAClD,cAAMk/C,EAAQ5qC,EAAMgR,EAAQ,OAAQgC,EAAUtnB,IAEzC5kB,OAH6C,E,cADhDm6E,CAA2BD,IAQjC,Y,ICNME,GAAAA,SAAAA,G,6aACJ,WAAYtW,EAAQ5qC,EAAMgR,EAAQgC,EAAUtnB,GAAQ,kBAClD,IAAMy1D,EAAoBnuC,G/B+BP,CACnB89B,MAAO,CAAEp2E,G+BhC6C0oE,I/BiCtDriD,UAAW,CAAEsxB,KAAMjkC,KAEF,U+BpCiC,OAElD,cAAMw8D,EAAQ5qC,EAAMgR,EAAQoyB,GAAiB+d,EAAmBz1D,IAE3D5kB,OAJ6C,E,cADhDo6E,CAA6BF,IASnC,YCRA,IAKMI,GAAAA,SAAAA,G,6aACJ,cAAwD,MAA1CxW,EAA0C,EAA1CA,OAAQ5qC,EAAkC,EAAlCA,KAAMgR,EAA4B,EAA5BA,OAAQgC,EAAoB,EAApBA,SAAUtnB,EAAU,EAAVA,OAAU,oBACtD,cAAM,CAAEk/C,OAAAA,EAAQ5qC,KAAAA,EAAMgR,OAAAA,EAAQ8sC,MAAO1a,GAAiBpwB,SAAAA,EAAUtnB,OAAAA,KAC3D00D,cAAgB,IAAIzyE,IACzB,EAAK0zE,iBAAmB,KACxB,EAAKC,kBAAmB,EACxB,EAAKC,qBAAuB,KAC5B,EAAKC,eAVC,EAYN,EAAKvjF,KAAO,IAAI26E,GAAkB,CAAEhO,OAAAA,EAAQ5qC,KAAAA,EAAMgR,OAAAA,EAAQgC,SAAAA,IAC1D,EAAK51C,KAAO,EAAKa,KAAKb,KACtB,EAAKswE,UAAY,EAAKzvE,KAAKyvE,UAC3B,EAAK+T,eAAiB,EAAKxjF,KAAKwjF,eAChC,EAAKC,UAAY,0BAGjB,EAAK56E,OAfiD,E,8BA6BxD,WACE,OAAO7L,KAAKgD,KAAKgO,O,wBASnB,WACE,OAAOhR,KAAKgD,KAAKk/D,e,2BAQnB,WACE,OAAOliE,KAAKomF,mB,+BAcd,WAAoB,WAClB,IAAIpmF,KAAKomF,iBAYT,OAVApmF,KAAKomF,iBAAmB,IAAIjE,GAAgB,CAC1CjyD,KAAM,QACN0W,WAAY5mC,KAAKqmF,iBACjB51D,OAAQzwB,KAAKywB,SAGfzwB,KAAK02C,OAAOs1B,QAAO,WACjB,OAAO,EAAKoa,iBAAiB7kD,MAGxBvhC,O,uCAQT,WAAoD,WAA1B8S,EAA0B,uDAAf9S,KAAK8S,SACxCA,EAAShL,SAAQ,SAAAggC,GACfA,EAAM26C,oBACN,EAAKiE,0BAA0B5+C,EAAMh1B,e,iCAWzC,SAAoByxE,EAAQC,EAAUtB,GACpC,GAxGI,IAwGAljF,KAAKumF,eACP,OAAO,4DAA0BhC,EAAQC,EAAUtB,GACrD,IAAM2C,EAAQ,CACZla,GAAIuX,EAAUv6C,EAAI47C,EAAO57C,EAAI3oC,KAAKkiB,MAAQliB,KAAK6f,QAAQ8oB,EAAI,EAC3DijC,GAAIsX,EAAU/yC,EAAIo0C,EAAOp0C,EAAInwC,KAAKiiB,OAAS,EAAIjiB,KAAK6f,QAAQswB,EAAI,EAChE07B,GAAI2Y,EAAS77C,EAAI47C,EAAO57C,EAAI3oC,KAAKkiB,MAAQ,EAAIliB,KAAK6f,QAAQ8oB,EAAI,EAC9DmjC,GAAIoX,EAAU/yC,EAAIo0C,EAAOp0C,EAAInwC,KAAKiiB,OAAS,EAAIjiB,KAAK6f,QAAQswB,EAAI,GAQlE,MAAO,CAAC01C,EANM,CACZla,GAAIka,EAAMha,GACVD,GAAIia,EAAM/Z,GACVD,GAAIga,EAAMha,GACVC,GAAI0Y,EAASr0C,EAAIo0C,EAAOp0C,EAAInwC,KAAK6f,QAAQswB,M,8BAU7C,SAAiB9oC,GAAM,aA4BrB,OA3BgB,WA/HZ,GAgIqB,WACrB,IAAIs/E,EAAoB,EACxB,EAAK7zE,SAAShL,SAAQ,SAAAi9B,GACpBA,EAAK6hD,sBACL7hD,EAAK2R,OAAOu1B,KAAK,IAAK0a,GACtBA,GAAqB5hD,EAAKxD,GAAG2gD,UAAUjgE,OAAS,SANtC,MA9HV,GAuIqB,WACvB,IAAI0kE,EAAoB,EACpBE,EAAe,EACnB,EAAK/zE,SAAShL,SAAQ,SAAAi9B,GACpBA,EAAK6hD,sBACL,IAAME,EAAY/hD,EAAKxD,GAAG2gD,UAAUhgE,MAC9B6kE,EAAahiD,EAAKxD,GAAG2gD,UAAUjgE,OACjC8iB,EAAK5iC,KAAK+O,OAASi3D,IACjB0e,EAAeC,IAAWD,EAAeC,GAC7C/hD,EAAK2R,OAAOu1B,KAAK,IAAK0a,KAEtB5hD,EAAK2R,OAAOu1B,KAAK,IAAK4a,GACtBA,GAAgBC,EAAY,IAE9BH,GAAqBI,EAAa,SAvBxB,GA2BE1/E,O,yBAcpB,SAAYygC,GAEV9nC,KAAK02C,OAAOu1B,KAAK,QAAS,MAAMA,KAAK,SAAU,MAE/CnkC,EAAMirC,gBAAgB,IACtB/yE,KAAKomF,iBAAiBnC,SAASn8C,K,oCAQjC,WAA+C,IAAxBk/C,IAAwB,yDAC7ChnF,KAAKinF,iBAAiBjnF,KAAKumF,gBACvBvmF,KAAKywB,QAAUu2D,GAAiBhnF,KAAKywB,OAAOkyD,yBAC3C3iF,KAAKywB,QAAQzwB,KAAK0mF,8B,sBASzB,SAAS3hD,GAEP/kC,KAAK8S,SAAStT,KAAKulC,GAEnB/kC,KAAKknF,wB,EAjMHf,CAA0BvD,IAqMhC,Y,ykBClMMuE,GAAAA,WACJ,WAAYvuE,EAAY49B,GAAQ,YAC9Bx2C,KAAK4Y,WAAaA,EAClB5Y,KAAKw2C,OAASA,E,gEAQhB,WAAkBxlC,GAAlB,oFACUuG,EAAUvX,KAAKw2C,OAAfj/B,MADV,SAEoBvX,KAAK4Y,WACrB9L,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEyK,MAAAA,EACAvG,KAAAA,IAPN,cAEQ7N,EAFR,OAUQikF,EAAcjkF,EAAI8V,gBAEnB9V,EAAI4W,QACPqtE,EAAYhwC,KAAZ,UAAmBgwC,EAAYhwC,YAA/B,QAAuCjkC,IAb3C,kBAeSi0E,GAfT,gD,qFAyBA,WAAoBxuE,EAAY49B,EAAQ1B,GAAxC,wFACU/P,EAAS+P,EAAT/P,KACF/zB,EAFR,UAEe+zB,EAAKyT,gBAFpB,QAEgCzT,EAAK2/B,cAE7B2iB,EAAO,IAAIF,EAAQvuE,EAAY49B,GAJvC,SAKyB6wC,EAAKlvC,YAAYnnC,GAL1C,UAKQ+mC,EALR,OAQQ50C,EAAM,IAAIqzC,EAAO8wC,IAAX,SACPxyC,GADO,IAEViD,SAAAA,EACAh5C,QAAS,CAAEA,QAASooF,EAASvuE,WAAAA,OAI7B,CAACuuE,EAAQhI,OAAOC,UAAUkI,IAAKH,EAAQhI,OAAOoI,cAAcD,KAAK3/C,SAC/D6O,EAAO8wC,KAhBb,kCAmBUnkF,EAAIqkF,QAnBd,iCAsBSrkF,GAtBT,4C,sDApCIgkF,G,IAAAA,GAAAA,SA6DY,CACdM,UAAW,CAAEH,IAAKtB,GAAoBzuE,MAAO,QAC7CmwE,UAAW,CAAEJ,IAAKrB,GAAsB1uE,MAAO,QAC/CqoE,KAAM,CAAE0H,IAAK5J,GAAanmE,MAAO,QACjCowE,SAAU,CAAEL,IAAKxH,GAAevoE,MAAO,QACvCqwE,UAAW,CAAEN,IAAKxB,GAAiBvuE,MAAO,QAC1C6nE,UAAW,CAAEkI,IAAK1J,GAAermE,MAAO,QACxCgwE,cAAe,CAAED,IAAKzH,GAAwBtoE,MAAO,QACrDswE,eAAgB,CAAEP,IAAKnB,GAAmB5uE,MAAO,UAIrD,YCpFA,I,GAAMyiE,GAAY,IAmBZj1B,GAAY,SAAA1mB,GAChB,OAAOp3B,OAAO0L,QAAQ05D,GAAchuC,EAAO,GAAI27C,KAAY/5E,KACzD,YAAkB,gBAAhB8H,EAAgB,KAAXX,EAAW,KAEhB,MAAO,cAAIW,EAAI8V,MAAMm8D,IAAWx4E,MAAM,GAAI,IAAnC,CAAuC4F,IAAO7G,KAAKy5E,Q,qkBCNzD,IAAM8N,GACC,YADDA,GAEI,sBAFJA,GAGS,oBAHTA,GAIY,sBAJZA,GAKI,eAGXC,IAAQ,aACXD,GAA2B,CAC1B9sE,QAASrP,EAAKxE,EAAE,qBAChB+J,KAAMI,GACN02E,WAAW,EACXC,cAAc,EACdC,YAAaJ,KANH,OAQXA,GAA8B,CAC7B9sE,QAASrP,EAAKxE,EAAE,0BAChB+J,KAAMI,GACN02E,WAAW,EACXC,cAAc,EACdC,YAAaJ,KAbH,OAeXA,GAAmC,CAClC9sE,QAASrP,EAAKxE,EAAE,4BAChB+J,KAAMI,GACN02E,WAAW,EACXC,cAAc,EACdC,YAAaJ,KApBH,OAsBXA,GAAsC,CACrC9sE,QAASrP,EAAKxE,EAAE,uBAChB+J,KAAMI,GACN02E,WAAW,EACXC,cAAc,EACdC,YAAaJ,KA3BH,OA6BXA,GAA8B,CAC7B9sE,QAASrP,EAAKxE,EAAE,0BAChB+J,KAAMI,GACN02E,WAAW,EACXC,cAAc,EACdC,YAAaJ,KAlCH,IAsCOK,GAAAA,WACnB,WAAYC,GAAO,mDAkBD,SAAAvxD,GAChB,MAAgC,UAAzBA,EAAK10B,KAAK+3E,cAnBA,0BA8BH,WACd,IAAMxP,EAAW,GACXl4B,EAAQ,EAAK41C,MAAM51C,MACnB4yB,EAAQ,EAAKgjB,MAAMhjB,MACrBijB,GAAa,EACbC,GAAkB,EAoCtB,OAlCA,EAAKC,kBAEL/1C,EAAM1qC,SAAQ,SAAC+uB,EAAMnb,EAAG4gE,GACtB,IAAMkM,EAAW3xD,EAAK10B,KACtBkmF,EAAaA,GAAc,EAAKI,gBAAgB5xD,GAGhD,IAAM6xD,EAAeP,EAAeQ,cAAcH,EAAUpjB,GAE5D,GAAI/jC,QAAQqnD,GAGV,OAFA,EAAKN,MAAMQ,YAAY,CAACJ,EAAS/oF,UACjC,EAAK2oF,MAAMS,aAAarpF,KAAKgpF,GAK/B,IAAMhmE,EAAQ2lE,EAAeW,qBAAqBN,EAAUpjB,GAC5DvuC,EAAKkyD,YAAYvmE,GACZ8lE,IACHA,EAAkBzxD,EAAKrU,iBAAiB66D,OAIvCgL,GAAY3d,EAASlrE,KAAKuoF,GAAQ,WAEnCO,GAAiB5d,EAASlrE,KAAKuoF,GAAQ,qBAEvC,EAAKK,MAAMS,aAAavoF,QAC1BoqE,EAASlrE,KAAT,SACKuoF,GAAQ,cADb,IAEE5lF,KAAM,EAAKimF,MAAMS,aACjB7vE,SAAU,EAAKovE,MAAMY,qBAGlBte,KAvEU,4BA0ED,WAChB,EAAK0d,MAAMS,aAAa/gF,SAAQ,SAAAmhF,GAC9B,EAAKb,MAAM9E,QAAX,SACK2F,GADL,IAEElmB,KAAM,GAAF,OAAKkmB,EAAY/O,WAAjB,YAA+B+O,EAAY9O,YAC/CnX,GAAI,GAAF,OAAKimB,EAAY7O,WAAjB,YAA+B6O,EAAY5O,qBA/EhC,iCA2FI,WACrB,IAAM3P,EAAW,GACXwe,EAAsB,GA8B5B,OA7BqBjiF,OAAOqO,OAAO,EAAK8yE,MAAM5mB,cAEjC15D,SAAQ,SAAAqhF,GACnBliF,OAAO0L,QAAQw2E,GAAkBrhF,SAC/B,YAAkC,kBAAhCshF,EAAgC,KAAtBC,EAAsB,KAC1BC,EAAe,GACfC,EAAQ,UAAG,EAAKnB,MAAMhjB,MAAMh9D,IAAIghF,UAAxB,aAAG,EAAgCjmF,IAC5ComF,IACLF,EAAiBvhF,SAAQ,SAAA0hF,GAClBD,EAASn/B,MAAMjxC,IAAIqwE,IACtBF,EAAa9pF,KAAKgqF,MAItBF,EAAahpF,QACX4oF,EAAoB1pF,KAAK,CACvB+/E,SAAUgK,EACVD,aAAAA,WAMVJ,EAAoB5oF,QAClBoqE,EAASlrE,KAAT,SACKuoF,GAAQ,qBADb,IAEE5lF,KAAM+mF,KAGHxe,KA3HU,oCAqIO,WACxB,IAAM+e,EAAoB,GACpBC,EAAuB,GAiC7B,OAhCmB,IAAIh3E,IACrB,IAAI,EAAK01E,MAAMhjB,OAAO3rC,QACpB,6CAAoBt2B,IAAIhB,KAAK+O,OAASi3D,OAG/BrgE,SAAQ,SAAAge,GAAa,YACxB6jE,EAAgB7jE,EAAU3iB,IAC1BymF,EAAc,UAAGD,MAAAA,GAAH,UAAGA,EAAexnF,YAAlB,aAAG,EAAqB80C,iBAAxB,QAAqC,GACnD4yC,EAAc,UAAGF,MAAAA,GAAH,UAAGA,EAAelX,iBAAlB,aAAG,EAA0Bx7B,iBAA7B,QAA0C,GACxD6yC,EAAgB,GAEtB,IAAK,IAAMpzB,KAASkzB,EACb3iF,OAAOsB,eAAeC,KAAKqhF,EAAgBnzB,IAC9CozB,EAActqF,KAAKk3D,GAGvBozB,EAAcxpF,QACZmpF,EAAkBjqF,KAAK,CACrBC,GAAIkqF,EAAcxnF,KAAK1C,GACvBuR,KAAM24E,EAAcxnF,KAAK6O,KACzB24E,cAAAA,EACAG,cAAAA,OAINL,EAAkBnpF,QAChBopF,EAAqBlqF,KAArB,SACKuoF,GAAQ,mBADb,IAEE5lF,KAAMsnF,KAIHC,KAxKU,yBAkLJ,WAEb,IAAMb,EAAe,EAAKkB,gBACpBb,EAAsB,EAAKc,uBAC3BF,EAAgB,EAAKG,0BAO3B,MAAO,CAAEvf,SALQ,GAAH,WACTme,GADS,IAETK,GAFS,IAGTY,QA3LY,6BAwMA,SAACpvE,EAASwvE,GAC3B,IACE,IAAMhrB,EAAK/tD,GACX,IAAKuJ,EACH,MAAM,IAAIvV,MACRwG,EAAKxE,EAAEiM,GAAAA,eAAAA,2BAAoD,CACzDsB,SAAUw1E,KAGhB,IAAKhrB,EAAG39D,KAAKmZ,GACX,MAAM,IAAIvV,MACRwG,EAAKxE,EAAEiM,GAAAA,eAAAA,sBAA+C,CACpDsB,SAAUw1E,KAGhB,GAAI,EAAK9B,MAAMhjB,MAAMjsD,IAAIuB,GACvB,MAAM,IAAIvV,MACRwG,EAAKxE,EAAEiM,GAAAA,eAAAA,kCAGX,MAAO,CAAExQ,QAAQ,EAAM4f,MAAO,IAC9B,MAAO6C,GACP,MAAO,CACLziB,QAAQ,EACR4f,MAAO6C,EAAIrK,aA/Nfhb,KAAKooF,MAAQA,E,6CAGf,SAAkBF,EAAa5vE,GACzByvE,GAASG,KAAcH,GAASG,GAAalnE,QAAU1I,K,iCAG7D,SAAoB4vE,GACdH,GAASG,WAAqBH,GAASG,GAAalnE,Y,EAVvCmnE,G,orBAAAA,GAAAA,uBA4OU,SAACtxD,EAAMuuC,GAClC,MAAiC,CAAC,aAAc,cAAcnlE,KAAI,SAAA8H,GAChE,IAAMg9B,EAAOqgC,EAAMh9D,IAAIyuB,EAAK9uB,IAC5B,IAAKg9B,EAAM,MAAM,IAAI5/B,MAAJ,eAAkB0xB,EAAK9uB,GAAvB,eACjB,OAAOg9B,KAHT,YAAOm1C,EAAP,KAAmBE,EAAnB,KASA,MAAO,CAAE+P,cAHajQ,EAAW/2E,IAAIinF,WAAWvzD,EAAKsjD,YAG7BkQ,cAFFjQ,EAAWj3E,IAAIinF,WAAWvzD,EAAKwjD,gB,IApPpC8N,GAAAA,iBA8PI,SAACtxD,EAAMuuC,GAC5B,MAAyC+iB,GAAemC,oBACtDzzD,EACAuuC,GAFM+kB,EAAR,EAAQA,cAAeE,EAAvB,EAAuBA,cAKvB,IAAKF,IAAkBE,EACrB,MAAO,qB,IArQQlC,GAAAA,wBA+QW,SAACtxD,EAAMuuC,GACnC,MAAyC+iB,GAAemC,oBACtDzzD,EACAuuC,GAFM+kB,EAAR,EAAQA,cAAeE,EAAvB,EAAuBA,cAMvB,GAAKF,GAAkBE,EAAvB,CAGA,IAAM7nE,EAASmrD,GAAYwc,EAAchoF,KAAMkoF,EAAcloF,MAMzD,KALA,IAAIk7E,GACFxmD,EACA,CAAEt0B,OAAQ4nF,EAAe1lF,OAAQ4lF,IACjC,kBAAM1uE,GAAgB,OAM5B,OAFAkb,EAAKrU,MAAQA,EAENA,MCxVX,IAAM+nE,GAAY,CAChB3K,KAAM,CACJnuE,MAAO,YACP4lC,KAAM6wB,IAERkX,UAAW,CACT3tE,MAAO,iBACP4lC,KAAM6wB,KAIWsiB,GAAAA,WACnB,cAAoD,WAAtCC,EAAsC,EAAtCA,WAAY9a,EAA0B,EAA1BA,OAAQlwE,EAAkB,EAAlBA,GAAImZ,EAAc,EAAdA,WAAc,mCAoDvC,WACX,EAAK8xE,iBAAiBrb,eArD4B,2BA2DnC,WAgBf,OAdA,EAAKhoE,KAAL,QAAkBsjF,QAAQ30C,UAAU,CAClC6E,KAAM,kBAAM,EAAK+vC,WAEnB,EAAKvjF,KAAKwjF,QAAQF,QAAQ30C,UAAU,CAClC6E,KAAM,kBAAM,EAAK+vC,WAGnB,EAAKhyE,WACH9L,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,qBACA,EAAKrN,GACL,EAAKqrF,kBAGA,KA3E2C,+BA8E/B,eA9E+B,sBAqFxC,WAEV,OADA,EAAKnb,OAAOpuC,GAAGgE,iBAAiB,iBAAkB,EAAKqlD,OAChD,KAvF2C,kBAuG5C,WAEN,EAAKxlB,MAAMt9D,SAAQ,SAAAi9B,GAAI,OAAIA,EAAK5hC,IAAIwU,aACpC,EAAKytD,MAAM7vB,QAEX,EAAK/C,MAAM1qC,SAAQ,SAAA+uB,GAAI,OAAIA,EAAKlf,aAChC,EAAK66B,MAAM+C,WA7GuC,oBAmH1C,WAER,EAAK38B,WACH9L,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,uBACA,EAAKrN,OAxH2C,8BAuJhC,WAElB,OADA,EAAKopF,aAAe,GACb,KAzJ2C,qCA+JzB,SAAAK,GAiBzB,OAfAjiF,OAAOqO,OAAO,EAAKksD,cAAc15D,SAAQ,SAAAijF,GAEvC7B,EAAoBphF,SAAQ,SAAAkjF,GAEtBD,EAAGC,EAAIzL,SAASp9E,KAAK1C,MAGvBsrF,EAAGC,EAAIzL,SAASp9E,KAAK1C,IAAMsrF,EAAGC,EAAIzL,SAASp9E,KAAK1C,IAAIg6B,QAClD,SAAA6mC,GAAI,OAAK0qB,EAAI1B,aAAa3hD,SAAS24B,aAOpC,KAhL2C,6BAsLjC,SAACkB,EAAcypB,GAchC,OF5K6B,SAAC9/D,EAAWsX,EAAUwoD,GACrD,IAbeC,EAAMC,EAaf3oD,EAAauiB,GAAU55B,GACvBigE,EAAYrmC,GAAUtiB,GAK5B,OAJcwoD,EAAS,IACf,IAAIp0E,IAAJ,cAAY2rB,GAAZ,IAA2B4oD,OAhBdD,EAiBGC,GAjBTF,EAiBH1oD,GAfT/I,QAAO,SAAAwT,GAAC,OAAKk+C,EAAKxjD,SAASsF,MAC3B5sC,OAAO8qF,EAAK1xD,QAAO,SAAAwT,GAAC,OAAKi+C,EAAKvjD,SAASsF,SAgB7BhtC,KAAI,SAAA8H,GAAG,OA5CN5E,EA4CiB4E,EA5CZX,EA4CiBgkF,EAAUzjD,SAAS5/B,GA3CvD,EAAuB5E,EAAI0a,MAAMm8D,IAC1B,CAAEj1C,MADT,gBACeu7B,KADf,KACqBl5D,MAAAA,GAFR,IAACjE,EAAKiE,EACnB,OEmMkBikF,CACd,EAAK7pB,aACLA,EACAypB,GAGMnjF,SAAQ,SAAA3E,GACd,IAAM4hC,EAAO,EAAKqgC,MAAMh9D,IAAIjF,EAAI4hC,MAChCA,EACIA,EAAK5hC,IAAImoF,eAAenoF,EAAIm9D,KAAMn9D,EAAIiE,OACtC+O,QAAQqM,MAAR,6BAAoCrf,EAAI4hC,KAAxC,kBAEN,EAAKy8B,aAAeA,EACb,KApM2C,uBA+MvC,SAAC+pB,EAAaxkF,GACzB,IAAMykF,EAAW,EAAKpmB,MAChBqmB,EAAW,EAAKj5C,MAClB4yB,EAAQ,IAAI,EAAKjhB,eAErB,GAAIonC,EAAa,CACf,IAAMG,EAAQ,EAAKtmB,MAAMh9D,IAAImjF,EAAYppF,KAAK1C,IAC9C2lE,EAAQ,IAAIvuD,IAAI,CAAC60E,EAAMvoF,KAAK9C,OAAO+kE,IAGjC,EAAKuK,OAAOgC,aAAa5qE,EAAE4hC,EAAG5hC,EAAEopC,IAClC,EAAKgU,cAAcr8C,SAAQ,SAAAi9B,GACzBA,EAAK4mD,iBAAiB5kF,EAAEgpE,GAAIhpE,EAAEipE,OAoBlCS,uBAhBA,WACErL,EAAMt9D,SAAQ,SAAAi9B,GAAQ,QACF,UAAAymD,EAASpjF,IAAI28B,EAAK5iC,KAAK1C,WAAvB,eAA4B+yC,QAAS,IAC7C1qC,SAAQ,SAAAg+D,GAChB,IAAM8lB,EAAQH,EAASrjF,IAAI09D,GACrBoU,EAAasR,EAASpjF,IAAIwjF,EAAMzpF,KAAK+3E,YACrCE,EAAaoR,EAASpjF,IAAIwjF,EAAMzpF,KAAKi4E,YACvCF,GAAcE,GAChBwR,EAAM/nF,OACJq2E,EAAW/2E,IAAIinF,WAAWwB,EAAMzpF,KAAKg4E,YACrCC,EAAWj3E,IAAIinF,WAAWwB,EAAMzpF,KAAKk4E,yBAzOG,yBAsPrC,SAAAl4E,GACb,GAAI,EAAK0pF,gBACP,EAAKA,sBADP,CAKA,EAAKC,YAAY3pF,EAAKikE,SAAU8B,IAChC,EAAK4jB,YAAY3pF,EAAKkkE,UAAW6B,IAEjC,IAAM6jB,EAAY,SAAK5pF,EAAKikE,UAAajkE,EAAKkkE,WAC9C,IAAI,EAAKjB,MAAMn6D,QAAQnD,SAAQ,SAAAi8C,GACxBgoC,EAAUxjF,eAAew7C,IAAsB,UAAXA,GACvC,EAAKioC,WAAWjoC,MAIpB,EAAKk/B,YAAY9gF,EAAKmkE,OAAS,IAE/B,EAAK2lB,iBAAiB9pF,EAAKw+D,cAAgB,IAAI,GAE/C,EAAKurB,mBA1Q6C,6BAiRjC,SAAA/pF,GACjB,GAAIA,EAAKgxB,QAAU,EAAK1zB,GAAI,EAAK0sF,aAAahqF,OACzC,CACH,IACMiqF,EADa,IAAI,EAAKhnB,MAAM9vD,UACQrV,KAAI,SAAA8kC,GAAI,OAChDA,EAAK5hC,IAAI2nF,iBAAiB3oF,MAG5BwX,QAAQ0yE,IAAID,GAAwB9kF,MAAK,WACvC,EAAK2kF,iBAAiB,EAAKzqB,cAAc,GACzC,EAAK0qB,sBA3RyC,4BAqSlC,SAAAr1D,GAChB,EAAK2b,MAAM1qC,SACT,SAAAV,GAAK,OAAKA,EAAMw1E,YAAcx1E,EAAM3H,KAAOo3B,EAAK10B,KAAK1C,SAvSL,2BA+SnC,WACf,EAAK+yC,MAAM1qC,SAAQ,SAAAV,GAAK,OAAKA,EAAMw1E,aAAc,QAhTC,yBAoUrC,WACb,IAAQlS,EAAa,EAAK4hB,UAAUJ,eAA5BxhB,SAER,EAAK6hB,gBAAgB1xC,KAAK,CAAE6vB,SAAUA,IACtC,EAAKA,SAAWA,KAxUkC,wBAgVtC,SAACtF,EAAOlQ,GACpBjuD,OAAOqO,OAAO8vD,GAAOt9D,SAAQ,SAAAi9B,GAC3B,EAAKynD,WAAWznD,EAAMmwB,SAlV0B,qDA8VvC,WAAO/yD,GAAP,8FAAa+yD,EAAb,+BAAwBgT,GAC7BnkB,EAAS5hD,EAAKooF,GAAUr1B,GAAUzjD,SAClCszB,EAAO,EAAKqgC,MAAMh9D,IAAI27C,IAFjB,gBAMH0oC,EANG,YAOJtqF,GACA4iC,EAAK5hC,IAAIhB,MARL,IASPkiE,cAAet/B,EAAK5hC,IAAIupF,oBAEpBC,EAXG,SAWoB5nD,EAAK5hC,IAAIhB,MAASA,GAC1C66C,IAAAA,CAASyvC,EAAiBE,IAC7B5nD,EAAK5hC,IAAIqpF,WAAWG,GAbb,iDAkBD,EAAK9B,QAAL,IAAeprF,GAAIskD,GAAW5hD,GAAQ+yD,GAlBrC,QAmBP,EAAKrxD,SAnBE,kDAqBPsS,QAAQC,IAAI,2BAAZ,MArBO,0DA9VuC,8EA6XvC,SAAA2tC,GACX,IAAMhf,EAAO,EAAKqgC,MAAMh9D,IAAI27C,GAO5B,OAJA,EAAK6kC,YAAY7jD,EAAKyN,OAGtBzN,EAAK5hC,IAAIwU,UACF,EAAKytD,MAAL,OAAkBrhB,MArYyB,+BA4Y/B,SAAAyd,GACnB,EAAKyqB,iBAAiBzqB,GAAc,MA7Yc,wBAoZtC,SAAAhvB,GAEZ,IAAMo6C,EAAgB,IAAI,EAAKp6C,MAAMvnC,QAAQwuB,QAC3C,SAAA5C,GAAI,OAAK2b,EAAMjqC,eAAesuB,MAEhC,EAAK+xD,YAAYgE,GAEjB,EAAKC,UAAUr6C,MA3ZmC,yBAiarC,WACb,IAAQm9B,EAAW,EAAXA,OACFmd,EAAO,IAAInX,GAAU,CAAEhG,OAAAA,IACvBvoE,EAAQ,CAAEjE,IAAK2pF,EAAMt6C,MAAO,IAClC,EAAK4yB,MAAMlsD,IAAI4zE,EAAK3qF,KAAK1C,GAAI2H,MAraqB,oBA+b1C,SAAAjF,GAER,IAAM00B,EAAO,EAAK2b,MAAMpqC,IAAIjG,EAAK1C,IACjC,GAAIo3B,EACFA,EAAKk2D,WAAW,CAAE9pB,WAAY9gE,EAAK8gE,kBAIrC,IACE,IAAM+pB,EAAahS,GAASiS,UAAU9qF,GACtC,EACEgmF,GAAemC,oBAAoB0C,EAAY,EAAK5nB,OAD9C+kB,EAAR,EAAQA,cAAeE,EAAvB,EAAuBA,cAGvB,IAAKF,IAAkBE,EACrB,MAAM,IAAIjN,GAAY4P,GAIxB,IAAM7pF,EAAM,IAAI63E,GACd,EAAKrL,OACLwa,EACAE,EACA2C,EACA,EAAK/R,cACL,EAAKiS,eAIP,EAAK16C,MAAMt5B,IAAI8zE,EAAWvtF,GAAI0D,GAG9B,IAAMgqF,EAAY,CAACH,EAAW9S,WAAY8S,EAAW5S,YACrD,EAAKhV,MAAMt9D,SAAQ,SAACV,EAAOW,GACrBolF,EAAUxlD,SAAS5/B,IACrBX,EAAMorC,MAAMhzC,KAAKwtF,EAAWvtF,OAKhC,EAAKkwE,OAAO3D,QAAO,WACjB,OAAO7oE,EAAIo+B,KACV,SAEH,EAAKsnD,aAAe,EAAKA,aAAapvD,QAAO,SAAA2zD,GAAC,OAAIA,EAAE3tF,KAAOutF,EAAWvtF,MACtE,MAAO+iB,GAELA,aAAiB46D,KAChB,EAAKyL,aAAavtD,MAAK,SAAA8xD,GAAC,OAAIA,EAAE3tF,KAAO+iB,EAAMqU,KAAKp3B,OAEjD,EAAKopF,aAAarpF,KAAKgjB,EAAMqU,MAE/B1gB,QAAQqM,MAAMA,EAAMxH,aAlf4B,wBA0ftC,SAAAqyE,GAEZA,EAAcvlF,SAAQ,SAAAg+D,GAAU,MAC9B,YAAKtzB,MAAMpqC,IAAI09D,UAAf,SAAwBnuD,UACxB,EAAK66B,MAAL,OAAkBszB,MAIpB,EAAKV,MAAMt9D,SAAQ,SAAAi9B,GACjBA,EAAKyN,MAAQzN,EAAKyN,MAAM/Y,QAAO,SAAAqsC,GAAM,OAAKunB,EAAc1lD,SAASm+B,YAngBjB,0BA2gBpC,SAAC3jE,EAAM+O,GACrB,EAAKy+D,OAAO55B,OAAO8E,KAAK,CACtB7pC,KAAM,oBACNE,KAAMA,EACN/O,KAAAA,OA/gBgD,iCAshB7B,WACrB,EAAKuoE,SAAW,EAAKA,SAASzqE,KAAI,SAAAqtF,GAAE,gBAAUA,GAAV,IAAcrF,cAAc,OAChE,EAAKsE,gBAAgB1xC,KAAK,CAAE6vB,SAAU,EAAKA,cAxhBO,kCAgiB5B,SAAC2J,EAAaN,GAAW,MACzCjuD,EAAY,EAAKs/C,MAAMh9D,IAAIisE,GACjCvuD,MAAAA,GAAA,UAAAA,EAAW3iB,WAAX,SAAgBoqF,UAAUxZ,MAliBwB,qCAqiBzB,SAAApJ,GACzB,EAAK6iB,mBAAqB7iB,KAtiBwB,0BA8jBpC,WAAM,MAKpB,OAJA,YAAKn4B,aAAL,SAAY1qC,SAAQ,SAAA0gF,GAClBA,EAASvN,cAAgB,EAAKA,cAC9BuN,EAASjN,uBAEJ,KAlkBPv7E,KAAKyqF,WAAaA,EAClBzqF,KAAK2vE,OAASA,EACd3vE,KAAKP,GAAKA,EACVO,KAAK4Y,WAAaA,EAElB5Y,KAAK28E,aAQL38E,KAAKolE,MAAQ,IAAI1yD,IACjB1S,KAAKwyC,MAAQ,IAAI9/B,IACjB1S,KAAKwhE,aAAe,GACpBxhE,KAAKmkD,cAAgB,GACrBnkD,KAAKy7E,aAAe,KACpBz7E,KAAKytF,SAAW,KAChBztF,KAAK0qE,SAAW,GAChB1qE,KAAKwtF,oBAAqB,EAC1BxtF,KAAKssF,UAAY,IAAInE,GAAenoF,MACpCA,KAAKusF,gBAAkB,IAAImB,GAAAA,QAC3B1tF,KAAK2tF,iBAAmB,IAAID,GAAAA,QAC5B1tF,KAAK6oF,aAAe,GACpB7oF,KAAKi7E,eAAgB,IAAIlnD,IAAY65D,qB,mDASvC,WACE,OAAO5tF,KAAKi7E,e,IAGd,SAAoB4S,GAClB7tF,KAAKi7E,cAAgB4S,I,oBAqDvB,WAAS,Q,65BAAA,CACY7tF,KAAKolE,MAAM9vD,UADvB,IACP,IAAK,EAAL,qBAAwC,QACjCnS,IAAI8vE,cAFJ,8BAIPjzE,KAAKksF,iB,wCA8BP,oHAAgB9mB,EAAhB,+BAAwB,GAAIlQ,EAA5B,+BAAuCgT,GAAiB4lB,IAAxD,iCACQC,EAAS9mF,OAAO0L,QAAQyyD,GAAOnlE,KAAI,YAAiB,gBAAfR,EAAe,KAAX2H,EAAW,KACxD,OAAO,EAAKyjF,QAAL,SAAkBzjF,GAAlB,IAAyB3H,GAAAA,IAAMy1D,MAF1C,SAKQv7C,QAAQ0yE,IAAI0B,GALpB,cAOMD,GAAW9tF,KAAKguF,eAPtB,kBAQShuF,MART,gD,oEAcA,WAAsB,WAAZwyC,EAAY,uDAAJ,GAIhB,OAHAvrC,OAAO0L,QAAQ6/B,GAAO1qC,SAAQ,YAAiB,gBAAfrI,EAAe,KAAX2H,EAAW,KAC7C,EAAKk8E,QAAL,IAAe7jF,GAAAA,GAAO2H,OAEjBpH,O,gBAsDT,WACE,OAAOA,KAAKyqF,WAAWpjF,O,oBAGzB,WACE,OAAO0gE,K,uCA4GT,WAAesX,GAAf,iFACQr/E,KAAKiuF,UAAU5O,EAAKjZ,UAD5B,uBAEQpmE,KAAKiuF,UAAU5O,EAAKhZ,UAAW6B,IAAsB,GAF7D,OAIEloE,KAAK6sF,UAAUxN,EAAK/Y,OACjB2lB,iBAAiB5M,EAAK1e,cAAgB,IACtC98D,SANL,gD,oFAqHA,WAAckhC,GAAd,8FAAoBmwB,EAApB,+BAA+BgT,GACvBnyB,EAAS,CAAE27B,OAAQ1xE,KAAKkuF,YADhC,kBAIuB/G,GAAAA,OACjBnnF,KAAK4Y,WACLuuE,GAAAA,OAAejyB,GACf,CAAEya,OAAQ3vE,KAAK2vE,OAAQ5qC,KAAAA,EAAMgR,OAAAA,IAPnC,cAIU+2C,EAJV,OAUI9sF,KAAKolE,MAAMlsD,IAAI6rB,EAAKtlC,GAAI,CAAE0D,IAAK2pF,EAAMt6C,MAAO,KAVhD,kBAYWs6C,GAZX,kCAcI32E,QAAQ+E,KAAK,sBAAb,MAdJ,0D,6EA4HA,SAAkBkqD,GAAO,WACvBn+D,OAAOgE,KAAKm6D,GAAOt9D,SAAQ,SAAAm+D,GACzB,IAAM70B,EAASg0B,EAAMa,GACflhC,EAAO,EAAKqgC,MAAMh9D,IAAI69D,GACxBlhC,IACFA,EAAK5hC,IAAIiuC,SAAS,CAAC,GAAG,EAAM,QAAQzJ,SAASyJ,S,mBAInD,WAEEpxC,KAAKolE,MAAMt9D,SAAQ,SAAAi9B,GACjBA,EAAK5hC,IAAI6jB,UAAW,KAGlBhnB,KAAKy7E,eACPz7E,KAAKy7E,aAAatH,YAAW,GAC7Bn0E,KAAKy7E,aAAe,U,EA3jBL+O,GChBf2D,GAAW,SAAU1uF,GACzB,MAAO,CACLA,GAAIA,EACJkrF,QAAS,IAAI+C,GAAAA,QACbU,OAAQ,IAAIV,GAAAA,QACZzxE,MAAO,OAcLoyE,GAAc,SAAU5uF,GAC5B,OAAOwH,OAAOwlE,OAAO0hB,GAAS1uF,GAVvB,CACLuhB,QAAS,IAAI0sE,GAAAA,WCNIY,GAAAA,WACnB,WAAY7D,GAAY,8CAWX,WDYE,IAAUhrF,ECVvB,EAAK8wE,SAAW4d,GAAS,WAGzB,EAAKrU,SAAWqU,GAAS,WAGzB,EAAK7c,ODIkB7xE,ECJD,ODKjBwH,OAAOwlE,OAAO0hB,GAAS1uF,GANvB,CACLiyE,OAAQ,IAAIgc,GAAAA,WCGZ,EAAKa,SAAWF,GAAY,WAG5B,EAAKG,SAAWH,GAAY,WAG5B,EAAKI,UAAYJ,GAAY,YAG7B,EAAKK,SDGW,SAAUjvF,GAC5B,OAAOwH,OAAOwlE,OAAO0hB,GAAS1uF,GAPvB,CACLuhB,QAAS,IAAI0sE,GAAAA,QACbiB,YAAa,IAAIjB,GAAAA,UCCDkB,CAAY,WAG5B,EAAKC,YAAcV,GAAS,cAG5B,EAAKW,aAAeX,GAAS,eAG7B,EAAKY,eAAiBZ,GAAS,iBAG/B,EAAKa,aAAeb,GAAS,eAG7B,EAAKc,aAAed,GAAS,eAG7B,EAAKe,YAAcf,GAAS,cAG5B,EAAKgB,iBAAmBhB,GAAS,mBAGjC,EAAKiB,sBAAwBjB,GAAS,wBAGtC,EAAKkB,kBAAoBlB,GAAS,uBA1DZ,oBAoJd,SAACmB,EAAQrzE,EAAO08D,GAExB,IAAM4W,EAAW,EAAKD,GACtB,IAAKC,EAAU,MAAM,IAAIpqF,MAAM,eAAgBmqF,IAE3C,EAAKjoF,KAAK5H,KAAO6vF,GAAW3W,KAGhC,EAAK6W,aAAe,EAAKnoF,KACzB,EAAKmoF,aAAapB,OAAOvzC,KAAK,EAAK20C,aAAavzE,OAGhD,EAAK5U,KAAOkoF,EACZA,EAAStzE,MAAQA,EACjBszE,EAAS5E,QAAQ9vC,KAAK5+B,OAlKA,wBAqKV,WACZ,EAAK5U,KAAK+mF,OAAOvzC,KAAK,EAAKxzC,KAAK4U,OAChC,EAAK5U,KAAO,EAAKmoF,gBAtKjBxvF,KAAKyqF,WAAaA,EAElBzqF,KAAK28E,aACL38E,KAAKqH,KAAOrH,KAAKuwE,SACjBvwE,KAAKwvF,aAAe,K,iCAwDtB,WACE,OAAOxvF,KAAKqH,O,oBAGd,WACE,OAAOrH,KAAKwvF,e,kBAGd,WACE,OAAOxvF,KAAKyqF,WAAW9a,S,iBAGzB,WACE,OAAO3vE,KAAKyqF,WAAWrC,Q,mBAKzB,WACE,OAAOpoF,KAAKuwE,W,mBAGd,WACE,OAAOvwE,KAAK85E,W,gBAGd,WACE,OAAO95E,KAAKsxE,Q,mBAGd,WACE,OAAOtxE,KAAKuuF,W,mBAGd,WACE,OAAOvuF,KAAKwuF,W,oBAGd,WACE,OAAOxuF,KAAKyuF,Y,mBAGd,WACE,OAAOzuF,KAAK0uF,W,sBAGd,WACE,OAAO1uF,KAAK6uF,c,uBAGd,WACE,OAAO7uF,KAAK8uF,e,yBAGd,WACE,OAAO9uF,KAAK+uF,iB,uBAGd,WACE,OAAO/uF,KAAKgvF,e,uBAGd,WACE,OAAOhvF,KAAKivF,e,sBAGd,WACE,OAAOjvF,KAAKkvF,c,2BAGd,WACE,OAAOlvF,KAAKmvF,mB,gCAGd,WACE,OAAOnvF,KAAKovF,wB,4BAGd,WACE,OAAOpvF,KAAKqvF,sB,EA7IKf,GCNrB,SAJMmB,GAAAA,EAAAA,SAAAA,I,iCACQ,IAAI/B,GAAAA,Y,ICDGgC,GAAAA,SAAAA,G,6aACnB,WAAY/f,EAAQ1yD,EAAKk2D,EAAKz3D,GAAG,yBAS/B,cAAMi0D,EAAQ1yD,EAAKk2D,EARL,CACZ1zE,GAAI,GACJy6E,WAAY,GACZC,WAAY,GACZC,WAAY,GACZC,WAAY,GACZ1X,WAAY,KAPiB,wBAmBrB,WAEV,OADA,EAAKvkC,KAAKzoB,GAAG,QAAS,MACf,UAXP,EAAKyoB,KAAK6tC,KAAK,mBAAoB,OACnC,EAAKoD,YAX0B,E,cADdqgB,CAAsB1U,ICUrC2U,GAAAA,WACJ,cAA6E,WAA/DhvE,EAA+D,EAA/DA,QAAS0zD,EAAsD,EAAtDA,YAAaz7D,EAAyC,EAAzCA,WAAYqJ,EAA6B,EAA7BA,OAAQwoE,EAAqB,EAArBA,WAAYvoE,EAAS,EAATA,MAAS,mCAiB/D,MAjB+D,oBAkBlE,MAlBkE,kBAmBpE,GAnBoE,kBAoBpE,MApBoE,oBAqBlE,MArBkE,wBAsB9D,MAtB8D,yBAuB7D,MAvB6D,uBAwB/D,MAxB+D,iBAyBrE,CAAC,EAAG,IAzBiE,eA0BvE,MA1BuE,mBA2BnE,MA3BmE,kBA4BpE,MA5BoE,iBA6BrE,MA7BqE,uBA8B/D,MA9B+D,kBAkCpE,IAAIwrE,GAAAA,SAlCgE,wBAqC9D,MArC8D,uBAsChE,GAtCgE,mBAkGpE,WACP,OAAO3hB,GAAAA,OAAU,EAAK6jB,MAAQ,EAAKC,aAnGwC,oBAsGnE,SAACxoF,EAAM4U,GAAyB,IAAlB08D,EAAkB,wDACxC,EAAK8R,WAAWvY,QAAQ7qE,EAAM4U,EAAO08D,MAvGsC,4BA0G3D,WAChB,EAAK8R,WAAWjY,qBA3G2D,uBAoHhE,WACX,EAAKsd,YAAc1oB,KAAKyF,IAAI,EAAK3qD,MAAO,EAAKD,QAC7C,EAAK8tE,SAAW,GAChB,EAAKrgB,SACH,KAAQ,EAAKmL,gBAAkB,GAAK,GAAK,KAAQ,EAAKA,gBACxD,EAAKmV,OAAS,EAAKnV,gBAEnB,EAAKoV,aAAe,EAAKC,qBACzB,EAAKC,cAAgB,EAAKC,sBAE1B,EAAKvkF,UA9HsE,iBAiItE,WACL,EAAKgkF,UACFQ,UACAC,YACAjhB,YACAkhB,iBACA7F,oBAvIwE,mCA0IpD,WACvB,IAAM8F,EAAe7rF,SAAS8iB,eAAe,EAAK4sD,aAClDtI,GAAAA,OAAA,WAAc,EAAKsI,YAAnB,SAAsCtwE,SACtCysF,EAAaprF,YAAY,EAAKwqF,QA7I6C,oBAgJnE,WACR,IAAQjvE,EAAY,EAAZA,QAEF8vE,EAAc9rF,SAAS+rF,yBAoB7B,OAlBA3kB,GAAAA,OAAU0kB,GACPzkB,OAAO,OACPC,KAAK,QAAS,SACdA,KAAK,SAAU,SACfA,KAAK,KAJR,oBAI2B,EAAKoI,cAC7BpI,KAAK,aAAa,GAClBA,KAAK,WAAY,MACjBznE,MAAM,UAAW,QAEjBynE,KACC,QAVJ,UAWO0kB,GAAAA,UAXP,YAW8BhwE,EAAQvW,WAAWH,iBAE9CzB,KAAK,EAAKynF,cAEb,EAAKL,IAAMa,EAAYrqF,WACvB,EAAKwqF,QAAUH,EAER,KAvKoE,+BAgLxD,WACnB,IAAQI,EAA2C,EAA3CA,aAAcd,EAA6B,EAA7BA,SAAUe,EAAmB,EAAnBA,OAAQd,EAAW,EAAXA,OAExC,OAAOjkB,GAAAA,OAEJtyC,QAAO,kBAAOsyC,GAAAA,MAAAA,YACdglB,YAAY,CAAChB,EAAU,IACvBiB,gBAAgB,CACf,CAACF,EAAQA,GACT,CAACd,EAAQA,KAEVr6E,GAAG,OAAQk7E,MA3L6D,yBA8L9D,WACb,IAAMI,EACJllB,GAAAA,MAAAA,UAAAA,GAAwB,EAAKgkB,SACzB,EAAKA,SACkB,GAAvBhkB,GAAAA,MAAAA,UAAAA,EACAmlB,EAAWnlB,GAAAA,MAAAA,UAAAA,GAAwB,EAAI,EAA2B,IAAvBA,GAAAA,MAAAA,UAAAA,EAEjD,EAAKkkB,aAAac,YAAY,CAACE,EAAUC,IACzC,EAAKvhB,OAAO1D,KAAK,YAAaF,GAAAA,MAAAA,WAC9B,EAAKv5B,MAAMy5B,KAAK,YAAaF,GAAAA,MAAAA,WAC7B,EAAKolB,YAAcplB,GAAAA,MAAAA,aAxMwD,gCA2MvD,WACpB,IAAQ+kB,EAA6B,EAA7BA,OAAQd,EAAqB,EAArBA,OAAQoB,EAAa,EAAbA,SAExB,OAAOrlB,GAAAA,QAEJslB,OAAO,CACN,CAACP,EAAQA,GACT,CAACd,EAAQA,KAEVv2D,QAAO,kBAAMsyC,GAAAA,MAAAA,YACbulB,cAAa,GACb37E,GAAG,MAAOy7E,MAtN8D,qBAyNlE,WACJrlB,GAAAA,MAAAA,YAEL,EAAKwlB,YAAY/oF,KAAK,EAAK2nF,cAAcqB,KAAM,MAC/C,EAAKC,YAAY1lB,GAAAA,MAAAA,WACjBtoD,YAAW,kBAAM,EAAKiuE,wBA9NqD,6BA4Q1D,SAAArqF,GAAQ,MAKzB,OAJY,WACT0gE,GAAyB,WADhB,MAETA,GAA0B,eAFjB,GAIE1gE,MAjR6D,mBAoRpE,WACP,IAAQsZ,EAAY,EAAZA,QACR,EAAKgxE,SAAS1lB,KAAK,QAAnB,UAA+BtrD,EAAQvW,WAAWH,oBAtRyB,oBA4RnE,WACR,IAAM2nF,EAAO,EAAKD,SAAS3lB,OAAO,YAC1BqI,EAAgB,EAAhBA,YAiCR,OAhCAud,EACGxhB,UAAU,UACVjuE,KAAK,CACJ,CAAE+O,KAAM,WAAYvH,MAAO,OAC3B,CAAEuH,KAAM,SAAUvH,MAAO,WAE1B0mE,QACArE,OAAO,cACPC,KAAK,MAAM,SAAUllE,GACpB,MAAO,GAAP,OAAUstE,EAAV,kBAA+BttE,EAAEmK,SAElC+6D,KAAK,eAAgB,GACrBA,KAAK,cAAe,GACpBA,KAAK,cAAe,eACpBA,KAAK,SAAU,QACfA,KAAK,OAAQ,GACbA,KAAK,OAAQ,GACbA,KAAK,UAAW,eAChBD,OAAO,YACPC,KAAK,IAAK,gCACVA,KAAK,QAAQ,SAAUllE,GACtB,OAAOA,EAAE4C,SAGbioF,EACG5lB,OAAO,UACPC,KAAK,KAFR,iBAEwBoI,IACrBrI,OAAO,gBACPC,KAAK,KAAM,OACXA,KAAK,KAAM,OACXA,KAAK,eAAgB,KAEjB,KA/ToE,sBAqUjE,WAUV,OATA,EAAK0D,OAAS5D,GAAAA,OACJ,EAAK6jB,KACZ5jB,OAAO,KACPC,KAAK,KAHM,0BAGmB,EAAKoI,cACnCpI,KAAK,QAAS,EAAK4O,iBACnB5O,KAAK,SAAU,EAAK4O,iBACpB5O,KAAK,SAAU,SACfznE,MAAM,iBAAkB,OACxBmR,GAAG,SAAS,SAAA+F,GAAC,OAAIC,QACb,KA/UoE,2BAqV5D,WAWf,OAVA,EAAK62B,MAAQu5B,GAAAA,OACH,EAAK6jB,KACZ5jB,OAAO,KACPC,KAAK,KAHK,yBAGmB,EAAKoI,cAClCpI,KAAK,QAAS,EAAK4O,iBACnB5O,KAAK,SAAU,EAAK4O,iBACpB5O,KAAK,SAAU,SACfznE,MAAM,iBAAkB,OACxBmR,GAAG,SAAS,SAAA+F,GAAC,OAAIC,QAEb,KAhWoE,2BAsW5D,WAOf,OANA,EAAKk2E,YAAa,EAClB,EAAKN,YAAcxlB,GAAAA,OACT,EAAK6jB,KACZ5jB,OAAO,KACPC,KAAK,QAAS,SACdzjE,KAAK,EAAK2nF,eACN,KA7WoE,2BAmX5D,WACf,EAAK0B,YAAa,EAClB9lB,GAAAA,UAAa,UAAUhoE,YArXoD,sBA2XjE,WACV,IAAM6rF,EAAM,EAAK+B,SA4BjB,MA3Be,CACb,CACE76E,MAAO,cACPw+B,GAAI,kBAAM,EAAKu5B,cAEjB,CACE/3D,MAAO,QACPw+B,GAAI,kBAAM,EAAKt0B,YAEjB,CACElK,MAAO,YACPw+B,GAAI,kBAAM,EAAKq5C,gBAEjB,CACE73E,MAAO,UACPw+B,GAAI,kBAAM,EAAKw8C,cAEjB,CACEh7E,MAAO,QACPw+B,GAAI,kBAAM,EAAKy8C,aAIZjqF,SAAQ,SAAA5H,GACb0vF,EAAIj6E,GAAGzV,EAAK4W,MAAO5W,EAAKo1C,OAGnB,KAxZoE,2BA8Z5D,WAWf,OAVA,EAAKjuC,KAAKwjF,QAAQF,QAAQ30C,WAAU,SAAAjR,GAAI,OAAI,EAAKitD,eAAejtD,MAChE,EAAK19B,KAAKwjF,QAAQuD,OAAOp4C,WAAU,kBAAM,EAAKi8C,mBAC9C,EAAK5qF,KAAK6qF,QAAQvH,QAAQ30C,WAAU,SAAAqpC,GAAI,OAAI,EAAK8S,eAAe9S,MAChE,EAAKh4E,KAAK6qF,QAAQ9D,OAAOp4C,WAAU,kBAAM,EAAKo8C,mBAC9C,EAAK/qF,KAAKgrF,SAAS1H,QAAQ30C,WAAU,SAAA3X,GAAK,OAAI,EAAKi0D,gBAAgBj0D,MACnE,EAAKh3B,KAAKgrF,SAASjE,OAAOp4C,WAAU,kBAAM,EAAKu8C,oBAC/C,EAAKlrF,KAAK2nE,QAAQ2b,QAAQ30C,WAAU,SAAA7zC,GAAI,OAAI,EAAKqwF,eAAerwF,MAChE,EAAKkF,KAAK2nE,QAAQof,OAAOp4C,WAAU,kBAAM,EAAKy8C,mBAC9C,EAAKprF,KAAL,QAAkBsjF,QAAQ30C,WAAU,kBAAM,EAAK07C,oBAExC,KAzaoE,yBAkb9D,SAAC/oD,EAAGwH,GAEjB,IAAMmF,EAAK,SAAC0rB,EAAK0Y,EAAK7M,GACpB,OAAO7L,EAAM0Y,GAAO1Y,EAAM6L,GAG5B,OAAQ,CAAC,CACNlkC,GADK,WACCm/B,GAAc,KADf,CAEL33B,GAFK,WAEC23B,GAAc,MACrBtsD,MAAK,SAAAlG,GAAM,OAAIggC,EAAE,WAAF,MAAMhgC,UA3boD,oCAqcnD,SAACqzB,EAAGwH,GAC5B,WAAqB23B,GAAc,GAAnC,GAAO4qB,EAAP,KAAaC,EAAb,KACA,OAAqB7qB,GAAc,GAAnC,GAAO8qB,EAAP,KAAaC,EAAb,KAGMv9C,EAAK,SAAC0rB,EAAK0Y,EAAK7M,GACpB,OAAI7L,EAAM0Y,EAAYA,EAClB1Y,EAAM6L,EAAYA,EACf7L,GAGT,MAAO,CAAC1rB,EAAG3M,EAAG+pD,EAAMC,GAAOr9C,EAAGnF,EAAGyiD,EAAMC,OAhdoC,mBAmdpE,SAACxtF,GAA6B,IAApB6L,EAAoB,uDAAb,SACX,UAATA,GACF,EAAKshC,MAAMw5B,OAAO3mE,GAElB,EAAKmtC,MAAMsgD,SAEX,EAAKnjB,OAAO3D,OAAO3mE,MAzdsD,0BA6d7D,SAAC2L,EAAM5J,GACrB,IAAM0P,EAAQ,IAAIi8E,YAAY/hF,EAAM5J,GACpC,EAAKm6B,GAAGyxD,cAAcl8E,MA/dqD,sBAqejE,WACVi1D,GAAAA,MAAAA,iBACAA,GAAAA,MAAAA,kBAEA,IAAM/8C,EAAY+8C,GAAAA,cAAiB,EAAKxqC,IACpC0xD,EAAc,IAAI,EAAKC,UAEP,IAAhBlkE,EAAUhuB,IACZiyF,EAAcjkE,EAAUmkE,OAAOF,IAGjC,EAAK/gB,QACH,gBACA,CAAEp7D,MAAOi1D,GAAAA,MAAU/rD,SAAU,CAAE2oB,EAAGsqD,EAAY,GAAI9iD,EAAG8iD,EAAY,MACjE,MAnfyE,oBAggBnE,WAAM,MAMVlnB,GAAAA,MAAAA,UAA8C,eAAzB,EAAK1kE,KAAKM,QAAQlI,KAEnC,UAAG,EAAK4H,KAAKM,QAAQqZ,eAArB,QAAgC,CACtC65B,KAAM,WACJ,EAAKq3B,QAAQ,UAAW,MAAM,MAG/Br3B,UA7gBwE,wBAmhB/D,WACZ,EAAKq4C,SAAWnnB,GAAAA,MAAS,EAAKxqC,IACnB,CACT,CAAE9hC,GAAI,UAAW61C,GAAI,kBAAM,EAAK89C,uBAChC,CAAE3zF,GAAI,UAAW61C,GAAI,kBAAM,EAAK89C,uBAChC,CAAE3zF,GAAI,WAAY61C,GAAI,kBAAM,EAAK89C,uBACjC,CAAE3zF,GAAI,UAAW61C,GAAI,kBAAM,EAAK+9C,wBAE/B55D,QAAO,SAAAt2B,GAAG,OAAIA,EAAI1D,KAAO,EAAK4H,KAAKM,QAAQlI,MAAIqI,SAAQ,SAAA3E,GAAG,OAAIA,EAAImyC,WA3hBM,sBAiiBjE,WACNy2B,GAAAA,MAAAA,WAAsB,EAAKunB,iBAC7B,EAAKC,oBAniBoE,oBA0iBnE,WACa,UAAjBxnB,GAAAA,MAAAA,KAA4B,EAAK8lB,YACnC,EAAKH,oBA5iBoE,2BAgjB5D,SAAAz1E,GACf,IAAQu3E,EAAev3E,EAAfu3E,WACFC,EAAY,EAAKpsF,KAAKwjF,QACtB9lD,EAAO,CAAEyT,SAAUg7C,GACnBE,EAAgBvM,GAAAA,OAAAA,SAEtB,EAAKwM,aAAa,CAAEF,UAAAA,EAAW1uD,KAAAA,EAAM2uD,cAAAA,OAtjBsC,0BAyjB7D,WACd,IAAQ3uD,EAAS,EAAK19B,KAAKwjF,QAAQ5uE,MAA3B8oB,KACR,EAAK4sD,SAASntF,MAAM,SAAU,WAC1BugC,GAEFA,EAAKptB,aA9jBoE,2BAkkB5D,SAAAsE,GACf,IAAQu3E,EAAev3E,EAAfu3E,WACFC,EAAY,EAAKpsF,KAAK6qF,QACtBntD,EAAO,CACXtlC,GAAI+zF,EACJ9uB,cAAe8uB,EACf/uB,eAAgB+uB,GAEZE,EAAgBvM,GAAAA,OAAAA,cAEtB,EAAKwM,aAAa,CAAEF,UAAAA,EAAW1uD,KAAAA,EAAM2uD,cAAAA,OA5kBsC,yBA+kB9D,SAAAz3E,GACb,IAAQw3E,EAAmCx3E,EAAnCw3E,UAAW1uD,EAAwB9oB,EAAxB8oB,KAAM2uD,EAAkBz3E,EAAlBy3E,cACzB,EAAKnyD,GAAG7d,QAER,IAAMrc,EAAO,EAAKojF,WAAWrC,MAAMwL,SAC7BC,EAAgB,EAAKC,iBAAiBzsF,GAC5C,EAAKsqF,SAASntF,MAAM,SAAUqvF,GAG9B1M,GAAAA,OAAe,EAAKvuE,WAAY86E,EAAe,CAC7C/jB,OAAQ,EACR5qC,KAAAA,EACAgR,OAAQ,KACPzuC,MAAK,SAAAnE,GACNswF,EAAUx3E,MAAM8oB,KAAO5hC,EAEvB,EAAK6oE,QAAO,WACV,OAAO7oE,EAAIo+B,YAhmB4D,0BAqmB7D,WACd,IAAQwD,EAAS,EAAK19B,KAAK6qF,QAAQj2E,MAA3B8oB,KACR,EAAK4sD,SAASntF,MAAM,SAAU,WAC1BugC,GAEFA,EAAKptB,aA1mBoE,+BAinBxD,WAAM,QACnBqX,EAAY+8C,GAAAA,cAAiB,EAAKxqC,IAIpC0xD,EAAc,IAAI,EAAKC,UAGP,IAAhBlkE,EAAUhuB,GAA2B,IAAhBguB,EAAU2Z,GAA2B,IAAhB3Z,EAAUmhB,IACtD8iD,EAAcjkE,EAAUmkE,OAAOF,IAGjC,YAAK5rF,KAAKM,QAAQsU,aAAlB,mBAAyB8oB,YAAzB,SAA+B6sC,YAC7BqhB,EAAY,GATM,EAUlBA,EAAY,IAVa,MArnBgD,2BAmoB5D,WACf,IAAQh2E,EAAQ,EAAK5V,KAAK2nE,QAAQ/yD,MAA1BgB,IAER,EAAK5V,KAAK2nE,QAAQ/yD,MAAM4a,KAAO,IAAI64D,GACjC,EACAzyE,EAAI+C,SACJ/C,EAAI+C,UAEN,EAAKgsD,QAAO,WACV,OAAO,EAAK3kE,KAAK2nE,QAAQ/yD,MAAM4a,KAAK0K,KACnC,SACH,EAAKl6B,KAAK2nE,QAAQ0M,iBAAkB,EACpC,EAAKr0E,KAAK2nE,QAAQ/yD,MAAM4a,KAAK8kD,oBA/oB8C,0BAkpB7D,WACd,IAAQ9kD,EAAS,EAAKxvB,KAAK2nE,QAAQ/yD,MAA3B4a,KACJA,GAAMA,EAAKlf,UACf,EAAKtQ,KAAK2nE,QAAQ0M,iBAAkB,EACpC,EAAKr0E,KAAK2nE,QAAQ/yD,MAAM4a,KAAKklD,qBAtpB8C,+BAypBxD,WACnB,IAAM/sD,EAAY+8C,GAAAA,cAAiB,EAAKxqC,IACpC0xD,EAAc,IAAI,EAAKC,UAErB/f,EAAM,CACVxqC,GAFFsqD,EAAcjkE,EAAUmkE,OAAOF,IAEd,GACf9iD,EAAG8iD,EAAY,GACfvjB,SAAU,CAAEztD,OAAQ,GAAIC,MAAO,IAC/B/f,KAAM,IAER,EAAKkF,KAAK2nE,QAAQ/yD,MAAM4a,KAAKhzB,OAAO,KAAMsvE,MAnqBiC,wBAsqB/D,WACZ,EAAKwe,SACF1mE,aACA4lD,SAAS,KACTroE,KAAK,EAAKynF,aAAajhE,UAAW+8C,GAAAA,iBA1qBsC,8BA6qBzD,SAACgoB,EAAaC,GAChC,MAA0B,EAAKzyD,GAAG0yD,wBAA1B/xE,EAAR,EAAQA,MAAOD,EAAf,EAAeA,OACf,EAAK0vE,SACF1mE,aACA4lD,SAAS,KACTroE,KACC,EAAKynF,aAAajhE,UAClB+8C,GAAAA,aAAAA,UAEY,GAAR7pD,EAAc,EAAI6xE,EACT,GAAT9xE,EAAe,EAAI+xE,GAEpBzsB,MAAM,OAxrBbvnE,KAAK2gB,QAAUA,EACf3gB,KAAKq0E,YAAcA,EACnBr0E,KAAK4Y,WAAaA,EAClB5Y,KAAKiiB,OAASA,EACdjiB,KAAK66E,gBAAkBhT,GACvB7nE,KAAKyqF,WAAaA,EAClBzqF,KAAKkiB,MAAQA,EAEbliB,KAAK28E,a,8BAqCP,WACE,OAAO38E,KAAKyqF,WAAWpjF,O,wBAGzB,WACE,OAAOrH,KAAKyqF,WAAWpjF,KAAKmoF,e,cAG9B,WACE,OAAOxvF,KAAK4vF,M,oBAMd,WACE,OAAO5vF,KAAKk0F,Q,IAcd,SAAa9sF,GACXpH,KAAKk0F,OAAS9sF,I,yBAThB,WACE,MAAO,CAAEuhC,EAAG3oC,KAAKk0F,OAAO,GAAI/jD,EAAGnwC,KAAKk0F,OAAO,M,uBAW7C,SAAgB9sF,GACdpH,KAAKm0F,aAAe/sF,GACfA,GAAS2kE,GAAAA,MAAAA,UACZ/rE,KAAKuzF,mB,2BAIT,WACE,OAA6B,OAAtBvzF,KAAKm0F,e,wBAMd,WACE,OAAOn0F,KAAKyqF,WAAWhP,e,yBAkIzB,SAAY2Y,GAAM,QAChB,EAAoBp0F,KAAKyqF,WAAW9a,OAAOwhB,aAAe,CACxDnwF,EAAG,EACH2nC,EAAG,EACHwH,EAAG,GAHGnvC,EAAR,EAAQA,EAAG2nC,EAAX,EAAWA,EAAGwH,EAAd,EAAcA,EAKRkkD,EAAYD,EAAK,GAAGn0F,KACxB,SAACgtC,EAAGzsC,GAAJ,OAAWysC,EAAIm6B,KAAKktB,IAAU,IAAN9zF,EAAUmoC,EAAIwH,IAAMnvC,KAExCuzF,EAAYH,EAAK,GAAGn0F,KACxB,SAACgtC,EAAGzsC,GAAJ,OAAWysC,EAAIm6B,KAAKktB,IAAU,IAAN9zF,EAAUmoC,EAAIwH,IAAMnvC,KAExCokE,EAAQzuD,MAAMC,KAAN,UAAW5W,KAAKyqF,kBAAhB,iBAAW,EAAiBrC,aAA5B,aAAW,EAAwBhjB,MAAM9vD,UACjDk/E,EAAkB,GACxBpvB,EAAMt9D,SAAQ,SAAAi9B,GACZ,MAA6BA,EAAK5hC,IAAIyxD,OAChCA,EAAS,CADf,EAAQ2Y,QAAR,EAAiBC,SAEXinB,EAAuB7/B,EAAOqZ,OAClC,SAACymB,EAAQl0F,GAAT,OAAek0F,EAASL,EAAU7zF,MAE9Bm0F,EAAoB//B,EAAOqZ,OAC/B,SAACymB,EAAQl0F,GAAT,OAAek0F,EAASH,EAAU/zF,MAEhCi0F,GAAwBE,IAC1B5vD,EAAK5hC,IAAI6jB,UAAW,EACpBwtE,EAAgBh1F,KAAKulC,EAAK5hC,SAG9B,IAAMyxF,EAAc,IAAI/9E,IACtB,IAAI7W,KAAKyqF,WAAWtmC,eAAe9jD,OAAOm0F,IAExCI,EAAYlyE,KAAO,GACrB1iB,KAAKkyE,QACH,aACA,CACE9M,MAAOzuD,MAAMC,KAAKg+E,GAClB3iB,UAAU,IAEZ,O,EAxQF0d,GA+rBN,Y,qkBChsBA,IAAMkF,GAAa,CACjBh4E,KAAM,CACJpL,MAAO,YACPqjF,iBAAkB,UAClBC,iBAAkB,aAClB19C,KAAM6wB,IAERtrD,KAAM,CACJnL,MAAO,iBACPqjF,iBAAkB,aAClBC,iBAAkB,gBAClB19C,KAAM6wB,KAIW8sB,GAAAA,WACnB,cAUG,WATDv1F,EASC,EATDA,GACA40E,EAQC,EARDA,YACA4gB,EAOC,EAPDA,UACA/yE,EAMC,EANDA,MACAD,EAKC,EALDA,OACA9f,EAIC,EAJDA,KACAwe,EAGC,EAHDA,QACAnY,EAEC,EAFDA,KACA0sF,EACC,EADDA,SACC,mCAgCU,WACX,IAAQv0E,EAAwD,EAAxDA,QAAS0zD,EAA+C,EAA/CA,YAAaz7D,EAAkC,EAAlCA,WAAYqJ,EAAsB,EAAtBA,OAAQxiB,EAAc,EAAdA,GAAIyiB,EAAU,EAAVA,MAGtD,EAAKgwD,QAAQ7J,IAEb,EAAKsH,OAAS,IAAIggB,GAAO,CACvBlF,WAAY,EACZpW,YAAAA,EACAnyD,MAAAA,EACAD,OAAAA,EACAtB,QAAAA,EACA/H,WAAAA,IAGF,EAAKwvE,MAAQ,IAAI,EAAK8M,SAAS,CAC7Bz1F,GAAAA,EACAgrF,WAAY,EACZ9a,OAAQ,EAAKA,OACb/2D,WAAAA,IAIF,EAAK8xE,iBACFjxE,UACAnS,MAAK,WACJ,EAAKqoE,OAAOpuC,GAAG7d,QACf,EAAKwuD,QAAQ7J,UA3DhB,iCAoEO,8FACF,EAAK+f,MAAM+M,SAAS,EAAKF,UAAUttF,QAAQsR,iBADzC,4CApEP,oBAgGO,SAAC5R,EAAM4U,EAAO08D,GACtB,EAAKtxE,KAAK6qE,QAAQ7qE,EAAM4U,EAAO08D,MAjG9B,4BAoGe,WAChB,EAAKtxE,KAAK+tF,iBArGT,8BAwGiB,SAACC,EAAYC,GAC/B,EAAKlN,MAAMmN,kBAAkBF,EAAYC,MAzGxC,oBA4GO,WACR,MAAqC,EAAKjuF,KAAK2nE,QAAQ/yD,MAA/CgB,EAAR,EAAQA,IAAKk2D,EAAb,EAAaA,IAAKt8C,EAAlB,EAAkBA,KAElB,GAFA,EAAwBu8C,UAERv8C,EAAK43B,QAAQxxC,EAAKk2D,EAAK,EAAKiV,MAAM51C,OAAQ,CAExD,IAAMgjD,EAAU,EAAKP,UAAUttF,QAAQ27E,QAAQzsD,EAAK4+D,OAAOx4E,EAAKk2D,IAGhE,EAAKiV,MAAM9E,QAAQkS,GACnB,EAAKpN,MAAM8D,eAEX,EAAKn2C,OAAO2/C,UAAU76C,KAAK26C,OAvH5B,uBA2HU,SAAA1vB,GACX,EAAKmvB,UAAUttF,QAAQo9D,WAAWe,GAClC,EAAKsiB,MAAMQ,YAAY,CAAC9iB,IACxB,EAAKsiB,MAAM8D,kBA9HV,oBAiIO,SAAAl7E,GACR,IAAM+zB,EAAO,SACR,EAAK19B,KAAKM,QAAQsU,MAAM8oB,KAAK5iC,MADxB,IAERgiE,UAAWnzD,EACXA,KAAMA,EACNvR,GAAIuR,IAQN,OANA,EAAKikF,UAAUttF,QAAQkjF,QAAQ9lD,GAC/B,EAAKqjD,MAAMyC,QAAQ9lD,EAAMmjC,IAAiB5gE,MAAK,WAC7C,EAAK8gF,MAAMvkF,SACX,EAAKquE,QAAQ7J,OAGR,KA9IN,oBAiJO,SAAAr3D,GACR,IAAM+zB,EAAO,SACR,EAAK19B,KAAKM,QAAQsU,MAAM8oB,KAAK5iC,MADxB,IAERsiE,eAAgBzzD,EAChBA,KAAMA,EACNvR,GAAIuR,IAQN,OANA,EAAKikF,UAAUttF,QAAQguF,WAAW5wD,GAClC,EAAKqjD,MAAMyC,QAAQ9lD,EAAMmjC,IAAsB5gE,MAAK,WAClD,EAAK8gF,MAAMvkF,SACX,EAAKquE,QAAQ7J,OAGR,KA9JN,sBAwKS,SAACr3D,EAAM4kF,EAAU51E,GAAa,MAElC61E,EAAiBhB,GAAWe,EAAS96E,OAErCg7E,EAAU,EAAKnmB,OAAOomB,wBAAwB/1E,EAAS2oB,EAAG3oB,EAASmwB,GAEnEpL,EAAO,SACR6wD,GADK,OAERvxB,cAAeyxB,GAFP,MAGPD,EAAepkF,MAAQT,GAHhB,cAIDA,GAJC,aAKFA,GALE,WAMJA,GANI,IASV,EAAKikF,UAAUttF,QAAQkuF,EAAef,kBAAkB/vD,GAExD,EAAKqjD,MAAMyC,QAAQ9lD,EAAM8wD,EAAex+C,MAAM/vC,MAAK,WACjD,EAAK8gF,MAAMvkF,SACX,EAAKquE,QAAQ7J,UA3Ld,uBAmMU,SAAAtjC,GAEX,IAAM8wD,EAAiBhB,GAAW9vD,EAAKjqB,OAEvC,EAAKm6E,UAAUttF,QAAQkuF,EAAed,kBAAkBhwD,EAAKtlC,IAE7D,EAAK2oF,MAAM4D,WAAWjnD,EAAKtlC,IAE3B,EAAK0kD,cAAgB,EAAKA,cAAc1qB,QACtC,SAAA8H,GAAE,OAAIA,EAAGp/B,KAAK1C,KAAOslC,EAAKtlC,SA5M3B,8BAgNiB,SAAA6gE,GAClB,IAAM4B,EAAe5B,EAAKv7B,KAAKyhD,iBACzBvgB,EAAW3F,EAAKv7B,KAAK/zB,KACrB+5C,EAAWuV,EAAKtvD,KAEtB,EAAKo3E,MAAM4N,mBACT,EAAKf,UAAUttF,QAAQy5D,kBAAkBc,EAAc+D,EAAUlb,OAtNlE,uBA0NU,SAAAhmB,GAAQ,MACnB,OAAOA,EAAK/zB,OAAL,UAAa,EAAKo3E,MAAMhjB,MAAMh9D,IAAI28B,EAAK/zB,aAAvC,aAAa,EAAiC7N,QA3NpD,2BAyOc,WAuBf,OAtBA,EAAKkE,KAAL,QAAkBsjF,QAAQ30C,UAAU,EAAKigD,WAGzC,EAAK5uF,KAAK6uF,KAAK9H,OAAOp4C,UAAU,EAAKy7B,WAGrC,EAAKpqE,KAAKgsE,WAAWsX,QAAQ30C,UAAU,EAAKmgD,cAE5C,EAAK9uF,KAAK+pE,WAAWuZ,QAAQ30C,WAAU,WACrC,EAAKk8B,QAAQ7J,OAIf,EAAKhhE,KAAK2nE,QAAQ2b,QAAQ30C,UAAU,EAAKw8C,gBACzC,EAAKnrF,KAAK2nE,QAAQof,OAAOp4C,UAAU,EAAKy8C,eAIxC,EAAK9iB,OAAO55B,OACTqgD,MAAK38D,EAAAA,GAAAA,SAAO,SAAA3iB,GAAK,M3DlRF,qB2DkRMA,EAAM9F,SAC3BglC,UAAU,EAAKqgD,kBAEX,KAhQN,sBAyQS,SAACtxD,EAAMuxD,GACjBvxD,EAAKyN,MAAM1qC,SAAQ,SAAAg+D,GACjB,IAAMjvC,EAAO,EAAKuxD,MAAM51C,MAAMpqC,IAAI09D,GAG/BwwB,EAAan9E,IAAI2sD,KAClBjvC,EAAK43C,UAEL53C,EAAKiC,WAAaiM,EAAK5hC,IAAIsrE,SAE7B6nB,EAAah3E,IAAIwmD,SAnRlB,sBA6RS,WACV,EAAK3hB,cAAc7jD,OAAS,KA9R3B,sBAiSS,SAAAirF,GACV,IAAMgL,EAAmB,IAAI1/E,IAAI,CAAC00E,GAAalrF,OAAO,EAAK8jD,gBAC7CxtC,MAAMC,KAAK2/E,GAAkB98D,QAAO,SAAAt2B,GAAG,OAAIA,KAEnD2E,SAAQ,SAAAi9B,GACZ,IAAQtlC,EAAOslC,EAAK5iC,KAAZ1C,GACR,OAAeslC,EAAK5iC,KAAKkiE,cAAzB,GAAO17B,EAAP,KAAUwH,EAAV,MAGEpL,EAAK5iC,KAAK+O,OAASi3D,GACf,EAAK8sB,UAAUttF,QAAQ29D,cACvB,EAAK2vB,UAAUttF,QAAQ09D,oBAEvBnvB,QAAQz2C,GAAImyE,YAAYjpC,EAAGwH,SA9SlC,sBAkTS,SAAAhuC,GACV,EAAKimF,MAAMhjB,MAAMt9D,SAAQ,SAAAi9B,GAAI,OAAIA,EAAK5hC,IAAI6rE,QAAQ7sE,SAnTjD,2BAsTc,WACf,IAAQA,EAAS,EAAKkF,KAAKM,QAAQsU,MAAMgB,IAAjC9a,KACR,EAAKq0F,UAAUr0F,MAxTd,0BA2Ta,WACd,EAAKq0F,YACL,EAAKlT,aA7TJ,yBAgUY,SAAAnhF,GACb,IAAQijE,EAAoBjjE,EAApBijE,MAAO6M,EAAa9vE,EAAb8vE,SACP9tB,EAAkB,EAAlBA,cACFsyC,EAAcrxB,EAAM3rC,QAAO,SAAA5yB,GAAC,OAAIA,EAAE1E,KAAK2Y,QAAU66D,GAAAA,SAEvD,EAAK8F,aAAe,KAEfxJ,IAAU9tB,EAAc7jD,OAAS,GAEtCm2F,EAAY3uF,SAAQ,SAAAi9B,GAClBA,EAAK/d,SACDm9B,EAAc3kD,KAAKulC,GACnB55B,IAAAA,KAAYg5C,EAAepf,SA5UhC,6BAgVgB,SAAAjuB,GAEjB,EAAKsxE,MAAMsO,yBAAyB5/E,EAAM3U,SAlVzC,0BAqVa,SAAAmzC,GACd,OAAO,EAAKqhD,SAAS3gD,UAAUV,MAtV9B,2BAyVc,SAAAuuB,GACf,IAAMyyB,EAAe,IAAIz/E,IACzB,EAAKuxE,MAAMhjB,MAAMt9D,SAAQ,SAAAi9B,GACvBA,EAAK5hC,IAAIyzF,eAAe/yB,GACxB,EAAKgzB,UAAU9xD,EAAMuxD,SA7VtB,0BAiWa,SAACxyB,EAAShrC,GACxB,IAAMw9D,EAAe,IAAIz/E,IACzB,EAAKuxE,MAAMhjB,MAAMt9D,SAAQ,SAAAi9B,GAAQ,MAC/B,UAAIA,EAAK5hC,IAAIhB,KAAKiiE,kBAAlB,OAAI,EAA0Bz8B,SAASm8B,KACrC/+B,EAAK5hC,IAAI21B,YAAcA,EACvB,EAAK+9D,UAAU9xD,EAAMuxD,UAtWxB,+BA8WkB,WACnB,EAAKlO,MAAM0O,aAAe,EAAK1O,MAAM0O,iBA/WpC,wBAkXW,WACZ,EAAKnnB,OAAOonB,iBAnXX,uBAsXU,SAAAjgF,GAAS,QAEdkgF,EAAO,GADI,oBAAG,EAAKrnB,OAAOwhB,mBAAf,aAAG,EAAyBnwF,SAA5B,QAAiC,GACnB,EACzBsxE,EAAQ,CACZ2kB,WAAY,CAAC,EAAID,EAAM,GACvBE,UAAW,EAAE,EAAIF,EAAM,GACvBG,QAAS,CAAC,GAAI,EAAIH,GAClBI,UAAW,CAAC,EAAG,EAAIJ,IAErB,OAAiB1kB,EAAMx7D,EAAM+hC,MAA7B,GAAOk3B,EAAP,KAAWC,EAAX,KAEA,EAAKoY,MAAM8F,WAAW,KAAM,CAAEvlD,EADd,GACiBwH,EADb,GACgB4/B,GAAAA,EAAIC,GAAAA,IACxC,EAAKyB,eAlYJ,wBAqYW,SAAA1sC,GACZ,MAA6BA,EAAK6vB,OAA1B2Y,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QACjB,EAAK0E,QAAQ7J,GAAmB,MAAM,GACtCtjC,EAAK/d,UAAW,EACK,UAAjB+d,EAAK5iC,KAAK1C,IACZ,EAAKyyE,QACH7J,GACA,CAAEjD,MAAO,CAACrgC,GAAOktC,UAAU,IAC3B,GAGJ,EAAKtC,OAAO0nB,kBAAkB9pB,EAASC,MAhZtC,oBAmZO,eA7YRxtE,KAAKP,GAAKA,EACVO,KAAKq0E,YAAcA,EACnBr0E,KAAKkiB,MAAQA,EACbliB,KAAKiiB,OAASA,EACdjiB,KAAKi1F,UAAYA,EACjBj1F,KAAKmC,KAAOA,EACZnC,KAAKk1F,SAAWA,MAAAA,EAAAA,EAAYoC,GAC5Bt3F,KAAK2gB,QAAUA,EACf3gB,KAAK4Y,WAAapQ,EAClBxI,KAAK22F,SAAW,IAAIY,GAAAA,gBAAgB,GACpCv3F,KAAK+1C,OAAS,IAAI05C,GAClBzvF,KAAKqH,KAAO,IAAIinF,GAAetuF,MAC/BA,KAAK2D,IAAM,KACX3D,KAAK2vE,OAAS,KACd3vE,KAAKooF,MAAQ,KACbpoF,KAAKye,UAAY,KAEjBze,KAAK28E,a,uCAuDP,WACE,OAAO38E,KAAKooF,MAAMjkC,e,IAGpB,SAAkBihB,GAChBplE,KAAKooF,MAAMjkC,cAAgBihB,EACvBplE,KAAKy7E,cAAcz7E,KAAKy7E,aAAatH,YAAW,K,wBAGtD,WACE,OAAOn0E,KAAKooF,MAAM3M,c,IAGpB,SAAiB5kD,GACX72B,KAAKooF,MAAM3M,cAAcz7E,KAAKooF,MAAM3M,aAAatH,YAAW,GAChEn0E,KAAKooF,MAAM3M,aAAe5kD,M,EAxGTm+D,GCxBd,IAAMwC,IAAiB73E,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACjDT,SAAU,CACRP,OAAQgB,EAAMhB,OAAO6hB,OAAS,EAC9BrhB,MAAOQ,EAAMT,SAASC,MACtBE,gBAAiBM,EAAMT,SAASJ,WAChC0W,SAAU,WACViC,OAAQ,OACRC,MAAO,OACPuM,QAAS,GAEXgpE,cAAe,CACbx1E,OAAQ,oBACRC,MAAO,OACPC,QAAS,OACToI,cAAe,SACfvK,SAAU,YAEZ03E,WAAY,CACVx1E,MAAO,OACPD,OAAQ,OACR4wB,SAAU,GAEZzoC,WAAY,CACVH,eAAgBE,EAAMgW,QAAQ7W,WAAWyhB,aCZvC4sE,GAAW,SAAA17E,GACf,IACEzT,EAgBEyT,EAhBFzT,KACAkM,EAeEuH,EAfFvH,SACAjV,EAcEwc,EAdFxc,GACAuR,EAaEiL,EAbFjL,KACAE,EAYE+K,EAZF/K,KACA4J,EAWEmB,EAXFnB,MACA88E,EAUE37E,EAVF27E,WACA7vE,EASE9L,EATF8L,IACApS,EAQEsG,EARFtG,GACA+0D,EAOEzuD,EAPFyuD,SACA8iB,EAMEvxE,EANFuxE,mBACAqK,EAKE57E,EALF47E,QACA5c,EAIEh/D,EAJFg/D,cACA2Y,EAGE33E,EAHF23E,SACAkE,EAEE77E,EAFF67E,WACAv5C,EACEtiC,EADFsiC,QAKI59B,EAAU62E,KACVnjB,GAAcl4C,EAAAA,EAAAA,UAClB,2BAASy3D,EAAT,YAAqBxrB,GAAoB3oE,MACzC,CAACm0F,EAAUn0F,IAGLs4F,ECtCe,SAAA97E,GAOvB,IAAM87E,GAAgBv0E,EAAAA,EAAAA,UA2CtB,OAnCAvE,EAAAA,EAAAA,YAAU,WAAM,MACd,GAAKhD,EAAM9Z,MAAQ8Z,EAAMo4D,eAAN,UAAsB0jB,EAAcpwF,eAApC,aAAsB,EAAuB0sE,aAAhE,CAGA,IACE1zD,EAYE1E,EAZF0E,QACAjM,EAWEuH,EAXFvH,SACA1D,EAUEiL,EAVFjL,KACA7O,EASE8Z,EATF9Z,KACA+O,EAQE+K,EARF/K,KACAgR,EAOEjG,EAPFiG,MACAD,EAMEhG,EANFgG,OACAoyD,EAKEp4D,EALFo4D,YACAv5D,EAIEmB,EAJFnB,MACArQ,EAGEwR,EAHFxR,SACAjC,EAEEyT,EAFFzT,KACA0sF,EACEj5E,EADFi5E,SAGF6C,EAAcpwF,QAAU,IAAIqtF,GAAc,CACxCv1F,GAAIuR,EACJikF,UAAWvgF,EACXxD,KAAAA,EACAgR,MAAAA,EACAD,OAAAA,EACAoyD,YAAAA,EACAv5D,MAAAA,EACArQ,SAAAA,EACAtI,KAAAA,EACAwe,QAAAA,EACAnY,KAAAA,EACA0sF,SAAAA,OAED,CAACj5E,IAEG,CAAE87E,cAAAA,GDZiBC,CAAiB,CACzCr3E,QAAAA,EACAjM,SAAAA,EACA1D,KAAAA,EACA7O,KAAMy1F,EACN1C,SAAU4C,EACV5mF,KAAAA,EACAgR,MAAO,QACPD,OAAQ,QACRoyD,YAAAA,EACAv5D,MAAAA,EACArQ,UApBe,EAqBfjC,KAAAA,IAZMuvF,cAeFE,GAAmB9tE,EAAAA,EAAAA,cACvB,kBAAM4tE,EAAcpwF,UACpB,CAACowF,IAuCH,OAnCA94E,EAAAA,EAAAA,YAAU,WAoBR,OAnBAtJ,EAAG7I,GAAAA,cAAAA,KAA4BA,GAAAA,cAAAA,GAAAA,UAAmC,SAAAi4B,GAAQ,YAIxE,IADc,oBAAGkzD,WAAH,aAAG,EAAoB5wF,KAAKM,QAAQlI,UAApC,QAA0C4oE,MACvCA,GAAjB,CAEA,IAAMvrC,GAAM,W1V7CV,O6RvBI,W6DoEM,MAETvwB,G7DrEG,W6DmEM,GAINinF,EAAazuD,EAAK/zB,KAClBktE,EAAYn5C,EAAKxtB,QAAUhL,GAG7BqrF,EAAWzkE,QAAUqgE,GAActV,GAEvB,QAAhB,EAAA+Z,WAAA,SAAoB/lB,QAAQp1C,EAAOiI,EAAKxtB,OAAQ,CAAEi8E,WAAAA,IAAc,OAG3D,kBACLzrE,EAAIjb,GAAAA,cAAAA,KAA4BA,GAAAA,cAAAA,GAAAA,aACjC,CAACmrF,EAAkBlwE,EAAKpS,EAAIiiF,KAE/B34E,EAAAA,EAAAA,YAAU,WACR,IAAMi5E,EAAOD,IACb,GAAKC,EAIL,OADAL,EAAQK,GACD,WACLD,IAAmB7P,MAAMzwE,aAE1B,CAACmgF,EAAYF,EAAYC,EAASI,IAGnC,yBAAKx4F,GAAE,UAAKm0F,EAAL,YAAiBn0F,GAAM4d,UAAWsD,EAAQ82E,eAC9Cl5C,GACC,kBAAC,KAAD,CAAUlhC,UAAWsD,EAAQjX,SAAU6X,KAAMg9B,GAC3C,kBAAC,GAAD,OAGJ,yBAAKlhC,UAAWsD,EAAQ+2E,WAAYj4F,GAAI40E,EAAa8jB,SAAS,KAC3DztB,EAASpqE,OAAS,GACjB,kBAAC,GAAD,CAAUoqE,SAAUA,EAAUC,UAAW6iB,KAG5CvS,GAAiB,kBAAC,GAAD,QAKxB0c,GAAS/1E,UAAY,CACnBpZ,KAAMqZ,KAAAA,KAAAA,WACNnN,SAAUmN,KAAAA,OACVpiB,GAAIoiB,KAAAA,OACJ7Q,KAAM6Q,KAAAA,OACN3Q,KAAM2Q,KAAAA,OACN/G,MAAO+G,KAAAA,OACP+1E,WAAY/1E,KAAAA,QAGd81E,GAAS71E,aAAe,CACtB+1E,QAAS,kBAAM1hF,QAAQ6yD,QAAQ,gCAGjC,UAAe1kE,EAAAA,EAAAA,MAAKqzF,IEhId,GAA+BrxF,QAAQ,iC,olBCE7C,IAAM8xF,GAAS,CACbrwC,UAAW,CACTloC,QAAS,sBACT+F,WAAY,SACZ4e,aAAc,WACdha,SAAU,SACVtE,SAAU,QAEZf,SAAU,CACRxb,MAAO,SAILgqE,GAAY,SACbykB,IADU,IAEbC,SAAU,CACRl2E,QAAS,OACToI,cAAe,OAEjBopD,UAAW,CACT9gC,SAAU,EACVhzB,QAAS,eAIP03B,GAAa,CACjB+gD,oBAAqB,CACnB1xC,UAAW,OACXC,UAAW,SACXhnC,QAAS,kBACTgzB,SAAU,EACVoL,UAAW,IAIT8sB,GAAgB,CACpB5oD,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChB,QAAS,CACPzC,OAAQ,MAINkoC,IAAanoC,EAAAA,EAAAA,aAAW,SAAAW,GAAM,mBAC/B83E,IACA7gD,IAF+B,IAGlCtmC,YAAa,CACX2U,WAAY,oBACZiS,UAAW,WAEbhB,KAAM,CACJ3Q,SAAU,aAIDqyE,IAAkB54E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,OAAIqzD,MACvC6kB,IAAkB74E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBAC3CqzD,IACAp8B,OAGQkhD,IAAmB94E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACpDo4E,UAAW,CACT7gE,UAAW,OACXrB,aAAc,YAILmiE,IAAoBh5E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACrD8e,OAAQ,CACNvH,UAAW,cAIF+gE,IAAiBj5E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAClDxhB,KAAM,CACJojB,MAAO,QAETq3C,cAAe,CACb15C,QAAS,sBAIAg5E,IAAiBl5E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAClD2N,WAAY,CACV/L,MAAO,OACP,MAAO,CACLsiB,aAAc,WACdpnB,SAAU,oBACVoN,SAAU,WAGdsuE,oBAAqB,CACnBj5E,QAAS,YAEXk5E,mBAAoB,CAClBl5E,QAAS,UAEXm5E,aAAc,CACZ,UAAW,MACNjuB,KAGPA,cAAe,MACVA,IAELC,UAAW,CACT9oD,MAAO,OACPD,OAAQ,WAICg3E,IAAat5E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBACtC83E,IADsC,IAEzCc,SAAU,CACR1qE,YAAa,QAEf2qE,QAAS,CACPh3E,QAAS,OACToI,cAAe,SACf1K,QAAS,UAEXkrC,SAAU,CACRlzB,UAAW,MACX3R,SAAU,WACVgI,UAAW,MACXU,aAAc,OAEhBwqE,iBAAkB,CAChBvhE,UAAW,MACX3R,SAAU,WACVrG,QAAS,MACTw5E,UAAW,YAEbC,eAAgB,CACd9qE,YAAa,OACbtI,SAAU,OACVyiD,WAAY,QAEd4wB,eAAgB,CACdp3E,QAAS,OACToI,cAAe,SACf2D,UAAW,OACX04B,UAAW,OACXC,UAAW,SACX,aAAc,CAAE3gC,SAAU,UAAWsI,YAAa,QAEpDgrE,UAAW,CACTr3E,QAAS,OACToI,cAAe,MACfnI,WAAY,eAIHq3E,IAAwB95E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,gBACjD83E,IACA7gD,OAGQmiD,IAAsB/5E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACvDxhB,KAAM,CACJmjB,OAAQ,OACRE,QAAS,OACToI,cAAe,UAEjBovE,aAAc,CACZ95E,QAAS,qBAIA+5E,IAAoBj6E,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CACrDu5E,aAAc,CACZ13E,QAAS,OACToI,cAAe,MACflI,eAAgB,gBAChBD,WAAY,UAEd03E,aAAc,CACZjnD,SAAU,EACVrkB,YAAa,MACbtI,SAAU,WACVse,aAAc,WACd5e,WAAY,SACZ4E,SAAU,SACVpN,SAAU,OAEZ28E,eAAgB,CACdliE,UAAW,SACXgb,SAAU,EACVrO,aAAc,WACd5e,WAAY,SACZ4E,SAAU,SACV3K,QAAS,oBACTzC,SAAU,MACV8E,MAAO,OAET83E,aAAc,CACZrwF,MAAO,OACPkW,QAAS,SAEXo6E,UAAW,CACTtwF,MAAO,OACPstB,eAAgB,oBAIpB,YClMA,IAAMijE,GAAc,SAAC,GAOf,IANJh6F,EAMI,EANJA,KACAi6F,EAKI,EALJA,UACAC,EAII,EAJJA,YACAlpF,EAGI,EAHJA,KACAmpF,EAEI,EAFJA,yBACAC,EACI,EADJA,2BAEM35E,EAAUi5E,KACVW,GAAYJ,EAcZtjD,EAAW,SAACzvC,EAAOozF,GACvB,OAAOA,IAAcluF,EAAoBrK,KAAKC,UAAUkF,GAASA,GAY7DqzF,GAA0BtwE,EAAAA,EAAAA,cAAY,WAC1CkwE,EAAyBn6F,EAAMgR,EAAMqpF,KACpC,CAACr6F,EAAMgR,EAAMmpF,EAA0BE,IAKpCG,GAA4BvwE,EAAAA,EAAAA,cAAY,WAC5CmwE,EAA2Bp6F,EAAMgR,KAChC,CAAChR,EAAMgR,EAAMopF,IAaVK,GAAiBxwE,EAAAA,EAAAA,cACrB,SAAA4O,GACE,OAAIA,EAAI3xB,QAAUgF,GAA+B,OAAd2sB,EAAI3xB,MAEnC,kBAAC,EAAAyZ,WAAD,CACE0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQq5E,aAAb,YAA6Br5E,EAAQo5E,iBAE7CljD,EAAS9d,EAAIjW,aAAciW,EAAI7nB,OAG3B6nB,EAAI3xB,QAAUiF,EAErB,kBAAC,EAAAwU,WAAD,CACE0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQs5E,UAAb,YAA0Bt5E,EAAQo5E,iBAE1CljD,EAAS9d,EAAIjW,aAAciW,EAAI7nB,OAKlC,kBAAC,EAAA2P,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQo5E,gBAC5CljD,EAAS9d,EAAI3xB,MAAO2xB,EAAI7nB,SAKjC,CAACyP,EAAQq5E,aAAcr5E,EAAQo5E,eAAgBp5E,EAAQs5E,YAGzD,OACE,kBAAC,EAAAp5E,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQk5E,cAC7C,kBAAC,EAAAh5E,WAAD,CACE0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQm5E,aAAb,YACP55F,EAAKkH,QAAUiF,EAAiBsU,EAAQs5E,UAAY,KAGrD/5F,EAAK6H,KAEP4yF,EAAez6F,IACdi6F,GAAaI,IACb,kBAAC,KAAD,CACE,cAAY,aACZv5E,QAASy5E,EACT/3E,KAAK,SAEJ63E,EAAW,kBAAC,KAAD,MAAqB,kBAAC,KAAD,OAGpCH,GACC,kBAAC,KAAD,CACE,cAAY,eACZp5E,QAAS05E,EACTh4E,KAAK,SAEL,kBAAC,KAAD,SAOVw3E,GAAYt4E,UAAY,CACtB1hB,KAAM2hB,KAAAA,OAAAA,WACN3Q,KAAM2Q,KAAAA,OAAAA,WACNw4E,yBAA0Bx4E,KAAAA,KAC1By4E,2BAA4Bz4E,KAAAA,KAC5Bu4E,YAAav4E,KAAAA,KACbs4E,UAAWt4E,KAAAA,MAGbq4E,GAAYp4E,aAAe,CACzBs4E,aAAa,EACbD,WAAW,GAGb,YC3IA,IAAMS,GAAgB,SAAA3+E,GACpB,IAAQnc,EAA8Cmc,EAA9Cnc,KAAM+6F,EAAwC5+E,EAAxC4+E,YAAaV,EAA2Bl+E,EAA3Bk+E,UAAWC,EAAgBn+E,EAAhBm+E,YACtC,GAAsCr7E,EAAAA,EAAAA,UAAS,IAA/C,YAAOqpB,EAAP,KAAoB0yD,EAApB,KACMn6E,EAAU+4E,KAEhB,OACE,kBAAC,EAAA74E,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ7hB,MAC5C+7F,GACC,yBAAKx9E,UAAWsD,EAAQg5E,cACtB,kBAAC,GAAD,CAAQz2D,SAAU,SAAA97B,GAAK,OAAI0zF,EAAe1zF,OAG7CqyB,GAAO2O,EAAatoC,GAClBqnC,MAAK,SAACngC,EAAG2B,GAAJ,OAAU3B,EAAEe,IAAIq/B,cAAcz+B,EAAEZ,QACrC9H,KAAI,SAACC,EAAMgE,GAAP,OACH,kBAAC,GAAD,MACE,cAAY,yBACR+X,EAFN,CAGElU,IAAK7D,EACLhE,KAAMA,EACNi6F,WAAYj6F,EAAK66F,SAAWZ,EAC5BC,YAAal6F,EAAK66F,SAAWX,UAOzCQ,GAAch5E,UAAY,CACxB9hB,KAAM+hB,KAAAA,MAAAA,WACNg5E,YAAah5E,KAAAA,KACbu4E,YAAav4E,KAAAA,MAGf+4E,GAAc94E,aAAe,CAC3B+4E,aAAa,EACbT,aAAa,GAGf,YCnDM,GAA+B9zF,QAAQ,oC,eCUvC00F,GAAY,SAAC,GAMb,QALJ96F,KAAQT,EAKJ,EALIA,GAAIuR,EAKR,EALQA,KAAM+iC,EAKd,EALcA,QAClBnW,EAII,EAJJA,SACA9iB,EAGI,EAHJA,MACAmgF,EAEI,EAFJA,cACAC,EACI,EADJA,sBAEMv6E,EAAU43E,KACRpxF,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAWFg0F,GAAoBhxE,EAAAA,EAAAA,cAAY,WACpC+wE,EAAsBz7F,EAAIs0C,GAC1Bj5B,EAAMnT,QAAQyzF,sBAAsB37F,GAAKs0C,KACxC,CAACj5B,EAAOi5B,EAASt0C,EAAIy7F,IAKlBG,GAAkBlxE,EAAAA,EAAAA,cAAY,WAClC8wE,GACE,SAAAvgF,GAAO,OAAII,EAAMnT,QAAQ2zF,UAAU77F,EAAI,CAAEuR,KAAM0J,MAC/C1J,KAED,CAAC8J,EAAO9J,EAAMvR,EAAIw7F,IAKfM,GAAoBpxE,EAAAA,EAAAA,cAAY,WACpCrP,EAAMnT,QAAQ6zF,YAAY/7F,KACzB,CAACqb,EAAOrb,IAEX,OACE,kBAAC,EAAAohB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ03E,UAC7C,kBAAC,EAAAj+D,QAAD,CAAS9nB,MAAOtB,GACd,kBAAC,EAAA6P,WAAD,CACE0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQgzD,YAE1C3iE,IAGL,kBAAC,EAAA+P,WAAD,CACE,cAAY,0BACZC,QAASm6E,GAERpnD,GACC,kBAAC,KAAD,CAAgB7tB,SAAS,QAAQvc,MAAM,aAEvCoqC,GACA,kBAAC,KAAD,CACE7tB,SAAS,QACTvc,MAAM,cAIXi0B,GACC,kBAAC,EAAAxD,QAAD,CAAS9nB,MAAOnL,EAAE,cAChB,kBAAC,EAAA4Z,WAAD,CAAY,cAAY,aAAaC,QAASq6E,GAC5C,kBAAC,KAAD,CAAUn1E,SAAS,YAIxB0X,GACC,kBAAC,EAAAxD,QAAD,CAAS9nB,MAAOnL,EAAE,gBAChB,kBAAC,EAAA4Z,WAAD,CAAY,cAAY,eAAeC,QAASu6E,GAC9C,kBAAC,KAAD,CAAYr1E,SAAS,cAQjC80E,GAAUp5E,UAAY,CACpB9G,MAAO+G,KAAAA,OAAAA,WACP3hB,KAAM2hB,KAAAA,OAAAA,WACNo5E,cAAep5E,KAAAA,KAAAA,WACf+b,SAAU/b,KAAAA,MAGZ,YCpEA,IAMM45E,GAAO,SAAC,GAOR,IANJzqF,EAMI,EANJA,KACA8J,EAKI,EALJA,MACS2lC,EAIL,EAJJrM,QACAxW,EAGI,EAHJA,SACAp1B,EAEI,EAFJA,KACA0yF,EACI,EADJA,sBAGA,GAAoCn8E,EAAAA,EAAAA,UAAS,GAA7C,YAAOkpC,EAAP,KAAmBC,EAAnB,KACQ/lD,EAAS09C,GAAkB,CACjCnrC,SAAUoG,EACVilC,UAAWU,EACXX,kBAAmB9L,GAAAA,sBAHb7xC,KAMFwe,EAAUmnC,KACR3gD,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAeFwrD,GAAcxoC,EAAAA,EAAAA,cAAY,SAAC/iB,EAAO8J,EAAMwqF,GAC5C,IAAMC,EAAoB,CACxBC,OAAQ,kBAAOF,EAAqBz5F,KAAKC,UAAUkF,GAASA,GAC5Dy0F,QAAS,kBAAMz0F,EAAMrH,aAEvB,OAAOmR,KAAQyqF,EAAoBA,EAAkBzqF,KAAU9J,IAC9D,IAKGowC,GAAgBrtB,EAAAA,EAAAA,cAAY,WAChC,IAAMqsB,EAAS,GACTe,GAAap1C,MAAAA,OAAA,EAAAA,EAAMo1C,aAAc,GASvC,OARAtwC,OAAOgE,KAAKssC,GAAYzvC,SAAQ,SAAA4uD,GAAS,YACjCtvD,GAAQ,UAAAjF,EAAKo1C,kBAAL,mBAAkBmf,UAAlB,eAA0BtvD,QAAS,GAC3C8J,GAAO,UAAA/O,EAAKo1C,kBAAL,mBAAkBmf,UAAlB,eAA0BxlD,OAAQ5E,GAC/CkqC,EAAOh3C,KAAK,CACVuI,IAAK2uD,EACLtvD,MAAOurD,EAAYvrD,EAAO8J,GAAM,QAG7BslC,IACN,CAACr0C,MAAAA,OAAD,EAACA,EAAMo1C,WAAYob,IAOhBmpC,GAAiB3xE,EAAAA,EAAAA,cACrB,SAAC4xE,GAAkC,IAAlB3lD,EAAkB,uDAAP,GACpBtB,EAAO,CACXpyB,KAAM,KACNpQ,MAAkBnL,EAAXivC,EAAa,YAAiB,YACrCnzB,WAAY9b,EAAE,aACdC,MAAOgvC,EACPpzB,aAAc,SAAA5b,GACZ,IAEE,MAAO,CAAExE,OADUkb,GAAqB1W,GACXob,MAAO,IACpC,MAAO6C,GACP,MAAO,CACLziB,QAAQ,EACR4f,MAAO6C,EAAIrK,WAIjBX,SAAU0hF,GAGZvzF,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,YAAiCgoC,KAE7D,CAACtsC,EAAMrB,IAUH60F,GAAoB7xE,EAAAA,EAAAA,cACxB,SAAC8xE,EAASlzD,GACR,IAAcruB,EAAYquB,EAAlB/3B,KAER,IACE,IAAK0J,EAAS,MAAM,IAAIvV,MAAMkO,GAAeE,mBACxC,IAAKwK,EAAAA,MAAAA,mBAAyBrD,EAAS,IAC1C,MAAM,IAAIvV,MAAMkO,GAAeC,cAGjC,GAAI2oF,IAAYvhF,GAAWI,EAAMnT,QAAQu0F,aAAaxhF,GACpD,MAAM,IAAIvV,MAAMkO,GAAeY,iCAEjC,MAAOuO,GACP,OAAO7I,QAAQ0vB,QAAQ,CAAEzmC,QAAQ,EAAO4f,MAAOA,EAAMxH,UAGvD,OAAOrB,QAAQ0vB,QAAQ,CAAEzmC,QAAQ,EAAMT,KAAM,CAAE85F,QAAAA,EAASlzD,QAAAA,OAE1D,CAACjuB,IAYGqhF,GAAwBhyE,EAAAA,EAAAA,cAC5B,SAAC8xE,EAASlzD,GACQ,KAAZkzD,EACFnhF,EAAMnT,QAAQy0F,aAAarzD,EAAQ/3B,KAAM+3B,GAEzCjuB,EAAMnT,QAAQgjD,mBAAmB,aAAc5hB,EAASkzD,KAG5D,CAACnhF,IAQGuhF,GAAwBlyE,EAAAA,EAAAA,cAC5B,SAAA8sC,GACE,IAAM9zD,EAAM2X,EAAMnT,QAAQu0F,aAAajlC,IAAWlmD,GAE5C+jC,EAAO,CACXz6B,SAAU,SAAAy4C,GAAQ,OAAIqpC,EAAsBh5F,EAAI6N,KAAM8hD,IACtD/E,eAAgB,SAAAhlB,GAAO,OAAIizD,EAAkB74F,EAAI6N,KAAM+3B,IACvDuzD,YAAY,EACZhqF,MAAOnL,EAAE,aACThF,KAAMgB,EACNqF,KAAAA,GAGFA,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,cACAgoC,EACAqd,MAGJ,CAACr3C,EAAOtS,EAAMwzF,EAAmBG,EAAuBh1F,IAepD0hD,GAAoB1+B,EAAAA,EAAAA,cAAY,SAAAnF,GACpC,IAAMu3E,EAAgBxzC,SAAS/jC,EAAIqY,cAAcgF,QAAQC,QAEzD4lB,GAAc,SAAA/8B,GACZ,OAAOA,IAAcoxE,EAAgB,EAAIA,OAE1C,IAKGC,GAA6BryE,EAAAA,EAAAA,cAAY,WAC7C,IAAM2qB,EAAO,CACXpyB,KAAM,KACNE,WAAW,EACXtQ,MAAOnL,EAAE,mBACT8b,WAAY9b,EAAE,eACdC,MAAO0T,EAAMnT,QAAQmvC,iBACrBz8B,SAAU,SAAApJ,GAAW,OAAI6J,EAAMnT,QAAQu4D,eAAejvD,KAGxDzI,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,YAAiCgoC,KAC1D,CAACh6B,EAAOtS,EAAMrB,IAKXs1F,GAA0BtyE,EAAAA,EAAAA,cAAY,WAC1CkyE,MACC,CAACA,IAMEK,GAAkBvyE,EAAAA,EAAAA,cACtB,YAAa,IAAVpiB,EAAU,EAAVA,IACDs0F,EAAsBt0F,KAExB,CAACs0F,IAQGM,GAAoBxyE,EAAAA,EAAAA,cACxB,YAAoB,IAAjBpiB,EAAiB,EAAjBA,IAAKX,EAAY,EAAZA,MACA0tC,EAAO,CACXzzB,WAAYla,EAAE,UACdmL,MAAOnL,EAAE,qBAAsB,CAAE23D,UAAW/2D,IAC5CsS,SAAU,kBAAMS,EAAMnT,QAAQi1F,gBAAgB70F,IAC9CiT,QAAS7T,EAAE,qCAAsC,CAC/C23D,UAAW/2D,EACXX,MAAAA,KAGJoB,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,aAAkCgoC,KAE9D,CAACh6B,EAAOtS,EAAMrB,IAMV01F,GAAsB1yE,EAAAA,EAAAA,cAAY,WACtC2xE,GAAe,SAAAv2B,GAAS,OAAIzqD,EAAMnT,QAAQm1F,SAASv3B,QAClD,CAACu2B,EAAgBhhF,IAuCdiiF,GAAoB5yE,EAAAA,EAAAA,cAAY,WACpC,OAAOhoB,EAAK8O,YACV,kBAAC,EAAA4P,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQ1P,cACpD9O,EAAK8O,aAGR,kBAAC,EAAA4P,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WAAvD,SAID,CAACxE,EAASxe,EAAK8O,cAMZ+rF,GAAmB7yE,EAAAA,EAAAA,cAAY,WACnC,IAAM4pD,EAASv8B,IACf,OAAOu8B,EAAOzzE,OACZ,kBAAC,EAAAugB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ23E,qBAC7C,kBAAC,GAAD,CACEx4F,KAAMi0E,EACNqmB,YAAax8D,EACbu8D,UAAWv8D,EACX08D,2BAA4BqC,EAC5BtC,yBAA0BqC,EAC1BxrF,KAAK,SACL2pF,aAAW,KAIf,kBAAC,EAAAh6E,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WACpDhe,EAAE,mBAGN,CAACwZ,EAASid,EAAU4Z,EAAemlD,EAAmBD,EAAiBv1F,IAMpE81F,GAAe9yE,EAAAA,EAAAA,cAAY,WAC/B,IAAM05C,EAAS58D,OAAOqO,OAAOnT,EAAK0hE,QAAU,IAC5C,OAAOA,EAAOvjE,OACZujE,EAAO5jE,KAAI,SAAAsjD,GAAK,OACd,kBAAC,GAAD,CACE,cAAY,qBACZx7C,IAAKw7C,EAAM9jD,GACXS,KAAMqjD,EACNzoC,MAAOA,EACPmgF,cAAea,EACfl+D,SAAUA,EACVs9D,sBAAuBA,OAI3B,kBAAC,EAAAr6E,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WACpDhe,EAAE,eAGN,CACDwZ,EACAxe,EAAK0hE,OACL/oD,EACA8iB,EACAk+D,EACAZ,EACA/zF,IAGF,OACE,kBAAC,EAAA0Z,WAAD,CAAY,cAAY,4BAA4B0K,UAAU,OAC5D,kBAAC,GAAD,CAAava,KAAMA,EAAMojC,QAASjyC,EAAKiyC,SAAW,KAClD,kBAAC,EAAAnM,KAAD,KAEE,kBAAC,EAAAE,SAAD,CACE,cAAY,2BACZuhB,QAAM,EACN,eA/WK,EAgXL1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,iBACzB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,yBACZoE,UAAWyY,EACX5c,QAtHqB,SAAA/b,GAC7BA,EAAE4Z,kBACF29E,MAsHQ,kBAAC,KAAD,OAxXG,IA0XJv0C,EACC,kBAAC,KAAD,MAEA,kBAAC,KAAD,OAGJ,kBAAC,EAAA0B,SAAD,CAAUC,GAhYH,IAgYO3B,EAAwC4B,eAAa,GAChEkzC,IACD,kBAAC,EAAAx/D,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,0BACZuhB,QAAM,EACN,eAvYI,EAwYJ1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,uBACZoE,UAAWyY,EACX5c,QAtIiB,SAAA/b,GACzBA,EAAE4Z,kBACF49E,MAsIQ,kBAAC,KAAD,OAhZE,IAkZHx0C,EACC,kBAAC,KAAD,MAEA,kBAAC,KAAD,OAGJ,kBAAC,EAAA0B,SAAD,CACE,cAAY,2BACZC,GA1ZI,IA0ZA3B,EACJ4B,eAAa,GAEZmzC,IACD,kBAAC,EAAAz/D,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,sBACZuhB,QAAM,EACN,eAnaA,EAoaA1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,YACzB,kBAAC,EAAA4Z,WAAD,CACE,cAAY,mBACZoE,UAAWyY,EACX5c,QA1Ja,SAAA/b,GACrBA,EAAE4Z,kBACFg+E,MA0JQ,kBAAC,KAAD,OA5aF,IA8aC50C,EAAoC,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAExD,kBAAC,EAAA0B,SAAD,CACE,cAAY,uBACZC,GAlbA,IAkbI3B,EACJ4B,eAAa,GAEZozC,IACD,kBAAC,EAAA1/D,QAAD,UAOVk+D,GAAK75E,UAAY,CACf5Q,KAAM6Q,KAAAA,OAAAA,WACN/G,MAAO+G,KAAAA,OAAAA,WACPuyB,QAASvyB,KAAAA,OAAAA,WACTrZ,KAAMqZ,KAAAA,KAAAA,WACNq5E,sBAAuBr5E,KAAAA,KAAAA,WACvB+b,SAAU/b,KAAAA,MAGZ,YCrbA,GA3CiB,SAAA5F,GACf,IAAQ1E,EAAmC0E,EAAnC1E,MAAOvG,EAA4BiL,EAA5BjL,KAAMksF,EAAsBjhF,EAAtBihF,QAASpqF,EAAamJ,EAAbnJ,SACxB6N,EAAUmnC,KAYVq1C,GAAchzE,EAAAA,EAAAA,cAClB,SAAArT,GACEomF,EAAQ,CACNlsF,KAAAA,EACAuG,MAAAA,EACA6lF,QAAStmF,EAAMsmF,YAGnB,CAACF,EAASlsF,EAAMuG,IASlB,OACE,kBAAC,EAAAkrD,KAAD,CACE,cAAY,aACZl3C,UAAU,SACVlO,UAAWsD,EAAQkW,KACnB7V,QAASm8E,GAERrqF,ICtCP,IAAMuqF,GAAc,SAAAphF,GAElB,IAAQxc,EAA8Cwc,EAA9Cxc,GAAIs4C,EAA0C97B,EAA1C87B,SAAUj9B,EAAgCmB,EAAhCnB,MAAO5J,EAAyB+K,EAAzB/K,KAAMgsF,EAAmBjhF,EAAnBihF,QAAS94E,EAAUnI,EAAVmI,MAEtCzD,EAAUg4E,KACRxxF,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQR,OACE,oCACE,wBAAIkW,UAAWsD,EAAQye,QAAS3/B,GAChC,kBAAC,EAAA0oC,SAAD,CAAUqY,SAAO,GACf,kBAAC,EAAAD,aAAD,CAAcx1B,QAAS5jB,EAAEid,KACzB,kBAAC,GAAD,CACE,cAAY,oBACZpT,KAAM+mC,EACNxgC,MAAOuD,EACPoiF,QAASA,GAERnlD,IAGL,kBAAC,EAAA5P,SAAD,CAAUqY,SAAO,GACf,kBAAC,EAAAD,aAAD,CAAcx1B,QAAS5jB,EAAE,iBACzB,kBAAC,EAAA0Z,WAAD,KAAa/F,IAEf,kBAAC,EAAAqtB,SAAD,CAAUqY,SAAO,GACf,kBAAC,EAAAD,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAA0Z,WAAD,KAAa3P,MAMrBmsF,GAAYz7E,UAAY,CACtBniB,GAAIoiB,KAAAA,OACJk2B,SAAUl2B,KAAAA,OACVuC,MAAOvC,KAAAA,OACP/G,MAAO+G,KAAAA,OACP3Q,KAAM2Q,KAAAA,OACNq7E,QAASr7E,KAAAA,MAGXw7E,GAAYv7E,aAAe,CACzBriB,GAAI,GACJs4C,SAAU,IACVj9B,MAAO,IACP5J,KAAM,IACNkT,MAAO,YACP84E,QAAS,kBAAMvhF,GAAgB,aAGjC,YC3DA,IAAM2hF,GAAe,SAAArhF,GAEnB,IAAQihF,EAAyCjhF,EAAzCihF,QAASK,EAAgCthF,EAAhCshF,aAAcnjD,EAAkBn+B,EAAlBm+B,cAE/B,GAAoCr7B,EAAAA,EAAAA,UAAS,IAA7C,YAAOy+E,EAAP,KAAmBC,EAAnB,KACA,GAAsC1+E,EAAAA,EAAAA,UAAS,IAA/C,YAAO2+E,EAAP,KAAoBC,EAApB,KAEMh9E,EAAUs4E,KACR9xF,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAaF8jD,GAAW9gC,EAAAA,EAAAA,cAAY,SAAAigC,GAC3B,IAAMwzC,EAAc,GACdC,EAAe,GACrB52F,OAAOgE,KAAKm/C,GAAOtiD,SAAQ,SAAAijD,GACzB,IAAMuV,EAAOlW,EAAMW,GACb+yC,EAAS72F,OAAOqO,OAAOgrD,EAAKroB,QAC5B8lD,EAAU92F,OAAOqO,OAAOgrD,EAAKpoB,SAC7B8lD,EAAYF,EAAO79F,KAAI,SAAAshC,GAAE,OAAIA,EAAGvoB,YAAUygB,QAAO,SAAAwkE,GAAE,OAAIA,KAE7DH,EAAOtiF,MAAK,kBACVoiF,EAAYp+F,KAAK,CACfwR,KAAM+5C,EACN3jD,MAAO42F,OAIXD,EAAQviF,MAAK,kBAAMqiF,EAAar+F,KAAK,CAAEwR,KAAM+5C,UAG/C0yC,EAAcG,GACdD,EAAeE,KACd,IAQGK,GAAkB/zE,EAAAA,EAAAA,cACtB,SAACnR,EAAU9U,GAET,OADoBk2C,EAAczS,SAAS3uB,GAEzC,kBAAC,EAAA6H,WAAD,CACE9Y,IAAG,UAAKiR,EAAL,YAAiB9U,GACpBmZ,UAAS,UAAKsD,EAAQy4E,iBAAb,YAAiCz4E,EAAQwE,WAEjDnM,GAGH,kBAAC,EAAAohB,QAAD,CACEryB,IAAG,UAAKiR,EAAL,YAAiB9U,GACpBkmB,UAAW,eACX/M,UAAWsD,EAAQy4E,iBACnB9mF,MAAOnL,EAAE,mBAAoB,CAAE6jD,aAAchyC,KAE7C,8BACE,kBAAC,EAAAypD,KAAD,CACE,cAAY,sBACZl3C,UAAU,SACVvK,QAAS,SAAAlK,GACPomF,EAAQ,CACN3lF,MAAOhL,GACPyE,KAAMgI,EACNokF,QAAStmF,EAAMsmF,YAIlBpkF,OAMX,CAACohC,EAAez5B,EAASu8E,EAAS/1F,IAQ9Bg3F,GAAkBh0E,EAAAA,EAAAA,cACtB,SAAAi0E,GACE,OAAOA,EAAUn+F,KAAI,SAACqgE,EAAM+9B,GAAc,MACxC,OACE,kBAAC,EAAAx9E,WAAD,CACE,cAAY,eACZ9Y,IAAG,UAAKu4D,EAAKtvD,KAAV,YAAkBqtF,GACrB9yE,UAAU,MACVlO,UAAWsD,EAAQw4E,SAEnB,kBAAC,EAAAt4E,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQoqC,UAC5CuV,EAAKtvD,MAPV,UASGsvD,EAAKl5D,aATR,aASG,EAAYnH,IAAIi+F,GACjB,kBAAC,EAAA3gE,QAAD,YAKR,CAAC5c,EAASu9E,IAmBZ,OAVAj/E,EAAAA,EAAAA,YAAU,WACRgsC,EAASsyC,KACR,CAACtyC,EAAUsyC,IASZ,oCACE,kBAAC,EAAA18E,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ24E,gBAC5CnyF,EAAE,gBAEL,kBAAC,EAAA0Z,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ44E,gBAC7C,kBAAC,EAAA14E,WAAD,CAAY0K,UAAU,OAEnBiyE,EAAWl9F,OAAS,GACnB,oCACE,yBAAK+c,UAAWsD,EAAQ64E,WACtB,yBAAKn8E,UAAS,kBAAasD,EAAQu4E,YACnC,yBAAK77E,UAAU,WAAWlW,EAAE,YAE7Bg3F,EAAgBX,IAIpBE,EAAYp9F,OAAS,GACpB,oCACE,yBAAK+c,UAAWsD,EAAQ64E,WACtB,yBAAKn8E,UAAS,mBAAcsD,EAAQu4E,YACpC,yBAAK77E,UAAU,WAAWlW,EAAE,aAE7Bg3F,EAAgBT,QAS/BJ,GAAa17E,UAAY,CACvBs7E,QAASr7E,KAAAA,KAAAA,WACT07E,aAAc17E,KAAAA,OACdu4B,cAAev4B,KAAAA,OAGjBy7E,GAAax7E,aAAe,CAC1By7E,aAAc,GACdnjD,cAAe,IAGjB,YCzKA,IAAMkkD,GAAe,SAAC,GAQhB,IAPJttF,EAOI,EAPJA,KACAsB,EAMI,EANJA,MACAnR,EAKI,EALJA,QACAiG,EAII,EAJJA,MACA62E,EAGI,EAHJA,cACArgD,EAEI,EAFJA,SACA2gE,EACI,EADJA,mBAGQp3F,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAU83E,KAYV39B,GAAiB3wC,EAAAA,EAAAA,cACrB,SAAAnF,GACE,IAAM3c,EAAO2c,EAAIqY,cAAcgF,QAAQh6B,KACvCk2F,EAAmBl2F,EAAM2c,EAAIvgB,OAAO2C,SAEtC,CAACm3F,IAcGC,GAAiBr0E,EAAAA,EAAAA,cACrB,SAAAwC,GAAS,OAAKA,EAAY,IAAH,OAAOxlB,EAAE,WAAT,KAAyB,KAChD,CAACA,IAGH,OACE,kBAAC,EAAAs3F,KAAD,CAAMv+F,MAAI,EAACs6D,GAAI,GAAIn9C,UAAWsD,EAAQ+3E,WACpC,kBAAC,EAAA9pC,YAAD,CAAa5qC,WAAW,GACtB,kBAAC,EAAA+qC,WAAD,KAAaz8C,GACb,kBAAC,EAAAkhD,OAAD,CAAQpsD,MAAOA,EAAO6d,SAAU61C,EAAgB31C,UAAWyY,GACxDz8B,EAAQlB,KAAI,SAAC23D,EAAQ8mC,GACpB,OACE,kBAAC,EAAAvvE,SAAD,CACEpnB,IAAK,sBAAwB22F,EAC7Bt3F,MAAOwwD,EAAOxwD,MACd,YAAW4J,GAHb,UAKM4mD,EAAO1nC,KALb,YAKqBsuE,EACjB5mC,EAAOxwD,QAAU62E,YAWnCqgB,GAAa18E,UAAY,CACvBtP,MAAOuP,KAAAA,OAAAA,WACPza,MAAOya,KAAAA,IAAAA,WACP08E,mBAAoB18E,KAAAA,KAAAA,WACpB7Q,KAAM6Q,KAAAA,OACN1gB,QAAS0gB,KAAAA,MACTo8D,cAAep8D,KAAAA,IACf+b,SAAU/b,KAAAA,MAGZ,YCxFA,IAAM88E,GAAoB,SAAC,GAKrB,IAJJ/gE,EAII,EAJJA,SACA2gE,EAGI,EAHJA,mBACAhB,EAEI,EAFJA,aACAl8B,EACI,EADJA,aAEQl6D,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFy3F,GAAaziE,EAAAA,EAAAA,UACjB,iBAAO,CACL2tB,WAAY,CACVx3C,MAAOnL,EAAE,cACThG,QAAS,CACP,CAAE+uB,KAAM/oB,EAAE,gBAAiBC,OAAO,GAClC,CAAE8oB,KAAM/oB,EAAE,iBAAkBC,OAAO,KAGvC4iD,WAAY,CACV13C,MAAOnL,EAAE,cACThG,QAAS,CACP,CAAE+uB,KAAM/oB,EAAE,gBAAiBC,OAAO,GAClC,CAAE8oB,KAAM/oB,EAAE,iBAAkBC,OAAO,KAGvC2iD,OAAQ,CACNz3C,MAAOnL,EAAE,UACThG,QAAS,CACP,CAAE+uB,KAAM/oB,EAAE,YAAaC,OAAO,GAC9B,CAAE8oB,KAAM/oB,EAAE,eAAgBC,OAAO,QAIvC,CAACD,IASH,OAAOF,OAAO0L,QAAQisF,GAAY3+F,KAAI,4BAAE8H,EAAF,KAAO7H,EAAP,YACpC,kBAAC,GAAD,CACE6H,IAAK,mBAAqBA,EAC1BuK,MAAOpS,EAAKoS,MACZnR,QAASjB,EAAKiB,QACd6P,KAAMjJ,EACNX,MAAOi6D,EAAat5D,GACpBk2E,cAAesf,EAAax1F,GAC5B61B,SAAUA,EACV2gE,mBAAoBA,QAK1BI,GAAkB/8E,UAAY,CAC5B27E,aAAc17E,KAAAA,OAAAA,WACdw/C,aAAcx/C,KAAAA,OAAAA,WACd08E,mBAAoB18E,KAAAA,KAAAA,WACpB+b,SAAU/b,KAAAA,MAGZ88E,GAAkB78E,aAAe,CAC/B8b,UAAU,GAGZ,YC9DA,IAAMihE,GAAmB,SAAA5iF,GACvB,IACE2hB,EAOE3hB,EAPF2hB,SACAkhE,EAME7iF,EANF6iF,UACAC,EAKE9iF,EALF8iF,mBACAC,EAIE/iF,EAJF+iF,qBACAC,EAGEhjF,EAHFgjF,eACAC,EAEEjjF,EAFFijF,eACA10C,EACEvuC,EADFuuC,QAGF,GAAkCzrC,EAAAA,EAAAA,UAAS,IAA3C,YAAOogF,EAAP,KAAkBC,EAAlB,KAEMz+E,EAAU84E,KACRtyF,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAYFk4F,GAAiBl1E,EAAAA,EAAAA,cAAY,WACjC,IAAMqsB,EAAS,GACG,IACb,IAAI3/B,IAAJ,cACE5P,OAAOgE,KAAKi0F,IADd,IAEEj4F,OAAOgE,KAAKg0F,OAGTn3F,SAAQ,SAAAC,GAAO,YACjBX,EAAK,UAAG63F,EAAel3F,UAAlB,aAAG,EAAqBX,MAC7B8J,EAAI,UAAGguF,EAAen3F,UAAlB,aAAG,EAAqBmJ,KAC5B4R,EAAY,UAAGo8E,EAAen3F,UAAlB,aAAG,EAAqBX,MACpC6J,GAAc,UAAAiuF,EAAen3F,UAAf,eAAqBkJ,cAAe,GAClD8pF,EAAUhzF,KAAOk3F,KAAoBl3F,KAAOm3F,GAClD1oD,EAAOh3C,KAAK,CACVuI,IAAAA,EACAX,MAAAA,EACA6J,YAAAA,EACA6R,aAAAA,EACAi4E,QAAAA,EACA7pF,KAAAA,OAKJkuF,EAAa5oD,KACZ,CAACyoD,EAAgBC,IAkBpB,OAVAjgF,EAAAA,EAAAA,YAAU,WACRogF,MACC,CAACA,IAQGF,EAAU7+F,OAAS,EACxB,kBAAC,EAAAugB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ23E,qBAC7C,kBAAC,GAAD,CACEx4F,KAAMq/F,EACNhF,UAAWv8D,EACXw8D,YAAa0E,EACbzE,yBAA0B0E,EAC1BzE,2BAA4B0E,EAC5B9tF,KAAMs5C,EACNqwC,aAAW,KAIf,kBAAC,EAAAh6E,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WACpDhe,EAAEsJ,GAAc+5C,EAAQyU,kBAK/B4/B,GAAiBj9E,UAAY,CAC3B4oC,QAAS3oC,KAAAA,OAAAA,WACTk9E,mBAAoBl9E,KAAAA,KAAAA,WACpBo9E,eAAgBp9E,KAAAA,OAAAA,WAChBm9E,qBAAsBn9E,KAAAA,KACtBq9E,eAAgBr9E,KAAAA,OAChB+b,SAAU/b,KAAAA,KACVi9E,UAAWj9E,KAAAA,MAGbg9E,GAAiB/8E,aAAe,CAC9B8b,UAAU,EACVkhE,WAAW,GAGb,YCjHM,GAA+Bx4F,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,kC,eCSvCg5F,GAAmB,SAAArjF,GACvB,IAAQw3D,EAA8Cx3D,EAA9Cw3D,WAAY8rB,EAAkCtjF,EAAlCsjF,WAAYC,EAAsBvjF,EAAtBujF,kBAEhC,GAA4BzgF,EAAAA,EAAAA,UAAS,IAArC,YAAO8kD,EAAP,KAAe47B,EAAf,KAEM9+E,EAAU63E,KACRrxF,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAkBR,OAVA8X,EAAAA,EAAAA,YAAU,WACRwgF,EAAUx4F,OAAOqO,OAAOiqF,MACvB,CAACA,IAQG17B,EAAOvjE,OACZ,kBAAC,EAAAugB,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ23E,qBAC5Cz0B,EAAO5jE,KAAI,SAAAsjD,GACV,IAAMx7C,EAAMw7C,EAAM9jD,GACZ8lE,EAAYhiB,EAAMvyC,KAClBy/C,EAAUgjB,EAAW9rC,SAAS5/B,GACpC,OACE,kBAAC,EAAA8Y,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ03E,SAAUtwF,IAAKA,GAC5D,kBAAC,EAAAqyB,QAAD,CAAS9nB,MAAOizD,GACd,kBAAC,EAAA1kD,WAAD,CACE0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQgzD,YAE1CpO,IAGL,kBAAC,EAAAxkD,WAAD,CACE,cAAY,qBACZC,QAAS,kBAAMw+E,EAAkBz3F,GAAM0oD,KAEtCA,GAAW,kBAAC,KAAD,CAAYvqC,SAAS,QAAQvc,MAAM,aAC7C8mD,GACA,kBAAC,KAAD,CAAiBvqC,SAAS,QAAQvc,MAAM,mBAQpD,kBAAC,EAAAkX,WAAD,CAAYxD,UAAS,UAAKsD,EAAQonC,UAAb,YAA0BpnC,EAAQwE,WACpDhe,EAAE,cAKTm4F,GAAiB19E,UAAY,CAC3B49E,kBAAmB39E,KAAAA,KAAAA,WACnB4xD,WAAY5xD,KAAAA,MACZ09E,WAAY19E,KAAAA,QAGdy9E,GAAiBx9E,aAAe,CAC9B2xD,WAAY,GACZ8rB,WAAY,IAGd,Y,qkBC5CA,IAaMG,IAAWp7F,EAAAA,EAAAA,OACf,YAA0E,IAAvEi7E,EAAuE,EAAvEA,SAAU/2E,EAA6D,EAA7DA,KAAM00F,EAAuD,EAAvDA,QAASt/D,EAA8C,EAA9CA,SAAU+hE,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBACzCz9F,EAAOo9E,EAASp9E,KAEtB,GAAwC4c,EAAAA,EAAAA,UAAS,IAAjD,YAAOw+E,EAAP,KAAqBsC,EAArB,KACA,GAAoC9gF,EAAAA,EAAAA,UAAS,GAA7C,YAAOkpC,EAAP,KAAmBC,EAAnB,KACA,GAAgCnpC,EAAAA,EAAAA,UAAS,IAAzC,YAAO62E,EAAP,KAAiBkK,EAAjB,KACA,GAA0C/gF,EAAAA,EAAAA,UAAS,IAAnD,YAAOq7B,EAAP,KAAsB2lD,EAAtB,KAEMp/E,EAAUi4E,KACRzxF,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAcF0hD,GAAoB1+B,EAAAA,EAAAA,cAAY,SAAAnF,GACpC,IAAMu3E,EAAgBxzC,SAAS/jC,EAAIqY,cAAcgF,QAAQC,QAEzD4lB,GAAc,SAAA/8B,GACZ,OAAOA,IAAcoxE,EAAgB,EAAIA,OAE1C,IAaGyD,GAAc71E,EAAAA,EAAAA,aAAW,cAAC,2FACxB81E,EAAmBN,EAAUh4F,QAAQu4F,oBAAoB/9F,EAAK1C,KADtC,yCAGrBwgG,GAHqB,uBAMJz3F,EACxBsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEyK,MAAO,OACPvG,KAAMuuE,EAAS9uD,OAAOtuB,KAAKuiE,gBAXD,cAMxBy7B,EANwB,yBAevBA,EAAYD,oBAAoB/9F,EAAK1C,KAfd,2CAgB7B,CAAC0C,EAAK1C,GAAI8/E,EAAUogB,EAAWn3F,IAE5B43F,EAAkB,SAAA/+B,GACtBy+B,EAAYz+B,EAAa/pD,cAOrB6kF,GAAwBhyE,EAAAA,EAAAA,aAAW,+BACvC,WAAM2oC,GAAN,gFACQtI,EAAUsI,EAAStI,QAD3B,SAE6Bw1C,IAF7B,QAEQ3+B,EAFR,QAImBzW,YAAYJ,EAASsI,EAAS9hD,MACzC8hD,EAAS1rD,QAAUgF,EACrBi1D,EAAaxW,eAAeL,EAASsI,EAAS9hD,MAE9CqwD,EAAa1W,mBAAmBH,EAASsI,GAG3CuO,EAAag/B,YAAY71C,EAASsI,GAGpCstC,EAAgB/+B,GAdlB,2CADuC,sDAiBvC,CAAC2+B,IAQGM,GAAwBn2E,EAAAA,EAAAA,aAAW,+BACvC,WAAOisC,EAAS5L,GAAhB,uFAC6Bw1C,IAD7B,QACQ3+B,EADR,QAEexW,eAAeL,EAAS4L,GACrCgqC,EAAgB/+B,GAHlB,2CADuC,wDAMvC,CAAC2+B,KASH/gF,EAAAA,EAAAA,YAAU,WAER,IAAMshF,EAAS,+BAAG,oGAEWP,IAFX,OAEV3+B,EAFU,OAKhB++B,EAAgB/+B,GALA,2CAAH,qDAQfk/B,IAGA/3F,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAP,IACAjF,MAAK,SAAA6P,GACL4oF,EAAiB5oF,EAAMijC,oBAExB,CAAC4lD,EAAax3F,KAEjByW,EAAAA,EAAAA,YAAU,WACR,IAAMjO,EAAO7O,MAAAA,OAAH,EAAGA,EAAMq2C,SACdr2C,MAAAA,GAAAA,EAAMq2C,UAEXhwC,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CAC5DkE,KAAAA,EACAuG,MAAOpV,EAAK2Y,QACXxT,MAAK,SAAA+P,GACNwoF,EAAgBxoF,EAAIC,kBAErB,CAACnV,EAAMqG,IAaV,IAAM+1F,GAAqBp0E,EAAAA,EAAAA,aAAW,+BACpC,WAAO9hB,EAAMjB,GAAb,uFAC6B44F,IAD7B,QACQ3+B,EADR,QAEem/B,mBAAmBn4F,EAAMjB,GAEtCg5F,EAAgB/+B,GAJlB,2CADoC,wDAOpC,CAAC2+B,IASGS,GAAuBt2E,EAAAA,EAAAA,cAC3B,SAACw1C,EAASjJ,EAAO6jC,GAAa,MACtBzmC,EAAY3sD,EAAE0J,GAAa6lD,EAAMuI,gBACjC97D,EAAM,SACPw8D,GADI,IAEPnV,QAASkM,EACTxlD,KAAI,UAAEyuD,EAAQzuD,YAAV,QAAkB5E,GACtB0E,KAAM2uD,EAAQ53D,IACd+rD,UAAAA,IAGIhf,EAAO,CACXz6B,SAAU8hF,EACV7pF,MAAOnL,EAAE,gBAAiB,CAAE2sD,UAAAA,IAC5B3xD,KAAMgB,EACNmrD,aAAcisC,EACdhoC,kBAAkB,EAClBpE,iBAAkBosC,EAClBtsC,aAAa,EACbmE,aAAa,EACblE,oBAAoB,EACpBoE,kBAAmBoE,IAAUlmD,GAC7B2U,SAAUo1E,EACV/xF,KAAAA,GAGFA,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,cACAgoC,EACAqd,MAGJ,CAAC3pD,EAAM2zF,EAAuBh1F,IAQ1Bu5F,GAAuBv2E,EAAAA,EAAAA,cAC3B,SAACjqB,EAAMsqD,GACL,IAAMsU,EAAY5+D,EAAK6H,IACvBS,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,aAAkC,CAC1DuU,WAAYla,EAAE,UACdmL,MAAOnL,EAAE,8BACTkT,SAAU,kBAAMimF,EAAsBxhC,EAAWtU,IACjDxvC,QAAS7T,EAAE,+BAAgC,CAAEY,IAAK+2D,QAGtD,CAACt2D,EAAM83F,EAAuBn5F,IAQ1Bq4F,GAAoBr1E,EAAAA,EAAAA,aAAW,+BACnC,WAAO25C,EAASrT,GAAhB,uFAC6BuvC,IAD7B,OACQ3+B,EADR,OAEM5Q,EAAS4Q,EAAay7B,SAASh5B,GAC9BzC,EAAas/B,YAAY78B,GAE9B87B,IACAQ,EAAgB/+B,GANlB,2CADmC,wDASnC,CAACu+B,EAAoBI,IAajBY,GAAmBz2E,EAAAA,EAAAA,cACvB,SAAA02E,GACE,OAAO54C,IAAe44C,EAAW,kBAAC,KAAD,MAAiB,kBAAC,KAAD,QAEpD,CAAC54C,IAGH,OACE,kBAAC,EAAApnC,WAAD,CACE,cAAY,yBACZ0K,UAAU,MACVlO,UAAWsD,EAAQ7hB,MAEnB,kBAAC,GAAD,CACEW,GAAI0C,EAAK1C,GACTqb,MAAO3Y,EAAK2Y,MACZi9B,SAAU51C,EAAKq2C,SACfp0B,MAAM,qBACNlT,KAAMqsF,EAAarsF,KACnBgsF,QAASA,IAEX,kBAAC,GAAD,CACEA,QAASA,EACTK,aAAcA,EAAanzC,MAC3BhQ,cAAeA,IAEhBw7C,GAEC,oCACE,kBAAC,EAAAztD,SAAD,CACE,cAAY,0BACZuhB,QAAM,EACN,eAvSA,EAwSA1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACxBy5F,EA3SD,IA6SF,kBAAC,EAAAj3C,SAAD,CAAUC,GA7SR,IA6SY3B,EAAuC4B,eAAa,GAChE,kBAAC,EAAA40C,KAAD,CAAM34E,WAAS,EAACzI,UAAWsD,EAAQ44C,eACjC,kBAAC,GAAD,CACE37B,SAAUA,EACV2/D,aAAcA,EACdl8B,aAAcu0B,EACd2I,mBAAoBA,KAGxB,kBAAC,EAAAhhE,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,0BACZuhB,QAAM,EACN,eA3TA,EA4TA1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACxBy5F,EA/TD,IAiUF,kBAAC,EAAAj3C,SAAD,CAAUC,GAjUR,IAiUY3B,EAAuC4B,eAAa,GAChE,kBAAC,GAAD,CACEjsB,SAAUA,EACV4sB,QAASh6C,GACTyuF,eAAgBrJ,EAAQ,YAAiC,GACzDsJ,eAAgB3B,EAAahmD,WAC7BwnD,mBAAoB0B,EACpBzB,qBAAsB0B,IAExB,kBAAC,EAAAnjE,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,uBACZuhB,QAAM,EACN,eA/UH,EAgVG1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,aACxBy5F,EAnVJ,IAqVC,kBAAC,EAAAj3C,SAAD,CAAUC,GArVX,IAqVe3B,EAAoC4B,eAAa,GAC7D,kBAAC,GAAD,CACEjsB,SAAUA,EACV4sB,QAASh6C,GACTyuF,eAAgBrJ,EAAQ,SAA8B,GACtDsJ,eAAgB3B,EAAarzC,QAC7B60C,mBAAoB0B,EACpBzB,qBAAsB0B,IAExB,kBAAC,EAAAnjE,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,wBACZuhB,QAAM,EACN,eAnWH,EAoWG1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,iBACxBy5F,EAvWJ,IAyWC,kBAAC,EAAAj3C,SAAD,CAAUC,GAzWX,IAyWe3B,EAAoC4B,eAAa,GAC7D,kBAAC,GAAD,CACEjsB,SAAUA,EACV4sB,QAASh6C,GACTyuF,eAAgBrJ,EAAQ,UAA8B,GACtDsJ,eAAgB3B,EAAapzC,SAC7B40C,mBAAoB0B,EACpBzB,qBAAsB0B,IAExB,kBAAC,EAAAnjE,QAAD,OAGF,kBAAC,EAAA4K,SAAD,CACE,cAAY,qBACZuhB,QAAM,EACN,eAvXL,EAwXK1oC,QAAS6nC,GAET,kBAAC,EAAAtI,aAAD,CAAcx1B,QAAS5jB,EAAE,WACxBy5F,EA3XN,IA6XG,kBAAC,EAAAj3C,SAAD,CAAUC,GA7Xb,IA6XiB3B,EAAkC4B,eAAa,GAC3D,kBAAC,GAAD,CACE,cAAY,6BACZ01C,WAAYI,EAAUh4F,QAAQu8D,YAAY5sD,YAC1Cm8D,WAAYmiB,EAAS/xB,OACrB27B,kBAAmBA,IAErB,kBAAC,EAAAjiE,QAAD,YASdmiE,GAAS99E,UAAY,CACnB29D,SAAU19D,KAAAA,OAAAA,WACV89E,UAAW99E,KAAAA,OAAAA,WACXrZ,KAAMqZ,KAAAA,KAAAA,WACNq7E,QAASr7E,KAAAA,KAAAA,WACT+9E,mBAAoB/9E,KAAAA,KAAAA,WACpB+b,SAAU/b,KAAAA,MAGZ69E,GAAS59E,aAAe,CACtB8b,UAAU,GAGZ,YCncM,GAA+Bt3B,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,iC,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,8B,eCA7C,MAAM,GAA+BA,QAAQ,4B,eCA7C,MAAM,GAA+BA,QAAQ,6B,eCA7C,MAAM,GAA+BA,QAAQ,gC,eCA7C,MAAM,GAA+BA,QAAQ,2B,olBCEtC,IAAMw6F,IAAenhF,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAChDygF,WAAY,CACVjzE,aAAc,YAILkzE,IAAmBrhF,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CACnD82F,SAAU,CACRhqE,eAAgB,YAChBF,OAAQ,WAEV0vC,aAAc,CACZ3vC,WAAY,QAEdsgC,YAAa,CACXx3C,OAAQzV,EAAM2V,QAAQ,GACtBU,SAAU,IACVpD,SAAU,IACV,MAAO,CACLuI,YAAa,KAGjBu7E,cAAe,CACb1oE,WAAYruB,EAAM2V,QAAQ,GAC1BoG,SAAU,OACV2sB,SAAU,GAEZsuD,eAAgB,CACdx7E,YAAaxb,EAAM2V,QAAQ,IAE7BshF,gBAAiB,CACfl/E,MAAO,SAETm/E,YAAa,CACXn/E,MAAO,eAETo/E,oBAAqB,CACnB37E,YAAa,QAEf47E,KAAM,CACJ1uD,SAAU,GAEZ2uD,SAAU,CACRt7E,SAAU,c,qkBC/Bd,IAAMu7E,GAAa,SAAAxlF,GACjB,IAAQ9a,EAAsD8a,EAAtD9a,QAAS8jB,EAA6ChJ,EAA7CgJ,SAAUy8E,EAAmCzlF,EAAnCylF,UAAWC,EAAwB1lF,EAAxB0lF,WAAYlzB,EAAYxyD,EAAZwyD,QAC5C9tD,EAAUqgF,KACR75F,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQFy6F,GAAmBz3E,EAAAA,EAAAA,cACvB,SAAC03E,EAAI98D,GACH,OAAO9f,EAAS8f,KAElB,CAAC9f,IAGG68E,GAAqB33E,EAAAA,EAAAA,cAAY,WAErC,IAD6BskD,EAE3B,OAAOizB,IAETC,MACC,CAAClzB,EAASizB,EAAWC,IAQlBI,GAAoB53E,EAAAA,EAAAA,cACxB,SAAA63E,GAAY,OACV,kBAAC,EAAAC,OAAD,QACMD,EADN,CAEE3kF,UAAWsD,EAAQ0gF,YACnBj3E,UAAU,oBAGd,CAACzJ,EAAQ0gF,cAGLa,GAAoB/3E,EAAAA,EAAAA,cACxB,SAAA4pD,GACE,OACE,kBAAC,EAAA1wC,UAAD,QACM0wC,EADN,CAEEjzD,QAAQ,WACRrG,YAAatT,EAAE,cACfkW,UAAWsD,EAAQygF,gBACnBl9E,WAAS,EACTof,WAAU,SACLywC,EAAOzwC,YADF,IAER6+D,eACE,oCACE,kBAAC,EAAAC,eAAD,CAAgBpiF,SAAS,SACvB,kBAAC,KAAD,OAED+zD,EAAOzwC,WAAW6+D,uBAO/B,CAACxhF,EAAQygF,gBAAiBj6F,IAG5B,OAAKsnE,EAcH,kBAAC,GAAA4zB,aAAD,CACE,cAAY,yBACZlhG,QAASA,EACTmhG,eAAgB,SAAA1qC,GAAM,OAAIA,EAAO5mD,MACjCiU,SAAU28E,EACVpiD,OAAQsiD,EACRviD,QAASmiD,EACTa,QAAS,SAAA3qC,GAAM,OACoBzwD,EAAjCywD,aAAkB+L,GAAiB,OAAY,YAEjD6+B,gBAAiBT,EACjBU,YAAaP,IAvBb,kBAAC,EAAAnhF,WAAD,CACEO,OAAO,oBACPN,QAAS8gF,EACTp/E,KAAK,QACL5B,QAAQ,aAER,kBAAC,KAAD,CAAYnX,MAAM,aAsB1B83F,GAAW7/E,UAAY,CACrB6sD,QAAS5sD,KAAAA,KACT1gB,QAAS0gB,KAAAA,QAAkBA,KAAAA,QAC3BoD,SAAUpD,KAAAA,KACV6/E,UAAW7/E,KAAAA,KACX8/E,WAAY9/E,KAAAA,MAGd,Y,qkBChFA,IAAM6gF,GAAwB,qBAGxBC,IAAe3mF,EAAAA,EAAAA,aAAW,SAACC,EAAOC,GACtC,IAAQiJ,EAA0DlJ,EAA1DkJ,SAAUnE,EAAgD/E,EAAhD+E,QAASlO,EAAuCmJ,EAAvCnJ,SAA3B,EAAkEmJ,EAA7BqF,OAAAA,OAArC,MAA8C,gBAA9C,EACMX,EAAUmgF,KAChB,OACE,kBAAC,EAAAp6C,OAAD,CACE,cAAaplC,EACbpF,IAAKA,EACLwG,KAAK,QACL/Y,MAAM,UACNmX,QAAQ,YACRqE,SAAUA,EACV9H,UAAWsD,EAAQogF,WACnB//E,QAASA,GAERlO,MAKD8vF,GAAa,SAAA3mF,GAEjB,IACEzT,EAYEyT,EAZFzT,KACAirB,EAWExX,EAXFwX,MACAlc,EAUE0E,EAVF1E,MACAgnC,EASEtiC,EATFsiC,QACAw5C,EAQE97E,EARF87E,cACAt4F,EAOEwc,EAPFxc,GACAuR,EAMEiL,EANFjL,KACA6xF,EAKE5mF,EALF4mF,cACAC,EAIE7mF,EAJF6mF,iBACAlP,EAGE33E,EAHF23E,SACAmP,EAEE9mF,EAFF8mF,YACArvE,EACEzX,EADFyX,kBAGF,GAA0C3U,EAAAA,EAAAA,WAAS,GAAnD,YAAOikF,EAAP,KAAsBC,EAAtB,KACA,GAA0ClkF,EAAAA,EAAAA,UAAS,IAAnD,YAAOmkF,EAAP,KAAsBC,EAAtB,KACA,GAAkCpkF,EAAAA,EAAAA,UAAS,IAA3C,YAAOqkF,EAAP,KAAkBC,EAAlB,KAEM1iF,EAAUqgF,KACR75F,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACR,EC7E0B,SAAC8U,EAAOinF,EAAetP,GAEjD,IACEn0F,EAMEwc,EANFxc,GACA2rC,EAKEnvB,EALFmvB,QACA3X,EAIExX,EAJFwX,MACA8hE,EAGEt5E,EAHFs5E,kBACA+N,EAEErnF,EAFFqnF,0BACAC,EACEtnF,EADFsnF,gBAGF,GAAsCxkF,EAAAA,EAAAA,UAAS,CAC7CykF,WAAY,GACZC,UAAU,IAFZ,YAAOnO,EAAP,KAAoBoO,EAApB,KAKMC,GAAexnE,EAAAA,EAAAA,UAAQ,kBAAM,IAAIynE,EAAAA,eAAgB,IAEjDC,GAAmBrgF,EAAAA,EAAAA,QAAO0/E,GAC1BY,GAAmBtgF,EAAAA,EAAAA,QAAOugF,KAAKC,OAC/BC,GAAwBzgF,EAAAA,EAAAA,QAAOukD,IAC/Bm8B,GAAgB1gF,EAAAA,EAAAA,QAAO,IACvB2gF,GAAmB3gF,EAAAA,EAAAA,QAAO,IAY1B4gF,GAAgBj6E,EAAAA,EAAAA,cAAY,SAAAk6E,GAChC,MAAoB,KAAbN,KAAKC,MAAgBK,GArCL,IAsCtB,IAOGC,GAAkBn6E,EAAAA,EAAAA,cAAY,SAAAo6E,GAClC,IAAMC,EAAYD,EAAgBE,YAAc,GAC1CC,EAAkBH,EAAgBI,sBACpCJ,EAAgBI,sBAChB,GACJ,OAAOH,EAAUnkG,OAAOqkG,KACvB,IASGE,GAAmBz6E,EAAAA,EAAAA,cACvB,SAAC06E,EAAiBC,GAAwC,IAA1BC,IAA0B,yDAElDC,EAAkB,GAgBxB,OAbA/9F,OAAO0L,QAAQkyF,GACZprE,QAAO,SAAAt2B,GAAG,OAAe,IAAXA,EAAI,MAClB2E,SAAQ,SAAA3E,GAAG,OAAK6hG,EAAgB7hG,EAAI,IAAM,KAE7C2hG,EACG7kG,KAAI,SAAAshC,GAGH,MAAeA,EAAG1jB,MAAM,MAAjBknB,EAAP,aACA,OAAOggE,EAAiBhgE,EAAOxD,KAEhCz5B,SAAQ,SAAAi9B,GAAI,OAAKigE,EAAgBjgE,GAAQ,KAErCigE,IAET,IAOIC,GAAc96E,EAAAA,EAAAA,cAClB,SAAAs5E,GACE,IAAMj7C,EAAMi7C,EACR,CAAEvzE,KAAM,kBAAmBhf,KAAM,QACjC,CAAEgf,KAAM,mBAAoBhf,KAAM,WAClCuyF,IAAanO,EAAYmO,UAC3BhwE,EAAM,CAAEzY,QAASwtC,EAAIt4B,KAAMjV,SAAUutC,EAAIt3C,SAG7C,CAACuiB,EAAO6hE,EAAYmO,WAMhByB,GAAkB/6E,EAAAA,EAAAA,cAAY,WAClC,IAAMg7E,EAAkB,GAClBC,EAAqB,GAE3Bn+F,OAAOgE,KAAKi5F,EAAcv8F,SAASG,SAAQ,SAAAi9B,GACzCogE,EAAgBpgE,GAAQ,KAG1B99B,OAAOgE,KAAKk5F,EAAiBx8F,SAASG,SAAQ,SAAAi9B,GAC5CqgE,EAAmBrgE,GAAQ,KAG7Bm/D,EAAcv8F,QAAUw9F,EACxBhB,EAAiBx8F,QAAUy9F,EAE3B7P,EAAkB4P,GAClB7B,EAA0B8B,KACzB,CAAC9B,EAA2B/N,IAMzB8P,GAAcl7E,EAAAA,EAAAA,cAAY,WAC9B,IAAMm7E,EAAW,CAAC,IAAK,IAAI39D,SAASyD,GAAW,kBAAoBA,EAEnE,MAAO,GAAP,OAAU3rC,EAAV,YAAgB6lG,KACf,CAAC7lG,EAAI2rC,IAOFm6D,GAAgBp7E,EAAAA,EAAAA,cACpB,SAAA80D,GACE,OAAOomB,MAAkBpmB,IAE3B,CAAComB,IAWGG,GAAmBr7E,EAAAA,EAAAA,cACvB,SAACpiB,EAAK09F,EAAatjG,EAAMujG,GAAgB,QACvC,KACE3B,KAAKC,MAAQF,EAAiBn8F,SA5JhB,MA6Jb+9F,EAFH,CAMA,IAAIjC,GAAW,EACXD,EAAa,GAGXe,EAAe,UAAGpiG,EAAK4F,GAAK49F,aAAb,iBAAG,EAAkBF,UAArB,aAAG,EAAgCG,OAExD,GAAIrB,EAAiB,CACnBd,EAAWW,EAAcG,EAAgBF,WACzCb,EAAae,EAAgBsB,YAE7B,IACMf,EADUrB,GAAY8B,EAAchB,EAAgBsB,aAC3BvB,EAAgBC,GAAmB,GAC5DlP,EAAauP,EACjBV,EAAcv8F,QACdm9F,GAEIgB,EAAiBlB,EACrBT,EAAiBx8F,QACjBm9F,GACA,KAIE9nD,IAAAA,CAASmnD,EAAiBx8F,QAASm+F,IACnCP,EAAc/B,IAChBS,EAAsBt8F,UAAYisF,KAElCsQ,EAAcv8F,QAAU0tF,EACxB8O,EAAiBx8F,QAAUm+F,EAC3B7B,EAAsBt8F,QAAUisF,EAChC2B,EAAkBuQ,EAAgB,CAAErC,SAAAA,EAAUD,WAAAA,KAGhDA,EAAaC,EAAWc,EAAgBsB,YAAc,GACtDtC,EAAgBC,QAIZC,GACFhwE,EAAM,CACJzY,QAAS,oCACTC,SAAU,YAKhBgqF,EAAYxB,GACZC,EAAe,CAAED,SAAAA,EAAUD,WAAAA,IAC3BM,EAAiBn8F,QAAUo8F,KAAKC,SAElC,CACEvwE,EACA6wE,EACAM,EACAW,EACAnB,EACA7O,EACAgO,EACA0B,EACArR,IAcEmS,GAAiB57E,EAAAA,EAAAA,cACrB,SAAA2L,GAAW,MACHkwE,EAAQrC,EAAasC,SAASnwE,GAC9ByuE,EAAe,UAAGyB,EAAM7jG,YAAT,aAAG,EAAYyjG,OAEhCrB,IACFhB,EAAgBgB,EAAgBsB,aAChCnC,GAAe,SAAAv4E,GACb,OAAO,SACFA,GADL,IAEEq4E,WAAYe,EAAgBsB,kBAKlCG,EAAMhwD,UAAU,CACdkwD,SAAU,SACV/tF,OAAQ,SAAAhW,GACNqjG,EAAiB,QAAS1vE,EAAS3zB,IAErCkW,SAAU,SAAA00E,GACR,GAAyB,SAArBA,EAAWj2E,MAAkB,CAC/B,GAAIgf,IAAY+tE,EAAiBl8F,QAAS,OAC1C69F,EAAiB,MAAO1vE,EAASi3D,SAKzC,CAACwW,EAAiBI,EAAc6B,IAM5BW,GAAmBh8E,EAAAA,EAAAA,cAAY,WAC/B05E,EAAiBl8F,UACnBu9F,IACAvB,EACGsC,SAASpC,EAAiBl8F,SAC1BiyC,YAAY,CAAEssD,SAAU,cAE5B,CAAChB,EAAiBvB,IAuBrB,OAZA1kF,EAAAA,EAAAA,YAAU,WACR4kF,EAAiBl8F,QAAUu7F,IAC1B,CAACA,KAKJjkF,EAAAA,EAAAA,YAAU,WACR,IzExPiCmnF,EAAOC,GAAPD,EyEwPO9Q,EAAYkO,ezExPZ6C,EyEwPwB5mG,IzEtP9CysE,GAAkBk6B,KAClBl6B,GAAkBm6B,IyEsPnBnB,MAChB,CAAC5P,EAAYkO,WAAY/jG,EAAIylG,IAEzB,CACLa,eAAAA,EACAI,iBAAAA,EACAd,YAAAA,EACA/P,YAAAA,GD7NAgR,CAAoBrqF,EAAOinF,EAAetP,GADpCmS,EAAR,EAAQA,eAAgBI,EAAxB,EAAwBA,iBAAkBd,EAA1C,EAA0CA,YAAa/P,EAAvD,EAAuDA,YAGjDiR,GAAe/iF,EAAAA,EAAAA,UACfgjF,GAAYhjF,EAAAA,EAAAA,UACZijF,GAAyBjjF,EAAAA,EAAAA,UACzBkjF,GAAYljF,EAAAA,EAAAA,UACZmjF,GAAkBnjF,EAAAA,EAAAA,UAElBmgF,GAAexnE,EAAAA,EAAAA,UAAQ,kBAAM,IAAIynE,EAAAA,eAAgB,IACjDhpE,GAAmBuB,EAAAA,EAAAA,UAAQ,kBAAM,IAAIpI,KAAa,IAYlD6yE,GAAwBz8E,EAAAA,EAAAA,cAC5B,SAAA2L,GACEqwE,IACAJ,EAAejwE,KAEjB,CAACiwE,EAAgBI,IAMbU,GAAkB18E,EAAAA,EAAAA,cAAY,WAClC,OAAO3hB,EACLsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAyK,GACAjQ,MAAK,SAAA6P,GAEL,OADAqvF,EAAU7+F,QAAUwP,EAAM6uC,OACnB7uC,EAAM6uC,YAEd,CAACx9C,EAAM+O,IAKJuvF,GAAmB38E,EAAAA,EAAAA,cAAY,WACnC,OAAO3hB,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CACnEyK,MAAAA,EACAvG,KAAAA,IACC1J,MAAK,SAAA3C,GAEN,OADAgiG,EAAgBh/F,QAAUhD,EACnBA,OAER,CAAC6D,EAAM+O,EAAOvG,IAMX+1F,GAAoB58E,EAAAA,EAAAA,cACxB,SAAA2L,GACEqtE,EAAiBrtE,GACjBiwE,EAAejwE,GACf+sE,EAAc/sE,KAEhB,CAAC+sE,EAAekD,IAOZiB,GAAkB78E,EAAAA,EAAAA,cACtB,SAAC88E,EAAcC,GAETD,GAAcF,EAAkBE,GAErBT,EAAU7+F,QAEtB6+D,kBACAl/D,MAAK,SAAAwuB,GAEJ,GAAIA,EAAS,CACXutE,GAAa,SAAAl4E,GACX,OAAO,SACFA,GADL,UAEG2K,EAFH,SAEkB3K,EAAU2K,IAF5B,IAEsCnJ,WAAW,SAInD,IAAIw6E,EAAgBF,EACfA,GAAkBA,KAAgBC,IACrCtsE,EAAiBwsE,iBAAiBtxE,GAClCixE,EAAkBjxE,GAClBqxE,EAAgBrxE,GAGlBqtE,EAAiBgE,OAnBvB,OAsBS,SAAA9hF,GACLlP,QAAQ+E,KAAK,wBAAyBmK,GACtCoO,EAAM,CACJzY,QAAS7T,EAAEkM,GAAeO,gCAAiC,CACzDo3C,aAAc03C,KAEhBznF,SAAU3J,UAIlB,CAACy1F,EAAmBnsE,EAAkBnH,EAAOtsB,IAazCkgG,GAAkBl9E,EAAAA,EAAAA,cACtB,SAAA+8E,GACE,IAAMI,EAAkB1sE,EAAiBtF,mBAEzCruB,OAAOgE,KAAKi8F,GAAQp/F,SAAQ,SAAAguB,GACtBkyC,GAAgBrgC,SAASu/D,EAAOpxE,GAASyxE,mBACpCL,EAAOpxE,MAGlButE,EAAa6D,GAEbF,EAAgBM,EAAiBJ,KAEnC,CAACF,EAAiBpsE,KAMpB3b,EAAAA,EAAAA,YAAU,WAaR,OAXA4nF,IAAkBv/F,MAAK,WACrBq8F,EAAa6D,OAAOH,MAGtBP,IAEAJ,EAAU/+F,SAAU,EAKb,WACLw+F,IAEAO,EAAU/+F,SAAU,KAErB,CACDm/F,EACAD,EACAQ,EACA1D,EACAwC,KAMFlnF,EAAAA,EAAAA,YAAU,WACRgkF,GAAiB,GACjB5mD,aAAaoqD,EAAuB9+F,WACnC,CAAC2tF,EAAYkO,WAAYP,IAa5B,IAAMwE,GAAat9E,EAAAA,EAAAA,cACjB,SAAA7R,GAAU,MACF8vE,EAAK,UAAG2P,EAAcpwF,eAAjB,aAAG,EAAuBygF,MAErCA,MAAAA,GAAAA,EAAO8D,eAEP,IAAMxhB,EAAW0d,EAAM1d,UAAY,GAC7B8iB,EAAqBpF,EAAMoF,mBAC3Bka,EAAkBh9B,EAASjxC,QAAO,SAAA6zD,GAAE,OAAIA,EAAGtF,aASjD,OARA0f,EAAgB5/F,SAAQ,SAAAkhE,GACtBof,EAAMuf,qBAAqB3+B,GACtBwkB,GACH/5D,EAAM,CACJzY,QAAS0sF,EAAgB,GAAG1sF,QAC5BC,SAAUysF,EAAgB,GAAGx2F,YAG1Bw2F,EAAgBpnG,QAAqB,UAAXgY,KAErC,CAACmb,EAAOskE,IAaJ6P,GAAoBz9E,EAAAA,EAAAA,cACxB,SAAArT,GACEqsF,GAAiB,SAAAh4E,GACf,IAAM2K,EAAUhf,EAAMrS,OAAO2C,MAC7B,OAAI0uB,IAAY3K,GAEdyP,EAAiBwsE,iBAAiBtxE,GAElC8wE,EAAsB9wE,GACtB+sE,EAAc/sE,GACPA,GAEF3K,OAGX,CAACy7E,EAAuB/D,EAAejoE,IAQnCitE,GAAoB19E,EAAAA,EAAAA,cACxB,SAAC7R,EAAQsuD,GACU6gC,EAAWnvF,KAE5B2qF,GAAiB,GAEjBuD,EAAU7+F,QACPg/D,YAAY,CACXruD,OAAAA,EACAsuD,SAAUA,GAAYy+B,IACtBvvE,QAASotE,IAEV57F,MAAK,SAAAuc,GACCA,IACL4iF,EAAuB9+F,QAAU8b,YAAW,WAErCijF,EAAU/+F,UAEfs7F,GAAiB,GACjBxvE,EAAM,CACJzY,QAAS7T,EAAE,mBAAoB,CAC7BmR,OAAQnR,EAAEmR,EAAOmvB,iBAEnBxsB,SAAU3J,QAvTC,SAsSnB,OAqBS,SAAA+T,GACLlP,QAAQ+E,KAAK,gCAAiCmK,GAC9CoO,EAAM,CACJzY,QAAS7T,EAAEkM,GAAeO,gCAAiC,CACzDo3C,aAAc03C,KAEhBznF,SAAU3J,QAGZi1F,EAAa5+F,SAAS4+F,EAAa5+F,QAAQmgG,UAEjD,CAACr0E,EAAOg0E,EAAYpC,EAAanC,EAAeD,EAAkB97F,IAM9D4gG,IAAkB59E,EAAAA,EAAAA,cACtB,SAAA69E,GAAgB,MAERC,EAAUD,MAAAA,GAAH,UAAGA,EAAcltF,aAAjB,aAAG,EAAqByY,SACrC,GAA+B,KAA3B+hE,EAAYkO,WACdqE,EAAkB,QAASI,OACtB,CAEL,IAAM31F,EAAQnL,EAAE,uCACV6T,EAAU7T,EAAE,wCAAyC,CACzDu/D,UAAW08B,EAAUF,GAAeqE,UACpC/D,WAAYlO,EAAYkO,WACxB/jG,GAAIA,IAENi0B,EAAkB,CAChBphB,MAAAA,EACA0I,QAAAA,EACAqG,WAAYla,EAAE,OACdkT,SAAU,kBAAMwtF,EAAkB,QAASI,SAIjD,CACE3S,EAAYkO,WACZqE,EACA1gG,EACAi8F,EACAF,EACAzjG,EACAi0B,IAOEw0E,IAAiB/9E,EAAAA,EAAAA,cAAY,WACjC09E,EAAkB,UACjB,CAACA,IAKEM,IAAwBh+E,EAAAA,EAAAA,cAAY,WAAM,OACjC,UAAGw8E,EAAgBh/F,eAAnB,aAAG,EAAyB4zC,YAEvC/yC,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEyK,MAAAA,EACAvG,KAAAA,GAEF+2F,IAGFA,OAED,CAACv/F,EAAMu/F,GAAiB/2F,EAAMuG,IAQ3B6wF,IAAuBj+E,EAAAA,EAAAA,cAC3B,SAAClT,EAAQoxF,GACPvF,EAAiBuF,KAEnB,CAACvF,IAaGwF,IAAoBn+E,EAAAA,EAAAA,cAAY,WAEpC,OAAO64E,EACL,kBAAC,EAAA/+E,iBAAD,CAAkBvB,KAAM,GAAI/Y,MAAM,YAElC,kBAAC,EAAAywB,QAAD,CAAS9nB,MAAOnL,EAAE,cAChB,oCACE,kBAAC,KAAD,MADF,IACqBA,EAAE,kBAI1B,CAAC67F,EAAe77F,IAMbohG,IAAmBp+E,EAAAA,EAAAA,cAAY,WAEnC,OAAO64E,EACL,kBAAC,EAAA/+E,iBAAD,CAAkBvB,KAAM,GAAI/Y,MAAM,YAElC,kBAAC,EAAAywB,QAAD,CAAS9nB,MAAOnL,EAAE,aAChB,kBAAC,KAAD,SAGH,CAAC67F,EAAe77F,IAEnB,OACE,kBAAC,KAAD,CACE,cAAY,uBACZ6Y,SAAS,SACTrW,MAAM,WAEN,kBAAC,KAAD,CAASmX,QAAQ,SACf,kBAAC,EAAAD,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ4gF,MAC7C,kBAAC,KAAD,CAAalkF,UAAWsD,EAAQy2C,aAC9B,kBAAC,KAAD,CACElyC,WAAY,CAAE,cAAe,sBAC7BzlB,GAAG,iBACH2H,MAAO87F,EACPf,eAAgB,uBAAG9kF,UAAU,eAC7B4H,SAAU2iF,GAET3gG,OAAOgE,KAAKm4F,GAAWnjG,KAAI,SAAC61B,EAAS0yE,GACpC,IAAMC,EAAiBrF,EAAUttE,GAASnJ,UAC1C,OACE,kBAAC,KAAD,CACE5kB,IAAG,oBAAeygG,GAClBphG,MAAO0uB,EACPzY,UAAWorF,EAAiB9nF,EAAQ8lD,aAAe,IAElD28B,EAAUttE,GAASyxE,gBAM7BlC,MAAkB/P,EAAYkO,WAC7B,kBAACb,GAAD,CACErhF,OAAO,kBACPpF,IAAKqqF,EACLphF,SAAU69E,EACVhiF,QAASknF,IAERK,MAGH,kBAAC5F,GAAD,CACErhF,OAAO,0BACPpF,IAAKqqF,EACLphF,UAAWmwE,EAAYmO,UAAYT,EACnChiF,QAASmnF,IAERG,OAIP,kBAAC,EAAAznF,WAAD,CACE,cAAY,sBACZ0K,UAAU,MACVlO,UAAWsD,EAAQwgF,gBAEnB,kBAAC,GAAe4B,IAElB,kBAAC,EAAAliF,WAAD,CACE,cAAY,2BACZ0K,UAAU,MACVlO,UAAWsD,EAAQ2gF,qBAEnB,kBAAC,GAAArgD,kBAAD,CACEC,WAAS,EACTx+B,KAAK,QACLtb,MAAOwsF,EACP3uE,SAAUmjF,IAEV,kBAAC,GAAA/mD,aAAD,CACE,cAAY,qBACZj6C,MAAO2gE,GACP5iD,SAAUo5B,GAEV,kBAAC,EAAAnkB,QAAD,CAAS9nB,MAAOnL,EAAE,oBAChB,kBAAC,KAAD,CAAW+e,SAAS,YAGxB,kBAAC,GAAAm7B,aAAD,CACE,cAAY,uBACZj6C,MAAO2gE,GACP5iD,SAAUo5B,GAEV,kBAAC,EAAAnkB,QAAD,CAAS9nB,MAAOnL,EAAE,aAChB,uBAAGkW,UAAS,oBAAesD,EAAQ6gF,mBAUnDoB,GAAWhhF,UAAY,CACrBniB,GAAIoiB,KAAAA,OACJ0zE,kBAAmB1zE,KAAAA,KACnBihF,iBAAkBjhF,KAAAA,KAClB0hF,gBAAiB1hF,KAAAA,KACjBghF,cAAehhF,KAAAA,KACf6mF,SAAU7mF,KAAAA,KACVlJ,UAAWkJ,KAAAA,OACX3Q,KAAM2Q,KAAAA,OACNupB,QAASvpB,KAAAA,OACTkhF,YAAalhF,KAAAA,MAAgB,CAC3B4sD,QAAS5sD,KAAAA,KACT1gB,QAAS0gB,KAAAA,QAAkBA,KAAAA,QAC3BoD,SAAUpD,KAAAA,KACV6/E,UAAW7/E,KAAAA,KACX8/E,WAAY9/E,KAAAA,QAIhB+gF,GAAW9gF,aAAe,CACxB4mF,SAAU,kBAAM/sF,GAAgB,aAChCknF,cAAe,kBAAMlnF,GAAgB,kBACrCmnF,iBAAkB,kBAAMnnF,GAAgB,qBACxC4nF,gBAAiB,kBAAM5nF,GAAgB,oBACvC45E,kBAAmB,kBAAM55E,GAAgB,sBACzChD,UAAWxM,EACX+E,KAAM3E,GACN6+B,QAAS,mBAGX,Y,qkBEjlBA,IAAMsa,IAAY/lC,EAAAA,GAAAA,aCfH,SAAAxV,GAAK,MAAK,CACvBw+F,IAAK,CACH1mF,OAAQ,OACRC,MAAO,OACPC,QAAS,OACTE,eAAgB,iBAElBk/E,KAAM,CACJ1uD,SAAU,GAEZ9oB,OAAQ,CACNzgB,WAAYa,EAAMgW,QAAQ4K,QAAQhgB,MAClCpB,MAAO,SAETrI,QAAS,CACPqI,MAAO,QACPL,WAAYa,EAAMgW,QAAQ7W,WAAWyhB,QACrC69C,UAAW,mBAEbtU,QAAS,CACPpuC,SAAU,OAEZ5N,OAAQ,CACNye,OAAQ,UACR7U,MAAO,cACPC,QAAS,eACTtC,QAAS,SACT8yB,YAAa,aAAF,OAAexoC,EAAMgW,QAAQ7W,WAAWijB,WACnD,MAAO,CAAE5G,YAAa,GAAIO,SAAU,QACpC,UAAW,CACTuT,OAAQ,mCAGZmvE,aAAc,CACZnvE,OAAQ,iCAEVovE,WAAY,CACV1mF,QAAS,OACTC,WAAY,SACZH,OAAQ,OACRgxB,WAAY,aAAF,OAAe9oC,EAAMgW,QAAQ7W,WAAWijB,YAEpDu8E,YAAa,CACX,UAAW,CACTlpF,OAAQ,MACRqC,OAAQ,OACR,SAAU,CACRiE,SAAU,cD9BZ6iF,GAAgB,SAAA9sF,GAEpB,OAAkC8C,EAAAA,EAAAA,UAAS,WAA3C,YAAOiqF,EAAP,KAAkBC,EAAlB,KACA,GAA+BlqF,EAAAA,EAAAA,UAAS,IAAxC,YAAOmqF,EAAP,KAAkBC,EAAlB,KACA,GAAkDpqF,EAAAA,EAAAA,UAAS,IAA3D,YAAOqqF,EAAP,KAA0BC,EAA1B,KAGQliG,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAINkvF,EAOEp6E,EAPFo6E,iBACA6M,EAMEjnF,EANFinF,cACAoG,EAKErtF,EALFqtF,YACA5+B,EAIEzuD,EAJFyuD,SACA6+B,EAGEttF,EAHFstF,kBALF,EAQIttF,EAFFg/D,cAAAA,OANF,SAOEuuB,EACEvtF,EADFutF,gBAII7oF,EAAU+kC,KAQV+jD,GAAet/E,EAAAA,EAAAA,cAAY,SAAAu/E,GAC/BP,GAAU,SAAAh+E,GACR,IAAMsX,EAAW,GAIjB,OAHAx7B,OAAOgE,KAAKy+F,GAAe5hG,SAAQ,SAAArI,GACjCgjC,EAAShjC,GAAMiqG,EAAcjqG,MAExB,SAAK0rB,GAAcsX,QAE3B,IAEGknE,EAAgB,SAAA1qB,GACpB,OAAOA,EAASt9E,QAAQ,mBAAoB,KAoBxCioG,GAAmBz/E,EAAAA,EAAAA,cAAY,WAC9BugD,EAASpqE,QAEd+1F,GAAkBkT,KACjB,CAAC7+B,EAAU2rB,EAAkBkT,IAkChC,OA1BAtqF,EAAAA,EAAAA,YAAU,WACR,IAAM0kF,EAAe,IAAIC,EAAAA,aACzBD,EAAa6D,QAAO,SAAAN,GAAM,OAAIiC,EAAUjC,MACxC,IAAMjnD,EAAe0jD,EAAakG,mBAAmBJ,GAErD,OAAO,WACL9F,EAAamG,qBAAqB7pD,MAEnC,CAACwpD,KAEJxqF,EAAAA,EAAAA,YAAU,WACR,IAAMmyB,EAASk4D,EAAc,SAAW,UAGxC,GAFAL,EAAa73D,GAET8xD,GAA4B,WAAX9xD,EAAqB,OAClCs1B,GAAY,UAAAwiC,EAAUhG,UAAV,eAA0BqE,YAAa,GACzD8B,EAAqB3iC,MAEtB,CAACw8B,EAAegG,EAAWI,IAS5B,kBAAC,EAAAzoF,WAAD,CACE,cAAY,0BACZ0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQgoF,IAAb,YAAoBhoF,EAAQqoF,KAErC,kBAAC,EAAAnoF,WAAD,CACE0K,UAAU,MACVlO,UAAWsD,EAAQmoF,YACnB,cAAY,6BAEZ,kBAAC,EAAA1uE,QAAD,CAAS9nB,MAAOnL,EAAE,+BAChB,kBAAC,EAAAwsD,iBAAD,CACEC,QACE,kBAAC,EAAAm2C,OAAD,CACE7kF,WAAY,CAAE,cAAe,sBAC7BurC,QAASwqB,EACTh2D,SAAUukF,EACVx4F,KAAK,kBACLrH,MAAM,YAGVya,MAAOjd,EAAE,uBAIf,kBAAC,EAAA0Z,WAAD,CAAY0K,UAAU,OACnB+9E,GACC,kBAAC,EAAAlvE,QAAD,CACEzZ,QAAS,CAAE2zC,QAAS3zC,EAAQ2zC,SAC5BhiD,MAAK,yCAAoCq3F,EACvCL,KAGF,kBAAC,EAAAzoF,WAAD,CACE,cAAY,kBACZ0K,UAAU,MACVlO,UAAWsD,EAAQrI,OACnB0I,QAAS,SAAAgE,GAAG,OA7FDlO,EA6FoBkO,EA3FjCrM,GADFtB,EAAM,IAAI8C,EAAAA,SAAS,CAAEikB,KAAMkrE,KACzB3wF,UAAWzH,EAAwBmG,EAAxBnG,KAAMF,EAAkBqG,EAAlBrG,KAAMo6B,EAAY/zB,EAAZ+zB,aAE/BnvB,EAAMysF,SAAS,CACbjpG,GAAIuR,EACJuG,MAAOrG,EACPyH,UAAAA,EACA3H,KAAAA,EACAo6B,QAAAA,EACAgyD,QAAStmF,EAAMsmF,UAVI,IAAAtmF,EACfO,EACEsB,EAAWzH,EAAMF,EAAMo6B,IA6FrB,uBAAG/tB,UAAU,eACZ+rF,EAPH,MAOyBO,EAAcL,KAI3C,kBAAC,EAAAlvE,QAAD,CAAS9nB,MAAM,gBAAgBqO,QAAS,CAAE2zC,QAAS3zC,EAAQ2zC,UACzD,kBAAC,EAAAzzC,WAAD,CACE,cAAY,sBACZ0K,UAAU,MACVlO,UAAS,UAAKsD,EAAQrI,OAAb,YAAuBqI,EAAQkoF,WAA/B,YACPU,EAAoB5oF,EAAQioF,aAAe,IAE7C5nF,QAAS4oF,GAET,kBAAC,KAAD,CAAa1jF,SAAS,UARxB,IAQoCwkD,EAASpqE,YAQvDyoG,GAAcnnF,UAAY,CACxB8mF,SAAU7mF,KAAAA,KACV2nF,gBAAiB3nF,KAAAA,KACjBqhF,cAAerhF,KAAAA,OACfynF,YAAaznF,KAAAA,OACbo5D,cAAep5D,KAAAA,MAGjBknF,GAAcjnF,aAAe,CAC3B4mF,SAAU,kBAAM/sF,GAAgB,aAChCunF,cAAe,GACfoG,YAAa,IAGf,YE/LM,GAA+BhjG,QAAQ,+B,eCA7C,MAAM,GAA+BA,QAAQ,0B,eCA7C,MAAM,GAA+BA,QAAQ,kC,eCA7C,MAAM,GAA+BA,QAAQ,kC,eCQvCgzB,GAAc,SAAArd,GAClB,IAAQ+tF,EAAgD/tF,EAAhD+tF,eAAgBzwE,EAAgCtd,EAAhCsd,SAAUhf,EAAsB0B,EAAtB1B,QAAS9P,EAAawR,EAAbxR,SAMrCkpC,GAAgBxpB,EAAAA,EAAAA,cAAY,SAAArT,GAAS,MACjCmzF,EAAqBnzF,EAArBmzF,QAASC,EAAYpzF,EAAZozF,QAEXC,EAAuBxlG,SAASylG,kBAAkBH,EAASC,GAE3DG,EAAK,IAAIC,WAAW,cAAe,CACvCjhF,KAAMxkB,OACN0lG,SAAS,EACTC,YAAY,EACZP,QAAAA,EACAC,QAAAA,IAKF,UAAAC,EAAqB,UAArB,SAAyBnX,cAAcqX,KACtC,IAEH,OACE,kBAAC,KAAD,CACE12D,cAAeA,EACf,cAAY,uBACZ82D,gBAAgB,iBAChBT,eAAgBA,EAChBzoF,KAAM8f,QAAQ2oE,GACdzvF,QAASA,GAERgf,EAASt5B,KAAI,SAACC,EAAMgE,GACnB,OACE,kBAAC,KAAD,CACE,cAAY,uBACZ8c,QAAS9gB,EAAK8gB,QACdmE,SAAU1a,EACV1C,IAAK7D,GAEJhE,EAAKulB,MAAQ,kBAAC,KAAD,KAAevlB,EAAKulB,MAClC,kBAAC,KAAD,KAAevlB,EAAKkkB,OAASlkB,EAAKmF,eAQ9Ci0B,GAAY1X,UAAY,CACtBooF,eAAgBnoF,KAAAA,OAChB0X,SAAU1X,KAAAA,QACRA,KAAAA,MAAgB,CACd4D,KAAM5D,KAAAA,QACNxc,QAASwc,KAAAA,QACTuC,MAAOvC,KAAAA,OACPb,QAASa,KAAAA,QAGbtH,QAASsH,KAAAA,KACTpX,SAAUoX,KAAAA,MAEZyX,GAAYxX,aAAe,CACzByX,SAAU,GACV9uB,UAAU,EACV8P,QAAS,kBAAMoB,GAAgB,aAGjC,YCpEA,GAPQwsD,GAOR,GANWA,GAMX,GALQ,OAKR,GAJQ,OAIR,GAHU,SCCV,IAAMuiC,GAAkB,SAAAzuF,GACtB,IAiEuB,EAjEf9U,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAENE,EASE4U,EATF5U,KACA2iG,EAQE/tF,EARF+tF,eACAzvF,EAOE0B,EAPF1B,QACAowF,EAME1uF,EANF0uF,WACAC,EAKE3uF,EALF2uF,cACAC,EAIE5uF,EAJF4uF,aACAC,EAGE7uF,EAHF6uF,aACAC,EAEE9uF,EAFF8uF,gBACAC,EACE/uF,EADF+uF,aAGIC,EAAqB,SAAA31D,GACzBA,IACA/6B,KAGI2wF,EAAiB,CACrB,CACE9mF,MAAOjd,EAAE,QACTse,KAAM,kBAAC,KAAD,MACNzE,QAAS,kBAAMiqF,EAAmBN,KAEpC,CACEvmF,MAAOjd,EAAE,UACTse,KAAM,kBAAC,KAAD,MACNzE,QAAS,kBAAMiqF,EAAmBJ,MAGhCM,EAAoB,CACxB,CACE/mF,MAAOjd,EAAE,QACTse,KAAM,kBAAC,KAAD,MACNzE,QAAS,kBAAMiqF,EAAmBN,KAEpC,CACEvmF,MAAOjd,EAAE,UACTse,KAAM,kBAAC,KAAD,MACNzE,QAAS,kBAAMiqF,EAAmBF,MAGhCK,EAAiB,CACrB,CACEhnF,MAAOjd,EAAE,UACTse,KAAM,kBAAC,KAAD,MACNzE,QAAS,kBAAMiqF,EAAmBH,MAIhCO,EAAiB,CACrB,CACEjnF,MAAOjd,EAAE,iBACTse,KAAM,kBAAC,KAAD,MACNzE,QAAS,kBAAMiqF,EAAmBD,MAIhCM,EAAmB,CACvB,CACElnF,MAAOjd,EAAE,SACT6Z,QAAS,kBAAMiqF,EAAmBL,MAgBtC,OACE,kBAAC,GAAD,CACEZ,eAAgBA,EAChBzwE,UAda,WACZgyE,GAAYL,GADA,MAEZK,GAAYH,GAFA,MAGZG,GAAeJ,GAHH,MAIZI,GAAYF,GAJA,MAKZE,GAAcD,GALF,GAQEjkG,GAOfkT,QAASA,KAKfmwF,GAAgB5oF,aAAe,CAC7Bza,KAAMkkG,GACNvB,eAAgB,MAGlBU,GAAgB9oF,UAAY,CAC1Bva,KAAMwa,KAAAA,OACNmoF,eAAgBnoF,KAAAA,OAChBtH,QAASsH,KAAAA,KAAAA,WACT8oF,WAAY9oF,KAAAA,KAAAA,WACZ+oF,cAAe/oF,KAAAA,KAAAA,WACfgpF,aAAchpF,KAAAA,KAAAA,WACdipF,aAAcjpF,KAAAA,KAAAA,WACdkpF,gBAAiBlpF,KAAAA,KAAAA,WACjBmpF,aAAcnpF,KAAAA,KAAAA,YAGhB,Y,qkBC/FA,IAAM2pF,GAAgB,SAAAvvF,GAEpB,IAAQsjE,EAAiDtjE,EAAjDsjE,SAAU/2E,EAAuCyT,EAAvCzT,KAAM00F,EAAiCjhF,EAAjCihF,QAASyC,EAAwB1jF,EAAxB0jF,UAAW/hE,EAAa3hB,EAAb2hB,SAE5C,GAAwC7e,EAAAA,EAAAA,UAAS,IAAjD,YAAOw+E,EAAP,KAAqBsC,EAArB,KACA,GAAgC9gF,EAAAA,EAAAA,UAAS,IAAzC,YAAO0sF,EAAP,KAAiBC,EAAjB,KACA,GAAgC3sF,EAAAA,EAAAA,WAAS,GAAzC,YAAOknB,EAAP,KAAiB0lE,EAAjB,KAEQxkG,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFhF,EAAOo9E,EAASp9E,KAahBypG,GAAczhF,EAAAA,EAAAA,aAAW,cAAC,2FACxB0hF,EAAoBlM,EAAUh4F,QAAQmkG,eAAe3pG,EAAK1C,KADlC,yCAGrBosG,GAHqB,uBAMJrjG,EACxBsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEyK,MAAO,OACPvG,KAAMuuE,EAAS9uD,OAAOtuB,KAAKuiE,gBAXD,cAMxBy7B,EANwB,yBAevBA,EAAY2L,eAAe3pG,EAAK1C,KAfT,2CAgB7B,CAAC0C,EAAK1C,GAAI8/E,EAAUogB,EAAWn3F,IAE5BujG,EAAkB,SAAAF,GACtBH,EAAYG,EAAkBv0F,cAM1B6kF,GAAwBhyE,EAAAA,EAAAA,aAAW,+BACvC,WAAM2oC,GAAN,gFACQtI,EAAUsI,EAAStI,QAD3B,SAEkCohD,IAFlC,QAEQC,EAFR,QAIwBjhD,YAAYJ,EAASsI,EAAS9hD,MAC9C8hD,EAAS1rD,QAAUgF,EACrBy/F,EAAkBhhD,eAAeL,EAASsI,EAAS9hD,MAEnD66F,EAAkBlhD,mBAAmBH,EAASsI,GAGhD+4C,EAAkBxL,YAAY71C,EAASsI,GAEzCi5C,EAAgBF,GAblB,2CADuC,sDAgBvC,CAACD,IAQGtL,GAAwBn2E,EAAAA,EAAAA,aAAW,+BACvC,WAAO20C,EAAWtU,GAAlB,uFACkCohD,IADlC,QACQC,EADR,QAEoBhhD,eAAeL,EAASsU,GAC1CitC,EAAgBF,GAHlB,2CADuC,wDAMvC,CAACD,IAYGI,GAAiB7hF,EAAAA,EAAAA,cAAY,WACjCwhF,GAAY,SAAAxgF,GAAS,OAAKA,OACzB,IAQGs1E,GAAuBt2E,EAAAA,EAAAA,cAC3B,SAAC8hF,EAAczhD,EAAS+vC,GAAa,MAC7BzmC,EAAY3sD,EAAE0J,GAAa25C,EAAQyU,gBACnC97D,EAAM,SACP8oG,GADI,IAEPzhD,QAASA,EACTt5C,KAAI,UAAE+6F,EAAa/6F,YAAf,QAAuB5E,GAC3B0E,KAAMi7F,EAAalkG,IACnB+rD,UAAAA,IAGIhf,EAAO,CACXz6B,SAAU8hF,EACV7pF,MAAOnL,EAAE,gBAAiB,CAAE2sD,UAAAA,IAC5B3xD,KAAMgB,EACNmrD,aAAcisC,EACdhoC,kBAAkB,EAClBpE,iBAAkBosC,EAClBtsC,aAAa,EACbmE,aAAa,EACblE,oBAAoB,EACpBoE,kBAAmB9H,IAAYh6C,GAC/B2U,SAAUo1E,EACV/xF,KAAAA,GAGFA,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,cACAgoC,EACAqd,MAGJ,CAAC3pD,EAAM2zF,EAAuBh1F,IAQ1Bu5F,GAAuBv2E,EAAAA,EAAAA,cAC3B,SAACjqB,EAAMsqD,GACL,IAAMsU,EAAY5+D,EAAK6H,IACvBS,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,aAAkC,CAC1DuU,WAAYla,EAAE,UACdmL,MAAOnL,EAAE,8BACTkT,SAAU,kBAAMimF,EAAsBxhC,EAAWtU,IACjDxvC,QAAS7T,EAAE,+BAAgC,CAAEY,IAAK+2D,QAGtD,CAACt2D,EAAM83F,EAAuBn5F,IAyChC,OA/BA8X,EAAAA,EAAAA,YAAU,WAER,IAAMshF,EAAS,+BAAG,oGAEgBqL,IAFhB,OAEVC,EAFU,OAKhBE,EAAgBF,GALA,2CAAH,qDAQftL,MACC,CAACqL,KAEJ3sF,EAAAA,EAAAA,YAAU,WACR,IAAMjO,EAAO7O,MAAAA,OAAH,EAAGA,EAAMuiE,cACd1zD,GAELxI,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CAC5DkE,KAAAA,EACAuG,MAAOpV,EAAK2Y,QACXxT,MAAK,SAAA+P,GACNwoF,EAAgBxoF,EAAIC,kBAErB,CAACnV,EAAMqG,IASR,yBAAK,cAAY,+BACf,kBAAC,GAAD,CACE/I,GAAI0C,EAAK1C,GACTqb,MAAO3Y,EAAK2Y,MACZi9B,SAAU51C,EAAKuiE,cACftgD,MAAM,qBACNlT,KAAM,WACNgsF,QAASA,IAGX,kBAAC,EAAA/0D,SAAD,CACE,cAAY,mCACZuhB,QAAM,EACN1oC,QAASgrF,GAET,kBAAC,EAAAzrD,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACxB8+B,EAAW,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAE/B,kBAAC,EAAA0jB,SAAD,CAAUC,GAAI3jB,EAAU4jB,eAAa,GACnC,kBAAC,GAAD,CACEjsB,SAAUA,EACV4sB,QAASh6C,GACTyuF,eAAgBwM,EAAQ,YAAiC,GACzDvM,eAAgB3B,EAAahmD,WAC7BwnD,mBAAoB0B,EACpBzB,qBAAsB0B,IAExB,kBAAC,EAAAnjE,QAAD,SAMRiuE,GAAc5pF,UAAY,CACxB+9E,UAAW99E,KAAAA,OAAAA,WACXrZ,KAAMqZ,KAAAA,KAAAA,WACNq7E,QAASr7E,KAAAA,KAAAA,WACT09D,SAAU19D,KAAAA,OAAAA,WACV+b,SAAU/b,KAAAA,MAGZ2pF,GAAc1pF,aAAe,CAC3B8b,UAAU,GAGZ,YC5PO,IAAMyK,IAAiB1oB,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAClD4rF,mBAAoB,CAClBjqF,OAAQ,OACRE,QAAS,OACToI,cAAe,UAEjB+d,WAAY,CACV9d,SAAU,SACVnI,eAAgB,SAChBH,MAAO,OACP+T,KAAM,YAERmJ,OAAQ,CACN5I,aAAc,WAIL21E,IAAgBxsF,EAAAA,EAAAA,aAAW,SAAAxV,GAAK,MAAK,CAChDiiG,cAAe,CACbvsF,QAAS,OACToC,OAAQ,OACRya,aAAc,cAAF,OAAgBvyB,EAAMsb,KAAK9b,YCfrC0iG,GAAU,SAAApwF,GACd,IAAQkpD,EAAuBlpD,EAAvBkpD,OAAQpgC,EAAe9oB,EAAf8oB,KAAMv8B,EAASyT,EAATzT,KAChBmY,EAAUwrF,KACRhlG,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFktE,GAAc7wD,EAAAA,EAAAA,QAAO,WAAD,OAAY4kD,GAAoBjD,KACpDyqB,GAAMpsE,EAAAA,EAAAA,QAAO,MAWb8oF,GAAoBniF,EAAAA,EAAAA,cACxB,SAACnZ,EAAMuG,GACL,GAAKvG,GAASuG,EAAd,CACA,IAAMm8E,EAAgB,CACpB72E,KAAMsqE,GAAAA,OAAAA,UACNvqE,KAAMuqE,GAAAA,OAAAA,WAGRA,GAAAA,OAAe3+E,EAAMkrF,EAAcn8E,GAAQ,CACzCo4D,OAAQ,CACN0E,YAAaA,EAAY1sE,QACzBuqE,QAAS,cAIXntC,KAAM,CACJyT,SAAUxnC,GAEZ+kC,OAAQ,KACPzuC,MAAK,SAAAnE,GACFysF,EAAIjoF,UACNioF,EAAIjoF,QAAQ4kG,UAAY,GACxBxgC,GAAAA,OAAU5oE,EAAIo+B,IACXyqC,OAAO,YACPA,OAAO,UACPC,KAAK,KAHR,iBAGwBoI,EAAY1sE,UACjCqkE,OAAO,gBACPC,KAAK,KAAM,OACXA,KAAK,KAAM,OACXA,KAAK,eAAgB,KACxB2jB,EAAIjoF,QAAQvC,YAAYjC,EAAIo+B,WAIlC,CAAC/4B,IAgBH,OAJAyW,EAAAA,EAAAA,YAAU,WACRqtF,EAAkBvnE,EAAK/zB,KAAM+zB,EAAKxtB,SACjC,CAACwtB,EAAK/zB,KAAM+zB,EAAKxtB,MAAO+0F,IAGzB,yBAAKjvF,UAAWsD,EAAQyrF,gBACpBrnE,EAAKjyB,UAAYiyB,EAAK/zB,KACtB,yBAAKvR,GAAI40E,EAAY1sE,QAASuU,IAAK0zE,IAEnC,2BAAIzoF,EAAE,wBAMd,YAEAklG,GAAQzqF,UAAY,CAClBujD,OAAQtjD,KAAAA,OACRkjB,KAAMljB,KAAAA,OACNrZ,KAAMqZ,KAAAA,MC9ER,IAAM0mB,GAAW,SAAAtsB,GACf,IAAQkpD,EAA0ClpD,EAA1CkpD,OAAQ38D,EAAkCyT,EAAlCzT,KAAMmN,EAA4BsG,EAA5BtG,GAAI+B,EAAwBuE,EAAxBvE,KAAMqgF,EAAkB97E,EAAlB87E,cAC1Bp3E,EAAU0nB,KAChB,GAAwBtpB,EAAAA,EAAAA,UAAS,IAAjC,YAAO5c,EAAP,KAAa+X,EAAb,KACA,GAAwC6E,EAAAA,EAAAA,UAAS,IAAjD,YAAOytF,EAAP,KAAqBC,EAArB,KACMC,GAAsBlpF,EAAAA,EAAAA,SAAO,IAQnCvE,EAAAA,EAAAA,YAAU,WACH84E,GACLA,EAAc1wF,KAAd,QAA2BsjF,QAAQ30C,WAAU,WAC3C02D,EAAoB/kG,SAAU,EAC9B8kG,EAAgB,SAEjB,CAAC1U,IAQJ,IAAM5uD,GAAuBhf,EAAAA,EAAAA,cAC3B,SAAA4a,GAAQ,MACN,UAAIA,EAAKjyB,gBAAT,OAAI,EAAexS,OACjB4Z,EAAQwsB,GAAgB3B,EAAM5iC,KAE9BuqG,EAAoB/kG,SAAU,EAC9B8kG,EAAgB1nE,GAChBrtB,EAAK5K,GAAAA,cAAAA,GAAAA,SAAmCi4B,MAG5C,CAAC5iC,EAAMuV,IAaHi1F,GAAuBxiF,EAAAA,EAAAA,cAAY,SAAA4a,GACnC2nE,EAAoB/kG,SACtB8kG,EAAgB1nE,KAEjB,IAMG6nE,GAAuBziF,EAAAA,EAAAA,cAAY,SAAA+yD,GACnCwvB,EAAoB/kG,SACtB8kG,EAAgB,MAEjB,IAYG/iE,GAAWvf,EAAAA,EAAAA,cAAY,SAAAvR,GAC3B,OAAOsB,GAAQ,SAAAgjE,GAAK,MAClB,CAACtkE,EAAWW,SAAS,QAASX,EAAWW,SAAS,SAAStZ,KACzD,SAACkX,EAAO1X,GAGN,MAAO,CACLA,GAAAA,EACAuR,KAJsBmG,EAAhBnG,KAKNsB,MALsB6E,EAAV7E,MAMZQ,SALuBqE,EAAMwyB,UAAUlQ,QAAO,SAAA1yB,GAAC,OAAKA,EAAEgT,SAK3B9Z,KAAI,SAACoX,EAAKuyB,GACnC,MAAO,CACLnqC,GAAImqC,EACJ54B,KAAMqG,EAAImc,UACVlhB,MAAO+E,EAAImc,UACXjc,MAAOF,EAAIoE,WACXva,IAAKmW,EAAIkc,sBAOpB,IAkBH,OAVAtU,EAAAA,EAAAA,YAAU,WACRtJ,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,UAAkC48B,KAC9D,CAAC/zB,EAAI+zB,IASN,kBAAC,EAAA7oB,WAAD,CACExD,UAAWsD,EAAQurF,mBACnB,cAAY,6BACZ3gF,UAAU,OAEV,kBAAC,EAAA1K,WAAD,CAAY0K,UAAU,OACpB,kBAAC,GAAD,CAASwZ,KAAMynE,EAAcrnC,OAAQA,EAAQ38D,KAAMA,KAErD,kBAAC,EAAAqY,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQ2nB,YAC5CnmC,GACC,kBAAC,GAAD,CACEA,KAAMA,EACNwjC,YAAawD,EACb1D,aAAcknE,EACdjnE,aAAcknE,OAQ1B,SAAehjF,GAAe2e,IAE9BA,GAAS3mB,UAAY,CACnBpZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,YCnIN,IAAMgrF,GAAW,SAAA5wF,GAEf,IAAQ4a,EAA6C5a,EAA7C4a,KAAM+G,EAAuC3hB,EAAvC2hB,SAAU4/C,EAA6BvhE,EAA7BuhE,cAAemiB,EAAc1jF,EAAd0jF,UACjCnX,EAAW3xD,EAAK10B,KAGtB,GAA8C4c,EAAAA,EAAAA,UAAS,GAAvD,YAAO+tF,EAAP,KAAwBC,EAAxB,KAGQ5lG,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACFwZ,EAAUk4E,KAaVmU,GAAgB7iF,EAAAA,EAAAA,cAAY,SAAAnZ,GAChC,OAAOu9D,GAAAA,cAAuBv9D,KAC7B,IAYGi8F,GAAqB9iF,EAAAA,EAAAA,cACzB,SAAAnF,GACE,IAAM5d,EAAQ4d,EAAIvgB,OAAO2C,MACzBu4F,EAAUh4F,QAAQulG,kBAAkBr2E,EAAK10B,KAAK1C,GAAI2H,GAClD2lG,EAAmB3lG,GAEnByvB,EAAKs2E,uBAAuB/lG,GAAOm0E,sBAErC,CAACokB,EAAW9oE,IAqBd,OAXA5X,EAAAA,EAAAA,YAAU,WACR,IAAM0jD,EAAag9B,EAAUh4F,QAAQylG,kBAAkB5kB,EAAS/oF,IAChEstG,EAAmBpqC,KAClB,CAAC6lB,EAAUmX,IASZ,yBAAK,cAAY,0BACf,4BAAKx4F,EAAE,SACP,kBAAC,EAAA8gC,KAAD,CAAM5qB,UAAWsD,EAAQsN,WAAY1C,UAAU,OAC7C,kBAAC,EAAA4c,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,WAE3B,kBAAC,EAAAwiD,SAAD,CAAUC,IAAA,GACR,kBAAC,EAAArsB,QAAD,MACA,kBAAC,EAAA1c,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQo4E,oBAC7C,kBAAC,EAAA5wD,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAAizB,QAAD,CAAS9nB,MAAOk2E,EAAStO,YACvB,kBAAC,EAAAr5D,WAAD,KAAa2nE,EAAStO,cAG1B,kBAAC,EAAA38C,QAAD,MACA,kBAAC,EAAA4K,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAAizB,QAAD,CAAS9nB,MAAO06F,EAAcxkB,EAASrO,aACrC,kBAAC,EAAAt5D,WAAD,KAAamsF,EAAcxkB,EAASrO,iBAK5C,kBAAC,EAAA58C,QAAD,MACA,kBAAC,EAAA4K,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,SAE3B,kBAAC,EAAAwiD,SAAD,CAAUC,IAAA,GACR,kBAAC,EAAArsB,QAAD,MACA,kBAAC,EAAA1c,WAAD,CAAY0K,UAAU,MAAMlO,UAAWsD,EAAQo4E,oBAC7C,kBAAC,EAAA5wD,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAAizB,QAAD,CAAS9nB,MAAOk2E,EAASpO,YACvB,kBAAC,EAAAv5D,WAAD,KAAa2nE,EAASpO,cAG1B,kBAAC,EAAA78C,QAAD,MACA,kBAAC,EAAA4K,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,gBACzB,kBAAC,EAAAizB,QAAD,CAAS9nB,MAAO06F,EAAcxkB,EAASnO,aACrC,kBAAC,EAAAx5D,WAAD,KAAamsF,EAAcxkB,EAASnO,iBAK3CmD,IAAkBrqE,IACjB,oCACE,kBAAC,EAAAoqB,QAAD,MACA,kBAAC,EAAA4K,SAAD,KACE,kBAAC,EAAAoY,aAAD,CAAcx1B,QAAS5jB,EAAE,uBAE3B,kBAAC,EAAAwiD,SAAD,CAAUC,IAAA,GACR,kBAAC,EAAA/oC,WAAD,CACE0K,UAAU,MACVlO,UAAWsD,EAAQm4E,qBAEnB,kBAAC,EAAAlqC,YAAD,CAAa5qC,WAAW,GACtB,kBAAC,EAAA+qC,WAAD,KAAa5nD,EAAE,sBACf,kBAAC,EAAAqsD,OAAD,CACEpsD,MAAO0lG,EACP7nF,SAAUgoF,EACV9nF,UAAWyY,EACXvgB,UAAWsD,EAAQq4E,cAElB/xF,OAAOqO,OAAO/D,IAAiBtR,KAAI,SAAAmrE,GAClC,OACE,kBAAC,EAAAj8C,SAAD,CACEpnB,IAAKqjE,EAAI15D,MACTtK,MAAOgkE,EAAI15D,MACX2L,UAAWsD,EAAQoqD,eAEnB,2BAAI5jE,EAAEikE,EAAI35D,QACV,yBACE4L,UAAWsD,EAAQqqD,UACnBxmE,MAAO,CAAEqF,gBAAiBuhE,EAAIz5D,cAMxC,kBAAC,EAAA07F,eAAD,KACGlmG,EAAE,sCAYvB0lG,GAASjrF,UAAY,CACnB+9E,UAAW99E,KAAAA,OAAAA,WACXgV,KAAMhV,KAAAA,OAAAA,WACN+b,SAAU/b,KAAAA,KACV27D,cAAe37D,KAAAA,QAGjBgrF,GAAS/qF,aAAe,CACtB8b,UAAU,EACV4/C,cAAe,IAGjB,YCpMO,IAAM8vB,IAA2B3tF,EAAAA,EAAAA,aAAW,iBAAO,CACxD7gB,KAAM,CACJovB,UAAW,EACXsI,aAAc,GAEhBnI,SAAU,CACRs6C,WAAY,EACZjyC,cAAe,GAEjBx2B,KAAM,CACJ0tB,WAAY,SCFV2/E,GAAqB,SAAAtxF,GACzB,IAAQ9U,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACA6J,EAAsCiL,EAAtCjL,KAAMgK,EAAgCiB,EAAhCjB,QAAS+8B,EAAuB97B,EAAvB87B,SAAU/+B,EAAaiD,EAAbjD,SAC3B2H,EAAU2sF,KACVp9E,EAAO,CACXlf,KAAM7J,EAAE,QACR6T,QAAS7T,EAAE,WACXwwD,SAAUxwD,EAAE,YACZ6R,SAAU7R,EAAE,aAGRqmG,EAAgB,CACpB1sF,QAAS,UACTzD,UAAWsD,EAAQzgB,MAGfiC,EAAO,CACX,CAAE4oB,QAASmF,EAAKlf,KAAMub,UAAWvb,GACjC,CAAE+Z,QAASmF,EAAKlV,QAASuR,UAAWvR,GACpC,CAAE+P,QAASmF,EAAKynC,SAAUprC,UAAWwrB,IAOvC,OAJI/+B,GACF7W,EAAK3C,KAAK,CAAEurB,QAASmF,EAAKlX,SAAUuT,UAAWvT,IAG1C7W,EAAKlC,KAAI,SAAAC,GACd,OACE,kBAAC,KAAD,CACEmd,UAAWsD,EAAQ0N,SACnBtmB,IAAG,UAhCS,uBAgCT,YAAoB7H,EAAK6qB,UAE5B,kBAAC,KAAD,QACM7qB,EADN,CAEEutG,uBAAwBD,EACxBE,yBAA0BF,EAC1BnwF,UAAWsD,EAAQ7hB,aAO7ByuG,GAAmB3rF,UAAY,CAC7B5Q,KAAM6Q,KAAAA,OACN7G,QAAS6G,KAAAA,OACTk2B,SAAUl2B,KAAAA,OACV7I,SAAU6I,KAAAA,QAGZ0rF,GAAmBzrF,aAAe,CAChC9Q,KAAM,GACNgK,QAAS,GACT+8B,SAAU,GACV/+B,SAAU,MAGZ,Y,qkBCxDA,IAEM0sC,IAAY/lC,EAAAA,EAAAA,aAAW,iBAAO,CAClC7gB,KAAM,CACJ+gB,QAAS,MACTG,SAAU,YAEZ9f,KAAM,CACJ0tB,WAAY,OACZ1H,SAAU,YAIRynF,GAAc,SAAA1xF,GAClB,IAAM0E,EAAU+kC,KACRv+C,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACA6iG,EAAyB/tF,EAAzB+tF,eAAgB1pC,EAASrkD,EAATqkD,KAClBhuD,EAAQnL,EAAE,QAEVqmG,EAAgB,CACpB7jG,MAAO,UACP0T,UAAWsD,EAAQzgB,MAGf0tG,GAAWzjF,EAAAA,EAAAA,cAAY,WAC3B,MAA8Cm2C,EAAKn+D,KAA3C6O,EAAR,EAAQA,KAAMgK,EAAd,EAAcA,QAAS+8B,EAAvB,EAAuBA,SAAU/+B,EAAjC,EAAiCA,SAEjC,OACE,kBAAC,GAAD,CACEhI,KAAMA,EACNgK,QAASA,EACT+8B,SAAUA,EACV/+B,SAAUA,MAGb,CAACsnD,IAEJ,OACE,kBAAC,KAAD,CACE97D,MAAK,MAAOwlG,GACZ3sF,UAAWsD,EAAQ7hB,KACnB+uG,UAAW,IAEX,kBAAC,KAAD,CACE3lE,OAAO,EACP4lE,UACE,oCACE,kBAAC,KAAD,CAAU/lG,IAAG,UA/CL,uBA+CK,eACX,kBAAC,KAAD,CACEgjB,QAASzY,EACTm7F,uBAAwBD,KAG5B,kBAAC,EAAAjwE,QAAD,QAIHqwE,OAMTD,GAAY/rF,UAAY,CACtBooF,eAAgBnoF,KAAAA,MAAgB,CAC9B4vB,KAAM5vB,KAAAA,OACN3B,IAAK2B,KAAAA,SACJksF,WACHztC,KAAMz+C,KAAAA,OAAAA,YAGR8rF,GAAY7rF,aAAe,GAE3B,YC5EA,IAAMksF,GAAsB,SAAA/xF,GAC1B,IAAQ4sE,EAAiB5sE,EAAjB4sE,aAGFloE,EAAUyoD,KAERjiE,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAcF8mG,EAAoB,SAAClpE,EAAMu7B,GAC/B,OACE,2BACE,gCAASn5D,EAAE,eADb,IACsC49B,EACpC,6BACA,gCAAS59B,EAAE,eAHb,IAGsCm5D,IAW1C,OACE,yBAAK4tC,OAAO,iCACV,yBAAK7wF,UAAWsD,EAAQ0oD,oBACtB,kBAAC,KAAD,CAAYvoD,QAAQ,MAAM3Z,EAAE,eAC5B,kBAAC,KAAD,CAAY2Z,QAAQ,MAAM3Z,EAAE,gBAE9B,yBAAKkW,UAAWsD,EAAQ2oD,2BACrBuf,EAAa5oF,KAAI,SAAAkuG,GAAQ,OACxB,yBAAKpmG,IAAKomG,EAAS1uG,GAAI4d,UAAWsD,EAAQ4oD,mBACxC,kBAAC,KAAD,CACEj3D,MAAO27F,EACLE,EAASj0B,WACTi0B,EAASh0B,aAGX,6BACE,2BACE,gCAASg0B,EAASj0B,YADpB,KAGCi0B,EAASh0B,aAGd,kBAAC,KAAD,CACE7nE,MAAO27F,EACLE,EAAS/zB,WACT+zB,EAAS9zB,aAGX,6BACE,2BACE,gCAAS8zB,EAAS/zB,YADpB,KAGC+zB,EAAS9zB,kBAMpB,uBAAGh9D,UAAWsD,EAAQ6oD,YAAariE,EAAE,+BAK3C6mG,GAAoBpsF,UAAY,CAC9BinE,aAAchnE,KAAAA,MAAAA,YAGhB,YCjFA,IAAMusF,GAAgB,SAAAnyF,GACpB,IAmB2B87B,EAAUhT,EAAMgvC,EAnBnCs6B,EAAkCpyF,EAAlCoyF,YAAa7lG,EAAqByT,EAArBzT,KAAMse,EAAe7K,EAAf6K,WAGrBnG,EAAUqpD,KAER7iE,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAqCF+yB,GAAqB/P,EAAAA,EAAAA,cAAY,WACrC,IAAMnZ,EAAOq9F,EAAY1kB,cAAcznB,aACjC3qD,EAAQhL,GACR9M,EAAKue,GAAa,CAAEhN,KAAAA,EAAMuG,MAAAA,IAEhCuP,IAEA,IAAMixB,EAAW,CACft4C,GAAAA,EACAuR,KAAAA,EACAuG,MAAAA,GAGF/O,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+BirC,KACtD,CAACs2D,EAAY1kB,cAAcznB,aAAcp7C,EAAYte,IAQxD,OACE,kBAAC,KAAD,CACE8J,OA/CuBylC,EAgDrBs2D,EAAY1kB,cAAcznB,aAhDKn9B,EAiD/BspE,EAAYr9F,KAjDyB+iE,EAkDrCs6B,EAAYvkB,cAhDd,oCACE,gCAAS3iF,EAAE,uBADb,IAC8C4wC,EAC5C,6BACA,gCAAS5wC,EAAE,kBAHb,IAGyC49B,EACvC,6BACA,gCAAS59B,EAAE,qBACX,wBAAIkW,UAAWsD,EAAQupD,YACpB6J,EAAO9zE,KAAI,SAAAy2D,GAAK,OACf,wBAAI3uD,IAAG,UAAKg9B,EAAL,YAAa2xB,IAAUA,UA2CpC,yBACE,cAAY,4BACZr5C,UAAWsD,EAAQspD,wBAEnB,6BACE,gCAASokC,EAAYr9F,MACrB,wBAAIqM,UAAWsD,EAAQupD,YACpBmkC,EAAYvkB,cAAc7pF,KAAI,SAAAy2D,GAAK,OAClC,wBAAI3uD,IAAG,UAAKsmG,EAAY5uG,GAAjB,YAAuBi3D,IAC5B,gCAASA,SAKjB,6BACE,kBAAC,KAAD,CACE,cAAY,sBACZr5C,UAAWsD,EAAQwpD,WACnBnpD,QAASkZ,GAET,kBAAC,KAAD,CACE5nB,MAAOnL,EAAE,yBAA0B,CACjC+6D,aAAcmsC,EAAY1kB,cAAcznB,gBAG1C,gCAASmsC,EAAY1kB,cAAcznB,oBASjDksC,GAAcxsF,UAAY,CACxBysF,YAAaxsF,KAAAA,OAAAA,WACbrZ,KAAMqZ,KAAAA,KAAAA,WACNiF,WAAYjF,KAAAA,KAAAA,YAGd,YCnHA,IAAMysF,GAA2B,SAAAryF,GAC/B,IAAQsyF,EAA6CtyF,EAA7CsyF,uBAAwB/lG,EAAqByT,EAArBzT,KAAMse,EAAe7K,EAAf6K,WAGhCnG,EAAU8oD,KAERtiE,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQR,OACE,yBAAK+mG,OAAO,sCACV,2BAAI/mG,EAAE,qCACN,yBAAKkW,UAAWsD,EAAQ+oD,yBACtB,kBAAC,KAAD,CAAY5oD,QAAQ,MAAM3Z,EAAE,6BAC5B,kBAAC,KAAD,CAAY2Z,QAAQ,MAAM3Z,EAAE,kBAE9B,yBAAKkW,UAAWsD,EAAQgpD,gCACrB4kC,EAAuBtuG,KAAI,SAAAouG,GAAW,OACrC,kBAAC,GAAD,CACEtmG,IAAKsmG,EAAY5uG,GACjB+I,KAAMA,EACNse,WAAYA,EACZunF,YAAaA,QAInB,uBAAGhxF,UAAWsD,EAAQipD,aACnBziE,EAAE,wCAMXmnG,GAAyB1sF,UAAY,CACnC2sF,uBAAwB1sF,KAAAA,MAAAA,YAG1B,YCxCA,IAAM2sF,GAAkB,SAAAvyF,GACtB,IAmB2B87B,EAAUhT,EAAMgvC,EAnBnC06B,EAAsCxyF,EAAtCwyF,gBAAiBjmG,EAAqByT,EAArBzT,KAAMse,EAAe7K,EAAf6K,WAGzBnG,EAAUqpD,KAER7iE,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAqCF+yB,GAAqB/P,EAAAA,EAAAA,cAAY,WACrC,IAAMnZ,EAAOy9F,EAAgBlvB,SAASrd,aAChC3qD,EAAQk3F,EAAgBlvB,SAASp9E,KAAK2Y,MACtCrb,EAAKue,GAAa,CAAEhN,KAAAA,EAAMuG,MAAAA,IAEhCuP,IAEA,IAAMixB,EAAW,CACft4C,GAAAA,EACAuR,KAAAA,EACAuG,MAAAA,GAEF/O,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+BirC,KACtD,CAAC02D,EAAiBjmG,EAAMse,IAQ3B,OACE,kBAAC,KAAD,CACExU,OA9CuBylC,EA+CrB02D,EAAgBlvB,SAASrd,aA/CMn9B,EAgD/B0pE,EAAgBlvB,SAASp9E,KAAK1C,GAhDOs0E,EAiDrC06B,EAAgBnlB,aA/ClB,oCACE,gCAASniF,EAAE,uBADb,IAC8C4wC,EAC5C,6BACA,gCAAS5wC,EAAE,uBAHb,IAG8C49B,EAC5C,6BACA,gCAAS59B,EAAE,8BACX,4BACG4sE,EAAO9zE,KAAI,SAAAy2D,GAAK,OACf,wBAAI3uD,IAAG,UAAKg9B,EAAL,YAAa2xB,IAAUA,UA0CpC,yBACE,cAAY,4BACZr5C,UAAWsD,EAAQspD,wBAEnB,6BACE,gCAASwkC,EAAgBlvB,SAASp9E,KAAK6O,MACvC,4BACGy9F,EAAgBnlB,aAAarpF,KAAI,SAAAqgE,GAAI,OACpC,wBAAIv4D,IAAG,UAAK0mG,EAAgBlvB,SAASp9E,KAAK1C,GAAnC,YAAyC6gE,IAC9C,gCAASA,SAKjB,6BACE,kBAAC,KAAD,CACE,cAAY,sBACZjjD,UAAWsD,EAAQwpD,WACnBnpD,QAASkZ,GAET,kBAAC,KAAD,CACE5nB,MAAOnL,EAAE,yBAA0B,CACjC+6D,aAAcusC,EAAgBlvB,SAASrd,gBAGzC,gCAASusC,EAAgBlvB,SAASrd,oBAShDssC,GAAgB5sF,UAAY,CAC1B6sF,gBAAiB5sF,KAAAA,OAAAA,WACjBrZ,KAAMqZ,KAAAA,KAAAA,WACNiF,WAAYjF,KAAAA,KAAAA,YAGd,YCnHA,IAAM6sF,GAA6B,SAAAzyF,GACjC,IAAQitE,EAA0CjtE,EAA1CitE,oBAAqB1gF,EAAqByT,EAArBzT,KAAMse,EAAe7K,EAAf6K,WAG7BnG,EAAUkpD,KAER1iE,GAAM+Z,EAAAA,EAAAA,kBAAN/Z,EAQR,OACE,yBACEkW,UAAWsD,EAAQ7hB,KACnB,cAAY,yCAEZ,2BAAIqI,EAAE,kCACN,yBAAKkW,UAAWsD,EAAQmpD,2BACtB,4BAAK3iE,EAAE,wBACP,4BAAKA,EAAE,kBAET,yBAAKkW,UAAWsD,EAAQopD,kCACrBmf,EAAoBjpF,KAAI,SAAAwuG,GAAe,OACtC,kBAAC,GAAD,CACE1mG,IAAK0mG,EAAgBlvB,SAASp9E,KAAK1C,GACnCqnB,WAAYA,EACZ2nF,gBAAiBA,EACjBjmG,KAAMA,QAIZ,uBAAG6U,UAAWsD,EAAQipD,aACnBziE,EAAE,qCAMXunG,GAA2B9sF,UAAY,CACrCsnE,oBAAqBrnE,KAAAA,MAAAA,YAGvB,Y,olDC5CqB8sF,GAAAA,SAAAA,G,ubACnB,cAAoD,MAAtClkB,EAAsC,EAAtCA,WAAY9a,EAA0B,EAA1BA,OAAQlwE,EAAkB,EAAlBA,GAAImZ,EAAc,EAAdA,WAAc,mBAClD,cAAM,CAAE6xE,WAAAA,EAAY9a,OAAAA,EAAQlwE,GAAAA,EAAImZ,WAAAA,IADkB,8CAqH/B,6FACE,EAAKssD,UADP,+DACRz0C,EADQ,iBAEXA,EAAOkyD,yBAFI,sMArH+B,+BAmMjC,SAAA3xE,GACjB,EAAK66E,gBAAgB76E,MApM6B,sBA4M1C,SAAC6lB,EAAMpG,GAIf,GAFc,EAAK+hB,MAAMpqC,IAAIyuB,EAAK7lB,MAGhC6lB,EAAKk2D,WAAW,CAAE9pB,WAAYpsC,EAAKosC,kBAIrC,IACE,IAAM+pB,EAAahS,GAASiS,UAAUp2D,GAEtC,EACEsxD,GAAemC,oBAAoB0C,EAAY,EAAK5nB,OAD9C+kB,EAAR,EAAQA,cAAeE,EAAvB,EAAuBA,cAGvB,IAAKF,IAAkBE,EACrB,MAAM,IAAIjN,GAAY4P,GAIxB,IAAM7pF,EAAM,IAAI63E,GACd,EAAKrL,OACLwa,EACAE,EACA2C,EACA,EAAK/R,cACL,EAAKiS,eAGPz8D,EAAO3d,SAAShL,SAAQ,SAAAggC,GACtB,EAAK8mE,eAAe9mE,EAAO3kC,MAGzBA,EAAIhB,KAAKo4E,eAAej6E,OAAS,GACnC,EAAKuuG,oBAAoBp+E,EAAQttB,GAGnC,EAAKqvC,MAAMt5B,IAAI2d,EAAK7lB,KAAM7N,GAC1B,MAAOqf,GACPrM,QAAQqM,MAAMA,EAAMxH,aAnP4B,yBA+PvC,SAAC/D,EAAQ63F,EAASlzD,OA/PqB,gCAiRhC,SAACqqB,EAAU70B,GAAmC,IAA3B3gB,EAA2B,uDAAlB,EAAK+0D,SACnD,GAAK/0D,EAAL,CAGA,GAAIw1C,EAASr+D,QAAQ,OAAS,EAAG,CAC/B,IAAMmnG,EAAW9oC,EAASpoD,MAAM,MAC1BmxF,EAAav+E,EAAO3d,SAASwoB,MAAK,SAAAz0B,GAAC,OAAIA,EAAE1E,KAAK1C,KAAOsvG,EAAS,MAC9DE,EAAcF,EAASrrG,OAAO,GAAGnD,KAAK,MAE5C,OAAO,EAAK2uG,kBAAkBD,EAAa79D,EAAQ49D,GAGrD,IAAMjqE,EAAOtU,EAAO3d,SAASwoB,MAAK,SAAAz0B,GAAC,OAAIA,EAAE1E,KAAK1C,KAAOwmE,KAErDlhC,EAAKqM,OAAS,CAAC,GAAG,EAAM,QAAQzJ,SAASyJ,OA/RS,8BAySlC,SAAC8wB,GAAuC,IAAzBn9B,EAAyB,uDAAlB,EAAKygD,SAEvCzgD,EAAKm9B,eAAiBA,GAAcn9B,EAAK+lD,iBAAiB5oB,GAE9Dn9B,EAAKjyB,SAAShL,SAAQ,SAAAggC,GACpB,EAAK+jD,gBAAgB3pB,EAAcp6B,SA9Sa,2BAiarC,WACb,IAAQ6nC,EAAR,OAAQA,OACFmd,EAAO,IAAInX,GAAU,CAAEhG,OAAAA,IACvBvoE,EAAQ,CAAEjE,IAAK2pF,EAAMt6C,MAAO,IAClC,EAAK4yB,MAAMlsD,IAAI4zE,EAAK3qF,KAAK1C,GAAI2H,MAraqB,4BAqbpC,eA5ad,EAAK+nG,KAAO,CAAErwG,KAAM,MACpB,EAAKomE,SAAW,GAVkC,E,kCAwBpD,WACE,OAAOllE,KAAKmvG,KAAKrwG,O,oBAOnB,WACE,OAAOipE,K,uCAeT,WAAesX,GAAf,gFAEQ+vB,EAAe,CACnB3vG,GAAI4/E,EAAKlsD,MACTsxC,eAAgB4a,EAAKlsD,MACrBuxC,cAAa,UAAE2a,EAAKn+E,WAAP,QAAcm+E,EAAKlsD,MAChCizC,SAAUiZ,EAAKjZ,SACfgd,MAAO/D,EAAKhhD,MACZgoC,UAAWgZ,EAAKhZ,WAGlBrmE,KAAK2vE,OAAOA,OAAO0/B,QAXrB,SAeIrvG,KAAKguF,eAfT,SAgBUhuF,KAAKsvG,aAAaF,GAhB5B,OAiBIpvG,KAAKwlF,SAASvS,cAjBlB,gDAmBI98D,QAAQ+E,KAAK,gCAAb,MAnBJ,mCAuBUlb,KAAKiuF,UAAU5O,GAvBzB,2DAyBIlpE,QAAQ+E,KAAK,iCAAb,MAzBJ,QA4BE,IACElb,KAAKuvG,WAAWlwB,EAAK/Y,MAAOtmE,KAAKwlF,UACjCxlF,KAAKusF,gBAAgB1xC,KAAK,CAAE6vB,SAAU,KACtC,MAAOloD,GACPrM,QAAQ+E,KAAK,kCAAmCmkE,EAAM78D,GAhC1D,yBAmCSxiB,MAnCT,iE,sFA6CA,WAAgBq/E,GAAhB,sGAAsB5uD,EAAtB,+BAA+BzwB,KAAKwlF,SAApC,kBAEUxlF,KAAKwvG,WAAWnwB,EAAKjZ,SAAU8B,GAAsBz3C,GAF/D,uBAGUzwB,KAAKwvG,WAAWnwB,EAAKhZ,UAAW6B,GAA2Bz3C,GAHrE,WAKQ4uD,EAAKhZ,UALb,iBAMYnB,EAAWj+D,OAAOqO,OAAO+pE,EAAKhZ,WAN1C,MAQ4BnB,EAR5B,gDAQiBuqC,EARjB,KASctP,EAAcngG,KAAKolE,MAAMh9D,IAAIqnG,EAAQhrC,gBAAgBthE,IACrDusG,EAAkBvP,EAAYpoD,SAV5C,UAYc/3C,KAAKiuF,UAAUyhB,EAAiBvP,GAZ9C,mCAgBMngG,KAAK6D,OAAO4sB,GACZA,IAAWzwB,KAAKwlF,UAAYxlF,KAAKklE,SAAS1lE,KAAKixB,GAjBrD,0DAoBIta,QAAQ+E,KAAK,qCAAsCmkE,EAAnD,MApBJ,0D,oFAwCA,WAAct6C,EAAMmwB,EAAUzkC,GAA9B,gGAEuB02D,GAAAA,OACjBnnF,KAAK4Y,WACLuuE,GAAAA,OAAejyB,GACf,CAAEya,OAAQ3vE,KAAK2vE,OAAQ5qC,KAAAA,EAAMtU,OAAAA,IALnC,cAEUq8D,EAFV,OAQI9sF,KAAKolE,MAAMlsD,IAAI6rB,EAAKtlC,GAAI,CAAE0D,IAAK2pF,EAAMt6C,MAAO,KAE5C/hB,EAAOwzD,SAAS6I,GAVpB,kBAYWA,GAZX,gCAcI32E,QAAQ+E,KAAK,sBAAb,MAdJ,yD,qEAwBA,WAA4B,WAAtB6pB,EAAsB,uDAAf/kC,KAAKwlF,SACXzgD,IACLA,EAAK/d,UAAW,EAChB+d,EAAKjyB,SAAShL,SAAQ,SAAAggC,GACpB,EAAK8iD,MAAM9iD,S,yBAQf,WAAkC,WAAtB/C,EAAsB,uDAAf/kC,KAAKwlF,SACjBzgD,IACLA,EAAKqM,QAAS,EACdrM,EAAKjyB,SAAShL,SAAQ,SAAAggC,GACpB,EAAKgvD,YAAYhvD,S,+BAUrB,SAAkBs9B,EAAO1pD,GAAG,WAC1BzU,OAAOgE,KAAKm6D,GAAOt9D,SAAQ,SAAAm+D,GACzB,IAAM70B,EAASg0B,EAAMa,GACrB,EAAKipC,kBAAkBjpC,EAAU70B,Q,wBAgIrC,SAAWoB,EAAO/hB,GAAQ,WAClB6rD,EAAS9pC,GAAS,GAKxB,OAJAvrC,OAAOgE,KAAKqxE,GAAQx0E,SAAQ,SAAAg+D,GAC1B,IAAMiX,EAAY,IAAEt9E,GAAIqmE,EAAQ90D,KAAM80D,GAAWwW,EAAOxW,IACxD,EAAKwd,QAAQvG,EAAWtsD,MAEnBzwB,O,iCAUT,SAAoB+kC,EAAMlO,GAAiB,WAAX84E,EAAW,uDAAH,EAChCC,EAAW/4E,EAAK10B,KAAKo4E,eAAeo1B,GACpC7pF,EAAYif,EAAKjyB,SAAS1K,IAAIwnG,GAChC9pF,MAAAA,GAAAA,EAAWhT,WACbgT,EAAUhT,SAAShL,SAAQ,SAAAggC,GACzB,EAAK8mE,eAAe9mE,EAAOjR,MAEzBA,EAAK10B,KAAKo4E,eAAeo1B,EAAQ,IACnC3vG,KAAK6uG,oBAAoB/oF,EAAW+Q,EAAM84E,EAAQ,M,4BAUxD,SAAe7nE,EAAOjR,GAAM,WACpB+S,EAAU9B,EAAM3lC,KAAK1C,GACrB+oF,EAAW3xD,EAAK10B,MAGpBqmF,EAASjO,eAAe5yC,SAASiC,IACjC4+C,EAASlO,eAAe3yC,SAASiC,MAEjC4+C,EAASzH,mBAAqByH,EAASlO,eAAer6E,KACpD,SAAAgmE,GAAQ,eAAI,YAAKb,MAAMh9D,IAAI69D,UAAf,mBAA0B9iE,WAA1B,eAA+B++D,eAAgB+D,KAE7DuiB,EAAS1H,mBAAqB0H,EAASjO,eAAet6E,KACpD,SAAAgmE,GAAQ,eAAI,YAAKb,MAAMh9D,IAAI69D,UAAf,mBAA0B9iE,WAA1B,eAA+B++D,eAAgB+D,KAE7Dn+B,EAAMw7C,QAAQkF,M,yCAclB,WAAiBpjB,EAAOyd,EAAOpyD,GAA/B,iFACQo/E,EAASzqC,GAAS,GAClBn6D,EAAOhE,OAAOgE,KAAK4kG,GAF3B,MAIwB5kG,EAJxB,gDAIa6kG,EAJb,KAKU5yB,EALV,SAKuB2yB,EAAOC,IAL9B,IAKwCrwG,GAAIqwG,IAL5C,kBAQY9vG,KAAK6qF,QAAQ3N,EAAO2F,EAAOpyD,GARvC,yDAUMta,QAAQ+E,KAAK,iCAAkCgiE,EAA/C,MAVN,4DAcSl9E,MAdT,0D,6FAsBA,WAAmB+kC,GAAnB,gGAEuBoiD,GAAAA,OACjBnnF,KAAK4Y,WACLuuE,GAAAA,OAAA,eACA,CAAExX,OAAQ3vE,KAAK2vE,OAAQ5qC,KAAAA,IAL7B,OAEU+nD,EAFV,OAQI9sF,KAAKolE,MAAMlsD,IAAI6rB,EAAKtlC,GAAI,CAAE0D,IAAK2pF,EAAMt6C,MAAO,KAE5CxyC,KAAKmvG,KAAKrwG,KAAOguF,EAVrB,gDAYI32E,QAAQ+E,KAAK,sBAAb,MAZJ,yD,kEAgCA,SAAOuV,GAELA,EAAO3d,SAAShL,SAAQ,SAAAi9B,GACtBA,EAAKkuC,qB,EAlbU07B,CAAsBnkB,I,UCGvC,GAAU,GAEd,GAAQ3kF,kBAAoB,KAC5B,GAAQN,cAAgB,KAElB,GAAQhB,OAAS,UAAc,KAAM,QAE3C,GAAQX,OAAS,KACjB,GAAQgC,mBAAqB,KAEhB,KAAI,KAAS,IAKJ,MAAW,aAAiB,YCxB3C,IAAMmqG,IAAapwF,EAAAA,EAAAA,aAAW,SAAAW,GAAM,MAAK,CAC9CxhB,KAAM,CACJojB,MAAO,OACPD,OAAQ,OACR4wB,SAAU,O,glDCyCd,IAAInmB,GAAiB,KAEf9P,GAAO,SAACX,EAAOC,GAAQ,QAGzBzc,EAcEwc,EAdFxc,GACA+I,EAaEyT,EAbFzT,KACA+O,EAYE0E,EAZF1E,MACAvG,EAWEiL,EAXFjL,KACA0D,EAUEuH,EAVFvH,SACAvS,EASE8Z,EATF9Z,KACAsxB,EAQExX,EARFwX,MACA4pB,EAOEphC,EAPFohC,WACAE,EAMEthC,EANFshC,cACAH,EAKEnhC,EALFmhC,gBACAK,EAIExhC,EAJFwhC,kBACA/pB,EAGEzX,EAHFyX,kBACA/d,EAEEsG,EAFFtG,GACAoS,EACE9L,EADF8L,IAGIyiB,GAAQhnB,EAAAA,EAAAA,QACZvc,OAAO+oG,OAAO,CACZC,OAAQ,CACNxjG,KAAM,cACNyjG,MAAO,wBAETtwB,KAAM,CACJnzE,KAAM,YACNyjG,MAAO,yBAETC,KAAM,CACJ1jG,KAAM,YACNyjG,MAAO,4BAMb,GAA8BnxF,EAAAA,EAAAA,WAAS,GAAvC,YAAOw/B,EAAP,KAAgBp7B,EAAhB,KACA,GAAoCpE,EAAAA,EAAAA,YAApC,YAAO64E,EAAP,KAAmBwY,EAAnB,KACA,GAA0CrxF,EAAAA,EAAAA,UAAS,IAAnD,YAAOmkF,EAAP,KAAsBC,EAAtB,KACA,GAAsCpkF,EAAAA,EAAAA,UAAS,IAA/C,YAAOuqF,EAAP,KAAoB+G,EAApB,KACA,GAAgCtxF,EAAAA,EAAAA,UAAS,IAAzC,YAAO2rD,EAAP,KAAiB4lC,EAAjB,KACA,GAA0CvxF,EAAAA,EAAAA,YAA1C,YAAOk8D,EAAP,KAAsBs1B,EAAtB,KACA,GAAoDxxF,EAAAA,EAAAA,WAAS,GAA7D,YAAOyuE,EAAP,KAA2BgjB,EAA3B,KACA,GAAgCzxF,EAAAA,EAAAA,UAASgpD,IAAzC,aAAO6rB,GAAP,MAAiB6c,GAAjB,MACA,IAA0C1xF,EAAAA,EAAAA,UAAS,MAAnD,cAAO2xF,GAAP,MAAsBC,GAAtB,MACA,IAAoD5xF,EAAAA,EAAAA,UAAS,CAC3DwC,MAAM,EACNvB,SAAU,CAAE2oB,EAAG,EAAGwH,EAAG,KAFvB,cAAOygE,GAAP,MAA2BC,GAA3B,MAIA,IAA0C9xF,EAAAA,EAAAA,WAAS,GAAnD,cAAO+xF,GAAP,MAAsBC,GAAtB,MAGMpwF,GAAUovF,KACR5oG,IAAM+Z,EAAAA,EAAAA,kBAAN/Z,EACF6pG,IAAY70E,EAAAA,EAAAA,UAAQ,kBAAM,IAAI4qC,KAAa,IAE3CkqC,IAAmBztF,EAAAA,EAAAA,UACnB0tF,IAAoB1tF,EAAAA,EAAAA,UACpB2tF,IAAkB3tF,EAAAA,EAAAA,UAClB4tF,IAAkB5tF,EAAAA,EAAAA,UAClB6tF,IAAyB7tF,EAAAA,EAAAA,SAAO,GAChCoX,IAAmBuB,EAAAA,EAAAA,UAAQ,kBAAM,IAAIpI,KAAa,IAuBlDmnE,IAAwB/wE,EAAAA,EAAAA,cAAY,SAAC25C,EAAShrC,GAClDm/D,KAAmBqZ,cAAcxtC,EAAShrC,KACzC,IAKG8mE,IAAqBz1E,EAAAA,EAAAA,cAAY,WAAM,MACtCzV,EAAS/M,SACdswF,KAAmBrB,eAAnB,UAAkCliF,EAAS/M,QAAQu8D,mBAAnD,aAAkC,EAA8B/hE,QAC/D,CAACuS,IAME68F,IAAmBpnF,EAAAA,EAAAA,cAAY,WAC/B8tE,OACFA,KAAmB7P,MAAMvyD,gBAAkBolD,EAC3Cgd,KAAmB7P,MAAMopB,mBAE1B,CAACv2B,KAKJh8D,EAAAA,EAAAA,YAAU,WACRsyF,OACC,CAACt2B,EAAes2B,KAWnB,IAAMtZ,GAAmB,WACvB,OAAOgZ,GAAiBtpG,SAOpBuqE,IAAU/nD,EAAAA,EAAAA,cAAY,SAAA9iB,GAC1B4wF,KAAmB/lB,QAAQ7qE,KAC1B,IAMGoqG,IAAmBtnF,EAAAA,EAAAA,cAAY,WACnC,IAAc4a,GAAS6rE,IAAsB,IAArC97D,KACFyhD,EAAmB,IAAI1/E,IAC3B,CAACkuB,GAAM1kC,OAAO43F,KAAmB9zC,gBAEnC,OAAOxtC,MAAMC,KAAK2/E,GAAkB98D,QAAO,SAAA8H,GAAE,OAAIA,OAChD,CAACqvE,KAME1T,IAAU/yE,EAAAA,EAAAA,cACd,SAAAye,GACEpgC,EAAKsE,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,KAAAA,KAA+B,CAC5DyK,MAAOqxB,EAAQrxB,MACfvG,KAAM43B,EAAQ53B,OACb1J,MAAK,SAAA+P,GACN7O,EAAKsE,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,KAAAA,YAA+B,CACrDrN,GAAI4X,EAAIkc,SACRviB,KAAMqG,EAAImc,UACVjc,MAAOF,EAAIoE,kBAIjB,CAACjT,IAOGkpG,IAAqBvnF,EAAAA,EAAAA,cACzB,SAACqoB,EAAOx5B,GACNw5B,EAAM1qC,SAAQ,SAAA+uB,GAAI,OAAIniB,EAAS/M,QAAQo9D,WAAWluC,EAAKp3B,OAEvDw4F,KAAmB7P,MAAMY,oBAAoBkD,eAE7ClzE,GAAYA,MAEd,CAACtE,IAOGi9F,IAA4BxnF,EAAAA,EAAAA,cAChC,SAAA++D,GACE,IAAM1nB,EAAe9sD,EAAS/M,QAAQ65D,aAAar/D,KAEnD+mF,EAAoBphF,SAAQ,SAAAw4D,GAC1B,IAAM9E,EAAW8E,EAAKif,SAASp9E,KACzByvG,EACJp2C,EAAStqD,OAASi3D,GAAlB,YACS3M,EAASkJ,eACdlJ,EAAShjB,SAGbgpB,EAAaroD,IAAIy4F,IACjBpwC,EAAap5D,IAAIwpG,GAAcp2C,EAAS/7D,KAExC6gE,EAAKgpB,aAAaxhF,SAAQ,SAAA+pG,GAAW,OACnCn9F,EAAS/M,QAAQ65D,aAAaJ,kBAC5BwwC,EACAp2C,EAAS/7D,GACToyG,SAMR5Z,KACG7P,MAAM0pB,yBAAyB5oB,GAC/BgD,iBAEL,CAACx3E,IAOGq9F,IAAoB5nF,EAAAA,EAAAA,cACxB,SAAA6+C,GACE,IAAc6f,EAA2B7f,EAAjC7mE,KAAoB6W,EAAagwD,EAAbhwD,SAExB6vE,EAAavoF,QACfkI,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,OACA,CACEuU,WAAYla,GAAE,OACdmL,MAAOnL,GAAE,0BACTkT,SAAU,kBAAMq3F,GAAmB7oB,EAAc7vE,IACjD6vE,aAAAA,GAEFmlB,MAIN,CAACxlG,EAAMrB,GAAGuqG,KAONM,IAA2B7nF,EAAAA,EAAAA,cAC/B,SAAA6+C,GACE,IAAckgB,EAAwBlgB,EAA9B7mE,KAEJ+mF,EAAoB5oF,QACtBkI,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,OACA,CACEuU,WAAYla,GAAE,OACdmL,MAAOnL,GAAE,4BACTkT,SAAU,kBAAMs3F,GAA0BzoB,IAC1C1gF,KAAAA,EACA0gF,oBAAAA,GAEFwlB,MAIN,CAAClmG,EAAMrB,GAAGwqG,KAONM,IAA8B9nF,EAAAA,EAAAA,cAClC,SAAA6+C,GACE,IAAMygB,EAAoBzgB,MAAAA,OAAH,EAAGA,EAAS7mE,KAE9BsnF,MAAAA,GAAAA,EAAmBnpF,QAGxBkI,EACEsE,GAAAA,OAAAA,KACAA,GAAAA,OAAAA,KAAAA,OACA,CACEwF,MAAOnL,GAAE,+BACTonG,uBAAwB9kB,EACxBjhF,KAAAA,GAEF8lG,MAGJ,CAACnnG,GAAGqB,IASA0pG,IAAkB/nF,EAAAA,EAAAA,cACtB,SAACnK,EAAUmyF,GACT,IAAMptE,EAAOotE,EAAWptE,KACxB,OAAO,IAAIprB,SAAQ,SAAA0vB,GACjB,IAAMyL,EAAO,CACXxiC,MAAOnL,GAAE,iBAAkB,CAAEirG,UAAWrtE,EAAKjqB,QAC7C1T,MAAO,GAAF,OAAK29B,EAAKtlC,GAAV,SACL8a,QAAS8uB,EACTrmB,aAAc,SAAAtI,GAAO,OACnBu9E,KAAmB7P,MAAMkE,UAAU+lB,iBACjC33F,EACAvT,GAAE49B,EAAKjqB,SAEXT,SAAU,SAAAK,GAAO,OACfu9E,KAAmBqa,UAAU53F,EAASqqB,EAAM/kB,KAGhDxX,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,YAAiCgoC,QAG/D,CAACtsC,EAAMrB,KAcHorG,IAAmBpoF,EAAAA,EAAAA,cAAY,WAAgB,IAAfrP,EAAe,uDAAP,GACtC03F,EAAmB,CACvB31F,KAAM6iF,GACN9iF,KAAM4uF,IAER,OAAO1wF,KAAS03F,EAAmBA,EAAiB13F,GAAS,OAC5D,IAKG23F,IAAmBtoF,EAAAA,EAAAA,cACvB,SAAA4a,GAAQ,MACA2tE,EAAgBH,GAAiBxtE,MAAAA,GAAD,UAACA,EAAM5iC,YAAP,aAAC,EAAY2Y,OACnD,GAAKiqB,GAAS2tE,EACd,MAAO,CACLjtF,KAAM,uBAAGpI,UAAU,eACnBrM,KAAMw5B,EAAM7iC,QAAQi4E,KAAKnzE,KACzB6F,MAAOnL,GAAEqjC,EAAM7iC,QAAQi4E,KAAKswB,OAC5B7mF,KACE,kBAACqpF,EAAD,CACEjzG,GAAIA,EACJ+I,KAAMA,EACN+2E,SAAUx6C,EACV46D,UAAWjrF,EACXwoF,QAASA,GACTt/D,UAAU,EACVgiE,mBAAoBA,QAK5B,CACEp1D,EACAhiC,EACA/I,EACAiV,EACAwoF,GACAqV,GACA3S,GACAz4F,KAOEwrG,IAAcxoF,EAAAA,EAAAA,cAClB,SAAC4a,EAAM6tE,GAAkB,MACjBF,EAAgBH,GAAiBxtE,MAAAA,GAAD,UAACA,EAAM5iC,YAAP,aAAC,EAAY2Y,OAC9CiqB,GAAS2tE,GACdlqG,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,aACA2lG,GAAiB1tE,GACjBrY,GACAkmF,GACA,KAGJ,CAACpqG,EAAM+pG,GAAkBE,KAOrBI,IAAmB1oF,EAAAA,EAAAA,cACvB,SAAA0M,GAAQ,QACN,GAAKA,EACL,MAAO,CACLpR,KAAM,kBAAC,KAAD,MACNzU,KAAMw5B,EAAM7iC,QAAQwoG,KAAK1jG,KACzB6F,MAAOnL,GAAEqjC,EAAM7iC,QAAQwoG,KAAKD,OAC5B7mF,KACE,kBAAC,GAAD,CACE5pB,GAAIA,EACJ+I,KAAMA,EACNquB,KAAMA,EACN8oE,UAAWjrF,EACX8oE,cAAe3mD,MAAAA,GAAF,UAAEA,EAAM5Z,WAAR,iBAAE,EAAW9a,YAAb,aAAE,EAAiB6Y,aAKxC,CAACwvB,EAAOhiC,EAAM/I,EAAIiV,EAAUvN,KAOxB2rG,IAAc3oF,EAAAA,EAAAA,cAClB,SAAC0M,EAAMk8E,GACAl8E,GACLruB,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,aACA+lG,GAAiBh8E,GACjBnK,GACAqmF,GACA,KAGJ,CAACvqG,EAAMqqG,KAGH90D,IAAkB5zB,EAAAA,EAAAA,cAAY,WAAM,MAClCiqB,GAAU,UAAAn4B,EAAM9Z,YAAN,eAAYiyC,UAAW,GACjC1oB,EAAY,OACf8e,EAAM7iC,QAAQsoG,OAAOxjG,KAAO,CAC3BgZ,KAAM,kBAAC,KAAD,MACNzU,KAAMw5B,EAAM7iC,QAAQsoG,OAAOxjG,KAC3B6F,MAAOnL,GAAEqjC,EAAM7iC,QAAQsoG,OAAOC,OAC9B7mF,KACE,kBAAC,GAAD,CACE5pB,GAAIA,EACJ+I,KAAMA,EACNwI,KAAMA,EACNojC,QAASA,EACTt5B,MAAOpG,EACPwmF,sBAAuBA,GACvBt9D,UAAU,MAMlB,GAAIyzE,GAAuB1pG,QAAS,CAClC,IAAMqrG,EAAe,IAAIzqE,GAASl2B,IAElCqZ,EAAUrZ,GAAsBrB,MAAQ,CACtCyU,KAAM,kBAAC,KAAD,MACNzU,KAAMqB,GAAsBrB,KAC5BsB,MAAOnL,GAAEkL,GAAsBC,OAC/B+W,KAAM2pF,EAAarpF,OAAO,CACxBw7C,OAAQ1lE,EACRs4F,cAAeE,QAMjBkZ,GAAgBxpG,UAClB+jB,EAAU8e,EAAM7iC,QAAQi4E,KAAKnzE,MAAQgmG,GACnCtB,GAAgBxpG,UAKhBypG,GAAgBzpG,UAClB+jB,EAAU8e,EAAM7iC,QAAQwoG,KAAK1jG,MAAQomG,GACnCzB,GAAgBzpG,UAKpBa,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,aACA4e,EACAgB,MAED,CACD8d,EACA/qC,EACAuR,EACA0D,EACAuH,EAAM9Z,KACNqG,EACAiqG,GACAI,GACA3X,GACA/zF,KAGF2iB,GAAiB5N,EAAK,CACpB6hC,gBAAAA,KAaF,IAnc+B,MAmczB8kD,IAAgB14E,EAAAA,EAAAA,cAAY,SAAA2L,GAChCqtE,EAAiBrtE,KAChB,IAMGytE,IAAkBp5E,EAAAA,EAAAA,cAAY,SAAAk1D,GAElCgxB,GAAe,SAAAllF,GACb,OAAIA,IAAck0D,EAAal0D,EACxBk0D,OAER,IAMGyjB,IAAmB34E,EAAAA,EAAAA,cACvB,SAAAk+E,GACOA,GAAezU,KAAayU,IACjCgJ,GAAuB1pG,QAAU0gG,IAAgBtgC,GAEjD5kD,GAAW,GAGX+uD,GAAQ7J,IAGR5kD,YAAW,WACTgtF,GAAYpI,KACX,QAEL,CAACzU,GAAU1hB,KAMPmkB,IAAmBlsE,EAAAA,EAAAA,cAAY,WACnCqmF,GAAsB,SAAArlF,GAAa,MAC3B8nF,GAAiB9nF,EAEvB,OADgB,QAAhB,EAAA8sE,YAAA,SAAoB5B,iBAAiB,CAAEl0F,KAAM8wG,IACtCA,OAER,IAOGC,IAAqB/oF,EAAAA,EAAAA,cAAY,SAACkrE,EAAYC,GAAgB,MAClD,QAAhB,EAAA2C,YAAA,SAAoB1C,kBAAkBF,EAAYC,KACjD,IAKG6d,IAA8BhpF,EAAAA,EAAAA,cAAY,WAAM,MACpC,QAAhB,EAAA8tE,YAAA,SAAoBmb,uBACnB,IAsBGC,IAAelpF,EAAAA,EAAAA,cAAY,WAC/B3hB,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,gBACA09B,EAAM7iC,QAAQi4E,KAAKnzE,KACnB+9B,EAAM7iC,QAAQsoG,OAAOxjG,MAEvB0kG,GAAgBxpG,QAAU,OACzB,CAAC6iC,EAAOhiC,EAAM2oG,KAMXmC,IAAiBnpF,EAAAA,EAAAA,cACrB,SAAA4a,GACEsX,aAAa60D,GAAkBvpG,SAC/BupG,GAAkBvpG,QAAU8b,YAAW,WAChCshB,GAGHosE,GAAgBxpG,QAAUo9B,EAC1BrY,GAAiB8d,EAAM7iC,QAAQi4E,KAAKnzE,KACpCkmG,GAAY5tE,GAAM,IAJlBsuE,OAMD,OAEL,CAAC7oE,EAAOmoE,GAAaU,KAOjBE,IAAiBppF,EAAAA,EAAAA,cACrB,SAAA0M,GACEu6E,GAAgBzpG,QAAUkvB,EAC1BohE,KAAmBxc,aAAe5kD,EAC7BA,GAQHnK,GAAiB8d,EAAM7iC,QAAQwoG,KAAK1jG,KACpCqmG,GAAYj8E,GAAM,IARlBruB,EACEsE,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,KAAAA,gBACA09B,EAAM7iC,QAAQwoG,KAAK1jG,KACnBigB,MAON,CAAC8d,EAAOhiC,EAAMsqG,KAMVU,IAAqBrpF,EAAAA,EAAAA,cAAY,WACrC0mF,GAAsB,MACtB5Y,KAAmB/lB,QAAQ7J,MAC1B,IAKGorC,IAAoBtpF,EAAAA,EAAAA,cAAY,WAEpCmpF,GAAe,MACfC,GAAe,MAEfx1D,KAEAv1C,EACEsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,UACAA,GAAAA,YAAAA,GAAAA,YACA,CAAEwL,OAAQ,UAAWlR,MAAOihE,OAE7B,CAAC7/D,EAAM+qG,GAAgBD,GAAgBv1D,KAKpC85C,IAAU1tE,EAAAA,EAAAA,cACd,SAAA4tE,GACEkZ,GAAiBtpG,QAAUowF,EAG3BA,EAAc1wF,KAAKk3C,QAAQ6vC,OAAOp4C,WAAU,WAE1C+hD,EAAcpoB,OAAO+jC,yBAErB3b,EAAc3P,MAAMurB,qBACpBxwF,GAAW,GAEXqtF,GAAsB,MAIxBzY,EAAc3P,MAAMkE,UAAUsnB,kBAC5B9rB,GACAkqB,IAEFja,EAAc3P,MAAMkE,UAAUsnB,kBAC5B9rB,GACAiqB,IAEFha,EAAc3P,MAAMkE,UAAUsnB,kBAC5B9rB,GACAmqB,IAKFla,EAAc1wF,KAAd,QAA2BsjF,QAAQ30C,WAAU,WAC3Cy9D,QAIF1b,EAAc1wF,KAAKgsE,WAAWsX,QAAQ30C,WAAU,WAC9C,IAAMmO,EAAgB4zC,EAAc5zC,cAC9Bpf,EAAgC,IAAzBof,EAAc7jD,OAAe,KAAO6jD,EAAc,GAC/DmvD,GAAevuE,MAIjBgzD,EAAc3P,MAAMmE,gBAAgBv2C,WAAU,SAAA69D,GAC5C,IAAMC,EAAkBD,EAAQnpC,SAASjxC,QAAO,SAAA8H,GAAE,OAAIA,EAAG0mD,gBAEzD2X,KA1IkB,SAAAmU,GACtB,IAAMD,EAAkBC,EAAmBrpC,SAASjxC,QAClD,SAAA8H,GAAE,OAAIA,EAAG0mD,gBAEXqoB,EAAYwD,GAuIRvnB,CAAgB,CAAE7hB,SAAUopC,OAI9B/b,EAAc1wF,KAAK+pE,WAAWuZ,QAAQ30C,WAAU,SAAA69D,GAC9C,IAAM9uE,EAAO8uE,EAAQ9uE,KACrBm4D,GAAQ,CACNlsF,KAAM+zB,EAAKm9B,aACX3qD,MAAOwtB,EAAK5iC,KAAK2Y,WAKrBi9E,EAAc1wF,KAAK2sG,YAAYrpB,QAAQ30C,WAAU,SAAA69D,GAAW,QACpD7J,EAAiB,CACrBv4D,KAAMoiE,EAAQ/8F,MAAMmzF,QACpB/pF,IAAK2zF,EAAQ/8F,MAAMozF,SAErB2G,GAAsB,CACpB/7D,KAAM++D,EAAQ9uE,KACd19B,KAAI,UAAEwsG,EAAQ9uE,YAAV,iBAAE,EAAc5iC,YAAhB,aAAE,EAAoB+O,KAC1B84F,eAAAA,EACAzvF,QAASi5F,QAIbzb,EAAc1wF,KAAKwjF,QAAQ7pE,QAAQg1B,WAAU,WAC3C,IAAMiwB,EAAWgyB,KAAmB5wF,KAAKM,QAAQsU,MAAM8oB,KAAK5iC,KAAK6O,KAC3D8jC,EAAO,CACXxiC,MAAOnL,GAAE,WACTka,WAAYla,GAAE,OACdC,MAAO6+D,EACPjjD,aAAc,SAAAtI,GAAO,OACnBu9E,KAAmB7P,MAAMkE,UAAU+lB,iBACjC33F,EACAvT,GAAE,UAENoT,QAASk5F,GACTp5F,SAAU,SAAAK,GAAO,OAAIu9E,KAAmBpN,QAAQnwE,KAGlDlS,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,YAAiCgoC,MAG7DijD,EAAc1wF,KAAK6qF,QAAQlxE,QAAQg1B,WAAU,WAC3C,IAAMipC,EAAWgZ,KAAmB5wF,KAAKM,QAAQsU,MAAM8oB,KAAK5iC,KAAK6O,KAC3D8jC,EAAO,CACXxiC,MAAOnL,GAAE,cACTka,WAAYla,GAAE,OACdC,MAAO63E,EACPj8D,aAAc,SAAAtI,GAAO,OACnBu9E,KAAmB7P,MAAMkE,UAAU+lB,iBACjC33F,EACAvT,GAAE,aAENoT,QAASk5F,GACTp5F,SAAU,SAAAK,GAAO,OAAIu9E,KAAmB/F,QAAQx3E,KAGlDlS,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,YAAiCgoC,MAI7DijD,EAAc1wF,KAAK4sG,YAAYtpB,QAAQ30C,WAAU,SAAA69D,GAC/C,IAAM7J,EAAiB,CACrBv4D,KAAMoiE,EAAQ/8F,MAAMmzF,QACpB/pF,IAAK2zF,EAAQ/8F,MAAMozF,SAErB2G,GAAsB,CACpB/7D,KAAM++D,EACNxsG,KAAM6sG,GACNlK,eAAAA,EACAzvF,QAASi5F,QAKbzb,EAAc1wF,KAAK8sG,cAAcxpB,QAAQ30C,WAAU,SAAA69D,GACjD,IAAM7J,EAAiB,CACrBv4D,KAAMoiE,EAAQ/8F,MAAMmzF,QACpB/pF,IAAK2zF,EAAQ/8F,MAAMozF,SAErB2G,GAAsB,CACpB/7D,KAAM++D,EAAQ7zF,SACd3Y,KAAM6sG,GACNlK,eAAAA,EACAzvF,QAASi5F,QAKbzb,EAAc1wF,KAAK+sG,YAAYzpB,QAAQ30C,WAAU,SAAA69D,GAC/C,IAAM7J,EAAiB,CACrBv4D,KAAMoiE,EAAQ/8F,MAAMmzF,QACpB/pF,IAAK2zF,EAAQ/8F,MAAMozF,SAErB2G,GAAsB,CACpB/7D,KAAM++D,EAAQvzC,KACdj5D,KAAM6sG,GACNlK,eAAAA,EACAzvF,QAASi5F,QAIbzb,EAAcpoB,OAAO55B,OAClBqgD,MACC38D,EAAAA,GAAAA,SACE,SAAA3iB,GAAK,OACHA,EAAM9F,OAASq3D,IACfvxD,EAAM5F,OAASo3D,OAGpBtyB,WAAU,SAAA69D,GAAO,OAAI9b,EAAc3P,MAAMisB,gBAAgBR,MAE5D9b,EAAcpoB,OAAO55B,OAClBqgD,MACC38D,EAAAA,GAAAA,SACE,SAAA3iB,GAAK,OACHA,EAAM9F,OAASq3D,IACfvxD,EAAM5F,OAASo3D,OAGpBtyB,WAAU,SAAA69D,GAAO,OAAI9b,EAAc3P,MAAMksB,eAAeT,MAG3D9b,EAAcpoB,OAAO55B,OAClBqgD,MACC38D,EAAAA,GAAAA,SACE,SAAA3iB,GAAK,MrH94BL,YqH+4BEA,EAAM9F,MAA+B8F,EAAM5F,OAASo3D,OAGzDtyB,WAAU,SAAAl/B,GAAK,OAAIy8F,GAAez8F,EAAM3U,SAG3C41F,EAAcpoB,OAAO55B,OAClBqgD,MACC38D,EAAAA,GAAAA,SACE,SAAA3iB,GAAK,OACHA,EAAM9F,OAASq3D,IACfvxD,EAAM5F,OAASo3D,OAGpBtyB,WAAU,SAAA69D,GACT,IAAQvzC,EAAgBuzC,EAAhBvzC,KAAMxpD,EAAU+8F,EAAV/8F,MACRkzF,EAAiB,CACrBv4D,KAAM36B,EAAMy9F,OAAS,EACrBr0F,IAAKpJ,EAAM09F,QAEb7D,GAAiB,CACfrwC,KAAAA,EACA0pC,eAAAA,OAKNjS,EAAcpoB,OAAO55B,OAClBqgD,MACC38D,EAAAA,GAAAA,SACE,SAAA3iB,GAAK,OACHA,EAAM9F,OAASq3D,IACfvxD,EAAM5F,OAASo3D,OAGpBtyB,WAAU,WACT26D,GAAiB,SAGrB5Y,EAAcpoB,OAAO55B,OAClBqgD,MACC38D,EAAAA,GAAAA,SACE,SAAA3iB,GAAK,MrHv7BI,sBqHw7BPA,EAAM9F,MACN8F,EAAM5F,OAASo3D,OAGpBtyB,WAAU,SAAA69D,GAAO,OAAI19F,QAAQC,IAAI,uBAAwBy9F,QAE9D,CACEP,GACAC,GACAE,GACA7T,GACAmS,GACAC,GACAC,GACA/U,GACAsW,GACAhrG,EACArB,KAcEstG,IAAwBtqF,EAAAA,EAAAA,cAC5B,SAAAllB,GACE21B,GAAiB85E,mBAAmBzvG,EAAER,OAAOgsD,SAC7C8/C,EAAiBtrG,EAAER,OAAOgsD,WAE5B,CAAC71B,KAOG4O,IAAerf,EAAAA,EAAAA,cACnB,YAA2B,IAAxBnP,EAAwB,EAAxBA,QAAShC,EAAe,EAAfA,SACVxQ,EAAKsE,GAAAA,OAAAA,KAAqBA,GAAAA,OAAAA,KAAAA,aAAkC,CAC1DuU,WAAYla,GAAE,UACdmL,MAAOnL,GAAE,iBACTkT,SAAUrB,EACVgC,QAAAA,MAGJ,CAAC7T,GAAGqB,IAMAmsG,IAAiBxqF,EAAAA,EAAAA,cACrB,SAAAnF,GACEA,GAAOA,EAAIhO,iBACX,IAAMmtC,EAAgBstD,KAChBmD,EAAWzwD,EAAclkD,KAAI,SAAA4G,GAAC,OAClCmgE,GAAAA,GAAQngE,EAAE+tD,OAAO2Y,QAAS1mE,EAAE+tD,OAAO4Y,YAEjC5Y,EAASggD,EAAS1/E,QAAO,SAACjwB,EAAG0jC,GAAJ,OAAU1jC,EAAEqa,IAAIqpB,KAAIq+B,GAAAA,MACjDpS,EAASA,EAAO2S,MAAM,EAAIpjB,EAAc7jD,QAExC,IAAMu0G,EAAc,CAClBzvC,MAAOjhB,EAAclkD,KAAI,SAAA4G,GAAC,OAAIA,EAAE1E,QAChCk9E,KAAMl9E,EAAK1C,GACXq1G,mBAAoBF,EAAS30G,KAAI,SAAA80G,GAAG,OAAIA,EAAIp+B,IAAI/hB,OAGlDo8C,GAAUgE,MAAMluC,GAAoB+tC,KAEtC,CAAC7D,GAAWS,GAAkBtvG,EAAK1C,KAM/Bw1G,IAAmB9qF,EAAAA,EAAAA,aAAW,+BAClC,WAAMnF,GAAN,4FACEA,GAAOA,EAAIhO,iBADb,GAGI45F,IAAsB,IADhB97D,KAAM90B,OAFhB,MAE2Bi4E,KAAmBtoB,OAAOulC,cAFrD,EAIQL,EAAc7D,GAAU33F,KAAKytD,IAJrC,sDAO0B+tC,EAAYzvC,MAAMzyD,WAP5C,kFAOcnS,EAPd,KAOiBukC,EAPjB,KAQU+vE,EAAqBD,EAAYC,oBAAsB,CAC3D9tC,GAAAA,MAEImuC,EAASnuC,GAAAA,GAAQhnD,EAAS2oB,EAAG3oB,EAASmwB,GAAG7wB,IAC7Cw1F,EAAmBt0G,IAZzB,UAeU0xG,GAAgBiD,EAAO78B,WAAY,CACvCvzC,KAAMA,EACNs6C,KAAMw1B,EAAYx1B,OAjBxB,uMADkC,sDAsBlC,CAAC2xB,GAAWJ,GAAoBsB,KAM5BkD,IAAmBjrF,EAAAA,EAAAA,cAAY,WACnC,IAAMg6B,EAAgBstD,KACtB,GAAKttD,EAAc7jD,OAAnB,CAEA,IAOM0a,EAAU7T,GAAE,yBAA0B,CAC1Ci+D,MAC2B,IAAzBjhB,EAAc7jD,OACV6jD,EAAc,GAAGhiD,KAAK1C,GACtB0H,GAAE,sBAGVqiC,GAAa,CAAExuB,QAAAA,EAAShC,SAdP,WACfmrC,EAAcr8C,SAAQ,SAAAi9B,GACpBkzD,KAAmBjM,WAAWjnD,EAAK5iC,SAErCkxG,QAYFxC,IAAsB,SAAAwE,GAAS,gBAAUA,GAAV,IAAqB1lF,SAAU,aAC7D,CAAC6Z,GAAc6pE,GAAc5B,GAAkBtqG,KAK5CmuG,IAAmBnrF,EAAAA,EAAAA,cAAY,WACnC,IAAc0M,EAAS+5E,GAAf97D,KACRmjD,KAAmBlzB,WAAWluC,EAAKp3B,MAClC,CAACmxG,KAKE2E,IAA0BprF,EAAAA,EAAAA,cAAY,WAC1C,IAAcm2C,EAASswC,GAAf97D,KACRmjD,KAAmB72B,kBAAkBd,KACpC,CAACswC,KAKE4E,IAAkBrrF,EAAAA,EAAAA,cAAY,SAAA03E,GAAM,MACxB,QAAhB,EAAA5J,YAAA,SAAoBlB,gBACnB,IAKG0e,IAAiBtrF,EAAAA,EAAAA,cAAY,SAAAllB,GAAK,MACtB,QAAhB,EAAAgzF,YAAA,SAAoByd,WAAWzwG,KAC9B,IAKG28F,IAAmBz3E,EAAAA,EAAAA,cACvB,SAAA4a,GACE,IAAMgzD,EAAgBE,KAChB52B,EAAet8B,GAAQgzD,EAAc4d,WAAW5wE,GACjDs8B,IACLA,EAAa+Q,wBACb2lB,EAAc6d,YAAYv0C,GAC1B5jB,OAEF,CAACA,IAGGo4D,IAAsB1rF,EAAAA,EAAAA,cAC1B,SAAA03E,GACOiP,IAAeC,IAAiB,KAEvC,CAACD,KAGGgF,IAAqB3rF,EAAAA,EAAAA,cAAY,SAAAllB,GACrCA,EAAE+R,iBACF+5F,IAAiB,KAChB,IAEGgF,IAAuB5rF,EAAAA,EAAAA,cAAY,WACvC4mF,IAAiB,KAChB,IA2IH,OAzIA9xF,EAAAA,EAAAA,YAAU,WACR,GAAI6xF,GACF,OAAOrzD,IAETL,MACC,CAAC0zD,GAAerzD,EAAmBL,KAWtCn+B,EAAAA,EAAAA,YAAU,WAkBR,OAjBAtJ,EACE7I,GAAAA,aAAAA,KACAA,GAAAA,aAAAA,GAAAA,iBACA,SAAAkd,GACE0C,GAAiB1C,EAAShZ,QAK9B2E,EAAG7I,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,aAAoC,SAAAkY,GAAO,MAE9D1M,EAAkB0M,EAAlB1M,OAAQlR,EAAU4d,EAAV5d,MACA,QAAhB,EAAA6wF,YAAA,SAAqB3/E,GAAQlR,MAG/BmpG,EAAiB31E,GAAiBgzD,sBAE3B,WACL7lE,EAAIjb,GAAAA,aAAAA,KAA2BA,GAAAA,aAAAA,GAAAA,iBAC/Bib,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,gBAE/B,CAAC6I,EAAIoS,EAAK6S,MAKb3b,EAAAA,EAAAA,YAAU,WACR,IAAMnE,EAAQpG,EAAS/M,QAEnBmT,GACFs1F,EAAct1F,EAAM7B,mBAErB,CAACvE,EAAUvS,KAEd8c,EAAAA,EAAAA,YAAU,WAgCR,OA/BAtJ,EACE7I,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,GAAAA,gBAFA,+BAGA,WAAM87B,GAAN,8EACMgrD,KAAa7rB,IAA2Bn/B,EAAQvxB,IAAIrG,OAASA,EADnE,iBAEUk0D,EAAW+rC,GAAiBtpG,QAAQygF,MAAMljB,SAE3Ct8B,EAAQ9uB,QAAQE,SACnBxR,EAAKsE,GAAAA,MAAAA,KAAoBA,GAAAA,MAAAA,KAAAA,KAAyB,CAChDkO,QAAS7T,GAAEmN,GAAiBC,oBAC5B0G,SAAU3J,KAIL9Q,EAAI,EAAGqG,EAAIq+D,EAAS5kE,OAXjC,YAWyCE,EAAIqG,GAX7C,iCAYY2B,EACJsE,GAAAA,YAAAA,KACAA,GAAAA,YAAAA,KAAAA,KACA,CACEyK,MAAAA,EACAvG,KAAMk0D,EAAS1kE,GAAG0hE,cAEpB,KAGA,CAAE1nD,WAAW,EAAMO,cAAc,IAtBzC,OAWgDva,IAXhD,2DAHA,uDA+BK,WACLunB,EAAIjb,GAAAA,YAAAA,KAA0BA,GAAAA,YAAAA,GAAAA,oBAE/B,CAACkE,EAAMuG,EAAOq8E,GAAUj+E,EAAIoS,EAAKvf,EAAMrB,MAE1C8X,EAAAA,EAAAA,YAAU,WAsBR,OArBAo+B,EAAW1sB,GAAYiB,KAAKd,SAASe,UAAUb,UAAW2jF,IAC1Dt3D,EACE1sB,GAAYiB,KAAKd,SAASgB,WAAWd,UACrCikF,IAEF53D,EAAW1sB,GAAYiB,KAAKd,SAASiB,UAAUf,UAAWykF,IAC1Dp4D,EACE1sB,GAAYiB,KAAKd,SAASkB,YAAYhB,UACtC8kF,IAEFz4D,EAAW1sB,GAAYiB,KAAKd,SAASmB,WAAWjB,UAAWwkF,IAE3Dn4D,EACE1sB,GAAYQ,eAAeL,SAASM,OAAOJ,UAC3CyiF,IAEFp2D,EACE1sB,GAAYQ,eAAeL,SAAShjB,OAAOkjB,UAC3CokF,IAGK,WACL73D,EAAc5sB,GAAYiB,KAAKd,SAASe,UAAUb,WAClDusB,EAAc5sB,GAAYiB,KAAKd,SAASgB,WAAWd,WACnDusB,EAAc5sB,GAAYiB,KAAKd,SAASiB,UAAUf,WAClDusB,EAAc5sB,GAAYiB,KAAKd,SAASkB,YAAYhB,WACpDusB,EAAc5sB,GAAYiB,KAAKd,SAASmB,WAAWjB,WACnDusB,EAAc5sB,GAAYQ,eAAeL,SAASM,OAAOJ,WACzDusB,EAAc5sB,GAAYQ,eAAeL,SAAShjB,OAAOkjB,cAE1D,CACDqsB,EACAE,EACAk2D,GACAkB,GACAM,GACAG,GACAK,GACAK,GACAN,KAUA,yBAAK,cAAY,sBAAsBn4F,UAAWsD,GAAQ7hB,MACxD,yBAAKW,GAAG,gBACN,kBAAC,GAAD,CACEA,GAAIA,EACJ+I,KAAMA,EACNwI,KAAMA,EACNyiB,MAAOA,EACPC,kBAAmBA,EACnBnc,MAAOA,EACPgnC,QAASA,EACTq1C,SAAUA,GACVxoD,QAAO,UAAE12B,EAAS/M,eAAX,aAAE,EAAkByjC,QAC3B2sD,cAAekZ,GACfpO,cAAeA,GACfU,gBAAiBA,GACjBhO,kBAAmB2d,GACnB5P,0BAA2B6P,GAC3BrQ,iBAAkBA,GAClBC,YAAa,CACXt0B,QAASqiC,GACT3vG,QAAO,UAAEuT,EAAS/M,eAAX,aAAE,EAAkBquG,mBAC3B/wF,SAAU28E,GACVF,UAAWmU,GACXlU,WAAYoU,OAIlB,kBAAC,GAAD,QACM95F,EADN,CAEE67E,WAzqCJ,YAJiB,aACd/vB,GAAyByiB,IADX,OAEdziB,GAA0B4mC,IAFZ,IAIE/a,WAAnB,UAAgCpJ,GA0qC5BjsC,QAASA,EACTq1C,SAAUA,GACVgE,WAAYA,EACZltB,SAAUA,EACV8iB,mBAAoBA,EACpBvS,cAAeA,EACf4c,QAASA,MAEX,kBAAC,GAAD,CACE6Q,SAAUxL,GACV7G,iBAAkBA,GAClBkT,kBAAmB/b,EACnB0V,cAAeA,EACfoG,YAAaA,EACb5+B,SAAUA,EACV8+B,gBAAiBiL,GACjBx5B,cAAeA,IAEhB21B,IAAsBS,GAAuB1pG,SAC5C,kBAAC,GAAD,MACE4S,QAASi5F,GACT7I,WAAYgK,GACZ/J,cAAeqK,GACfnK,aAAcwK,GACdzK,aAAcuK,GACdrK,gBAAiBqK,GACjBpK,aAAcuK,IACV3E,KAGPF,IAAiB,kBAAC,GAAgBA,MAKzC9zF,GAAKgF,UAAY,CACfniB,GAAIoiB,KAAAA,OAAAA,WACJ7Q,KAAM6Q,KAAAA,OAAAA,WACNtK,MAAOsK,KAAAA,OAAAA,WACPrZ,KAAMqZ,KAAAA,KAAAA,WACNlM,GAAIkM,KAAAA,KAAAA,WACJ1f,KAAM0f,KAAAA,OACNnN,SAAUmN,KAAAA,OACV+b,SAAU/b,KAAAA,KACV4R,MAAO5R,KAAAA,KACPw7B,WAAYx7B,KAAAA,KACZ07B,cAAe17B,KAAAA,KACf6R,kBAAmB7R,KAAAA,KACnBye,aAAcze,KAAAA,MAGhB,SAAeq9B,GAAiBtiC,IC71C1B,GAA+BtW,QAAQ,2B,eC+F7C,UAAe2vG,EAAAA,EAAAA,cAAa,CAC1BjlG,KAAM,oBACNua,UAjEY,SAAAtP,GA4DZ,OApDAgD,EAAAA,EAAAA,YAAU,WAER+yB,GAAc,CACZz6B,MAAOo5E,GAAAA,MACPx5E,MAAO0vD,GACP50B,aAAcikE,GACdhkE,aAAc,CACZ,CACEr8B,QAASxD,GACTtT,QAAS,SAAA8W,GAAO,OAAI,IAAIsgG,GAAatgG,QAI3Cm8B,GAAc,CACZz6B,MAAO6+F,GAAAA,MACPj/F,MAAOk2C,GACPpb,aAAcokE,KAEhBrkE,GAAc,CACZz6B,MAAOuoD,GAAAA,MACP3oD,MAAO6rC,GACP/Q,aAAcqkE,KAEhBtkE,GAAc,CACZz6B,MAAOg/F,GAAAA,MACPp/F,MAAO+lC,GACPjL,aAAcukE,KAIhBnkE,GAAY,CACV5yC,GAAI8S,GAAgBvB,KACpB6E,QAAStD,GACTgE,OAAQkgG,GACRpmF,Q1TwCG,SACF9d,IADL,IAEE9S,GAAI8S,GAAgBvB,KACpBA,KAAMuB,GAAgBD,MACtBge,SAAU/d,GAAgBD,MAC1BiF,MAAOhF,GAAgBvB,KACvBuf,UAAW,GACXmmF,QAAQ,I0T9CNjxF,KAAMkxF,KACNh9E,aAAa,EACbsH,SAAS,EACT2J,UAAU,IAEZyH,GAAY,CACV5yC,GAAI+S,GAAkBxB,KACtB6E,QAASrD,GACT+D,OAAQqgG,GACRvmF,QnT+BG,SACF7d,IADL,IAEE/S,GAAI+S,GAAkBxB,KACtBA,KAAMwB,GAAkBF,MACxBge,SAAU9d,GAAkBF,MAC5BiF,MAAO/E,GAAkBxB,KACzBuf,UAAW,KmTpCT9K,KAAMoxF,KACNl9E,aAAa,EACbsH,SAAS,EACT2J,UAAU,MAEX,IAEI,kBAAC,GAAY3uB,IAMpB66F,mBAAmB,EACnB3sG,MAAO,CACL4sG,SAAUx3F,EAAAA,cACVtD,MAAO/Q,KCrGa,IAAA8rG,GCwBxBxwF,IAAAA,OACE,kBAAC,eAAD,KACE,kBAAC,GAAD,OAEF7hB,SAAS8iB,eAAe,SD3BpBuvF,IAAeA,cAAuBC,UACxC,0CAAqB3vG,MAAK,YAAiD,IAA9C4vG,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,IACPG,EAAOH,IACPI,EAAOJ,IACPK,EAAOL,IACPM,EAAQN,Q","sources":["webpack://MovaiCE/webpack/universalModuleDefinition","webpack://MovaiCE/webpack/runtime/create fake namespace object","webpack://MovaiCE/./src/App/App.css","webpack://MovaiCE/./src/editors/Flow/view/Resources/css/Flow.css","webpack://MovaiCE/./node_modules/css-loader/dist/runtime/api.js","webpack://MovaiCE/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://MovaiCE/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://MovaiCE/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://MovaiCE/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://MovaiCE/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://MovaiCE/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://MovaiCE/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://MovaiCE/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://MovaiCE/external commonjs \"joi\"","webpack://MovaiCE/external commonjs \"web-vitals\"","webpack://MovaiCE/webpack/bootstrap","webpack://MovaiCE/webpack/runtime/compat get default export","webpack://MovaiCE/webpack/runtime/define property getters","webpack://MovaiCE/webpack/runtime/hasOwnProperty shorthand","webpack://MovaiCE/webpack/runtime/make namespace object","webpack://MovaiCE/webpack/runtime/jsonp chunk loading","webpack://MovaiCE/external commonjs \"react\"","webpack://MovaiCE/external commonjs \"react-dom\"","webpack://MovaiCE/external commonjs \"@mov-ai/mov-fe-lib-react\"","webpack://MovaiCE/external commonjs \"@material-ui/core/styles\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/defineProperty\"","webpack://MovaiCE/external commonjs \"lodash\"","webpack://MovaiCE/./src/themes.js","webpack://MovaiCE/external commonjs \"@material-ui/core\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Grid\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/asyncToGenerator\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/toConsumableArray\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/classCallCheck\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/createClass\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/assertThisInitialized\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/inherits\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/possibleConstructorReturn\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/getPrototypeOf\"","webpack://MovaiCE/external commonjs \"@babel/runtime/regenerator\"","webpack://MovaiCE/external commonjs \"@mov-ai/mov-fe-lib-core\"","webpack://MovaiCE/external commonjs \"i18next\"","webpack://MovaiCE/external commonjs \"react-i18next\"","webpack://MovaiCE/./src/i18n/i18n.js","webpack://MovaiCE/./src/utils/Constants.js","webpack://MovaiCE/./src/utils/Messages.js","webpack://MovaiCE/external commonjs \"@remixproject/engine\"","webpack://MovaiCE/./src/engine/PluginManagerIDE/PluginManagerIDE.js","webpack://MovaiCE/./src/engine/IDEPlugin/IDEPlugin.js","webpack://MovaiCE/./src/plugins/DocManager/factory.js","webpack://MovaiCE/./src/plugins/DocManager/DocManager.js","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/extends\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/objectWithoutProperties\"","webpack://MovaiCE/external commonjs \"hotkeys-js\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/AccountTree\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Build\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Code\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Description\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/DeviceHub\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Keyboard\"","webpack://MovaiCE/./src/Branding/movai-logo-white.png","webpack://MovaiCE/./src/utils/Utils.js","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/slicedToArray\"","webpack://MovaiCE/./src/decorators/withTheme.jsx","webpack://MovaiCE/external commonjs \"prop-types\"","webpack://MovaiCE/external commonjs \"@material-ui/core/DialogContentText\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Button\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Dialog\"","webpack://MovaiCE/external commonjs \"@material-ui/core/DialogActions\"","webpack://MovaiCE/external commonjs \"@material-ui/core/DialogContent\"","webpack://MovaiCE/external commonjs \"@material-ui/core/DialogTitle\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Close\"","webpack://MovaiCE/./src/plugins/Dialog/components/AppDialog/styles.js","webpack://MovaiCE/./src/plugins/Dialog/components/AppDialog/AppDialog.jsx","webpack://MovaiCE/./src/plugins/Dialog/components/ConfirmationDialog/ConfirmationDialog.jsx","webpack://MovaiCE/external commonjs \"@material-ui/core/TextField\"","webpack://MovaiCE/./src/plugins/Dialog/components/FormDialog/styles.js","webpack://MovaiCE/./src/plugins/Dialog/components/FormDialog/FormDialog.jsx","webpack://MovaiCE/./src/plugins/Dialog/components/FormDialog/NewDocumentDialog.jsx","webpack://MovaiCE/./src/plugins/Dialog/components/FormDialog/hooks/useNewDocument.js","webpack://MovaiCE/./src/plugins/Dialog/components/AlertDialog/styles.js","webpack://MovaiCE/./src/plugins/Dialog/components/AlertDialog/AlertDialog.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/Warning\"","webpack://MovaiCE/./src/plugins/Dialog/components/AlertDialog/AlertBeforeAction.jsx","webpack://MovaiCE/./src/plugins/Dialog/Dialog.js","webpack://MovaiCE/./src/plugins/Alerts/Alerts.js","webpack://MovaiCE/./src/engine/ReactPlugin/HostReactPlugin.js","webpack://MovaiCE/./src/plugins/hosts/BottomBar/BottomBar.jsx","webpack://MovaiCE/./src/plugins/hosts/CentralPanel/CentralPanel.jsx","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/get\"","webpack://MovaiCE/./src/engine/ReactPlugin/ViewReactPlugin.js","webpack://MovaiCE/external commonjs \"@material-ui/core/Tooltip\"","webpack://MovaiCE/external commonjs \"@material-ui/core/IconButton\"","webpack://MovaiCE/./src/decorators/Components/BookmarkTab.jsx","webpack://MovaiCE/./src/decorators/styles.js","webpack://MovaiCE/./src/decorators/withBookmarks.jsx","webpack://MovaiCE/./src/plugins/hosts/DrawerPanel/DrawerPanel.jsx","webpack://MovaiCE/./src/plugins/hosts/DrawerPanel/styles.js","webpack://MovaiCE/./src/plugins/hosts/SidePanel/SidePanel.jsx","webpack://MovaiCE/./src/plugins/hosts/TopBar/TopBar.jsx","webpack://MovaiCE/./src/plugins/hosts/AbstractHost/AbstractHost.jsx","webpack://MovaiCE/external commonjs \"@material-ui/core/ClickAwayListener\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Popper\"","webpack://MovaiCE/external commonjs \"@material-ui/core/List\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Divider\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Fade\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Paper\"","webpack://MovaiCE/external commonjs \"@material-ui/core/ListItem\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Link\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/ArrowRight\"","webpack://MovaiCE/./src/plugins/views/SystemBar/styles.js","webpack://MovaiCE/./src/plugins/views/SystemBar/Components/MenuItem.jsx","webpack://MovaiCE/./src/plugins/views/SystemBar/Components/SystemMenu.jsx","webpack://MovaiCE/./src/tools/NotInstalled/NotInstalled.jsx","webpack://MovaiCE/./src/tools/index.js","webpack://MovaiCE/./src/tools/AppShortcuts/shortcuts.js","webpack://MovaiCE/./src/App/AppSettings.js","webpack://MovaiCE/./src/Branding/movai-flow-logo-red.png","webpack://MovaiCE/./src/utils/shortcuts.js","webpack://MovaiCE/./src/plugins/views/SystemBar/builder/buildSubMenus.js","webpack://MovaiCE/./src/decorators/withAlerts.jsx","webpack://MovaiCE/./src/utils/LocalStorage.js","webpack://MovaiCE/./src/utils/Workspace.js","webpack://MovaiCE/external commonjs \"@material-ui/icons/Add\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/ChromeReaderMode\"","webpack://MovaiCE/./src/tools/HomeTab/styles.js","webpack://MovaiCE/./src/tools/HomeTab/components/QuickAccess.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/DeleteForever\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Delete\"","webpack://MovaiCE/./src/tools/HomeTab/components/HomeLink.jsx","webpack://MovaiCE/./src/tools/HomeTab/components/RecentDocuments.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/CallMade\"","webpack://MovaiCE/./src/tools/HomeTab/components/HomeTabCard.jsx","webpack://MovaiCE/./src/tools/HomeTab/components/Examples.jsx","webpack://MovaiCE/./src/tools/HomeTab/HomeTab.jsx","webpack://MovaiCE/./src/tools/AppShortcuts/styles.js","webpack://MovaiCE/./src/tools/AppShortcuts/components/ShortcutsList.jsx","webpack://MovaiCE/external commonjs \"@material-table/core\"","webpack://MovaiCE/./src/editors/_shared/MaterialTable/styles.js","webpack://MovaiCE/./src/editors/_shared/MaterialTable/MaterialTable.jsx","webpack://MovaiCE/./src/tools/AppShortcuts/components/ShortcutsTable.jsx","webpack://MovaiCE/./src/tools/AppShortcuts/AppShortcuts.jsx","webpack://MovaiCE/./src/plugins/views/SystemBar/builder/buildFunctions.js","webpack://MovaiCE/./src/plugins/views/SystemBar/builder/buildMenus.js","webpack://MovaiCE/./src/plugins/views/SystemBar/SystemBar.jsx","webpack://MovaiCE/./src/plugins/hosts/AlertPanel/AlertPanel.jsx","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/typeof\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Search\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Clear\"","webpack://MovaiCE/./src/utils/components/Search/styles.js","webpack://MovaiCE/./src/utils/components/Search/Search.jsx","webpack://MovaiCE/external commonjs \"react-window\"","webpack://MovaiCE/external commonjs \"react-virtualized-auto-sizer\"","webpack://MovaiCE/./src/plugins/views/Explorer/components/VirtualizedTree/VirtualizedTree.jsx","webpack://MovaiCE/./src/plugins/views/Explorer/components/VirtualizedTree/styles.js","webpack://MovaiCE/./src/plugins/views/Explorer/components/ListItemTree/styles.js","webpack://MovaiCE/external commonjs \"@material-ui/icons/MoreHoriz\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/DeleteOutline\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/FileCopy\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/ExpandMore\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/ChevronRight\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Box\"","webpack://MovaiCE/./src/plugins/views/Explorer/components/ListItemTree/ItemRow.jsx","webpack://MovaiCE/./src/plugins/views/Explorer/components/ListItemTree/ListItemsTreeWithSearch.jsx","webpack://MovaiCE/./src/plugins/views/Explorer/styles.js","webpack://MovaiCE/./src/plugins/views/Explorer/Explorer.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/AddBox\"","webpack://MovaiCE/./src/main-context.js","webpack://MovaiCE/./src/Branding/movai-logo-transparent.png","webpack://MovaiCE/./src/plugins/views/MainMenu/styles.js","webpack://MovaiCE/./src/plugins/views/MainMenu/MainMenu.jsx","webpack://MovaiCE/external commonjs \"rc-dock\"","webpack://MovaiCE/./src/plugins/views/Tabs/hooks/useTabLayout.js","webpack://MovaiCE/./src/plugins/views/Tabs/hooks/useTabStack.js","webpack://MovaiCE/external commonjs \"rc-dock/dist/rc-dock.css\"","webpack://MovaiCE/./src/plugins/views/Tabs/styles.js","webpack://MovaiCE/./src/plugins/views/Tabs/Tabs.jsx","webpack://MovaiCE/./src/plugins/views/Placeholder/Placeholder.jsx","webpack://MovaiCE/./src/App/App.css?e26a","webpack://MovaiCE/./src/App/BaseApp.js","webpack://MovaiCE/./src/App/styles.js","webpack://MovaiCE/./src/models/Model/Observable.js","webpack://MovaiCE/./src/models/Model/BaseModel.js","webpack://MovaiCE/./src/models/Model/Schema.js","webpack://MovaiCE/./src/models/Model/Model.js","webpack://MovaiCE/./src/models/Model/index.js","webpack://MovaiCE/./src/models/Manager/events.js","webpack://MovaiCE/./src/models/Manager/Manager.js","webpack://MovaiCE/./src/models/Manager/index.js","webpack://MovaiCE/./src/models/subModels/Command/schema.js","webpack://MovaiCE/./src/models/subModels/Command/Command.js","webpack://MovaiCE/./src/models/subModels/EnvVar/schema.js","webpack://MovaiCE/./src/models/subModels/EnvVar/EnvVar.js","webpack://MovaiCE/./src/models/subModels/Parameter/schema.js","webpack://MovaiCE/./src/models/subModels/Parameter/Parameter.js","webpack://MovaiCE/./src/models/subModels/Port/schema.js","webpack://MovaiCE/./src/models/subModels/Port/PortType/schema.js","webpack://MovaiCE/./src/models/subModels/Port/PortType/PortType.js","webpack://MovaiCE/./src/models/subModels/Port/PortType/index.js","webpack://MovaiCE/./src/models/subModels/Port/Port.js","webpack://MovaiCE/./src/editors/Configuration/model/schema.js","webpack://MovaiCE/./src/editors/Configuration/model/Configuration.js","webpack://MovaiCE/./src/store/plugins/StorePluginManager.js","webpack://MovaiCE/./src/store/plugins/StoreAbstractPlugin.js","webpack://MovaiCE/./src/subscriber/Subscriber.js","webpack://MovaiCE/./src/store/BaseStore.js","webpack://MovaiCE/./src/store/Store.js","webpack://MovaiCE/external commonjs \"lodash/isEqual\"","webpack://MovaiCE/./src/store/DBSubscriber/DBSubscriber.js","webpack://MovaiCE/./src/store/DBSubscriber/index.js","webpack://MovaiCE/./src/editors/Configuration/store/ConfigurationStore.js","webpack://MovaiCE/external commonjs \"@mov-ai/mov-fe-lib-code-editor\"","webpack://MovaiCE/external commonjs \"@material-ui/lab\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Info\"","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/toArray\"","webpack://MovaiCE/./src/decorators/withKeyBinds.jsx","webpack://MovaiCE/./src/decorators/withMenuHandler.jsx","webpack://MovaiCE/./src/editors/_shared/Loader/styles.js","webpack://MovaiCE/./src/editors/_shared/Loader/Loader.jsx","webpack://MovaiCE/./src/decorators/withLoader.jsx","webpack://MovaiCE/./src/plugins/DocManager/DataHandler.jsx","webpack://MovaiCE/./src/engine/ReactPlugin/EditorReactPlugin.js","webpack://MovaiCE/./src/plugins/DocManager/useDataSubscriber.js","webpack://MovaiCE/./src/editors/_shared/DetailsMenu/styles.js","webpack://MovaiCE/./src/editors/_shared/DetailsMenu/DetailsMenu.jsx","webpack://MovaiCE/./src/editors/Configuration/view/Menu.jsx","webpack://MovaiCE/./src/editors/Configuration/view/styles.js","webpack://MovaiCE/./src/editors/Configuration/view/Configuration.jsx","webpack://MovaiCE/./src/editors/Callback/model/schema.js","webpack://MovaiCE/./src/editors/Callback/model/PyLib/schema.js","webpack://MovaiCE/./src/editors/Callback/model/PyLib/PyLib.js","webpack://MovaiCE/./src/editors/Callback/model/PyLib/index.js","webpack://MovaiCE/./src/editors/Callback/model/Callback.js","webpack://MovaiCE/./src/editors/Callback/store/Helper.js","webpack://MovaiCE/./src/editors/Callback/store/CallbackStore.js","webpack://MovaiCE/external commonjs \"@material-ui/icons/ExpandLess\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Edit\"","webpack://MovaiCE/external commonjs \"lodash/debounce\"","webpack://MovaiCE/external commonjs \"@material-ui/core/SvgIcon\"","webpack://MovaiCE/external commonjs \"@material-ui/lab/TreeView\"","webpack://MovaiCE/external commonjs \"@material-ui/lab/TreeItem\"","webpack://MovaiCE/./src/editors/_shared/MaterialTree/MaterialTree.jsx","webpack://MovaiCE/./src/editors/_shared/Search/styles.js","webpack://MovaiCE/./src/editors/_shared/Search/Search.jsx","webpack://MovaiCE/./src/editors/Callback/view/dialogs/utils.js","webpack://MovaiCE/./src/editors/Callback/view/dialogs/AddImport.jsx","webpack://MovaiCE/./src/editors/Callback/view/dialogs/EditMessage.jsx","webpack://MovaiCE/./src/editors/Callback/view/styles.js","webpack://MovaiCE/./src/editors/Callback/view/Menu.jsx","webpack://MovaiCE/./src/editors/Callback/view/Callback.jsx","webpack://MovaiCE/./src/editors/Node/model/schema.js","webpack://MovaiCE/./src/editors/Node/model/Node.js","webpack://MovaiCE/./src/editors/Node/store/Helper.js","webpack://MovaiCE/./src/editors/Node/store/NodeStore.js","webpack://MovaiCE/external commonjs \"@material-ui/core/Accordion\"","webpack://MovaiCE/external commonjs \"@material-ui/core/AccordionSummary\"","webpack://MovaiCE/external commonjs \"@material-ui/core/AccordionDetails\"","webpack://MovaiCE/./src/editors/_shared/KeyValueTable/styles.js","webpack://MovaiCE/./src/editors/_shared/KeyValueTable/KeyValueEditorDialog.jsx","webpack://MovaiCE/external commonjs \"lodash/toString\"","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/AbstractDataType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/AnyType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/utils.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/ArrayType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/BooleanType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/ConfigurationType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/NumberType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/ObjectType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/types/StringType.js","webpack://MovaiCE/./src/editors/_shared/hooks/DataTypes/DataTypeManager.js","webpack://MovaiCE/./src/editors/_shared/hooks/useDataTypes.js","webpack://MovaiCE/./src/editors/_shared/KeyValueTable/ParametersEditorDialog.jsx","webpack://MovaiCE/external commonjs \"@material-ui/core/Typography\"","webpack://MovaiCE/./src/editors/_shared/CollapsibleHeader/styles.js","webpack://MovaiCE/./src/editors/_shared/CollapsibleHeader/CollapsibleHeader.jsx","webpack://MovaiCE/./src/editors/_shared/KeyValueTable/KeyValueTable.jsx","webpack://MovaiCE/./src/editors/Node/view/components/Description/styles.js","webpack://MovaiCE/./src/editors/Node/view/components/Description/Description.jsx","webpack://MovaiCE/external commonjs \"@material-ui/core/FormControlLabel\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Checkbox\"","webpack://MovaiCE/./src/editors/_shared/HtmlTooltip/HtmlTooltip.jsx","webpack://MovaiCE/./src/editors/Node/view/components/ExecutionParameters/styles.js","webpack://MovaiCE/./src/editors/Node/view/components/ExecutionParameters/ExecutionParameters.jsx","webpack://MovaiCE/./src/editors/Node/view/components/ParametersTable/ParametersTable.jsx","webpack://MovaiCE/external commonjs \"material-table\"","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/hooks/styles.js","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/hooks/useIOConfigColumns.js","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/hooks/useSelectOptions.js","webpack://MovaiCE/external commonjs \"@material-ui/icons/FolderOpen\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/FiberManualRecord\"","webpack://MovaiCE/external commonjs \"@material-ui/icons\"","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/IOPorts/components/styles.js","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/IOPorts/components/Callback.jsx","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/IOPorts/components/Parameters.jsx","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/styles.js","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/IOPorts/IOPorts.jsx","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/IOConfig.jsx","webpack://MovaiCE/./src/editors/Node/view/components/IOConfig/hooks/useHelper.js","webpack://MovaiCE/./src/editors/Node/view/components/hooks/styles.js","webpack://MovaiCE/./src/editors/Node/view/components/hooks/useKeyValueMethods.js","webpack://MovaiCE/./src/editors/Node/view/Menu.jsx","webpack://MovaiCE/./src/editors/Node/view/styles.js","webpack://MovaiCE/./src/editors/Node/view/Node.jsx","webpack://MovaiCE/./src/editors/Flow/model/subModels/ExposedPorts/schema.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/ExposedPorts/ExposedPorts.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/ExposedPorts/ExposedPortsManager.js","webpack://MovaiCE/./src/models/subModels/IdBasedModel/schema.js","webpack://MovaiCE/./src/models/subModels/IdBasedModel/IdBased.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/Group/schema.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/Group/Group.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/Link/schema.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/Link/Link.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/Position/schema.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/Position/Position.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/NodeInstance/schema.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/NodeInstance/NodeInstance.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/SubFlow/schema.js","webpack://MovaiCE/./src/editors/Flow/model/subModels/SubFlow/SubFlow.js","webpack://MovaiCE/./src/models/subModels/IdBasedModel/IdBasedManager.js","webpack://MovaiCE/./src/editors/Flow/model/schema.js","webpack://MovaiCE/./src/editors/Flow/model/Flow.js","webpack://MovaiCE/./src/editors/Flow/store/Helper.js","webpack://MovaiCE/./src/editors/Flow/store/FlowStore.js","webpack://MovaiCE/external commonjs \"rxjs/operators\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/CompareArrows\"","webpack://MovaiCE/./src/editors/Flow/view/Utils/Clipboard.js","webpack://MovaiCE/./src/editors/Flow/view/Utils/Vec2.js","webpack://MovaiCE/external commonjs \"@material-ui/core/Backdrop\"","webpack://MovaiCE/./src/editors/Flow/view/Constants/constants.js","webpack://MovaiCE/./src/editors/Flow/view/events.js","webpack://MovaiCE/external commonjs \"clsx\"","webpack://MovaiCE/external commonjs \"@material-ui/core/SnackbarContent\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/CheckCircle\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Error\"","webpack://MovaiCE/external commonjs \"@material-ui/core/colors\"","webpack://MovaiCE/external commonjs \"@material-ui/styles\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/Warnings.jsx","webpack://MovaiCE/external commonjs \"@material-ui/core/Card\"","webpack://MovaiCE/external commonjs \"@material-ui/core/CardContent\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/ArrowDropDown\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Debugging/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Debugging/DependencyInfo.jsx","webpack://MovaiCE/external commonjs \"rxjs\"","webpack://MovaiCE/external commonjs \"d3\"","webpack://MovaiCE/external commonjs \"lodash/omit\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/Utils.js","webpack://MovaiCE/./src/editors/Flow/view/Utils/utils.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/BaseNodeStruct.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/PortValidator.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/BasePort.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/BaseNodeHeader.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/BaseNodeStatus.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/BaseNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/StartNode.js","webpack://MovaiCE/external commonjs \"monet\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Links/Paths.js","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/defineEnumerableProperties\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Links/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Links/BaseLink.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Links/generatePathPoints.js","webpack://MovaiCE/external commonjs \"@babel/runtime/helpers/esm/wrapNativeSuper\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Links/Errors.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/ClassicNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/BaseContainerNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/ContainerNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/TemporaryContainerNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/TemporaryNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/TreeView/TreeNodeHeader.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/TreeView/PortIcons.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/TreeView/TreeNodePortLink.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/TreeView/TreeNodePort.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/TreeView/CollapsableItem.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/TreeView/TreeNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/TreeView/TreeClassicNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/BaseNode/Preview/PreviewNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/Preview/PreviewClassicNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/Preview/PreviewContainerNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/TreeView/TreeContainerNode.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Nodes/Factory.js","webpack://MovaiCE/./src/editors/Flow/view/Core/Graph/Utils.js","webpack://MovaiCE/./src/editors/Flow/view/Core/Graph/GraphValidator.js","webpack://MovaiCE/./src/editors/Flow/view/Core/Graph/GraphBase.js","webpack://MovaiCE/./src/editors/Flow/view/Components/interface/Modes.js","webpack://MovaiCE/./src/editors/Flow/view/Components/interface/InterfaceModes.js","webpack://MovaiCE/./src/editors/Flow/view/Components/interface/Events.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Links/TemporaryLink.js","webpack://MovaiCE/./src/editors/Flow/view/Components/interface/canvas.js","webpack://MovaiCE/./src/editors/Flow/view/Components/interface/MainInterface.js","webpack://MovaiCE/./src/editors/Flow/view/Views/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Views/BaseFlow.jsx","webpack://MovaiCE/./src/editors/Flow/view/Views/hooks/useMainInterface.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/Visibility\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/RowKeyValue.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/TableKeyValue.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/VisibilityOff\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/GroupItem.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/Menu.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/NodeLink.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/MenuDetails.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/PortsDetails.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/collapsibleSections/PropertyItem.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/collapsibleSections/PropertiesSection.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/collapsibleSections/KeyValuesSection.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/Layers\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/LayersClear\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/sub-components/collapsibleSections/NodeGroupSection.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/NodeMenu.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/Grain\"","webpack://MovaiCE/external commonjs \"@material-ui/core/FormControl\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Select\"","webpack://MovaiCE/external commonjs \"@material-ui/core/MenuItem\"","webpack://MovaiCE/external commonjs \"@material-ui/core/AppBar\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Toolbar\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/PlayArrow\"","webpack://MovaiCE/external commonjs \"@material-ui/icons/Stop\"","webpack://MovaiCE/./src/editors/Flow/view/Components/FlowTopBar/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/FlowTopBar/FlowSearch.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/FlowTopBar/FlowTopBar.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/FlowTopBar/hooks/useNodeStatusUpdate.js","webpack://MovaiCE/./src/editors/Flow/view/Components/FlowBottomBar/FlowBottomBar.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/FlowBottomBar/styles.js","webpack://MovaiCE/external commonjs \"@material-ui/icons/ToggleOn\"","webpack://MovaiCE/external commonjs \"@material-ui/core/Menu\"","webpack://MovaiCE/external commonjs \"@material-ui/core/ListItemIcon\"","webpack://MovaiCE/external commonjs \"@material-ui/core/ListItemText\"","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/ContextMenu/ContextMenu.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/ContextMenu/modes.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/ContextMenu/FlowContextMenu.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/ContainerMenu.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Explorer/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Explorer/Preview.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Explorer/Explorer.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Menus/LinkMenu.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Tooltips/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Components/Tooltips/PortTooltipContent.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Tooltips/PortTooltip.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/InvalidLinksWarning.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/components/ParameterLine.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/InvalidParametersWarning.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/components/ExposedPortLine.jsx","webpack://MovaiCE/./src/editors/Flow/view/Components/Warnings/InvalidExposedPortsWarning.jsx","webpack://MovaiCE/./src/editors/Flow/view/Core/Graph/GraphTreeView.js","webpack://MovaiCE/./src/editors/Flow/view/Resources/css/Flow.css?f831","webpack://MovaiCE/./src/editors/Flow/view/styles.js","webpack://MovaiCE/./src/editors/Flow/view/Flow.jsx","webpack://MovaiCE/external commonjs \"@material-ui/icons/Home\"","webpack://MovaiCE/./src/App/App.js","webpack://MovaiCE/./src/reportWebVitals.js","webpack://MovaiCE/./index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MovaiCE\"] = factory();\n\telse\n\t\troot[\"MovaiCE\"] = factory();\n})(self, () => {\nreturn ","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".App {\\n  display: flex;\\n  height: 100%;\\n}\\n\\n/* Center titles */\\nh1,\\nh2,\\nh3,\\nh4 {\\n  text-align: center;\\n}\\n\\n/* Scrollbar */\\n::-webkit-scrollbar {\\n  width: 7px;\\n}\\n\\n/* Track */\\n::-webkit-scrollbar-track {\\n  background: lightgray;\\n  border-radius: 10px;\\n}\\n\\n/* Handle */\\n::-webkit-scrollbar-thumb {\\n  background: gray;\\n  border-radius: 10px;\\n}\\n\\n/* Handle on hover */\\n::-webkit-scrollbar-thumb:hover {\\n  background: #ee9500;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App/App.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,YAAY;AACd;;AAEA,kBAAkB;AAClB;;;;EAIE,kBAAkB;AACpB;;AAEA,cAAc;AACd;EACE,UAAU;AACZ;;AAEA,UAAU;AACV;EACE,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA,WAAW;AACX;EACE,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA,oBAAoB;AACpB;EACE,mBAAmB;AACrB\",\"sourcesContent\":[\".App {\\n  display: flex;\\n  height: 100%;\\n}\\n\\n/* Center titles */\\nh1,\\nh2,\\nh3,\\nh4 {\\n  text-align: center;\\n}\\n\\n/* Scrollbar */\\n::-webkit-scrollbar {\\n  width: 7px;\\n}\\n\\n/* Track */\\n::-webkit-scrollbar-track {\\n  background: lightgray;\\n  border-radius: 10px;\\n}\\n\\n/* Handle */\\n::-webkit-scrollbar-thumb {\\n  background: gray;\\n  border-radius: 10px;\\n}\\n\\n/* Handle on hover */\\n::-webkit-scrollbar-thumb:hover {\\n  background: #ee9500;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27100%27 height=%27100%27 viewBox=%270 0 100 100%27%3E%3Cg fill-rule=%27evenodd%27%3E%3Cg fill=%27%239C92AC%27 fill-opacity=%270.4%27%3E%3Cpath opacity=%27.5%27 d=%27M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z%27/%3E%3Cpath d=%27M6 5V0H5v5H0v1h5v94h1V6h94V5H6z%27/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ghost {\\n  opacity: 0.5;\\n}\\n.node_ghost {\\n  opacity: 0.5;\\n  fill: #b0bec5;\\n}\\n.nodeLinkTemp {\\n  stroke-dasharray: 3, 3;\\n}\\n.selectedPort {\\n  fill: #11ee1a;\\n}\\n.squareNode {\\n  /*THIS DOES NOT WORK ON RECT ELEMENTS!!!!! */\\n  border-radius: 100px;\\n}\\n.children-container,\\n.ports-container,\\n.links-container,\\n.belong-lines {\\n  overflow: visible;\\n}\\n.text-flow-interface {\\n  color: #ffffff;\\n  fill: #ffffff;\\n}\\nsvg text.unselectable {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.warningBadge span {\\n  background-color: #dbb763;\\n  color: black;\\n}\\n.port-exposed {\\n  stroke: darkorange;\\n  stroke-width: 2.2;\\n}\\n\\n.port-default {\\n  fill: white;\\n  /*filter: drop-shadow(0 0 0.03rem black); Firefox issues*/\\n}\\n.port-default:hover {\\n  fill: green;\\n}\\n.port-over {\\n  fill: red;\\n}\\n.port-movai_msgs-transition {\\n  fill: #81334e;\\n}\\n\\n.port-disabled {\\n  fill: #717171;\\n}\\n.port-disabled:hover {\\n  fill: red;\\n}\\n\\n.ROS1-Nodelet {\\n  fill: #ef5b5b;\\n}\\n.ROS1-Nodelet-active {\\n  fill: #ff7171;\\n}\\n.ROS1-Node {\\n  fill: #684551;\\n}\\n.ROS1-Node-active {\\n  fill: #86636f;\\n}\\n.ROS1-Plugin {\\n  fill: #20a39e;\\n}\\n.ROS1-Plugin-active {\\n  fill: #3dc0bb;\\n}\\n.ROS1-StateM {\\n  fill: #006494;\\n}\\n.ROS1-StateM-active {\\n  fill: #1e82b2;\\n}\\n.MovAI-Node {\\n  fill: #be2424;\\n}\\n.MovAI-Node-active {\\n  fill: #f05656;\\n}\\n.MovAI-State {\\n  fill: #52528c;\\n}\\n.MovAI-State-active {\\n  fill: #6f6fa9;\\n}\\n.MovAI-Server {\\n  fill: #dec5e3;\\n}\\n.MovAI-Server-active {\\n  fill: #f2d9f7;\\n}\\n.MovAI-Flow {\\n  fill: #252125;\\n}\\n.MovAI-Flow-active {\\n  fill: #3b353b;\\n}\\n.start {\\n  fill: #007d56;\\n}\\n.start-active {\\n  fill: #007d56;\\n}\\n.unknown {\\n  fill: #d7dae5;\\n}\\n.unknown-active {\\n  fill: #cfe3f0;\\n}\\n.ROS2-Node {\\n  fill: #f7b05b;\\n}\\n.ROS2-Node-active {\\n  fill: #ffca75;\\n}\\n.ROS2-LifecycleNode {\\n  fill: #a5907e;\\n}\\n.ROS2-LifecycleNode-active {\\n  fill: #bea997;\\n}\\n.flow-interface-rect {\\n  background-color: #424242;\\n}\\n\\n.flow-interface {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/editors/Flow/view/Resources/css/Flow.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;AACd;AACA;EACE,YAAY;EACZ,aAAa;AACf;AACA;EACE,sBAAsB;AACxB;AACA;EACE,aAAa;AACf;AACA;EACE,4CAA4C;EAC5C,oBAAoB;AACtB;AACA;;;;EAIE,iBAAiB;AACnB;AACA;EACE,cAAc;EACd,aAAa;AACf;AACA;EACE,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,yBAAyB;EACzB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,yDAAyD;AAC3D;AACA;EACE,WAAW;AACb;AACA;EACE,SAAS;AACX;AACA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;AACA;EACE,SAAS;AACX;;AAEA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yDAAwrD;AAC1rD\",\"sourcesContent\":[\".ghost {\\n  opacity: 0.5;\\n}\\n.node_ghost {\\n  opacity: 0.5;\\n  fill: #b0bec5;\\n}\\n.nodeLinkTemp {\\n  stroke-dasharray: 3, 3;\\n}\\n.selectedPort {\\n  fill: #11ee1a;\\n}\\n.squareNode {\\n  /*THIS DOES NOT WORK ON RECT ELEMENTS!!!!! */\\n  border-radius: 100px;\\n}\\n.children-container,\\n.ports-container,\\n.links-container,\\n.belong-lines {\\n  overflow: visible;\\n}\\n.text-flow-interface {\\n  color: #ffffff;\\n  fill: #ffffff;\\n}\\nsvg text.unselectable {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.warningBadge span {\\n  background-color: #dbb763;\\n  color: black;\\n}\\n.port-exposed {\\n  stroke: darkorange;\\n  stroke-width: 2.2;\\n}\\n\\n.port-default {\\n  fill: white;\\n  /*filter: drop-shadow(0 0 0.03rem black); Firefox issues*/\\n}\\n.port-default:hover {\\n  fill: green;\\n}\\n.port-over {\\n  fill: red;\\n}\\n.port-movai_msgs-transition {\\n  fill: #81334e;\\n}\\n\\n.port-disabled {\\n  fill: #717171;\\n}\\n.port-disabled:hover {\\n  fill: red;\\n}\\n\\n.ROS1-Nodelet {\\n  fill: #ef5b5b;\\n}\\n.ROS1-Nodelet-active {\\n  fill: #ff7171;\\n}\\n.ROS1-Node {\\n  fill: #684551;\\n}\\n.ROS1-Node-active {\\n  fill: #86636f;\\n}\\n.ROS1-Plugin {\\n  fill: #20a39e;\\n}\\n.ROS1-Plugin-active {\\n  fill: #3dc0bb;\\n}\\n.ROS1-StateM {\\n  fill: #006494;\\n}\\n.ROS1-StateM-active {\\n  fill: #1e82b2;\\n}\\n.MovAI-Node {\\n  fill: #be2424;\\n}\\n.MovAI-Node-active {\\n  fill: #f05656;\\n}\\n.MovAI-State {\\n  fill: #52528c;\\n}\\n.MovAI-State-active {\\n  fill: #6f6fa9;\\n}\\n.MovAI-Server {\\n  fill: #dec5e3;\\n}\\n.MovAI-Server-active {\\n  fill: #f2d9f7;\\n}\\n.MovAI-Flow {\\n  fill: #252125;\\n}\\n.MovAI-Flow-active {\\n  fill: #3b353b;\\n}\\n.start {\\n  fill: #007d56;\\n}\\n.start-active {\\n  fill: #007d56;\\n}\\n.unknown {\\n  fill: #d7dae5;\\n}\\n.unknown-active {\\n  fill: #cfe3f0;\\n}\\n.ROS2-Node {\\n  fill: #f7b05b;\\n}\\n.ROS2-Node-active {\\n  fill: #ffca75;\\n}\\n.ROS2-LifecycleNode {\\n  fill: #a5907e;\\n}\\n.ROS2-LifecycleNode-active {\\n  fill: #bea997;\\n}\\n.flow-interface-rect {\\n  background-color: #424242;\\n}\\n\\n.flow-interface {\\n  background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\\\");\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","module.exports = require(\"joi\");","module.exports = require(\"web-vitals\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-dom\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@mov-ai/mov-fe-lib-react\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/styles\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/defineProperty\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"lodash\");","import { Themes } from \"@mov-ai/mov-fe-lib-react\";\nimport lodash from \"lodash\";\n\nconst commonColors = {\n  black: \"#000000\",\n  white: \"#ffffff\"\n};\n\nconst overrides = {\n  MuiAppBar: {\n    positionStatic: {\n      zIndex: 10\n    }\n  }\n};\n\nconst overrideTheme = {\n  // Override dark theme\n  dark: {\n    background: commonColors.black,\n    topBarColor: Themes.dark.palette.background.default,\n    dockLayout: {\n      background: commonColors.white\n    },\n    backdrop: {\n      color: Themes.dark.textColor,\n      background: Themes.dark.palette.background.secondary\n    },\n    saveBar: { backgroundColor: Themes.dark.palette.background.secondary },\n    nodeEditor: { backgroundColor: \"#292929\", stripeColor: \"#3b3b3b\" },\n    robotDetails: {\n      interfaceColor: Themes.dark.palette.background.primary,\n      backgroundColor: \"#292929\",\n      stripeColor: \"#3b3b3b\"\n    },\n    codeEditor: { theme: \"vs-dark\" },\n    flowEditor: {\n      interfaceColor: Themes.dark.palette.background.primary\n    },\n    diffTool: {\n      background: \"#505050\",\n      removedBackground: \"#632F34\",\n      addedBackground: \"#044B53\",\n      color: \"#24292e\",\n      jsonEditor: {\n        background: \"#363946\",\n        color: Themes.dark.textColor,\n        readOnly: \"#acacac\"\n      }\n    },\n    layoutEditor: {\n      background: Themes.dark.palette.background.secondary,\n      gridItemDev: \"#ffdeb7\",\n      gridItemPreview: commonColors.white,\n      itemBoxColor: \"#969696\",\n      itemBoxColorHover: commonColors.white\n    }\n  },\n  // Override light theme\n  light: {\n    dockLayout: {\n      background: commonColors.black\n    },\n    background: Themes.light.palette.background.primary,\n    topBarColor: Themes.light.palette.background.secondary,\n    backdrop: {\n      color: Themes.light.textColor,\n      background: Themes.light.palette.background.secondary\n    },\n    saveBar: { backgroundColor: Themes.light.palette.background.secondary },\n    nodeEditor: {\n      backgroundColor: \"whitesmoke\",\n      stripeColor: \"#cfcfcf\"\n    },\n    robotDetails: {\n      interfaceColor: \"#afafaf\",\n      backgroundColor: \"whitesmoke\",\n      stripeColor: \"#cfcfcf\"\n    },\n    flowEditor: {\n      interfaceColor: \"#afafaf\"\n    },\n    layoutEditor: {\n      background: Themes.light.palette.background.primary,\n      gridItemDev: \"lightgrey\",\n      gridItemPreview: commonColors.white,\n      itemBoxColor: \"#3e3e3e\",\n      itemBoxColorHover: commonColors.black\n    },\n    diffTool: {\n      background: Themes.light.palette.background.secondary,\n      removedBackground: \"#ffdce0\",\n      addedBackground: \"#cdffd8\",\n      color: \"#24292e\",\n      jsonDiff: { color: \"#4a6b08\" },\n      jsonEditor: {\n        background: \"lightslategray\",\n        color: Themes.light.textColor,\n        readOnly: \"#d8d6d6\"\n      }\n    },\n    codeEditor: { theme: \"light\" }\n  }\n};\n\n// add common component overrides for all themes\nObject.keys(overrideTheme).forEach(theme => {\n  overrideTheme[theme].overrides = {\n    ...(overrideTheme[theme].overrides ?? {}),\n    ...overrides\n  };\n});\n// Merge app theme with base theme\nconst mergedTheme = lodash.merge(Themes, overrideTheme);\nexport const ApplicationTheme = mergedTheme;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Grid\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/asyncToGenerator\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/toConsumableArray\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/classCallCheck\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/createClass\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/assertThisInitialized\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/inherits\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/possibleConstructorReturn\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/getPrototypeOf\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/regenerator\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@mov-ai/mov-fe-lib-core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"i18next\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-i18next\");","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\n// import Backend from 'i18next-xhr-backend';\n// import LanguageDetector from 'i18next-browser-languagedetector';\n// not like to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\nimport translationEN from \"./languages/en.json\";\nimport translationPT from \"./languages/pt.json\";\n\n// the translations\nconst resources = {\n  en: { translation: translationEN },\n  pt: { translation: translationPT }\n};\n\n// default language\nconst language =\n  window?.SERVER_DATA?.Language === undefined\n    ? \"en\"\n    : window.SERVER_DATA.Language;\n\ni18n\n  // load translation using xhr -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-xhr-backend\n  //   .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  //   .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    resources,\n    lng: language,\n    fallbackLng: \"en\",\n    debug: false,\n\n    interpolation: {\n      escapeValue: false // not needed for react as it escapes by default\n    }\n  });\n//   .changeLanguage(\"en\", (err, t) => {\n//     if (err) return console.warn(\"something went wrong loading\", err);\n//   });\n\nexport default i18n;\n","import i18n from \"../i18n/i18n\";\n\nexport const APP_DEFAULT_CONFIG = \"app-ide-ce\";\nexport const APP_CUSTOM_CONFIG = \"app-custom-ide-ce\";\n\nexport const MANAGER = \"manager\";\n\nexport const GLOBAL_WORKSPACE = \"global\";\n\nexport const DEFAULT_VALUE = undefined;\nexport const DISABLED_VALUE = \"None\";\n\nexport const DATA_TYPES = {\n  BOOLEAN: \"boolean\",\n  STRING: \"string\",\n  NUMBER: \"number\",\n  OBJECT: \"object\",\n  ARRAY: \"array\",\n  ANY: \"any\"\n};\n\nexport const SCOPES = {\n  CALLBACK: \"Callback\",\n  CONFIGURATION: \"Configuration\",\n  NODE: \"Node\",\n  FLOW: \"Flow\"\n};\n\nexport const HOSTS = {\n  ABSTRACT_HOST: {\n    NAME: \"abstractHost\"\n  },\n  TOP_BAR: {\n    NAME: \"topBar\"\n  },\n  LEFT_PANEL: {\n    NAME: \"leftPanel\"\n  },\n  MAIN_PANEL: {\n    NAME: \"mainPanel\"\n  },\n  LEFT_DRAWER: {\n    NAME: \"leftDrawer\",\n    CALL: {\n      OPEN: \"open\",\n      CLOSE: \"close\",\n      TOGGLE: \"toggle\"\n    }\n  },\n  BOTTOM_BAR: {\n    NAME: \"bottomBar\"\n  }\n};\n\nexport const PLUGINS = {\n  APP_KEYBINDINGS: {\n    NAME: \"appKeybindings\"\n  },\n  DOC_MANAGER: {\n    NAME: \"docManager\",\n    CALL: {\n      READ: \"read\",\n      SAVE: \"save\",\n      BROADCAST: \"broadcast\",\n      GET_STORE: \"getStore\",\n      GET_DOC_FACTORY: \"getDocFactory\",\n      GET_DOC_TYPES: \"getDocTypes\",\n      SUBSCRIBE_TO_CHANGES: \"subscribeToChanges\",\n      UNSUBSCRIBE_TO_CHANGES: \"unSubscribeToChanges\",\n      GET_DOC_FROM_NAME_TYPE: \"getDocFromNameType\",\n      CHECK_DOCUMENT_EXISTS: \"checkDocumentExists\",\n      DISCARD_DOC_CHANGES: \"discardDocChanges\",\n      RELOAD_DOC: \"reloadDoc\",\n      COPY: \"copy\",\n      DELETE: \"delete\",\n      CREATE: \"create\",\n      SAVE_ACTIVE_EDITOR: \"saveActiveEditor\",\n      SAVE_DIRTIES: \"saveDirties\"\n    },\n    ON: {\n      FLOW_EDITOR: \"flowEditor\",\n      UPDATE_DOC_DIRTY: \"updateDocDirty\",\n      DELETE_DOC: \"deleteDoc\",\n      UPDATE_DOCS: \"updateDocs\",\n      LOAD_DOCS: \"loadDocs\",\n      SAVE_DOC: \"saveDoc\",\n      BEFORE_SAVE_DOC: \"beforeSaveDoc\"\n    }\n  },\n  TABS: {\n    NAME: \"tabs\",\n    CALL: {\n      OPEN: \"open\",\n      CLOSE: \"close\",\n      OPEN_EDITOR: \"openEditor\",\n      UPDATE_TAB_ID: \"updateTabId\",\n      FOCUS_ACTIVE_TAB: \"focusActiveTab\",\n      GET_ACTIVE_TAB: \"getActiveTab\"\n    },\n    ON: {\n      OPEN_EDITOR: \"openEditor\",\n      ACTIVE_TAB_CHANGE: \"activeTabChange\"\n    }\n  },\n  RIGHT_DRAWER: {\n    NAME: \"rightDrawer\",\n    CALL: {\n      ADD_BOOKMARK: \"addBookmark\",\n      SET_BOOKMARK: \"setBookmark\",\n      REMOVE_BOOKMARK: \"removeBookmark\",\n      RESET_BOOKMARKS: \"resetBookmarks\"\n    },\n    ON: {\n      CHANGE_BOOKMARK: \"changeBookmark\"\n    }\n  },\n  DIALOG: {\n    NAME: \"dialog\",\n    CALL: {\n      NEW_DOC: \"newDocument\",\n      SAVE_OUTDATED_DOC: \"saveOutdatedDocument\",\n      CONFIRMATION: \"confirmation\",\n      COPY_DOC: \"copyDocument\",\n      FORM_DIALOG: \"formDialog\",\n      SELECT_SCOPE_MODAL: \"selectScopeModal\",\n      CLOSE_DIRTY_DOC: \"closeDirtyDocument\",\n      CUSTOM: \"custom\",\n      CUSTOM_DIALOG: \"customDialog\",\n      ALERT: \"alert\"\n    }\n  },\n  ALERT: {\n    NAME: \"alert\",\n    CALL: {\n      SHOW: \"show\"\n    }\n  },\n  MAIN_MENU: {\n    NAME: \"mainMenu\"\n  },\n  EXPLORER: {\n    NAME: \"explorer\"\n  },\n  PLACEHOLDER: {\n    NAME: \"placeholder\"\n  },\n  FLOW_EXPLORER: {\n    NAME: \"FlowExplorer\",\n    CALL: {},\n    ON: { ADD_NODE: \"addNode\" }\n  },\n  SYSTEM_BAR: {\n    NAME: \"systemBar\"\n  }\n};\n\nexport const KEYBIND_SCOPES = {\n  APP: \"all\"\n};\n\nexport const TABLE_KEYS_NAMES = {\n  PARAMETERS: \"parameters\",\n  ENVVARS: \"envVars\",\n  CMDLINE: \"commands\"\n};\n\nexport const EMPTY_MESSAGE = {\n  PARAMETERS: \"No Parameters\",\n  ENVVARS: \"No Environment Variables\",\n  COMMANDS: \"No Command Lines\"\n};\n\nexport const DIALOG_TITLE = {\n  PARAMETERS: \"Parameter\",\n  ENVVARS: \"EnvironmentVariable\",\n  COMMANDS: \"Command Line\"\n};\n\nexport const SAVE_OUTDATED_DOC_ACTIONS = {\n  UPDATE_DOC: \"updateDoc\",\n  OVERWRITE_DOC: \"overwriteDoc\",\n  CANCEL: \"cancel\"\n};\n\nexport const DEFAULT_KEY_VALUE_DATA = {\n  name: \"\",\n  description: \"\",\n  type: DATA_TYPES.ANY,\n  value: \"\"\n};\n\n/**\n * Used for Port Names\n * We’re using a valid ROS validation which only allows for a name to begin with a letter, tilde (~) or a forward slash (/),\n * and then followed by any letters, numbers, underscores and forward slash (/),\n * but can’t have 2 underscores in a row;\n */\nexport const ROS_VALID_NAMES = new RegExp(\n  /(?!.*__.*)^[a-zA-Z~/]{1}?[a-zA-Z0-9_/]*$/\n);\n\n/**\n * Used for Parameters, Environment Variables and Command Line\n * We’re using a variation of the valid ROS validation which only allows for a name to begin with a letter,\n * tilde (~) or a forward slash (/), but also allowing the first character to be an underscore (_),\n * and then followed by any letters, numbers, underscores and forward slash (/),\n * but can’t have 2 underscores in a row;\n */\nexport const ROS_VALID_NAMES_VARIATION = new RegExp(\n  /(?!.*__.*)^[a-zA-Z_~/]{1}?[a-zA-Z0-9_/]*$/\n);\n\nexport const ALERT_SEVERITIES = {\n  SUCCESS: \"success\",\n  ERROR: \"error\",\n  INFO: \"info\",\n  WARNING: \"warning\"\n};\n\nexport const LINK_DEPENDENCY = {\n  ALL_DEPENDENCIES: {\n    LABEL: \"AllDependenciesLabel\",\n    VALUE: 0,\n    COLOR: \"white\"\n  },\n  ONLY_FROM: {\n    LABEL: \"OnlyFromLabel\",\n    VALUE: 1,\n    COLOR: \"violet\"\n  },\n  ONLY_TO: {\n    LABEL: \"OnlyToLabel\",\n    VALUE: 2,\n    COLOR: \"steelblue\"\n  },\n  NO_DEPENDENCIES: {\n    LABEL: \"NoDependenciesLabel\",\n    VALUE: 3,\n    COLOR: \"darkseagreen\"\n  }\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                   Layout Constants                                   *\n *                                                                                      */\n//========================================================================================\n\nexport const DEFAULT_EXPLORER_ROW_HEIGHT = 40;\n\nexport const DOCK_POSITIONS = {\n  DOCK: \"dockbox\",\n  WINDOW: \"windowbox\",\n  MAX: \"maxbox\",\n  FLOAT: \"floatbox\"\n};\n\nexport const DOCK_MODES = {\n  MAXIMIZE: \"maximize\",\n  REMOVE: \"remove\"\n};\n\nexport const FLOW_EXPLORER_PROFILE = {\n  name: \"FlowExplorer\",\n  title: \"AddNodeOrSubFlow\"\n};\n\nexport const HOMETAB_PROFILE = {\n  name: \"HomeTab\",\n  title: i18n.t(\"HomeTabTitle\")\n};\n\nexport const SHORTCUTS_PROFILE = {\n  name: \"ShortcutsTab\",\n  title: i18n.t(\"ShortcutsTabTitle\")\n};\n\nexport const DEFAULT_TABS = new Map(\n  Object.entries({ [HOMETAB_PROFILE.name]: { id: HOMETAB_PROFILE.name } })\n);\n\nexport const DEFAULT_LAYOUT = {\n  dockbox: {\n    mode: \"horizontal\",\n    children: [\n      {\n        tabs: [\n          {\n            id: HOMETAB_PROFILE.name\n          }\n        ]\n      }\n    ]\n  },\n  windowbox: { children: [] },\n  maxbox: { children: [] },\n  floatbox: { children: [] }\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                 Flow/Nodes Constants                                 *\n *                                                                                      */\n//========================================================================================\n\nexport const MOVAI_FLOW_TYPES = {\n  NODES: {\n    ROS1_NODELETE: \"ROS1/Nodelet\",\n    ROS1_NODE: \"ROS1/Node\",\n    ROS1_PLUGIN: \"ROS1/Plugin\",\n    ROS1_STATEM: \"ROS1/StateM\",\n    MOVAI_NODE: \"MovAI/Node\",\n    MOVAI_STATE: \"MovAI/State\",\n    MOVAI_SERVER: \"MovAI/Server\",\n    MOVAI_FLOW: \"MovAI/Flow\",\n    ROS2_NODE: \"ROS2/Node\",\n    ROS2_LIFECYCLENODE: \"ROS2/LifecycleNode\"\n  },\n  LINKS: {\n    TRANSITION: \"movai_msgs/Transition\",\n    NODELET: \"movai_msgs/Nodelet\"\n  }\n};\n","const MESSAGES = {\n  ERROR_MESSAGES: {\n    INVALID_NAME: \"InvalidName\",\n    NAME_IS_MANDATORY: \"MandatoryName\",\n    SOMETHING_WENT_WRONG: \"SomethingWentWrong\",\n    DATA_VALIDATION_FAILED: \"DataValidationFailed\",\n    FILE_DOESNT_EXIST: \"FileUrlDoesntExist\",\n    FAILED_TO_SAVE: \"FailedToSave\",\n    ERROR_RUNNING_SPECIFIC_CALLBACK: \"ErrorRunningSpecificCallback\",\n    TYPE_NAME_IS_MANDATORY: \"MandatoryTypeName\",\n    INSTANCE_NAME_IS_MANDATORY: \"MandatoryInstanceName\",\n    INVALID_TYPE_NAME: \"InvalidTypeName\",\n    INVALID_INSTANCE_NAME: \"InvalidInstanceName\",\n    MULTIPLE_ENTRIES_WITH_SAME_NAME: \"MultipleInstancesSameName\",\n    NO_TRANSPORT_PROTOCOL_CHOSEN: \"NoTransportProtocolChosen\",\n    NO_PACKAGE_CHOSEN: \"NoPackageChosen\",\n    NO_MESSAGE_CHOSEN: \"NoMessageChosen\"\n  },\n  WARNING_MESSAGES: {},\n  SUCCESS_MESSAGES: {\n    SAVED_SUCCESSFULLY: \"SavedSuccessfully\",\n    CALLBACK_CREATED: \"CallbackCreated\"\n  }\n};\n\nexport const ERROR_MESSAGES = MESSAGES.ERROR_MESSAGES;\nexport const WARNING_MESSAGES = MESSAGES.WARNING_MESSAGES;\nexport const SUCCESS_MESSAGES = MESSAGES.SUCCESS_MESSAGES;\nexport default MESSAGES;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@remixproject/engine\");","import { Engine, PluginManager } from \"@remixproject/engine\";\n\nexport default class PluginManagerIDE {\n  constructor() {\n    if (PluginManagerIDE.instance) return PluginManagerIDE.instance;\n    PluginManagerIDE.instance = this;\n    this.engine = new Engine();\n    this.manager = new PluginManager();\n    this.topics = {};\n    this.install(\"manager\", this.manager);\n    window.engine = this.engine;\n    window.manager = this.manager;\n  }\n\n  register(plugin) {\n    this.engine.register(plugin);\n  }\n\n  async activatePlugin(pluginName) {\n    await this.manager.activatePlugin(pluginName);\n  }\n\n  async install(pluginName, plugin) {\n    if (!this.engine.isRegistered(pluginName)) {\n      this.engine.register(plugin);\n    }\n    await this.manager.activatePlugin(pluginName);\n    // Iterate through registered topics and add newly installed plugin to list\n    Object.values(this.topics).forEach(pluginTopics => {\n      const _plugin = pluginTopics.plugin;\n      const _topics = pluginTopics.topics;\n      Object.keys(_topics).forEach(topicName => {\n        _plugin.on(pluginName, topicName, _topics[topicName]);\n      });\n    });\n  }\n\n  /**\n   * Add a subscriber to plugin, listening for emits in the specific topic name\n   * @param {String} name : Name of the topic\n   * @param {ViewReactPlugin} plugin : Plugin to add subscriber\n   * @param {Function} lambda : Function to be called on topic emitted\n   */\n  addTopic(name, plugin, lambda) {\n    const pluginTopics = this.topics[plugin.profile.name] ?? { topics: {} };\n    pluginTopics.plugin = plugin;\n    pluginTopics.topics = { ...pluginTopics.topics, [name]: lambda };\n    this.topics[plugin.profile.name] = pluginTopics;\n  }\n\n  /**\n   * Remove subscriber to topic\n   * @param {String} name : Name of the topic\n   * @param {ViewReactPlugin} plugin : Plugin to remove subscriber\n   */\n  removeTopic(name, plugin) {\n    const pluginTopics = this.topics[plugin.profile.name];\n    delete pluginTopics.topics[name];\n  }\n\n  /**\n   * Get manager topics subscribed\n   * @returns {Object} topics\n   */\n  getTopics() {\n    return this.topics;\n  }\n\n  getPlugin(pluginName) {\n    return this.engine?.plugins?.[pluginName];\n  }\n\n  static getInstance() {\n    return new PluginManagerIDE();\n  }\n\n  /**\n   *\n   * @param {String} pluginName\n   * @param {Plugin} plugin\n   */\n  static async install(pluginName, plugin) {\n    await PluginManagerIDE.getInstance().install(pluginName, plugin);\n  }\n\n  /**\n   * Get plugin by its name\n   * @param {string} pluginName : Plugin name\n   * @returns {Plugin} Found plugin or undefined\n   */\n  static getPlugin(pluginName) {\n    return PluginManagerIDE.getInstance().getPlugin(pluginName);\n  }\n}\n","import { Plugin } from \"@remixproject/engine\";\nimport PluginManagerIDE from \"../PluginManagerIDE/PluginManagerIDE\";\nexport default class IDEPlugin extends Plugin {\n  onTopic = (topicName, lambda = _topic => console.log(\"Not implemented\")) => {\n    const pluginManager = PluginManagerIDE.getInstance();\n    pluginManager.addTopic(topicName, this, lambda);\n  };\n}\n","const EDITORS = {};\n\nexport const addEditor = (scope, store, plugin) => {\n  EDITORS[scope] = { store, plugin };\n};\n\n/**\n * Returns a list of interfaces\n * @param {string} workspace : The workspace where to load the documents from\n * @returns {Array<{store: Store, plugin: ViewPlugin}>}\n */\n\nconst factory = (workspace, observer, docManager) => {\n  Object.keys(EDITORS).forEach(scope => {\n    const editor = EDITORS[scope];\n    const Store = editor.store;\n    EDITORS[scope] = {\n      store: new Store(workspace, observer, docManager),\n      plugin: editor.plugin\n    };\n  });\n  return EDITORS;\n};\n\nexport default factory;\n","import { Document } from \"@mov-ai/mov-fe-lib-core\";\nimport i18n from \"../../i18n/i18n\";\nimport {\n  PLUGINS,\n  GLOBAL_WORKSPACE,\n  ALERT_SEVERITIES,\n  SAVE_OUTDATED_DOC_ACTIONS\n} from \"../../utils/Constants\";\nimport { SUCCESS_MESSAGES, ERROR_MESSAGES } from \"../../utils/Messages\";\nimport IDEPlugin from \"../../engine/IDEPlugin/IDEPlugin\";\nimport docsFactory from \"./factory\";\n\n/**\n * Document Manager plugin to handle requests, subscribers and more\n */\nclass DocManager extends IDEPlugin {\n  constructor(profile = {}) {\n    // Remove duplicated if needed\n    const methods = Array.from(\n      new Set([\n        ...(profile.methods ?? []),\n        ...Object.values(PLUGINS.DOC_MANAGER.CALL)\n      ])\n    );\n    super({ ...profile, methods });\n    // Used to debug docManager in console\n    window.DocManager = this;\n    // Add unload events\n    window.onbeforeunload = this.onBeforeUnload;\n    window.onunload = this.onUnload;\n    // Subscriber\n    this.docSubscriptions = new Map();\n    this.saveStack = new Map();\n  }\n\n  getName() {\n    return \"DocManager\";\n  }\n\n  activate() {\n    const observer = {\n      onLoad: store => this.onStoreLoad(store),\n      onUpdate: (store, doc, action) => this.onStoreUpdate(store, doc, action),\n      onDocumentDirty: (store, instance, value) =>\n        this.onDocumentDirty(store, instance, value),\n      onDocumentDeleted: (store, name) => this.onDocumentDeleted(store, name)\n    };\n\n    this.docsMap = docsFactory(GLOBAL_WORKSPACE, observer, this);\n  }\n\n  onDocumentUpdate(doc) {\n    this.docSubscriptions.forEach(callback => {\n      callback(doc.serializeToDB());\n    });\n  }\n\n  /**\n   * Subscribe Instance to changes\n   * @param {object} obj\n   * @returns {Promise<Model>}\n   */\n  subscribeToChanges(id, callback) {\n    this.docSubscriptions.set(id, callback);\n  }\n\n  /**\n   * Unsubscribe Instance to changes\n   * @param {object} obj\n   * @returns {Promise<Model>}\n   */\n  unSubscribeToChanges(id) {\n    if (this.docSubscriptions.has(id)) {\n      return this.docSubscriptions.delete(id);\n    }\n  }\n\n  /**\n   * Returns the factory of the documents\n   * @param {string} name The name of the factory\n   * @returns {object} The factory of the documents\n   */\n  getDocFactory(name) {\n    return this.docsMap[name];\n  }\n\n  /**\n   * Returns document available\n   * @returns {Array<{name: String, title: String, scope: String}>}\n   */\n  getDocTypes() {\n    return Object.values(this.docsMap).map(docFactory => ({\n      name: docFactory.store.name,\n      title: docFactory.store.title,\n      scope: docFactory.store.scope\n    }));\n  }\n\n  /**\n   * Returns a list of the stores available\n   * @returns {Array<Store>} List of stores\n   */\n  getStores() {\n    return Object.values(this.docsMap).map(i => i.store);\n  }\n\n  /**\n   * Returns the store object or undefined\n   * @param {string} name The name of the store\n   * @returns {Object<Store>}\n   */\n  getStore(name) {\n    return this.docsMap[name]?.store;\n  }\n\n  /**\n   * Returns data model from name and type\n   * @param {String} name\n   * @param {String} scope\n   * @returns {Model || undefined}\n   */\n  getDocFromNameType(name, scope) {\n    return this.read({ name, scope });\n  }\n\n  /**\n   * Check if document already exists\n   * @param {{name: String, scope: String}} modelKey\n   * @returns {Promise<{result: Boolean, error: String}>}\n   */\n  checkDocumentExists(modelKey) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.checkDocExists(name);\n  }\n\n  /**\n   * Discard document changes\n   * @param {{name: String, scope: String}} modelKey\n   */\n  discardDocChanges(modelKey) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.discardDocChanges(name);\n  }\n\n  /**\n   * Reload document data\n   * @param {{name: String, scope: String}} modelKey\n   */\n  reloadDoc(modelKey) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.loadDoc(name);\n  }\n\n  /**\n   * Read model from DB\n   * @param {{name: String, scope: String}} modelKey\n   * @returns {Promise<Model>}\n   */\n  read(modelKey) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.readDoc(name) ?? Promise.reject();\n  }\n\n  /**\n   * Update existing document\n   * @param {{name: String, scope: String}} modelKey\n   * @param {Function} callback : Used to call said function after all is done (more reliable than a .then)\n   * @param {Object} opts : Send extra options to save - currently we have:\n   *                       {ignoreNew} to prevent showing the new doc popup\n   *                       {preventAlert} to prevent showing the save alert\n   * @returns {Promise<Model>}\n   */\n  async save(modelKey, callback, opts) {\n    const { name, scope, data } = modelKey;\n\n    const thisDoc = await this.read(modelKey);\n    const { isNew, isDirty, isOutdated } = thisDoc;\n\n    // let's replace some data locally before saving if it was passed in\n    if (data) thisDoc.setData(data);\n\n    this.emit(PLUGINS.DOC_MANAGER.ON.BEFORE_SAVE_DOC, {\n      docManager: this,\n      doc: Document.parsePath(name, scope),\n      thisDoc\n    });\n\n    if (!isDirty) return;\n    if (!isNew && !isOutdated)\n      return this.doSave(modelKey, callback, undefined, opts);\n\n    if (this.saveStack.has(`${name}_${scope}`)) return;\n    this.saveStack.set(`${name}_${scope}`, { name, scope });\n\n    if (isOutdated) {\n      return this.call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.SAVE_OUTDATED_DOC,\n        {\n          name,\n          scope,\n          onSubmit: async action => {\n            switch (action) {\n              case SAVE_OUTDATED_DOC_ACTIONS.UPDATE_DOC:\n                this.discardDocChanges(modelKey);\n                const updatedDoc = await this.read(modelKey);\n\n                if (this.docSubscriptions.has(thisDoc.id)) {\n                  this.docSubscriptions.get(thisDoc.id)(\n                    updatedDoc.serializeToDB()\n                  );\n                }\n\n                this.saveStack.delete(`${name}_${scope}`);\n                break;\n              case SAVE_OUTDATED_DOC_ACTIONS.OVERWRITE_DOC:\n                this.doSave(modelKey, callback, undefined, opts);\n                break;\n              case SAVE_OUTDATED_DOC_ACTIONS.CANCEL:\n              default:\n                return;\n            }\n          },\n          onClose: () => this.saveStack.delete(`${name}_${scope}`)\n        }\n      );\n    }\n\n    if (opts?.ignoreNew) return;\n\n    return this.call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.NEW_DOC, {\n      scope,\n      placeholder: name,\n      onSubmit: newName => this.doSave(modelKey, callback, newName, opts),\n      onClose: () => this.saveStack.delete(`${name}_${scope}`)\n    });\n  }\n\n  /**\n   * Actually saves the document passed in the \"save\" function\n   * @param {{name: String, scope: String}} modelKey\n   * @param {String} newName : Used in document creation, where we need to replace \"untitled\" by newName\n   * @param {Function} callback : Used to call said function after all is done (more reliable than a .then)\n   * @returns {Promise<Model>}\n   */\n  async doSave(modelKey, callback, newName, opts) {\n    const { name, scope } = modelKey;\n    let returnMessage = { success: false };\n\n    try {\n      const model = await this.getStore(scope).saveDoc(name, newName);\n\n      this.emit(PLUGINS.DOC_MANAGER.ON.SAVE_DOC, {\n        docManager: this,\n        doc: Document.parsePath(name, scope),\n        newName\n      });\n\n      if (!opts?.preventAlert) {\n        this.call(PLUGINS.ALERT.NAME, PLUGINS.ALERT.CALL.SHOW, {\n          message: i18n.t(SUCCESS_MESSAGES.SAVED_SUCCESSFULLY),\n          severity: ALERT_SEVERITIES.SUCCESS\n        });\n      }\n\n      returnMessage = model;\n    } catch (error) {\n      returnMessage.message = error;\n      console.warn(\"failed to save document\", error);\n\n      this.call(PLUGINS.ALERT.NAME, PLUGINS.ALERT.CALL.SHOW, {\n        message: i18n.t(ERROR_MESSAGES.FAILED_TO_SAVE),\n        severity: ALERT_SEVERITIES.ERROR\n      });\n    }\n\n    callback && callback(returnMessage);\n    this.saveStack.delete(`${name}_${scope}`);\n    return returnMessage;\n  }\n\n  /**\n   * Saves the tab that is currently active\n   */\n  saveActiveEditor() {\n    this.call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.GET_ACTIVE_TAB).then(tab =>\n      this.save({ name: tab.name, scope: tab.scope }, tab.isNew)\n    );\n  }\n\n  /**\n   * Create new document\n   * @param {{name: String, scope: String}} modelKey\n   * @returns {Object<Model>}\n   */\n  create(modelKey) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.newDoc(name);\n  }\n\n  /**\n   * Create copy of document\n   * @param {{name: String, scope: String}} modelKey : Reference model\n   * @param {String} newName : Copy name\n   */\n  copy(modelKey, newName) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.copyDoc(name, newName);\n  }\n\n  /**\n   * Delete document from DB\n   * @param {{name: String, scope: String}} modelKey\n   */\n  delete(modelKey) {\n    const { name, scope } = modelKey;\n    return this.getStore(scope)?.deleteDoc(name);\n  }\n\n  /**\n   * Verifies if at least a store has one or more documents changed\n   * @returns {Boolean}\n   */\n  hasDirties() {\n    return this.getStores().some(store => store.hasDirties());\n  }\n\n  /**\n   * Saves all the changed documents\n   * @returns {Promise<Array>}\n   */\n  saveDirties() {\n    this.getStores().forEach(store => {\n      store.getDirties().forEach(obj => {\n        const { name, isNew } = obj;\n        const scope = obj.getScope();\n        this.save({ name, scope }, isNew);\n      });\n    });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Events                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  broadcast(event, data) {\n    this.emit(event, data);\n  }\n\n  /**\n   * Emits an event when a store fires an onLoad event\n   * @param {string} store : The name of the store firing the event\n   */\n  onStoreLoad() {\n    this.emit(PLUGINS.DOC_MANAGER.ON.LOAD_DOCS, this);\n  }\n\n  /**\n   * Emits an event when a store fires an onUpdate event\n   * @param {string} store : The name of the store firing the event\n   * @param {object<{documentName, documentType}>} doc\n   */\n  onStoreUpdate(_, doc, action = \"set\") {\n    this.emit(PLUGINS.DOC_MANAGER.ON.UPDATE_DOCS, this, {\n      action,\n      ...doc\n    });\n  }\n\n  /**\n   * Emits an event when a document is set to dirty\n   * @param {string} store : The name of the store firing the event\n   * @param {model} instance : Document model instance\n   * @param {boolean} value : Document Dirty state\n   */\n  onDocumentDirty(_, instance, value) {\n    this.emit(PLUGINS.DOC_MANAGER.ON.UPDATE_DOC_DIRTY, {\n      instance,\n      value\n    });\n  }\n\n  /**\n   * Emits an event when a document is deleted\n   * @param {{url: string, name: string}} data : Document data\n   */\n  onDocumentDeleted(store, data) {\n    this.emit(PLUGINS.DOC_MANAGER.ON.DELETE_DOC, { ...data, scope: store });\n  }\n\n  /**\n   * Event triggered before unloading app (before close or before refreshing)\n   * @param {Event} event\n   */\n  onBeforeUnload = event => {\n    if (this.hasDirties()) {\n      event.preventDefault();\n      return \"You have unsaved documents. Are you sure you want to quit?\";\n    }\n  };\n\n  /**\n   * Event triggered when app unloads (user did close or refreshed page)\n   *  Discard changes\n   *  Remove subscribers\n   * @param {Event} event\n   */\n  onUnload = _event => {\n    this.getStores().forEach(store => {\n      const dirtyDocs = store.getDirties();\n\n      dirtyDocs.forEach(doc => {\n        const { url, name, scope } = doc.serialize();\n        // Discard dirty document changes\n        this.discardDocChanges({ scope, name });\n        // Emit event to close untitled tabs\n        if (doc.getIsNew())\n          this.emit(PLUGINS.DOC_MANAGER.ON.DELETE_DOC, { url, name, scope });\n      });\n      // Destroy store to kill subscribers\n      store.destroy();\n    });\n  };\n}\n\nexport default DocManager;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/extends\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/objectWithoutProperties\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"hotkeys-js\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/AccountTree\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Build\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Code\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Description\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/DeviceHub\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Keyboard\");","export default \"data:image/png;base64,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Hvz11/HEkT1LgiBYWllHkT8VwD475AxAaQYMSE/joB9+AMaNszumosJ8D3G7806zij4rrrnGDGxxGzDAvr7EuHHmtU6D669P56LYLLHtAWE7y5tfXwNAZQLAnwpgPwPQqlV6PsFm1aWXAief7DsK46WX7I9JqunRxRdH0zUvbo8/DvzpT8lcy+Vn7/Iax+HUU4Hf/953FNkmYv8h7FsueSuYA/ycAJRRIfIa2GaHderwMUAU7rgD2GMP31GYdQm2dtsN6NYt+ljWFYZmNX1a968DwPjxySVz3bqZn70tl9c4anvume7CWFnRrp19QzYmAJW+AQoJgKp+4TeWlHBpyPKLX0QfR7mpbBy0+eZ+45gwAZgyxf64s8+OPpaqLFpk6ujPTuG63S++APr3t6+n4MrlZz5liv/Oi2zwEx2XrpxMAAAAqjoLKCQAIsIEADA3MVtMAKLRooVZDR33orraPPmk/TEnnZRc3LNmmefGSQ20xVi82Az+SSUmzZu7zTS4vLZRatHCzED4/h3PC5d77+efRx9HBonIl8DPjwCYAADAzJn2xzABiE7XrmYmwGfjoIcftm/I06QJcN558cRTlXHjzACYhsZBYQj8+tf2hZRKcd559m1gVc1r60tlgx/fs1x54nLvdbnH59PPMwCV/1H2XH45ouwNT6YJyh13+Lv+J58Ao0fbH3fBBW51yV09/jhw1VXJXa86l18OPPtsctdr2tT8rG2NHh19F0Ibd96ZjnUueeJy7427LkV2fAEwAVjbvHn2XQFdnkNRzU45xTRF8eWee+yPadYs+WZHV19tain4cv/9wA03JHvN3//erQmXy2salTTtdMkT23vvokWmwiYBa84AqOpsABksNxYD21mArl1jCaPsXXcdcNhhfq79xBNuz7N/97vkHwmdcgrwzjvJXhMwn6jPOCPZa/7iF8BFF9kfN3u2eU19SFOti7yxvfdy+r/SqsKYbxKAIAhCADN9RpQatr8knTr5fWadVz4bB61YAQwZYn9cw4bJfyJescIkSkne3KZPBw4/3DQtStLf/+5WPnrIEPNzShob/MSnosL+EQATgEozC2P+T48AAOBTT8Gky2ef2X19nTpmaw9Fr1Ejs2raR5302293a2Jz1FHx9whY15w55poLFsR/rfnzTYOfpKdSDz7Y9EWwtWiReS2TxgY/8dpiC/saAGls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\"","import { forwardRef } from \"react\";\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\nimport BuildIcon from \"@material-ui/icons/Build\";\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport DeviceHubIcon from \"@material-ui/icons/DeviceHub\";\nimport KeyboardIcon from \"@material-ui/icons/Keyboard\";\nimport { Utils } from \"@mov-ai/mov-fe-lib-core\";\nimport movaiIcon from \"../Branding/movai-logo-white.png\";\nimport { ERROR_MESSAGES } from \"./Messages\";\nimport { GLOBAL_WORKSPACE } from \"./Constants\";\n\n/**\n * Export a non implemented empty function\n * @param {String} name : function name\n * @returns console.warn call with the function name\n */\nexport const defaultFunction = (name, logToConsole = true) => {\n  if (logToConsole) console.warn(`${name} not implemented`);\n};\n\n/**\n * Checks if it's a React Component or Functional Component to return it's ref\n * @param {*} Component\n * @returns {Component} RefComponent\n */\nexport const getRefComponent = Component => {\n  let RefComponent = Component;\n  if (typeof Component === \"function\")\n    RefComponent = forwardRef((props, ref) => Component(props, ref));\n\n  return RefComponent;\n};\n\n/**\n * Generate random ID\n * @returns {String} Random ID in format : \"1c76107c-146e-40bc-93fb-8148750cf50a\"\n */\nexport const randomId = () => {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n};\n\n/**\n * Get tab icon color for each document type\n * @param {string} scope : Document type (Callback, Configuration, ...)\n * @returns {string} Color by document type\n */\nexport const getTabIconColor = scope => {\n  const TAB_ICON_COLORS = {\n    Callback: \"cadetblue\",\n    Layout: \"darkred\",\n    Flow: \"orchid\",\n    Node: \"khaki\",\n    Configuration: \"goldenrod\"\n  };\n  // Return color by scope\n  return scope in TAB_ICON_COLORS ? TAB_ICON_COLORS[scope] : \"inherit\";\n};\n\n/**\n * Get icon for each document type\n * @param {string} scope : Document type (Callback, Configuration, ...)\n * @returns {component} Icon by document type\n */\nexport const getIconByScope = (scope, style) => {\n  scope = scope || \"Default\";\n  const color = getTabIconColor(scope);\n  const homeTabIcon = (\n    <img src={movaiIcon} alt=\"MOV.AI Logo\" style={{ maxWidth: 13, ...style }} />\n  );\n  const icon = {\n    Callback: <CodeIcon style={{ color, ...style }} />,\n    Layout: <i className={`icon-Layouts`} style={{ color, ...style }}></i>,\n    Flow: <AccountTreeIcon style={{ color, ...style }} />,\n    Annotation: <DescriptionIcon style={{ color, ...style }} />,\n    GraphicScene: <DeviceHubIcon style={{ color, ...style }} />,\n    Node: <i className={`icon-Nodes`} style={{ color, ...style }}></i>,\n    Configuration: <BuildIcon style={{ color, ...style }} />,\n    HomeTab: homeTabIcon,\n    ShortcutsTab: <KeyboardIcon style={{ color, ...style }} />,\n    Default: <></>\n  };\n\n  return icon[scope];\n};\n\n/**\n * Returns the document version from an URL\n * @param {String} url\n * @returns {String}\n */\nexport function getVersionFromUrl(url) {\n  if (!url) return \"\";\n  const splittedUrl = url.split(\"/\");\n  return splittedUrl[3];\n}\n\n/**\n * Returns the document name from an URL\n * @param {String} url\n * @returns {String}\n */\nexport function getNameFromURL(url) {\n  if (!url) return \"\";\n  const splittedUrl = url.split(\"/\");\n  return splittedUrl.length === 1 ? url : splittedUrl[2];\n}\n\n/**\n * Returns the document scope from an URL\n * @param {String} url\n * @returns {String}\n */\nexport function getScopeFromURL(url) {\n  if (!url) return \"\";\n  const splittedUrl = url.split(\"/\");\n  return splittedUrl[1];\n}\n\n/**\n * Returns the document workspace from an URL\n * @param {String} url\n * @returns {String}\n */\nexport function getWorkspaceFromUrl(url) {\n  if (!url) return \"\";\n  const splittedUrl = url.split(\"/\");\n  return splittedUrl[0];\n}\n\n/**\n * Validate document name and throw error if validation doesn't pass\n * @param {string} name : Document name\n * @returns {boolean}\n */\nexport function validateDocumentName(name) {\n  if (!Utils.validateEntityName(name)) {\n    throw new Error(ERROR_MESSAGES.INVALID_NAME);\n  } else {\n    return true;\n  }\n}\n\n/**\n * Build a document path from a doc\n * @param {Document} doc\n * @returns\n */\nexport function buildDocPath(doc) {\n  const { scope, name } = doc;\n  const workspace = doc.workspace ?? GLOBAL_WORKSPACE;\n  return `${workspace}/${scope}/${name}`;\n}\n\nconst boolToPythonOptions = {\n  true: \"True\",\n  false: \"False\"\n};\n\nconst PythonToBoolOptions = {\n  True: true,\n  False: false\n};\n\n/**\n * Convert boolean to Python string\n * @param {boolean} value\n * @returns {string} : A string representing a Python boolean\n */\nexport function isValidPythonBool(value) {\n  return value in boolToPythonOptions;\n}\n\n/**\n * Convert boolean to Python string\n * @param {boolean} value\n * @returns {string} : A string representing a Python boolean\n */\nexport function boolToPython(value) {\n  return boolToPythonOptions[value] ?? boolToPythonOptions[false];\n}\n\n/**\n * Convert from Python string to boolean\n * @param {string} value : A string representing a Python boolean\n * @returns {boolean}\n */\nexport function pythonToBool(value) {\n  return PythonToBoolOptions[value];\n}\n\nexport function parseKeybinds(shortcuts, sep = \",\") {\n  let parsedShortcuts = shortcuts;\n  if (Array.isArray(parsedShortcuts)) parsedShortcuts = shortcuts.join(sep);\n\n  return parsedShortcuts;\n}\n\n/**\n * Simple Event to Stop Propagation\n * @param e: event to stop the propagation\n */\nexport function stopPropagation(e) {\n  e?.stopPropagation();\n}\n\n/**\n * Trigger a simulated mouse click (react element)\n * @param {*} element\n */\nexport function simulateMouseClick(element) {\n  [\"mousedown\", \"click\", \"mouseup\"].forEach(mouseEventType =>\n    element.dispatchEvent(\n      new MouseEvent(mouseEventType, {\n        view: window,\n        bubbles: true,\n        cancelable: true,\n        buttons: 1\n      })\n    )\n  );\n}\n\n/**\n * Trigger callback before unload app\n * @param {function} callback\n */\nexport function runBeforeUnload(callback) {\n  // Previous beforeunload method\n  const onAppUnload = window.onbeforeunload;\n  // Set new beforeunload method with given callback\n  window.onbeforeunload = event => {\n    callback && callback(event);\n    return onAppUnload(event);\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/slicedToArray\");","import React, { useEffect, useState } from \"react\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { getRefComponent } from \"../utils/Utils\";\nimport { ApplicationTheme } from \"../themes\";\n\nexport function withTheme(Component) {\n  const RefComponent = getRefComponent(Component);\n\n  return function (props) {\n    const [theme, setTheme] = useState(\"dark\");\n\n    /**\n     * Handle theme toggle\n     */\n    const handleToggleTheme = () => {\n      const newTheme = theme === \"dark\" ? \"light\" : \"dark\";\n      document.body.classList.remove(theme);\n      ApplicationTheme.setTheme(newTheme);\n      setTheme(newTheme);\n    };\n\n    /**\n     * Update current theme on app start\n     */\n    useEffect(() => {\n      const currentTheme = ApplicationTheme.getTheme();\n      setTheme(currentTheme);\n      // Add new theme class in body\n      document.body.classList.add(currentTheme);\n      // Set body background color\n      document.body.style.backgroundColor =\n        ApplicationTheme[currentTheme].background;\n    }, [theme]);\n\n    return (\n      <ThemeProvider theme={ApplicationTheme[theme]}>\n        <RefComponent\n          handleToggleTheme={handleToggleTheme}\n          theme={theme}\n          {...props}\n        />\n      </ThemeProvider>\n    );\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"prop-types\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/DialogContentText\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Button\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Dialog\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/DialogActions\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/DialogContent\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/DialogTitle\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Close\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const appDialogTitleStyles = makeStyles(theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2)\n  },\n  closeButton: {\n    position: \"absolute\",\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n}));\nexport const appDialogStyles = makeStyles(_theme => ({\n  dialogContent: { minWidth: 450 }\n}));\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { IconButton, Typography } from \"@material-ui/core\";\nimport { defaultFunction } from \"../../../../utils/Utils\";\nimport { withTheme } from \"../../../../decorators/withTheme\";\n\nimport { appDialogTitleStyles, appDialogStyles } from \"./styles\";\n\n/**\n * Custom Dialog Title : Render close icon button\n * @param {*} props : Component props\n * @returns {ReactComponent} DialogTitle Component\n */\nexport const DialogTitle = props => {\n  const { children, onClose, hasCloseButton } = props;\n  const classes = appDialogTitleStyles();\n  return (\n    <MuiDialogTitle\n      data-testid=\"section_dialog-title\"\n      disableTypography\n      className={classes.root}\n    >\n      <Typography variant=\"h6\">{children}</Typography>\n      {hasCloseButton ? (\n        <IconButton\n          data-testid=\"input_close\"\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n};\n\n/**\n * App Dialog wrapper\n * @param {*} props\n * @returns {ReactComponent} AppDialog component wrapper\n */\nconst AppDialog = props => {\n  const { t } = useTranslation();\n  const {\n    actions,\n    onSubmit,\n    onClose,\n    closeOnBackdrop,\n    title = t(\"DefaultDialogTitle\"),\n    submitText = t(\"Submit\"),\n    testId = \"section_app-dialog\"\n  } = props;\n  const [open, setOpen] = useState(true);\n  const classes = appDialogStyles();\n\n  /**\n   * Handle Dialog close\n   */\n  const handleClose = (_, reason) => {\n    if (\n      !closeOnBackdrop &&\n      (reason === \"backdropClick\" || reason === \"escapeKeyDown\")\n    )\n      return;\n    setOpen(false);\n    onClose();\n  };\n\n  /**\n   * Handle Dialog Submit and close\n   */\n  const handleSubmit = () => {\n    onSubmit();\n    handleClose();\n  };\n\n  const getDefaultActions = () => {\n    return (\n      <DialogActions data-testid=\"section_dialog-actions\">\n        <Button data-testid=\"input_close\" onClick={handleClose} color=\"default\">\n          {onSubmit ? t(\"Cancel\") : t(\"Ok\")}\n        </Button>\n        {onSubmit && (\n          <Button\n            data-testid=\"input_confirm\"\n            onClick={handleSubmit}\n            color=\"primary\"\n          >\n            {submitText}\n          </Button>\n        )}\n      </DialogActions>\n    );\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <div data-testid={testId}>\n        <DialogTitle onClose={handleClose} {...props}>\n          {title}\n        </DialogTitle>\n        <DialogContent dividers className={classes.dialogContent}>\n          {props.children}\n        </DialogContent>\n        {actions ?? getDefaultActions()}\n      </div>\n    </Dialog>\n  );\n};\n\nAppDialog.propTypes = {\n  title: PropTypes.string,\n  submitText: PropTypes.string,\n  onSubmit: PropTypes.func,\n  onClose: PropTypes.func,\n  actions: PropTypes.element,\n  hasCloseButton: PropTypes.bool,\n  closeOnBackdrop: PropTypes.bool\n};\n\nAppDialog.defaultProps = {\n  onClose: () => defaultFunction(\"onClose\"),\n  hasCloseButton: true,\n  closeOnBackdrop: false\n};\n\nexport default withTheme(AppDialog);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport AppDialog from \"../AppDialog/AppDialog\";\n\nconst ConfirmationDialog = props => {\n  const { title, message, onSubmit, onClose, submitText } = props;\n\n  return (\n    <AppDialog\n      title={title}\n      onSubmit={onSubmit}\n      onClose={onClose}\n      submitText={submitText}\n    >\n      <DialogContentText>{message}</DialogContentText>\n    </AppDialog>\n  );\n};\n\nConfirmationDialog.propTypes = {\n  title: PropTypes.string,\n  message: PropTypes.string,\n  submitText: PropTypes.string,\n  onSubmit: PropTypes.func,\n  onClose: PropTypes.func\n};\n\nConfirmationDialog.defaultProps = {\n  submitText: \"Submit\",\n  title: \"Confirmation\",\n  message: \"Are you sure do you want to continue?\",\n  onSubmit: () => console.log(\"Not Implemented\"),\n  onClose: () => console.log(\"Not Implemented\")\n};\n\nexport default ConfirmationDialog;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/TextField\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const appDialogStyles = makeStyles(_theme => ({\n  loadingContainer: {\n    height: \"100px\",\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  dialogContent: { minWidth: 450 },\n  textfield: { width: \"100%\" }\n}));\n","import React, { useEffect, useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { withTheme } from \"../../../../decorators/withTheme\";\n\nimport { appDialogStyles } from \"./styles\";\n\nconst DEFAULT_VALIDATION = () => ({ result: true, error: \"\" });\n\nconst FormDialog = props => {\n  // Translation hook\n  const { t } = useTranslation();\n  // Props\n  const {\n    size,\n    onClose,\n    title,\n    message,\n    onSubmit,\n    onPostValidation,\n    placeholder,\n    multiline,\n    loadingMessage,\n    defaultValue,\n    maxLength,\n    onValidation = DEFAULT_VALIDATION,\n    inputLabel = t(\"Name\"),\n    submitText = t(\"Submit\")\n  } = props;\n  // State hook\n  const [open, setOpen] = useState(true);\n  const [isLoading, setLoading] = useState(false);\n  const [value, setValue] = useState(defaultValue);\n  const [validation, setValidation] = useState({\n    error: false,\n    message: \"\"\n  });\n  // Style hook\n  const classes = appDialogStyles();\n  // Ref\n  const inputRef = useRef();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  // Trigger input focus in first render\n  useEffect(() => {\n    setTimeout(() => {\n      inputRef.current?.querySelector(\"input\")?.focus();\n    });\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Validate value\n   * @param {String} _value : New value\n   * @returns {ValidationResult}\n   */\n  const validateValue = _value => {\n    const res = onValidation(_value);\n    // Set state\n    setValidation({ error: !res.result, message: res.error });\n    setValue(_value);\n    if (onPostValidation && res.result) {\n      onPostValidation(_value).then(result => {\n        setValidation(result);\n      });\n    }\n    // Return validation result\n    return res;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle dialog close\n   * @param {Event} closeEvent : Close Event\n   * @param {String} reason : close reason\n   * @returns\n   */\n  const handleClose = (_closeEvent, reason) => {\n    if (reason === \"backdropClick\") return;\n    setOpen(false);\n    if (onClose) onClose();\n  };\n\n  /**\n   * Handle form submit\n   */\n  const handleSubmit = () => {\n    const _validation = validateValue(value);\n    if (_validation.error) return;\n    const result = onSubmit(value);\n    if (result instanceof Promise) {\n      setLoading(true);\n      result.then(() => {\n        setLoading(false);\n        handleClose();\n      });\n    } else handleClose();\n  };\n\n  /**\n   * Handle the onKeyPress event of Textfield\n   * @param {event} evt\n   */\n  const handleKeyPress = evt => {\n    let isEnter = evt.key === \"Enter\";\n    if (isEnter) {\n      evt.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  /**\n   * Handle the onChange event of Textfield\n   * @param {event} evt\n   */\n  const handleOnChange = evt => {\n    validateValue(evt.target.value);\n  };\n\n  /**\n   * Handle paste on Textfield\n   * @param {event} event : event to be captured\n   * @returns {ValidationResult}\n   */\n  const handlePaste = event => {\n    event.preventDefault();\n    // Get current value and current cursor position\n    const oldValue = event.target.value;\n    const position = event.target.selectionStart;\n    // Trim pasted text\n    const pastedText = event.clipboardData\n      .getData(\"text/plain\")\n      .trim()\n      .replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n    // Set new value\n    const newValue = [\n      oldValue.slice(0, position),\n      pastedText,\n      oldValue.slice(position)\n    ].join(\"\");\n    // Validate pasted text\n    validateValue(newValue);\n    // Set text in input field\n    event.target.value = newValue;\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      fullWidth={!!size}\n      maxWidth={size}\n    >\n      <div data-testid=\"section_form-dialog\">\n        <DialogTitle>\n          {loadingMessage && isLoading ? loadingMessage : title}\n        </DialogTitle>\n        <DialogContent className={classes.dialogContent}>\n          {message && <DialogContentText>{message}</DialogContentText>}\n          {isLoading ? (\n            <div className={classes.loadingContainer}>\n              <CircularProgress />\n            </div>\n          ) : (\n            <TextField\n              ref={inputRef}\n              autoFocus={true}\n              error={validation.error}\n              helperText={validation.message}\n              className={classes.textfield}\n              label={t(inputLabel)}\n              InputLabelProps={{ shrink: true }}\n              defaultValue={value}\n              placeholder={placeholder}\n              multiline={multiline}\n              onPaste={handlePaste}\n              onKeyPress={handleKeyPress}\n              onChange={handleOnChange}\n              inputProps={{\n                \"data-testid\": \"input_value\",\n                maxLength: multiline ? \"\" : maxLength\n              }} // limit of characters here\n              margin=\"normal\"\n            />\n          )}\n        </DialogContent>\n        <DialogActions data-testid=\"section_dialog-actions\">\n          <Button\n            data-testid=\"input_close\"\n            onClick={handleClose}\n            color=\"secondary\"\n          >\n            {t(\"Cancel\")}\n          </Button>\n          <Button\n            data-testid=\"input_confirm\"\n            onClick={handleSubmit}\n            disabled={validation.error}\n            color=\"primary\"\n          >\n            {submitText}\n          </Button>\n        </DialogActions>\n      </div>\n    </Dialog>\n  );\n};\n\nFormDialog.propTypes = {\n  onValidation: PropTypes.func,\n  onPostValidation: PropTypes.func,\n  inputLabel: PropTypes.string,\n  submitText: PropTypes.string,\n  placeholder: PropTypes.string,\n  defaultValue: PropTypes.string,\n  maxLength: PropTypes.number,\n  multiline: PropTypes.bool,\n  size: PropTypes.string\n};\n\nFormDialog.defaultProps = {\n  onValidation: () => ({ result: true, error: \"\" }),\n  defaultValue: \"\",\n  multiline: false,\n  maxLength: 40\n};\n\nexport default withTheme(FormDialog);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport useNewDocument from \"./hooks/useNewDocument\";\nimport FormDialog from \"./FormDialog\";\n\nconst NewDocumentDialog = props => {\n  const {\n    call,\n    title,\n    submitText,\n    placeholder,\n    scope,\n    onSubmit,\n    onClose,\n    loadingMessage\n  } = props;\n  const { onValidation, onPostValidation } = useNewDocument({ scope, call });\n\n  return (\n    <FormDialog\n      title={title}\n      scope={scope}\n      loadingMessage={loadingMessage}\n      submitText={submitText}\n      placeholder={placeholder}\n      onSubmit={onSubmit}\n      onClose={onClose}\n      onValidation={onValidation}\n      onPostValidation={onPostValidation}\n    />\n  );\n};\n\nNewDocumentDialog.propTypes = {\n  call: PropTypes.func.isRequired,\n  scope: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  loadingMessage: PropTypes.string,\n  submitText: PropTypes.string,\n  placeholder: PropTypes.string,\n  title: PropTypes.string\n};\n\nNewDocumentDialog.defaultProps = {\n  title: \"New\",\n  submitText: \"Submit\"\n};\n\nexport default NewDocumentDialog;\n","import { PLUGINS } from \"../../../../../utils/Constants\";\nimport { validateDocumentName } from \"../../../../../utils/Utils\";\n\n/**\n * useNewDocument hook\n * @returns Functions used to create new document\n */\nconst useNewDocument = ({ call, scope }) => {\n  /**\n   * Triggered before submit\n   * @param {String} value : New document modal's value\n   * @returns Validation state : Should accept alphanumeric with dash and underscore (doesn't accept double undescore)\n   */\n  const onValidation = value => {\n    try {\n      const validation = validateDocumentName(value);\n      return { result: validation, error: \"\" };\n    } catch (err) {\n      return {\n        result: false,\n        error: err.message\n      };\n    }\n  };\n\n  /**\n   * Async validation to check if document already exists\n   */\n  const onPostValidation = name => {\n    return call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.CHECK_DOCUMENT_EXISTS,\n      {\n        scope: scope,\n        name\n      }\n    ).then(docExists => {\n      const message = docExists ? \"Document already exists\" : \"\";\n      return { error: docExists, message };\n    });\n  };\n\n  return { onValidation, onPostValidation };\n};\n\nexport default useNewDocument;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const alertBeforeActionStyles = makeStyles(_theme => ({\n  icon: {\n    float: \"left\",\n    marginRight: 20\n  },\n  message: {\n    whiteSpace: \"pre-wrap\"\n  }\n}));\n\nexport const alertDialogStyles = makeStyles(_theme => ({\n  container: {\n    whiteSpace: \"pre-wrap\"\n  }\n}));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport AppDialog from \"../AppDialog/AppDialog\";\n\nimport { alertDialogStyles } from \"./styles\";\n\nconst AlertDialog = props => {\n  // Props\n  const { title, message, onClose } = props;\n  // Hooks\n  const classes = alertDialogStyles();\n\n  return (\n    <AppDialog title={title} onClose={onClose}>\n      <DialogContentText className={classes.container}>\n        {message}\n      </DialogContentText>\n    </AppDialog>\n  );\n};\n\nAlertDialog.propTypes = {\n  title: PropTypes.string,\n  message: PropTypes.string.isRequired,\n  onClose: PropTypes.func\n};\n\nAlertDialog.defaultProps = {\n  title: \"Alert\",\n  onClose: () => console.log(\"Not Implemented\")\n};\n\nexport default AlertDialog;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Warning\");","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport AppDialog from \"../AppDialog/AppDialog\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { DialogContentText } from \"@material-ui/core\";\n\nimport { alertBeforeActionStyles } from \"./styles\";\n\nconst AlertBeforeAction = props => {\n  const classes = alertBeforeActionStyles();\n  const { t } = useTranslation();\n  const { onSubmit, onClose, actions, message, showAlertIcon, title } = props;\n\n  const handleConfirmation = action => {\n    onSubmit(action);\n    onClose();\n  };\n\n  const getActions = () => {\n    return (\n      <DialogActions data-testid=\"section_dialog-actions\">\n        {Object.keys(actions).map(key => (\n          <Button\n            data-testid={actions[key].testId ?? \"input_confirm\"}\n            key={key}\n            onClick={() => handleConfirmation(key)}\n            color=\"default\"\n          >\n            {t(actions[key].label)}\n          </Button>\n        ))}\n      </DialogActions>\n    );\n  };\n\n  return (\n    <AppDialog\n      testId=\"section_alert-before-action-dialog\"\n      hasCloseButton={false}\n      title={title}\n      onClose={onClose}\n      actions={getActions()}\n    >\n      {showAlertIcon && (\n        <WarningIcon fontSize={\"large\"} className={classes.icon} />\n      )}\n      <DialogContentText className={classes.message}>\n        {message}\n      </DialogContentText>\n    </AppDialog>\n  );\n};\n\nAlertBeforeAction.propTypes = {\n  message: PropTypes.string,\n  onSubmit: PropTypes.func.isRequired,\n  actions: PropTypes.object,\n  showAlertIcon: PropTypes.bool,\n  onClose: PropTypes.func\n};\n\nAlertBeforeAction.defaultProps = {\n  message: \"\",\n  actions: {},\n  showAlertIcon: true,\n  onClose: () => console.log(\"not implemented\")\n};\n\nexport default AlertBeforeAction;\n","import ReactDOM from \"react-dom\";\nimport hotkeys from \"hotkeys-js\";\nimport { SelectScopeModal } from \"@mov-ai/mov-fe-lib-react\";\nimport i18n from \"../../i18n/i18n\";\nimport IDEPlugin from \"../../engine/IDEPlugin/IDEPlugin\";\nimport { randomId } from \"../../utils/Utils\";\nimport { PLUGINS, SAVE_OUTDATED_DOC_ACTIONS } from \"../../utils/Constants\";\nimport { withTheme } from \"../../decorators/withTheme\";\nimport ConfirmationDialog from \"./components/ConfirmationDialog/ConfirmationDialog\";\nimport NewDocumentDialog from \"./components/FormDialog/NewDocumentDialog\";\nimport FormDialog from \"./components/FormDialog/FormDialog\";\nimport AlertDialog from \"./components/AlertDialog/AlertDialog\";\nimport AlertBeforeAction from \"./components/AlertDialog/AlertBeforeAction\";\nimport AppDialog from \"./components/AppDialog/AppDialog\";\n\nclass Dialog extends IDEPlugin {\n  constructor(profile = {}) {\n    // Remove duplicated if needed\n    const methods = Array.from(\n      new Set([\n        ...(profile.methods ?? []),\n        ...Object.values(PLUGINS.DIALOG.CALL)\n      ])\n    );\n    super({ ...profile, methods });\n    this.oldScope = \"all\";\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Public Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   *\n   * @param {*} data\n   */\n  alert(data) {\n    const targetElement = this._handleDialogOpen();\n    ReactDOM.render(\n      <AlertDialog\n        title={data.title}\n        message={data.message}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * Show confirmation alert before action\n   * @param {{onSubmit: Function, message: String, title: String}} data\n   */\n  confirmation(data) {\n    const targetElement = this._handleDialogOpen();\n    ReactDOM.render(\n      <ConfirmationDialog\n        title={data.title}\n        onSubmit={data.onSubmit}\n        message={data.message}\n        submitText={data.submitText}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * Open modal to enter new document name\n   * @param {*} data\n   */\n  newDocument(data) {\n    const targetElement = this._handleDialogOpen();\n    ReactDOM.render(\n      <NewDocumentDialog\n        call={this.call}\n        title={i18n.t(\"NewDocTitle\", { scope: data.scope })}\n        submitText={i18n.t(\"Create\")}\n        placeholder={data.placeholder}\n        scope={data.scope}\n        onSubmit={data.onSubmit}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * Open modal to enter copy name\n   * @param {*} data\n   */\n  copyDocument(data) {\n    const targetElement = this._handleDialogOpen();\n    ReactDOM.render(\n      <NewDocumentDialog\n        call={this.call}\n        scope={data.scope}\n        title={i18n.t(\"CopyDocTo\", { docName: data.name })}\n        loadingMessage={i18n.t(\"CopyingDoc\")}\n        submitText={i18n.t(\"Copy\")}\n        onSubmit={data.onSubmit}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * Open modal with basic input form\n   * @param {*} data\n   */\n  formDialog(data) {\n    const targetElement = this._handleDialogOpen();\n    const {\n      title,\n      submitText,\n      onSubmit,\n      onClose,\n      size,\n      multiline,\n      inputLabel,\n      value,\n      onValidation\n    } = data;\n    ReactDOM.render(\n      <FormDialog\n        call={this.call}\n        size={size}\n        title={title}\n        multiline={multiline}\n        defaultValue={value}\n        inputLabel={inputLabel}\n        submitText={submitText}\n        onSubmit={onSubmit}\n        onValidation={onValidation}\n        onClose={() => this._handleDialogClose(targetElement, onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * Open Modal to confirm desired action : save, dontSave or cancel\n   *  save: close and save\n   *  dontSave: close and discard changes\n   *  cancel: doesn't close tab\n   * @param {{name: string, scope: string, onSubmit: function}} data\n   */\n  closeDirtyDocument(data) {\n    const targetElement = this._handleDialogOpen();\n    const title = i18n.t(\"SaveChangesConfirmationTitle\");\n    const message = i18n.t(\"SaveChangesConfirmationMessage\", {\n      scope: data.scope,\n      name: data.name\n    });\n    const actions = {\n      dontSave: { label: i18n.t(\"DontSave\"), testId: \"input_dont-save\" },\n      cancel: { label: i18n.t(\"Cancel\"), testId: \"input_close\" },\n      save: { label: i18n.t(\"Save\"), testId: \"input_save\" }\n    };\n    ReactDOM.render(\n      <AlertBeforeAction\n        title={title}\n        message={message}\n        actions={actions}\n        onSubmit={data.onSubmit}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  saveOutdatedDocument(data) {\n    const targetElement = this._handleDialogOpen();\n    // Set dialog message\n    const title = i18n.t(\"SaveOutdatedDocTitle\", {\n      docName: data.name\n    });\n    const message = i18n.t(\"SaveOutdatedDocMessage\", {\n      docType: data.scope,\n      docName: data.name\n    });\n    // Set dialog actions\n    const actions = {\n      [SAVE_OUTDATED_DOC_ACTIONS.UPDATE_DOC]: {\n        label: i18n.t(\"UpdateDoc\"),\n        testId: \"input_update\"\n      },\n      [SAVE_OUTDATED_DOC_ACTIONS.OVERWRITE_DOC]: {\n        label: i18n.t(\"OverwriteDoc\"),\n        testId: \"input_overwrite\"\n      },\n      [SAVE_OUTDATED_DOC_ACTIONS.CANCEL]: {\n        label: i18n.t(\"Cancel\"),\n        testId: \"input_cancel\"\n      }\n    };\n    // Show dialog\n    ReactDOM.render(\n      <AlertBeforeAction\n        title={title}\n        message={message}\n        actions={actions}\n        onSubmit={data.onSubmit}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * App dialog with Custom content\n   * @param {{title: string, message: string, actions: Array, onSubmit: function}} data : Data to AppDialog props and Component props\n   * @param {ReactComponent} Component : Component to render custom content in app dialog\n   */\n  custom(data, Component) {\n    const { title, actions, onSubmit, submitText, ...props } = data;\n    const targetElement = this._handleDialogOpen();\n    const closeModal = () =>\n      this._handleDialogClose(targetElement, data.onClose);\n\n    // Show dialog\n    ReactDOM.render(\n      <AppDialog\n        title={title}\n        actions={actions}\n        submitText={submitText}\n        onSubmit={onSubmit}\n        onClose={closeModal}\n      >\n        <Component {...props} closeModal={closeModal} />\n      </AppDialog>,\n      targetElement\n    );\n  }\n\n  /**\n   * Show custom dialog component\n   * @param {*} data : Props to pass to DialogComponent\n   * @param {ReactComponent} DialogComponent : Custom dialog component\n   */\n  customDialog(data, DialogComponent) {\n    const targetElement = this._handleDialogOpen();\n    // Show dialog\n    ReactDOM.render(\n      <DialogComponent\n        {...data}\n        onClose={() => this._handleDialogClose(targetElement, data.onClose)}\n      />,\n      targetElement\n    );\n  }\n\n  /**\n   * Show SelectScopeModal\n   * @param {*} data : Modal props\n   */\n  selectScopeModal(data) {\n    const { onSubmit, message, selected, scopeList, onClose } = data;\n    const targetElement = this._handleDialogOpen();\n    const ThemedModal = withTheme(SelectScopeModal);\n\n    // Handle submit\n    const handleDialogSubmit = selectedItem => {\n      onSubmit(selectedItem);\n      this._handleDialogClose(targetElement, onClose);\n    };\n\n    // Show dialog\n    ReactDOM.render(\n      <ThemedModal\n        open={true}\n        message={message}\n        selected={selected}\n        allowArchive={false}\n        scopeList={scopeList}\n        onCancel={() => this._handleDialogClose(targetElement, onClose)}\n        onSubmit={handleDialogSubmit}\n      />,\n      targetElement\n    );\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Handle dialog open : Prepare element where the dialog will be rendered\n   * @returns {DOMElement} Target element to render dialog\n   */\n  _handleDialogOpen() {\n    document.body.classList.add(Dialog.BODY_CLASS_NAME);\n    const containerElement = document.getElementById(\"alertPanel\");\n    const targetElement = document.createElement(\"div\");\n    targetElement.id = randomId();\n    containerElement.appendChild(targetElement);\n    this.oldScope = hotkeys.getScope();\n    hotkeys.setScope(\"all\");\n    return targetElement;\n  }\n\n  /**\n   * @private Handle dialog close : Unmount dialog component and remove target element\n   */\n  _handleDialogClose(targetElement, onClose) {\n    document.body.classList.remove(Dialog.BODY_CLASS_NAME);\n    ReactDOM.unmountComponentAtNode(targetElement);\n    targetElement.parentNode.removeChild(targetElement);\n    this.call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.FOCUS_ACTIVE_TAB);\n    hotkeys.setScope(this.oldScope);\n    onClose && onClose();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Static Attributes                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Class added to the body element when there's a dialog rendered in the app\n   */\n  static BODY_CLASS_NAME = \"react-portal-body-dialog\";\n\n  /**\n   * Target DOM element ID : Element where the dialog will be rendered\n   */\n  static TARGET_ELEMENT_ID = \"dialog-container\";\n}\n\nexport default Dialog;\n","import { snackbar } from \"@mov-ai/mov-fe-lib-react\";\nimport { PLUGINS } from \"../../utils/Constants\";\nimport IDEPlugin from \"../../engine/IDEPlugin/IDEPlugin\";\n\nclass Alerts extends IDEPlugin {\n  constructor(profile = {}) {\n    // Remove duplicated if needed\n    const methods = Array.from(new Set([...(profile.methods ?? []), \"show\"]));\n    super({ ...profile, methods });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Public Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  show({ title, message, severity, location = \"snackbar\" }) {\n    const alertByLocation = {\n      snackbar: () => snackbar({ message, severity }),\n      modal: () =>\n        this.call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.ALERT, {\n          title,\n          message\n        })\n    };\n    // Show Alert\n    alertByLocation[location]();\n  }\n}\n\nexport default Alerts;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { defaultFunction, getRefComponent } from \"../../utils/Utils\";\nimport PluginManagerIDE from \"../PluginManagerIDE/PluginManagerIDE\";\nimport IDEPlugin from \"../IDEPlugin/IDEPlugin\";\n\nconst DEFAULT_PLUGIN = {\n  call: () => defaultFunction(\"call\"),\n  emit: () => defaultFunction(\"emit\"),\n  on: () => defaultFunction(\"on\"),\n  off: () => defaultFunction(\"off\"),\n  onTopic: () => defaultFunction(\"onTopic\")\n};\n\nexport class HostReactPlugin extends IDEPlugin {\n  constructor(profile) {\n    // Remove duplicated if needed\n    const methods = Array.from(\n      new Set([...(profile.methods ?? []), \"addView\", \"removeView\", \"update\"])\n    );\n    super({ ...profile, methods });\n  }\n\n  /**\n   *\n   * @param {Object} _profile\n   * @param {React Component} _view\n   */\n  addView(_profile, _view) {\n    // Abstract method to implement in subclasses\n  }\n  /**\n   *\n   * @param {Object} _profile\n   */\n  removeView(_profile) {\n    // Abstract method to implement in subclasses\n  }\n\n  /**\n   *\n   * @param {String} _viewName\n   * @param {Object} _viewPluginProps\n   */\n  update(_viewName, _viewPluginProps) {\n    // Abstract method to implement in subclasses\n  }\n}\n\n/**\n *\n * @param {ReactComponent} ReactComponent\n * @returns {ReactComponent}\n */\nexport function withHostReactPlugin(ReactComponent, methods = []) {\n  const InnerHost = props => {\n    const ref = React.useRef();\n    const RefComponent = getRefComponent(ReactComponent);\n    const { viewPlugins, plugin } = useHostReactPlugin(\n      {\n        name: props.hostName,\n        methods\n      },\n      ref\n    );\n\n    return (\n      <RefComponent\n        {...props}\n        ref={ref}\n        viewPlugins={viewPlugins}\n        onTopic={plugin.onTopic}\n        call={plugin.call}\n        emit={plugin.emit}\n        off={plugin.off}\n        on={plugin.on}\n      />\n    );\n  };\n\n  InnerHost.propTypes = {\n    hostName: PropTypes.string.isRequired\n  };\n  return InnerHost;\n}\n\nexport const useHostReactPlugin = ({ name, methods }, componentRef) => {\n  const [elements, setElements] = React.useState([]);\n  const [plugin, setPlugin] = React.useState(DEFAULT_PLUGIN);\n  React.useEffect(() => {\n    class InnerPlugin extends HostReactPlugin {\n      constructor(profile) {\n        super(profile);\n        this.name2Component = {};\n        this.initMethods();\n      }\n\n      initMethods = () => {\n        methods.forEach(_name => {\n          this[_name] = (...args) => componentRef.current[_name](...args);\n        });\n      };\n\n      addView(profile, view) {\n        if (!(profile.name in this.name2Component)) {\n          this.name2Component[profile.name] = view;\n        }\n        setElements(view);\n      }\n\n      update(viewName, props) {\n        if (viewName in this.name2Component) {\n          setElements(React.cloneElement(this.name2Component[viewName], props));\n        }\n      }\n\n      removeView(profile) {\n        if (profile.name in this.name2Component) {\n          delete this.name2Component[profile.name];\n          setElements([]);\n        }\n      }\n    }\n    const _plugin = new InnerPlugin({ name, methods });\n    PluginManagerIDE.install(name, _plugin);\n    setPlugin(_plugin);\n  }, [name, methods, componentRef]);\n\n  return { viewPlugins: elements, plugin };\n};\n\nuseHostReactPlugin.propTypes = {\n  profile: PropTypes.object.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\n\nfunction BottomBar(props) {\n  const { viewPlugins, hostName, style, className } = props;\n  return (\n    <div id={hostName} style={{ ...style }} className={className}>\n      {viewPlugins}\n    </div>\n  );\n}\n\nexport default withHostReactPlugin(BottomBar);\n\nBottomBar.propTypes = {\n  hostName: PropTypes.string.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\n\nfunction CentralPanel(props) {\n  const { viewPlugins, hostName, style, className } = props;\n  return (\n    <div id={hostName} style={{ ...style }} className={className}>\n      {viewPlugins}\n    </div>\n  );\n}\n\nexport default withHostReactPlugin(CentralPanel);\n\nCentralPanel.propTypes = {\n  hostName: PropTypes.string.isRequired\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/get\");","import React from \"react\";\nimport IDEPlugin from \"../IDEPlugin/IDEPlugin\";\nimport PluginManagerIDE from \"../PluginManagerIDE/PluginManagerIDE\";\nimport { getRefComponent } from \"../../utils/Utils\";\n\nexport class ViewReactPlugin extends IDEPlugin {\n  /**\n   *\n   * @returns {React Component}\n   */\n  render() {\n    // Abstract method should be implemented in subclasses\n  }\n\n  async activate() {\n    if (this.profile.location)\n      await this.call(\n        this.profile.location,\n        \"addView\",\n        this.profile,\n        this.render()\n      );\n    super.activate();\n  }\n\n  deactivate() {\n    if (this.profile.location)\n      this.call(this.profile.location, \"removeView\", this.profile);\n    super.deactivate();\n  }\n}\n\nexport class ViewPlugin extends ViewReactPlugin {\n  constructor(profile, props = {}, methods = []) {\n    const existingPlugin = PluginManagerIDE.getPlugin(profile.name);\n    if (existingPlugin) return existingPlugin;\n    super({\n      ...profile,\n      methods: [\"render\", ...methods]\n    });\n\n    this.methods = methods;\n    this.ref = React.createRef();\n    this.initMethods();\n    this.props = props;\n  }\n\n  initMethods = () => {\n    this.methods.forEach(name => {\n      this[name] = (...a) => {\n        if (!this.ref.current) {\n          return console.warn(\"debug method not implemented in component\");\n        }\n        return this.ref.current[name](...a);\n      };\n    });\n  };\n}\n\n/**\n *\n * @param {ReactComponent} ReactComponent\n * @returns {ViewReactPlugin}\n */\nexport function withViewPlugin(ReactComponent, methods = []) {\n  const RefComponent = getRefComponent(ReactComponent);\n  return class extends ViewPlugin {\n    constructor(profile, props = {}) {\n      super(profile, props, methods);\n    }\n\n    render(otherProps = {}) {\n      return (\n        <RefComponent\n          {...this.props}\n          {...otherProps}\n          ref={this.ref}\n          call={this.call}\n          profile={this.profile}\n          emit={this.emit}\n          off={this.off}\n          on={this.on}\n          onTopic={this.onTopic}\n        />\n      );\n    }\n  };\n}\n\n//========================================================================================\n/*                                                                                      *\n *                                   Shared hooks                                      *\n *                                                                                      */\n//========================================================================================\n\n/**\n * Hook to allow use of methods in view plugins\n * @param {ReactRef} ref : React ref\n * @param {Object} methods : Object maping all the methods to be exported in the plugin\n */\nexport const usePluginMethods = (ref, methods) => {\n  React.useImperativeHandle(ref, () => ({\n    ...methods\n  }));\n};\n\n/**\n * Give the previous state of a prop or state hook on change\n * @param {*} value : Value to get previous state\n * @returns {*} Previous value\n */\nexport const usePrevious = value => {\n  const ref = React.useRef();\n  React.useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Tooltip\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/IconButton\");","import React, { useCallback } from \"react\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst BookmarkTab = props => {\n  const { active, bookmark, classes, selectBookmark } = props;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  const handleOnClick = useCallback(() => {\n    selectBookmark(bookmark.name);\n  }, [bookmark.name, selectBookmark]);\n\n  return (\n    <Tooltip title={bookmark.title || bookmark.name} placement=\"left\">\n      <IconButton\n        data-testid=\"input_bookmark-tab\"\n        onClick={handleOnClick}\n        aria-label={bookmark.title}\n        className={classes.bookmark}\n        size=\"small\"\n      >\n        <p\n          className={active !== bookmark.name ? classes.unselectedBookmark : \"\"}\n        >\n          {bookmark.icon}\n        </p>\n      </IconButton>\n    </Tooltip>\n  );\n};\n\nexport default BookmarkTab;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const bookmarkStyles = (side, oppositeSide) =>\n  makeStyles(theme => ({\n    bookmarksContainer: { position: \"relative\" },\n    bookmarkHolder: { height: \"100%\" },\n    panel: {\n      position: \"absolute\",\n      [oppositeSide]: -40,\n      background: \"#fff0\",\n      top: \"60px\",\n      width: \"40px\",\n      zIndex: theme.zIndex.drawer\n    },\n    bookmark: {\n      width: \"40px\",\n      height: \"40px\",\n      margin: \"3px 0 !important\",\n      border: `solid 1px ${theme.palette.background.primary} !important`,\n      [`border-${side}`]: \"none !important\",\n      borderRadius: \"0px !important\",\n      background: `${theme.palette.background.secondary} !important`\n    },\n    unselectedBookmark: {\n      color: \"white\"\n    }\n  }));\n\nexport const loaderStyles = makeStyles(_theme => ({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    \"& > div[class^='container-']\": {\n      height: \"100%\"\n    },\n    \"& > div.container-Node\": {\n      overflow: \"auto\"\n    }\n  }\n}));\n","import React, { useCallback, useState, useEffect, useRef } from \"react\";\nimport { PLUGINS } from \"../utils/Constants\";\nimport { usePluginMethods } from \"../engine/ReactPlugin/ViewReactPlugin\";\nimport BookmarkTab from \"./Components/BookmarkTab\";\n\nimport { bookmarkStyles } from \"./styles\";\n\nconst withBookmarks = Component => {\n  /**\n   * Small extract method to return the oposite side of the anchor\n   * @param {string} anchor : side\n   * @returns oposite side of anchor\n   */\n  function getOpositeSide(anchor) {\n    if (anchor === \"left\") return \"right\";\n\n    return \"left\";\n  }\n\n  /**\n   * Small extract method to return a valid bookmark from the bookmarks list\n   * @param {Array} bookmarks : the bookmarks list\n   * @param {String} name : name to search\n   * @returns a valid bookmark\n   */\n  function getValidBookmark(bookmarks, name) {\n    if (bookmarks[name]) return name;\n\n    return Object.keys(bookmarks)[0];\n  }\n\n  return (props, ref) => {\n    const { anchor, emit } = props;\n    // React state hooks\n    const [bookmarks, setBookmarks] = useState({});\n    const [active, setActive] = useState();\n    const [renderedView, setRenderedView] = useState(<></>);\n    // Refs\n    const drawerRef = useRef();\n    const oppositeSide = getOpositeSide(anchor);\n    // Style hooks\n    const classes = bookmarkStyles(anchor, oppositeSide)();\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Component's methods                                *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * Select bookmark\n     * @param {String} name : Bookmark name\n     */\n    const selectBookmark = useCallback(\n      name => {\n        if (active === name) {\n          drawerRef.current.toggleDrawer();\n          return;\n        }\n\n        drawerRef.current.openDrawer();\n        setActive(name);\n        emit(PLUGINS.RIGHT_DRAWER.ON.CHANGE_BOOKMARK, { name });\n      },\n      [active, emit]\n    );\n\n    /**\n     * Add bookmark to drawer\n     * @param data : {\n     *    {Element} icon : Bookmark icon\n     *    {String} name : Title\n     *    {Element} view : Element to be rendered in menu container\n     *  }\n     *  @param {Boolean} isDefault : Set bookmark as active if true\n     *  @param {string} activeBookmark : bookmark to make active\n     */\n    const addBookmark = useCallback(\n      (data, activeBookmark, isDefault = false, shouldOpen = false) => {\n        const name = data.name;\n        let newActive = isDefault && name;\n        setBookmarks(prevState => {\n          const newBookmarks = { ...prevState, [name]: data };\n          newActive = getValidBookmark(newBookmarks, activeBookmark);\n\n          return { ...prevState, [name]: data };\n        });\n\n        setActive(newActive);\n        if (shouldOpen) drawerRef.current.openDrawer();\n      },\n      []\n    );\n\n    /**\n     * Remove bookmark by name\n     * @param {string} name : bookmark name\n     * @param {string} activeBookmark : bookmark to make active\n     */\n    const removeBookmark = useCallback(\n      (name, activeBookmark) => {\n        setBookmarks(prevState => {\n          // *BEWARE* This is making just a shallow clone, so deep properties are still mutable\n          const otherBookmarks = { ...prevState };\n          delete otherBookmarks[name];\n\n          return otherBookmarks;\n        });\n\n        // Reset active bookmark\n        setActive(prevActiveState => {\n          if (prevActiveState !== name) return prevActiveState;\n\n          return getValidBookmark(bookmarks, activeBookmark);\n        });\n      },\n      [bookmarks]\n    );\n\n    /**\n     * Reset bookmarks (remove all)\n     */\n    const resetBookmarks = useCallback(() => {\n      setBookmarks({});\n      setRenderedView([]);\n      drawerRef.current.closeDrawer();\n    }, []);\n\n    /**\n     * Set bookmarks\n     * @param {*} newBookmarks\n     * @param {String} activeBookmark bookmark to make active\n     */\n    const setBookmark = useCallback((newBookmarks, activeBookmark) => {\n      if (!newBookmarks) return;\n      setBookmarks(newBookmarks);\n\n      setActive(getValidBookmark(newBookmarks, activeBookmark));\n    }, []);\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   React lifecycles                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * On change of active bookmark\n     */\n    useEffect(() => {\n      if (bookmarks[active]) {\n        const view = bookmarks[active].view;\n        setRenderedView(view);\n      }\n    }, [active, bookmarks]);\n\n    /**\n     * Methods exposed\n     */\n    usePluginMethods(ref, {\n      setBookmark,\n      addBookmark,\n      resetBookmarks,\n      removeBookmark,\n      open: () => drawerRef.current.openDrawer(),\n      close: () => drawerRef.current.closeDrawer(),\n      toggle: () => drawerRef.current.toggleDrawer()\n    });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                         Render                                       *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * Render Bookmarks\n     * @param {String} side : \"left\" or \"right\"\n     * @returns {Element} : Bookmark panel\n     */\n    const renderBookmarks = useCallback(\n      side => {\n        return (\n          side === anchor && (\n            <div className={classes.panel}>\n              {Object.values(bookmarks).map((bookmark, index) => (\n                <BookmarkTab\n                  data-testid=\"section_bookmark-tab\"\n                  key={index}\n                  classes={classes}\n                  bookmark={bookmark}\n                  active={active}\n                  selectBookmark={selectBookmark}\n                />\n              ))}\n            </div>\n          )\n        );\n      },\n      [active, anchor, bookmarks, classes, selectBookmark]\n    );\n\n    return (\n      <div className={classes.bookmarksContainer}>\n        {renderBookmarks(\"left\")}\n        <Component {...props} ref={drawerRef}>\n          <div className={classes.bookmarkHolder}>{renderedView}</div>\n        </Component>\n        {renderBookmarks(\"right\")}\n      </div>\n    );\n  };\n};\n\nexport const exposedMethods = Object.values(PLUGINS.RIGHT_DRAWER.CALL);\n\nexport default withBookmarks;\n","import React, { forwardRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Drawer, Typography } from \"@material-ui/core\";\nimport { HOSTS } from \"../../../utils/Constants\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\nimport { usePluginMethods } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport withBookmarks, {\n  exposedMethods\n} from \"../../../decorators/withBookmarks\";\n\nimport { drawerPanelStyles } from \"./styles\";\n\nconst DrawerPanel = forwardRef((props, ref) => {\n  const { viewPlugins, hostName, style, anchor, initialOpenState, className } =\n    props;\n  const [open, setOpen] = useState(initialOpenState);\n  const classes = drawerPanelStyles(anchor === \"left\", open)();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Component's methods                                *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Toggle drawer\n   */\n  const toggleDrawer = () => {\n    setOpen(prevState => {\n      return !prevState;\n    });\n  };\n\n  /**\n   * Open Drawer\n   */\n  const openDrawer = () => {\n    setOpen(true);\n  };\n\n  /**\n   * Close Drawer\n   */\n  const closeDrawer = () => {\n    setOpen(false);\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React lifecycles                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Expose methods\n   */\n  usePluginMethods(ref, {\n    toggleDrawer,\n    openDrawer,\n    closeDrawer\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                         Render                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Drawer\n      id={hostName}\n      open={open}\n      anchor={anchor}\n      variant=\"persistent\"\n      style={{ ...style }}\n      className={`${classes.drawer} ${className}`}\n    >\n      <Typography component=\"div\" className={classes.content}>\n        {viewPlugins}\n        {props.children}\n      </Typography>\n    </Drawer>\n  );\n});\n\nDrawerPanel.pluginMethods = [\n  ...exposedMethods,\n  HOSTS.LEFT_DRAWER.CALL.OPEN,\n  HOSTS.LEFT_DRAWER.CALL.CLOSE,\n  HOSTS.LEFT_DRAWER.CALL.TOGGLE\n];\n\nexport default withHostReactPlugin(\n  withBookmarks(DrawerPanel),\n  DrawerPanel.pluginMethods\n);\n\nDrawerPanel.propTypes = {\n  hostName: PropTypes.string.isRequired,\n  initialOpenState: PropTypes.bool\n};\n\nDrawerPanel.defaultProps = {\n  initialOpenState: false\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const drawerPanelStyles = (isLeft, isOpen) =>\n  makeStyles(theme => ({\n    content: {\n      background: theme.palette.background.primary,\n      color: theme.backdrop.color,\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    drawer: {\n      overflow: \"hidden\",\n      position: \"relative\",\n      [isLeft ? \"marginRight\" : \"marginLeft\"]: \"auto\",\n      width: isOpen ? 340 : \"auto\",\n      height: \"100%\",\n      \"& .MuiBackdrop-root\": {\n        display: \"none\"\n      },\n      \"& .MuiDrawer-paper\": {\n        width: 340,\n        position: \"absolute\",\n        transition: \"none !important\"\n      }\n    }\n  }));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\n\nconst SidePanel = props => {\n  const { viewPlugins, hostName, style } = props;\n  return (\n    <div id={hostName} style={{ ...style }}>\n      {viewPlugins}\n    </div>\n  );\n};\n\nexport default withHostReactPlugin(SidePanel);\n\nSidePanel.propTypes = {\n  hostName: PropTypes.string.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\n\nconst TopBar = props => {\n  const { viewPlugins, hostName, style } = props;\n  return (\n    <div id={hostName} style={{ width: \"100%\", ...style }}>\n      {viewPlugins}\n    </div>\n  );\n};\n\nexport default withHostReactPlugin(TopBar);\n\nTopBar.propTypes = {\n  hostName: PropTypes.string.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\n\nconst AbstractHost = props => {\n  const { viewPlugins, hostName } = props;\n  return <div id={hostName}>{viewPlugins}</div>;\n};\n\nexport default withHostReactPlugin(AbstractHost);\n\nAbstractHost.propTypes = {\n  hostName: PropTypes.string.isRequired\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/ClickAwayListener\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Popper\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/List\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Divider\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Fade\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Paper\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/ListItem\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Link\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ArrowRight\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst menuButtonStyles = {\n  margin: \"0px\",\n  padding: \"0px\",\n  lineHeight: \"26px\",\n  textTransform: \"none\",\n  borderRadius: \"0px\",\n  \"& > .MuiTouchRipple-root\": { borderRadius: \"0px\" }\n};\n\nexport const systemBarStyles = debugMode =>\n  makeStyles(theme => ({\n    systemBar: {\n      background: theme.topBarColor,\n      height: \"26px\",\n      borderBottom: debugMode ? \"solid 5px purple\" : \"1px solid #000\",\n      width: \"100%\"\n    },\n    menuButton: {\n      ...menuButtonStyles,\n      minWidth: \"40px\",\n      color: theme.palette.grey[200],\n      \"&:hover\": {\n        background: theme.palette.grey[900]\n      }\n    },\n    activeMenu: {\n      background: theme.palette.grey[900]\n    }\n  }));\n\nexport const systemMenuStyles = makeStyles(theme => ({\n  popper: {\n    zIndex: 999999\n  },\n  listHolder: {\n    minWidth: \"300px\",\n    borderRadius: \"0px 0px 5px 5px\",\n    background: theme.topBarColor\n  },\n  list: {\n    ...menuButtonStyles,\n    marginTop: \"1px\"\n  },\n  menuDivider: {\n    background: theme.palette.grey[200]\n  }\n}));\n\nexport const systemMenuItemStyles = makeStyles(theme => ({\n  listItem: {\n    ...menuButtonStyles,\n    \"&:last-of-type > button\": {\n      borderRadius: \"0px 0px 5px 5px\"\n    }\n  },\n  menuButton: {\n    ...menuButtonStyles,\n    fontFamily: \"Open Sans\",\n    display: \"inline-flex\",\n    fontSize: \"0.875rem\",\n    width: \"100%\",\n    justifyContent: \"space-between\",\n    color: theme.palette.grey[200],\n    \"& > .MuiButton-label\": { paddingLeft: \"10px\" },\n    \"&:hover\": {\n      background: theme.palette.grey[900],\n      \"& > .MuiButton-label > ul\": {\n        opacity: \"1\",\n        maxWidth: \"500px\"\n      }\n    }\n  },\n  icon: {\n    verticalAlign: \"text-top\",\n    marginRight: \"10px\",\n    \"& > svg\": {\n      fontSize: \"1rem\"\n    }\n  },\n  keybind: {\n    paddingRight: \"10px\",\n    fontStyle: \"italic\",\n    color: theme.palette.grey[400]\n  },\n  subMenuHolder: {\n    position: \"absolute\",\n    top: \"0px\",\n    right: \"0px\",\n    minWidth: \"300px\",\n    maxWidth: \"0px\",\n    opacity: \"0\",\n    borderRadius: \"3px\",\n    boxShadow: \"1px 1px 2px 1px #333\",\n    margin: \"0\",\n    padding: \"0\",\n    background: theme.topBarColor,\n    transform: \"translate(99%)\",\n    transition: \"opacity .3s, max-width .3s\"\n  }\n}));\n\nexport const helpDialogStyles = makeStyles(_theme => ({\n  movaiIcon: {\n    height: \"24px\",\n    verticalAlign: \"sub\",\n    marginRight: \"5px\"\n  },\n  contentHolder: {\n    \"& > p\": {\n      margin: \"0px\"\n    }\n  }\n}));\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Divider from \"@material-ui/core/Divider\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\n\nimport { systemMenuItemStyles } from \"../styles\";\n\nconst MenuItem = ({ item, closeMenu }) => {\n  const { id, title, icon, callback, keybind, externalLink, data } = item;\n  const classes = systemMenuItemStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Renders a subMenu with give data\n   * @param {Promise} subMenuData : A promise with the subMenu data\n   */\n  const renderSubMenu = useCallback(() => {\n    return (\n      <ul className={classes.subMenuHolder}>\n        {data.map((subItem, index) => {\n          if (subItem.id) {\n            return (\n              <MenuItem key={subItem.id} item={subItem} closeMenu={closeMenu} />\n            );\n          } else {\n            return <Divider key={index} className={classes.menuDivider} />;\n          }\n        })}\n      </ul>\n    );\n  }, [classes, data, closeMenu]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handles Option Click\n   * @param {*} evt : Event\n   */\n  const handleOptionClick = useCallback(\n    evt => {\n      callback && callback(evt);\n      closeMenu(evt);\n    },\n    [callback, closeMenu]\n  );\n\n  return (\n    <ListItem className={classes.listItem} key={id}>\n      {data ? (\n        <div className={classes.menuButton}>\n          <span className=\"MuiButton-label\">\n            {icon && <span className={classes.icon}>{icon}</span>}\n            {title}\n            <>\n              <ArrowRightIcon></ArrowRightIcon>\n              {renderSubMenu()}\n            </>\n          </span>\n        </div>\n      ) : (\n        <Button\n          data-testid=\"input_menu-item\"\n          className={classes.menuButton}\n          onClick={handleOptionClick}\n        >\n          <span>\n            {icon && <span className={classes.icon}>{icon}</span>}\n            {title}\n          </span>\n          {keybind && <span className={classes.keybind}>{keybind}</span>}\n          {externalLink && <LinkIcon className={classes.keybind}></LinkIcon>}\n        </Button>\n      )}\n    </ListItem>\n  );\n};\n\nexport default MenuItem;\n\nMenuItem.propTypes = {\n  item: PropTypes.object.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Popper from \"@material-ui/core/Popper\";\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Paper from \"@material-ui/core/Paper\";\nimport MenuItem from \"./MenuItem\";\n\nimport { systemMenuStyles } from \"../styles\";\n\nconst SystemMenu = ({ data, menuOpen, anchorEl, closeMenu }) => {\n  const classes = systemMenuStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Popper\n      className={classes.popper}\n      open={menuOpen}\n      anchorEl={anchorEl}\n      placement={\"bottom-start\"}\n      transition\n    >\n      {({ TransitionProps }) => (\n        <Fade {...TransitionProps} timeout={350}>\n          <ClickAwayListener onClickAway={closeMenu}>\n            <Paper className={classes.listHolder}>\n              <List component=\"nav\" className={classes.list}>\n                {data &&\n                  data.map((item, index) => {\n                    if (item.id)\n                      return (\n                        <MenuItem\n                          key={item.id}\n                          item={item}\n                          closeMenu={closeMenu}\n                        />\n                      );\n                    else\n                      return (\n                        <Divider key={index} className={classes.menuDivider} />\n                      );\n                  })}\n              </List>\n            </Paper>\n          </ClickAwayListener>\n        </Fade>\n      )}\n    </Popper>\n  );\n};\n\nexport default SystemMenu;\n\nSystemMenu.propTypes = {\n  data: PropTypes.array.isRequired,\n  anchorEl: PropTypes.object.isRequired,\n  menuOpened: PropTypes.bool\n};\n","import React from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nconst NotInstalled = props => {\n  const { name } = props;\n  const theme = useTheme();\n  return (\n    <h1 style={{ color: theme.palette.text.primary }}>\n      {name} not installed :(\n    </h1>\n  );\n};\n\nexport default NotInstalled;\n\nexport const getTabData = (id, name) => {\n  const tabTitle = name || id;\n  return {\n    id: id,\n    name: name,\n    tabTitle: name,\n    scope: id,\n    extension: \"\",\n    content: <NotInstalled name={tabTitle} />\n  };\n};\n","import { getTabData } from \"./NotInstalled/NotInstalled\";\n\nconst APP_TOOLS = {};\n\nexport const addTool = (name, tool) => {\n  APP_TOOLS[name] = tool;\n};\n\nexport const getToolTabData = tab => {\n  const { id, name } = tab;\n  const data = id in APP_TOOLS ? APP_TOOLS[id].tabData : getTabData(id, name);\n  // Sanitize tab data to avoid TypeError: Converting circular structure to JSON\n  if (\"parent\" in data) delete data.parent;\n  return data;\n};\n\nexport const hasTool = name => {\n  return name in APP_TOOLS;\n};\n\nexport const getMainMenuTools = () => {\n  return Object.values(APP_TOOLS).filter(tool => tool.mainMenu);\n};\n\nexport const getSystemBarTools = () => {\n  return Object.values(APP_TOOLS).filter(tool => tool.toolBar);\n};\n\nexport const getQuickAccessTools = () => {\n  return Object.values(APP_TOOLS).filter(tool => tool.quickAccess);\n};\n","import i18n from \"../../i18n/i18n\";\n\nexport const KEYBINDINGS = {\n  GENERAL: {\n    NAME: \"appShortcuts\",\n    LABEL: i18n.t(\"AppKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"AppKeybindDescription\"),\n    KEYBINDS: {\n      OPEN_WELCOME_TAB: {\n        NAME: \"openWelcomeTab\",\n        LABEL: i18n.t(\"HomeTabTitle\"),\n        DESCRIPTION: i18n.t(\"HomeTabKeybindDescription\"),\n        SHORTCUTS: \"ctrl+alt+home\"\n      },\n      OPEN_SHORTCUTS_TAB: {\n        NAME: \"openShortcutsTab\",\n        LABEL: i18n.t(\"ShortcutsTabTitle\"),\n        DESCRIPTION: i18n.t(\"ShortcutsTabKeybindDescription\"),\n        SHORTCUTS: \"ctrl+alt+k\"\n      },\n      SAVE_ALL: {\n        NAME: \"saveAll\",\n        LABEL: i18n.t(\"SaveAllDocs\"),\n        DESCRIPTION: i18n.t(\"SaveAllDocsKeybindDescription\"),\n        SHORTCUTS: \"ctrl+alt+s\"\n      }\n    }\n  },\n  EDITOR_GENERAL: {\n    NAME: \"editorGeneral\",\n    LABEL: i18n.t(\"EditorGeneralKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"EditorGeneralKeybindDescription\"),\n    KEYBINDS: {\n      SAVE: {\n        NAME: \"save\",\n        LABEL: i18n.t(\"SaveDoc\"),\n        DESCRIPTION: i18n.t(\"SaveDocKeybindDescription\"),\n        SHORTCUTS: \"ctrl+s\"\n      },\n      // TODO Add later when we have a working UNDO / REDO engine\n      // UNDO: {\n      //   NAME: \"undo\",\n      //   LABEL: i18n.t(\"Undo\"),\n      //   DESCRIPTION: i18n.t(\"UndoKeybindDescription\"),\n      //   SHORTCUTS: \"ctrl+z\"\n      // },\n      // REDO: {\n      //   NAME: \"redo\",\n      //   LABEL: i18n.t(\"Redo\"),\n      //   DESCRIPTION: i18n.t(\"RedoKeybindDescription\"),\n      //   SHORTCUTS: [\"ctrl+shift+z\", \"ctrl+y\"]\n      // },\n      // COPY: {\n      //   NAME: \"copy\",\n      //   LABEL: i18n.t(\"Copy\"),\n      //   DESCRIPTION: i18n.t(\"CopyKeybindDescription\"),\n      //   SHORTCUTS: \"ctrl+c\"\n      // },\n      // PASTE: {\n      //   NAME: \"paste\",\n      //   LABEL: i18n.t(\"Paste\"),\n      //   DESCRIPTION: i18n.t(\"PasteKeybindDescription\"),\n      //   SHORTCUTS: \"ctrl+v\"\n      // },\n      CANCEL: {\n        NAME: \"cancel\",\n        LABEL: i18n.t(\"Cancel\"),\n        DESCRIPTION: i18n.t(\"CancelKeybindDescription\"),\n        SHORTCUTS: \"esc\"\n      },\n      DELETE: {\n        NAME: \"delete\",\n        LABEL: i18n.t(\"Delete\"),\n        DESCRIPTION: i18n.t(\"DeleteKeybindDescription\"),\n        SHORTCUTS: [\"del\", \"backspace\"]\n      }\n    }\n  },\n  MONACO_SPECIFIC: {\n    NAME: \"monacoCodeEditor\",\n    LABEL: i18n.t(\"EditorMonacoKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"EditorMonacoKeybindDescription\"),\n    KEYBINDS: {\n      CHANGE_ALL_OCURRENCES: {\n        NAME: \"changeAllOcurrences\",\n        LABEL: i18n.t(\"ChangeAllOcurrencesKeybindLabel\"),\n        DESCRIPTION: i18n.t(\"ChangeAllOcurrencesKeybindDescription\"),\n        SHORTCUTS: \"ctrl+F2\"\n      },\n      COMMAND_PALETTE: {\n        NAME: \"commandPalette\",\n        LABEL: i18n.t(\"CommandPaletteKeybindLabel\"),\n        DESCRIPTION: i18n.t(\"CommandPaletteKeybindDescription\"),\n        SHORTCUTS: \"F1\"\n      },\n      UNDO: {\n        NAME: \"undo\",\n        LABEL: i18n.t(\"Undo\"),\n        DESCRIPTION: i18n.t(\"UndoKeybindDescription\"),\n        SHORTCUTS: \"ctrl+z\"\n      },\n      REDO: {\n        NAME: \"redo\",\n        LABEL: i18n.t(\"Redo\"),\n        DESCRIPTION: i18n.t(\"RedoKeybindDescription\"),\n        SHORTCUTS: [\"ctrl+shift+z\", \"ctrl+y\"]\n      },\n      CUT: {\n        NAME: \"monacoEditorCutCode\",\n        LABEL: i18n.t(\"CutCode\"),\n        DESCRIPTION: i18n.t(\"CutCodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+x\"\n      },\n      COPY: {\n        NAME: \"monacoEditorCopyCode\",\n        LABEL: i18n.t(\"CopyCode\"),\n        DESCRIPTION: i18n.t(\"CopyCodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+c\"\n      },\n      PASTE: {\n        NAME: \"monacoEditorPasteCode\",\n        LABEL: i18n.t(\"PasteCode\"),\n        DESCRIPTION: i18n.t(\"PasteCodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+v\"\n      }\n    }\n  },\n  FLOW: {\n    NAME: \"editorFlow\",\n    LABEL: i18n.t(\"EditorFlowKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"EditorFlowKeybindDescription\"),\n    KEYBINDS: {\n      COPY_NODE: {\n        NAME: \"copyNode\",\n        LABEL: i18n.t(\"CopyNode\"),\n        DESCRIPTION: i18n.t(\"CopyNodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+c\"\n      },\n      PASTE_NODE: {\n        NAME: \"pasteNode\",\n        LABEL: i18n.t(\"PasteNode\"),\n        DESCRIPTION: i18n.t(\"PasteNodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+v\"\n      },\n      MOVE_NODE: {\n        NAME: \"moveNode\",\n        LABEL: i18n.t(\"MoveNode\"),\n        DESCRIPTION: i18n.t(\"MoveNodeKeybindDescription\"),\n        SHORTCUTS: [\"left\", \"right\", \"up\", \"down\"]\n      },\n      SEARCH_NODE: {\n        NAME: \"searchNode\",\n        LABEL: i18n.t(\"SearchNode\"),\n        DESCRIPTION: i18n.t(\"SearchNodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+f\"\n      },\n      RESET_ZOOM: {\n        NAME: \"resetZoom\",\n        LABEL: i18n.t(\"ResetZoom\"),\n        DESCRIPTION: i18n.t(\"ResetZoomKeybindDescription\"),\n        SHORTCUTS: \"ctrl+i\"\n      }\n    }\n  }\n};\n","import { KEYBINDINGS } from \"../tools/AppShortcuts/shortcuts\";\nimport Logo from \"../Branding/movai-flow-logo-red.png\";\n\nconst APPLICATION_DATA = window.SERVER_DATA?.Application;\nconst BRANDING = { NAME: \"MOV.AI Flow™\" };\n\nconst AppSettings = {\n  NAME: BRANDING.NAME,\n  LOGO: Logo,\n  SHORTCUTS: KEYBINDINGS,\n  HELP: {\n    DOCUMENTATION: \"https://flow.mov.ai/\",\n    FORUM: \"https://forum.flow.mov.ai/\"\n  },\n  APP_INFORMATION: {\n    VERSION: APPLICATION_DATA?.Version || \"0.0.1\",\n    LAST_UPDATE: APPLICATION_DATA?.LastUpdate || \"-\",\n    CONFIGURATION_FILE: APPLICATION_DATA?.Configuration || \"-\",\n    CUSTOM_CONFIGURATION_FILE: APPLICATION_DATA?.CustomConfiguration || \"-\",\n    DESCRIPTION: APPLICATION_DATA?.Description || \"-\",\n    LABEL: APPLICATION_DATA?.Label || BRANDING.NAME\n  }\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                        Setters                                       *\n *                                                                                      */\n//========================================================================================\n\nexport const setLogo = logo => {\n  AppSettings.LOGO = logo;\n};\n\nexport const setLinks = ({ documentation, forum }) => {\n  AppSettings.HELP.DOCUMENTATION = documentation;\n  AppSettings.HELP.FORUM = forum;\n};\n\nexport const setName = name => {\n  AppSettings.NAME = name;\n  AppSettings.APP_INFORMATION.LABEL = name;\n};\n\nexport const setShortcuts = (shortcuts, keepBase) => {\n  const baseShortcuts = keepBase ? KEYBINDINGS : {};\n  AppSettings.SHORTCUTS = { ...baseShortcuts, shortcuts };\n};\n\nexport default AppSettings;\n","export default \"data:image/png;base64,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\"","import i18n from \"../i18n/i18n\";\n\nexport const KEYBINDINGS = {\n  GENERAL: {\n    NAME: \"appShortcuts\",\n    LABEL: i18n.t(\"AppKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"AppKeybindDescription\"),\n    KEYBINDS: {\n      OPEN_WELCOME_TAB: {\n        NAME: \"openWelcomeTab\",\n        LABEL: i18n.t(\"HomeTabTitle\"),\n        DESCRIPTION: i18n.t(\"HomeTabKeybindDescription\"),\n        SHORTCUTS: \"ctrl+alt+home\"\n      },\n      OPEN_SHORTCUTS_TAB: {\n        NAME: \"openShortcutsTab\",\n        LABEL: i18n.t(\"ShortcutsTabTitle\"),\n        DESCRIPTION: i18n.t(\"ShortcutsTabKeybindDescription\"),\n        SHORTCUTS: \"ctrl+alt+k\"\n      },\n      SAVE_ALL: {\n        NAME: \"saveAll\",\n        LABEL: i18n.t(\"SaveAllDocs\"),\n        DESCRIPTION: i18n.t(\"SaveAllDocsKeybindDescription\"),\n        SHORTCUTS: \"ctrl+alt+s\"\n      }\n    }\n  },\n  EDITOR_GENERAL: {\n    NAME: \"editorGeneral\",\n    LABEL: i18n.t(\"EditorGeneralKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"EditorGeneralKeybindDescription\"),\n    KEYBINDS: {\n      SAVE: {\n        NAME: \"save\",\n        LABEL: i18n.t(\"SaveDoc\"),\n        DESCRIPTION: i18n.t(\"SaveDocKeybindDescription\"),\n        SHORTCUTS: \"ctrl+s\"\n      },\n      // TODO Add later when we have a working UNDO / REDO engine\n      // UNDO: {\n      //   NAME: \"undo\",\n      //   LABEL: i18n.t(\"Undo\"),\n      //   DESCRIPTION: i18n.t(\"UndoKeybindDescription\"),\n      //   SHORTCUTS: \"ctrl+z\"\n      // },\n      // REDO: {\n      //   NAME: \"redo\",\n      //   LABEL: i18n.t(\"Redo\"),\n      //   DESCRIPTION: i18n.t(\"RedoKeybindDescription\"),\n      //   SHORTCUTS: [\"ctrl+shift+z\", \"ctrl+y\"]\n      // },\n      // COPY: {\n      //   NAME: \"copy\",\n      //   LABEL: i18n.t(\"Copy\"),\n      //   DESCRIPTION: i18n.t(\"CopyKeybindDescription\"),\n      //   SHORTCUTS: \"ctrl+c\"\n      // },\n      // PASTE: {\n      //   NAME: \"paste\",\n      //   LABEL: i18n.t(\"Paste\"),\n      //   DESCRIPTION: i18n.t(\"PasteKeybindDescription\"),\n      //   SHORTCUTS: \"ctrl+v\"\n      // },\n      CANCEL: {\n        NAME: \"cancel\",\n        LABEL: i18n.t(\"Cancel\"),\n        DESCRIPTION: i18n.t(\"CancelKeybindDescription\"),\n        SHORTCUTS: \"esc\"\n      },\n      DELETE: {\n        NAME: \"delete\",\n        LABEL: i18n.t(\"Delete\"),\n        DESCRIPTION: i18n.t(\"DeleteKeybindDescription\"),\n        SHORTCUTS: [\"del\", \"backspace\"]\n      }\n    }\n  },\n  MONACO_SPECIFIC: {\n    NAME: \"monacoCodeEditor\",\n    LABEL: i18n.t(\"EditorMonacoKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"EditorMonacoKeybindDescription\"),\n    KEYBINDS: {\n      CHANGE_ALL_OCURRENCES: {\n        NAME: \"changeAllOcurrences\",\n        LABEL: i18n.t(\"ChangeAllOcurrencesKeybindLabel\"),\n        DESCRIPTION: i18n.t(\"ChangeAllOcurrencesKeybindDescription\"),\n        SHORTCUTS: \"ctrl+F2\"\n      },\n      COMMAND_PALETTE: {\n        NAME: \"commandPalette\",\n        LABEL: i18n.t(\"CommandPaletteKeybindLabel\"),\n        DESCRIPTION: i18n.t(\"CommandPaletteKeybindDescription\"),\n        SHORTCUTS: \"F1\"\n      },\n      UNDO: {\n        NAME: \"undo\",\n        LABEL: i18n.t(\"Undo\"),\n        DESCRIPTION: i18n.t(\"UndoKeybindDescription\"),\n        SHORTCUTS: \"ctrl+z\"\n      },\n      REDO: {\n        NAME: \"redo\",\n        LABEL: i18n.t(\"Redo\"),\n        DESCRIPTION: i18n.t(\"RedoKeybindDescription\"),\n        SHORTCUTS: [\"ctrl+shift+z\", \"ctrl+y\"]\n      },\n      CUT: {\n        NAME: \"monacoEditorCutCode\",\n        LABEL: i18n.t(\"CutCode\"),\n        DESCRIPTION: i18n.t(\"CutCodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+x\"\n      },\n      COPY: {\n        NAME: \"monacoEditorCopyCode\",\n        LABEL: i18n.t(\"CopyCode\"),\n        DESCRIPTION: i18n.t(\"CopyCodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+c\"\n      },\n      PASTE: {\n        NAME: \"monacoEditorPasteCode\",\n        LABEL: i18n.t(\"PasteCode\"),\n        DESCRIPTION: i18n.t(\"PasteCodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+v\"\n      }\n    }\n  },\n  FLOW: {\n    NAME: \"editorFlow\",\n    LABEL: i18n.t(\"EditorFlowKeybindLabel\"),\n    DESCRIPTION: i18n.t(\"EditorFlowKeybindDescription\"),\n    KEYBINDS: {\n      COPY_NODE: {\n        NAME: \"copyNode\",\n        LABEL: i18n.t(\"CopyNode\"),\n        DESCRIPTION: i18n.t(\"CopyNodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+c\"\n      },\n      PASTE_NODE: {\n        NAME: \"pasteNode\",\n        LABEL: i18n.t(\"PasteNode\"),\n        DESCRIPTION: i18n.t(\"PasteNodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+v\"\n      },\n      MOVE_NODE: {\n        NAME: \"moveNode\",\n        LABEL: i18n.t(\"MoveNode\"),\n        DESCRIPTION: i18n.t(\"MoveNodeKeybindDescription\"),\n        SHORTCUTS: [\"left\", \"right\", \"up\", \"down\"]\n      },\n      SEARCH_NODE: {\n        NAME: \"searchNode\",\n        LABEL: i18n.t(\"SearchNode\"),\n        DESCRIPTION: i18n.t(\"SearchNodeKeybindDescription\"),\n        SHORTCUTS: \"ctrl+f\"\n      },\n      RESET_ZOOM: {\n        NAME: \"resetZoom\",\n        LABEL: i18n.t(\"ResetZoom\"),\n        DESCRIPTION: i18n.t(\"ResetZoomKeybindDescription\"),\n        SHORTCUTS: \"ctrl+i\"\n      }\n    }\n  }\n};\n","import { getIconByScope } from \"../../../../utils/Utils\";\nimport { PLUGINS } from \"../../../../utils/Constants\";\n\nexport const buildNewFileSubmenu = async call => {\n  const menu = [];\n  await call(\n    PLUGINS.DOC_MANAGER.NAME,\n    PLUGINS.DOC_MANAGER.CALL.GET_DOC_TYPES\n  ).then(docTypes => {\n    docTypes.forEach(docType => {\n      menu.push({\n        id: docType.name,\n        title: docType.scope,\n        icon: getIconByScope(docType.scope),\n        callback: () => {\n          call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.CREATE, {\n            scope: docType.scope\n          }).then(document => {\n            call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n              id: document.getUrl(),\n              name: document.getName(),\n              scope: docType.scope,\n              isNew: true\n            });\n          });\n        }\n      });\n    });\n  });\n  return menu;\n};\n","import React from \"react\";\nimport { getRefComponent } from \"../utils/Utils\";\nimport { PLUGINS } from \"../utils/Constants\";\n\n/**\n * Pass snackbar alerts to components\n * @param {*} Component\n * @returns\n */\nconst withAlerts = Component => {\n  const RefComponent = getRefComponent(Component);\n\n  return (props, ref) => {\n    // Props\n    const { call } = props;\n\n    /**\n     * Create snackbar alert\n     * @param {{title: String, message: String, location: String, severity: String}} alertData\n     */\n    const alert = options => {\n      call(PLUGINS.ALERT.NAME, PLUGINS.ALERT.CALL.SHOW, options);\n    };\n\n    /**\n     * Show Confirmation before action\n     * @param {{title: string, message: string, submitText: string, onSubmit: function}} confirmationData\n     */\n    const confirmationAlert = ({ title, message, onSubmit, submitText }) => {\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CONFIRMATION, {\n        title,\n        message,\n        onSubmit,\n        submitText\n      });\n    };\n\n    return (\n      <RefComponent\n        {...props}\n        ref={ref}\n        alert={alert}\n        confirmationAlert={confirmationAlert}\n      />\n    );\n  };\n};\n\nexport default withAlerts;\n","class LocalStorage {\n  constructor() {\n    if (instance) return instance;\n    instance = this;\n  }\n\n  set(key, value) {\n    localStorage[key] = JSON.stringify(value);\n    return this;\n  }\n\n  get(key, defaultValue) {\n    try {\n      if (key in localStorage) {\n        return JSON.parse(localStorage[key]);\n      } else {\n        return defaultValue;\n      }\n    } catch (e) {\n      console.warn(\"failed to load layout\", localStorage[key]);\n      return defaultValue;\n    }\n  }\n\n  hasKey(key) {\n    return key in localStorage;\n  }\n\n  keys() {\n    return Object.keys(localStorage);\n  }\n\n  static getInstance() {\n    return new LocalStorage();\n  }\n\n  static set(key, value) {\n    return LocalStorage.getInstance().set(key, value);\n  }\n\n  static get(key) {\n    return LocalStorage.getInstance().get(key);\n  }\n\n  static hasKey(key) {\n    return LocalStorage.getInstance().hasKey(key);\n  }\n\n  static keys() {\n    return LocalStorage.getInstance().keys();\n  }\n}\n\nlet instance = null;\n\nexport default LocalStorage;\n","import { User } from \"@mov-ai/mov-fe-lib-core\";\nimport { DOCK_POSITIONS, DEFAULT_LAYOUT, DEFAULT_TABS } from \"./Constants\";\nimport LocalStorage from \"./LocalStorage\";\n\nclass Workspace {\n  constructor() {\n    if (instance) return instance;\n    instance = this;\n    this.user = new User();\n\n    const APP_NAME = \"movai-ide-ce\";\n    const USER_NAME = this.user.getUsername() ?? \"\";\n\n    this.storage = new LocalStorage();\n    this.TABS_KEY = `movai.${USER_NAME}.${APP_NAME}.tabs`;\n    this.TAB_STACK_KEY = `movai.${USER_NAME}.${APP_NAME}.tabStack`;\n    this.LAYOUT_KEY = `movai.${USER_NAME}.${APP_NAME}.layout`;\n    this.SELECTED_ROBOT_KEY = `movai.${USER_NAME}.${APP_NAME}.selectedRobot`;\n    this.RECENT_DOCUMENTS_KEY = `movai.${USER_NAME}.${APP_NAME}.recentDocuments`;\n    this.DEBUGGING_FLOW_KEY = `movai.${USER_NAME}.${APP_NAME}.flowIsDebugging`;\n    this.layoutAndTabs = this.getLayoutAndTabs();\n    this.layout = this.layoutAndTabs[0];\n    this.tabs = this.layoutAndTabs[1];\n    this.tabStack = this.getTabStack();\n    this.defaultTabStack = Object.values(DOCK_POSITIONS).reduce(\n      (a, k) => ({ ...a, [k]: [] }),\n      {}\n    );\n    this.recentDocuments = this.getRecentDocuments();\n    this.selectedRobot = this.getSelectedRobot();\n    this.defaultRecentDocuments = [];\n  }\n\n  /**\n   * Destroys the instance of workspace\n   */\n  destroy() {\n    instance = null;\n  }\n\n  /**\n   * Sets the layout\n   * @param {Object} layout\n   */\n  setLayout(layout) {\n    this.storage.set(this.LAYOUT_KEY, layout);\n    this.layout = layout;\n  }\n\n  /**\n   * Gets layout, if there are no tabs will return the DEFAULT_LAYOUT\n   * @returns {Object} layout\n   */\n  getLayout() {\n    const tabs = this.getStoredTabs();\n\n    if (!tabs.size) {\n      return DEFAULT_LAYOUT;\n    }\n\n    return this.storage.get(this.LAYOUT_KEY);\n  }\n\n  /**\n   * Gets layout and tabs for the Layout\n   * @returns {Array} with the layout and tabs\n   */\n  getLayoutAndTabs() {\n    const tabs = this.getStoredTabs();\n\n    if (!tabs.size) {\n      return [DEFAULT_LAYOUT, DEFAULT_TABS];\n    }\n\n    return [this.storage.get(this.LAYOUT_KEY, DEFAULT_LAYOUT), tabs];\n  }\n\n  /**\n   * Sets the tabs for the Layout\n   * @param {Map} tabs\n   */\n  setTabs(tabs) {\n    const tabsObj = Object.fromEntries(tabs);\n    this.storage.set(this.TABS_KEY, tabsObj);\n    this.tabs = tabs;\n  }\n\n  /**\n   * Get information about current tabs\n   * @returns {Map<TabData>}\n   */\n  getTabs() {\n    return this.tabs;\n  }\n\n  /**\n   * Get information about current open tab from local storage\n   * @returns {Map<TabData>}\n   */\n  getStoredTabs() {\n    const storedTabs = this.storage.get(this.TABS_KEY, DEFAULT_TABS) ?? {};\n    return new Map(Object.entries(storedTabs));\n  }\n\n  /**\n   * Sets the tab stack for the Layout\n   * @param {Object} tabStack\n   */\n  setTabStack(tabStack) {\n    this.storage.set(this.TAB_STACK_KEY, tabStack);\n  }\n\n  /**\n   * Get information about current open tab stack from local storage\n   * @returns {Object} tabStack\n   */\n  getTabStack(defaultTabStack = this.defaultTabStack) {\n    const tabStack = this.storage.get(this.TAB_STACK_KEY) ?? defaultTabStack;\n    // Convert tabStack to new format\n    for (const dock in tabStack) {\n      tabStack[dock] = tabStack[dock].map(tab => ({\n        id: tab.id || tab,\n        isNew: tab.isNew\n      }));\n    }\n    // Return formatted tabStack\n    return tabStack;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                               Flow Debug : Used in Flow                              *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Attempts to get the stored flowDebugging value, false is default\n   * @returns {Boolean} : Is the flow debugging?\n   */\n  getFlowIsDebugging() {\n    return this.storage.get(this.DEBUGGING_FLOW_KEY) ?? false;\n  }\n\n  /**\n   * Attempts to set the stored flowDebugging value, sets false if nothing is passed\n   * @param {Boolean} isFlowDebugging : Is the flow debugging?\n   */\n  setFlowIsDebugging(isFlowDebugging) {\n    this.storage.set(this.DEBUGGING_FLOW_KEY, isFlowDebugging ?? false);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                          Selected Robot : Used in FlowTopBar                         *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Set selected robot in local storage\n   * @param {string} robotId Robot ID\n   */\n  setSelectedRobot(robotId) {\n    this.storage.set(this.SELECTED_ROBOT_KEY, robotId);\n    this.selectedRobot = robotId;\n  }\n\n  /**\n   * Get selected robot ID from local storage\n   * @returns {string} Robot ID\n   */\n  getSelectedRobot() {\n    return this.storage.get(this.SELECTED_ROBOT_KEY) ?? \"\";\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                        Recent Documents : Used in Welcome Tab                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Sets the Recent Documents in the layout\n   * @param {Object} recentDocuments\n   */\n  setRecentDocuments(recentDocuments) {\n    this.storage.set(this.RECENT_DOCUMENTS_KEY, recentDocuments);\n    this.recentDocuments = recentDocuments;\n  }\n\n  /**\n   * Gets the Recent Documents or the default if it doesn't exist in the local storage\n   * @param {Object} defaultRecentDocuments\n   * @returns {Object} with the Recent Documents\n   */\n  getRecentDocuments(defaultRecentDocuments = this.defaultRecentDocuments) {\n    return (\n      this.storage.get(this.RECENT_DOCUMENTS_KEY) ?? defaultRecentDocuments\n    );\n  }\n}\n\nlet instance = null;\n\nexport default Workspace;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Add\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ChromeReaderMode\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst sharedStyles = {\n  paper: {\n    margin: \"10px\",\n    flex: 1,\n    borderRadius: \"5px\"\n  },\n  columnTitle: {\n    padding: \"14px\",\n    fontSize: \"24px\"\n  },\n  columnBody: {\n    margin: \"7px\",\n    display: \"flex\",\n    flexFlow: \"column\"\n  }\n};\n\nexport const homeTabStyles = makeStyles(theme => ({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.robotDetails.backgroundColor\n  },\n  body: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    height: \"calc(100% - 56px - 48px - 12px)\",\n    padding: \"0 5px\",\n    marginTop: \"15px\"\n  },\n  column: {\n    flex: \"0 0 50%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  footer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"2px\",\n    marginBottom: \"10px\"\n  },\n  socialIconBadge: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.text.primary\n    }\n  },\n  title: {\n    padding: \"15px\",\n    paddingBottom: \"0px\"\n  },\n  movaiLogo: {\n    padding: \"15px\",\n    paddingBottom: \"0px\",\n    width: \"178px\",\n    height: \"56px\"\n  },\n  movaiIcon: {\n    height: \"30px\"\n  }\n}));\n\nexport const quickAccessStyles = makeStyles(theme => ({\n  ...sharedStyles,\n  link: {\n    color: \"#3db5e6\",\n    fontSize: \"16px\",\n    padding: \"5px 10px\",\n    fontWeight: 600,\n    display: \"flex\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      backgroundColor: `${theme.palette.primary.main}26`,\n      color: theme.palette.text.primary,\n      textDecoration: \"none\"\n    }\n  },\n  linkIcon: {\n    color: theme.palette.text.primary,\n    marginRight: \"10px\",\n    fontSize: \"20px\"\n  }\n}));\n\nexport const recentDocumentsStyles = makeStyles(theme => ({\n  ...sharedStyles,\n  flexTitle: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  recentPaper: {\n    maxHeight: \"calc(100% - 78px)\",\n    overflow: \"auto\"\n  },\n  clearIcon: {\n    color: theme.palette.text.primary,\n    fontSize: \"8px\"\n  }\n}));\n\nexport const examplesDocumentsStyles = makeStyles(_theme => ({\n  ...sharedStyles,\n  examplePaper: {\n    maxHeight: \"calc(100% - 20px)\"\n  },\n  cardDivider: {\n    height: \"3px\",\n    margin: \"0 20px\"\n  },\n  columnExample: {\n    margin: \"3px\",\n    overflow: \"auto\",\n    maxHeight: \"calc(100% - 90px)\"\n  },\n  defaultMessage: {\n    textAlign: \"center\",\n    \"& i\": {\n      fontSize: \"80px\"\n    }\n  }\n}));\n\nexport const homeTabCardStyles = makeStyles(theme => ({\n  card: {\n    display: \"flex\",\n    margin: \"2px\",\n    padding: \"5px\",\n    borderRadius: \"2px\",\n    alignItems: \"center\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      backgroundColor: `${theme.palette.primary.main}26`\n    }\n  },\n  haveImage: {\n    width: \"calc(100% - 185px)\",\n    marginRight: \"15px\"\n  },\n  fullWidth: {\n    width: \"100%\"\n  },\n  exampleImage: {\n    width: 170,\n    height: 170,\n    borderRadius: \"5px\",\n    border: \"4px solid white\",\n    boxShadow: \"1px 1px 8px 0px #000\",\n    \"& > img\": {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\"\n    }\n  },\n  cardHeader: {\n    display: \"flex\",\n    flexFlow: \"row\",\n    margin: \"10px 5px\",\n    fontSize: \"20px\",\n    color: theme.palette.text.primary,\n    alignItems: \"center\"\n  },\n  cardBody: {\n    display: \"flex\",\n    flexFlow: \"column\",\n    margin: \"0px 5px\"\n  },\n  cardFooter: {\n    margin: \"30px 5px 10px\",\n    \"& > button\": {\n      margin: \"0px\"\n    }\n  },\n  cardIcon: {\n    backgroundColor: theme.palette.text.primary,\n    color: \"rgb(0, 127, 255)\",\n    borderRadius: \"5px\",\n    marginRight: \"10px\",\n    fontSize: \"15px\"\n  },\n  title: {\n    fontWeight: 600,\n    display: \"flex\",\n    alignItems: \"flex-start\"\n  },\n  icon: {\n    color: theme.palette.text.primary,\n    padding: \"3px\",\n    paddingRight: \"20px\",\n    \"&:hover\": {\n      color: theme.palette.text.primary\n    }\n  },\n  avatar: {\n    display: \"inherit\",\n    marginLeft: \"10px\"\n  },\n  paragraph: {\n    marginBottom: \"0px\"\n  },\n  movaiIcon: {\n    width: \"15px\",\n    height: \"15px\"\n  },\n  externalLinkButton: {\n    fontWeight: 600,\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      color: theme.palette.text.primary,\n      textDecoration: \"none\",\n      backgroundColor: `${theme.palette.primary.main}c4`,\n      \"& $externalLinkLabel\": {\n        color: theme.palette.text.primary\n      }\n    }\n  },\n  externalLinkLabel: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      textDecoration: \"none\"\n    }\n  }\n}));\n\nexport const homeTabLinkStyles = makeStyles(theme => ({\n  deleteDocument: {\n    visibility: \"hidden\"\n  },\n  row: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: \"2px 10px\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      backgroundColor: `${theme.palette.primary.main}26`,\n      \"& $link\": {\n        color: theme.palette.text.primary\n      },\n      \"& $deleteDocument\": {\n        visibility: \"visible\"\n      }\n    }\n  },\n  deleted: {\n    textDecoration: \"line-through\"\n  },\n  link: {\n    color: theme.palette.primary.light,\n    fontSize: \"16px\",\n    margin: \"2px 10px\",\n    fontWeight: 600\n  },\n  iconLink: {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& svg\": {\n      fontSize: \"20px\"\n    }\n  },\n  iconFont: {\n    fontSize: \"20px\"\n  }\n}));\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { ContextMenu } from \"@mov-ai/mov-fe-lib-react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Divider from \"@material-ui/core/Divider\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport ChromeReaderModeIcon from \"@material-ui/icons/ChromeReaderMode\";\nimport AppSettings from \"../../../App/AppSettings\";\nimport { PLUGINS } from \"../../../utils/Constants\";\nimport { getIconByScope } from \"../../../utils/Utils\";\nimport { getQuickAccessTools } from \"../../\";\nimport { quickAccessStyles } from \"../styles\";\nimport { openTool } from \"../../../plugins/views/SystemBar/builder/buildFunctions\";\n\nconst QuickAccess = props => {\n  const { call } = props;\n  const { t } = useTranslation();\n  const classes = quickAccessStyles();\n\n  // State\n  const [docTypes, setDocTypes] = useState([]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  // This is already working - just leaving this here for posteriority\n  // const handleOpenAppConfig = useCallback(() => {\n  //   const name = APP_CUSTOM_CONFIG;\n  //   const scope = Configuration.SCOPE;\n\n  //   call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.CHECK_DOCUMENT_EXISTS, {\n  //     name,\n  //     scope\n  //   }).then(fileExists => {\n  //     if (!fileExists) {\n  //       call(\n  //         PLUGINS.DOC_MANAGER.NAME,\n  //         PLUGINS.DOC_MANAGER.CALL.COPY,\n  //         {\n  //           name: APP_DEFAULT_CONFIG,\n  //           scope\n  //         },\n  //         name\n  //       );\n  //     }\n\n  //     call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n  //       id: `global/${scope}/${name}`,\n  //       name,\n  //       scope\n  //     });\n  //   });\n  // }, [call]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Component Did Mount\n   */\n  useEffect(() => {\n    call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.GET_DOC_TYPES).then(\n      _docTypes => {\n        setDocTypes(_docTypes);\n      }\n    );\n  }, [call]);\n\n  return (\n    <Paper data-testid=\"section_quick-access\" className={classes.paper}>\n      <div className={classes.columnTitle}>{t(\"QuickAccess\")}</div>\n      <Divider />\n      <div className={classes.columnBody}>\n        <ContextMenu\n          element={\n            <div className={classes.link}>\n              <AddIcon className={classes.linkIcon} />\n              {t(\"CreateNewDoc\")}\n            </div>\n          }\n          menuList={docTypes.map(docType => ({\n            onClick: () =>\n              call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.CREATE, {\n                scope: docType.scope\n              }).then(document => {\n                call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n                  id: document.getUrl(),\n                  name: document.getName(),\n                  scope: docType.scope,\n                  isNew: true\n                });\n              }),\n            element: docType.scope,\n            icon: getIconByScope(docType.scope),\n            onClose: true\n          }))}\n        ></ContextMenu>\n        {AppSettings.HELP.DOCUMENTATION ? (\n          <a\n            data-testid=\"input_documentation\"\n            href={AppSettings.HELP.DOCUMENTATION}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className={classes.link}\n          >\n            <ChromeReaderModeIcon className={classes.linkIcon} />\n\n            {t(\"Documentation\")}\n          </a>\n        ) : (\n          <></>\n        )}\n        {AppSettings.HELP.FORUM ? (\n          <a\n            data-testid=\"input_forum\"\n            href={AppSettings.HELP.FORUM}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className={classes.link}\n          >\n            <ChromeReaderModeIcon className={classes.linkIcon} />\n            {t(\"Forum\")}\n          </a>\n        ) : (\n          <></>\n        )}\n\n        {/* <div data-testid=\"input_app-config\" className={classes.link} onClick={handleOpenAppConfig}>\n          <BuildIcon className={classes.linkIcon} />\n          {t(\"App Configuration\")}\n        </div> */}\n        {getQuickAccessTools().map(tool => {\n          const Icon = tool.icon;\n          const { name, title } = tool.profile;\n          return (\n            <div\n              data-testid={`input_tool_${name}`}\n              className={classes.link}\n              onClick={() => openTool(call, name)}\n            >\n              <Icon className={classes.linkIcon} />\n              {title}\n            </div>\n          );\n        })}\n      </div>\n    </Paper>\n  );\n};\n\nQuickAccess.propTypes = {\n  call: PropTypes.func\n};\n\nexport default QuickAccess;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/DeleteForever\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Delete\");","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Tooltip } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { getIconByScope } from \"../../../utils/Utils\";\n\nimport { homeTabLinkStyles } from \"../styles\";\n\nfunction HomeLink(props) {\n  const { doc, openRecentDocument, removeRecentDocument } = props;\n  const { id, scope, name, isDeleted } = doc;\n  const { t } = useTranslation();\n  const classes = homeTabLinkStyles();\n  const rowClasses = isDeleted ? [classes.row, classes.deleted] : classes.row;\n\n  const handleOpenDocument = useCallback(\n    () => openRecentDocument(doc),\n    [doc, openRecentDocument]\n  );\n\n  const handleDeleteDocument = useCallback(\n    e => {\n      removeRecentDocument(id);\n      e.stopPropagation();\n    },\n    [id, removeRecentDocument]\n  );\n\n  return (\n    <Tooltip\n      arrow\n      title={t(\"OpenDocUrl\", { docUrl: props.doc.url })}\n      disableFocusListener\n      disableHoverListener\n      disableTouchListener\n      placement=\"right-start\"\n    >\n      <div\n        data-testid=\"input_open-document\"\n        className={rowClasses}\n        onClick={handleOpenDocument}\n      >\n        <Tooltip title={id}>\n          <div className={classes.iconLink}>\n            {getIconByScope(scope)}\n            <span href=\"#\" underline=\"none\" className={classes.link}>\n              {name}\n            </span>\n          </div>\n        </Tooltip>\n        <div>\n          <Tooltip title={t(\"Remove\")}>\n            <IconButton\n              onClick={handleDeleteDocument}\n              size=\"small\"\n              className={classes.deleteDocument}\n            >\n              <DeleteIcon fontSize=\"small\" />\n            </IconButton>\n          </Tooltip>\n        </div>\n      </div>\n    </Tooltip>\n  );\n}\n\nexport default HomeLink;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Divider from \"@material-ui/core/Divider\";\nimport DeleteIcon from \"@material-ui/icons/DeleteForever\";\nimport { PLUGINS } from \"../../../utils/Constants\";\nimport HomeLink from \"./HomeLink\";\n\nimport { recentDocumentsStyles } from \"../styles\";\n\nconst MAX_RECENT_DOCS = 10;\n\nconst RecentDocuments = props => {\n  const classes = recentDocumentsStyles();\n  const { workspaceManager, openRecentDocument, on, off } = props;\n  const { t } = useTranslation();\n\n  // State\n  const [recentDocs, setRecentDocs] = useState(\n    workspaceManager.getRecentDocuments()\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const setRecentDocuments = useCallback(\n    documents => {\n      workspaceManager.setRecentDocuments(documents);\n      setRecentDocs(documents);\n    },\n    [workspaceManager]\n  );\n\n  const filterRecentDocuments = useCallback(\n    id => {\n      const storagedDocs = workspaceManager.getRecentDocuments();\n      return storagedDocs.filter(doc => doc.id !== id);\n    },\n    [workspaceManager]\n  );\n\n  const removeRecentDocument = useCallback(\n    id => {\n      const documents = filterRecentDocuments(id);\n\n      setRecentDocuments(documents);\n    },\n    [setRecentDocuments, filterRecentDocuments]\n  );\n\n  const addRecentDocument = useCallback(\n    (id, name, scope) => {\n      const documents = filterRecentDocuments(id);\n\n      if (documents.length === MAX_RECENT_DOCS) documents.shift();\n\n      documents.push({\n        id: id,\n        name: name,\n        scope: scope\n      });\n\n      setRecentDocuments(documents);\n    },\n    [setRecentDocuments, filterRecentDocuments]\n  );\n\n  const setDeletedRecentDocument = useCallback(\n    id => {\n      const documents = workspaceManager.getRecentDocuments();\n      const deletedDoc = documents.find(doc => doc.id === id);\n\n      if (deletedDoc) {\n        deletedDoc.isDeleted = true;\n      }\n\n      setRecentDocuments(documents);\n    },\n    [workspaceManager, setRecentDocuments]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handler to remove all recent documents\n   */\n  const handleRemoveRecentDocuments = useCallback(() => {\n    setRecentDocuments([]);\n  }, [setRecentDocuments]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Component Did Mount\n   */\n  useEffect(() => {\n    setRecentDocs(workspaceManager.getRecentDocuments());\n\n    on(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.OPEN_EDITOR, data => {\n      if (!data.isNew) addRecentDocument(data.id, data.name, data.scope);\n    });\n\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.DELETE_DOC, data => {\n      setDeletedRecentDocument(data.url);\n    });\n\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.SAVE_DOC, data => {\n      if (data.newName) {\n        const { workspace, type: scope } = data.doc;\n        const id = `${workspace}/${scope}/${data.newName}`;\n        addRecentDocument(id, data.newName, scope);\n      }\n    });\n\n    return () => {\n      off(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.OPEN_EDITOR);\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.DELETE_DOC);\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.SAVE_DOC);\n    };\n  }, [workspaceManager, addRecentDocument, setDeletedRecentDocument, on, off]);\n\n  return (\n    <Paper data-testid=\"section_recent-documents\" className={classes.paper}>\n      <div className={`${classes.columnTitle} ${classes.flexTitle}`}>\n        <span>{t(\"Recent\")}</span>\n        <Tooltip title={t(\"RemoveAll\")}>\n          <span>\n            <IconButton\n              data-testid=\"input_clear-recent-documents\"\n              onClick={handleRemoveRecentDocuments}\n              className={classes.clearIcon}\n              disabled={recentDocs.length === 0}\n            >\n              <DeleteIcon fontSize=\"small\" />\n            </IconButton>\n          </span>\n        </Tooltip>\n      </div>\n      <Divider />\n      <div className={`${classes.columnBody} ${classes.recentPaper}`}>\n        {[...recentDocs]?.reverse().map(doc => (\n          <HomeLink\n            key={doc.id}\n            doc={doc}\n            openRecentDocument={openRecentDocument}\n            removeRecentDocument={removeRecentDocument}\n          ></HomeLink>\n        ))}\n      </div>\n    </Paper>\n  );\n};\n\nRecentDocuments.propTypes = {\n  workspace: PropTypes.object,\n  openRecentDocument: PropTypes.func,\n  on: PropTypes.func\n};\n\nexport default RecentDocuments;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/CallMade\");","import React, { useCallback } from \"react\";\nimport CallMadeIcon from \"@material-ui/icons/CallMade\";\nimport Button from \"@material-ui/core/Button\";\nimport { stopPropagation } from \"../../../utils/Utils\";\n\nimport { homeTabCardStyles } from \"../styles\";\n\nfunction HomeTabCard(props) {\n  const classes = homeTabCardStyles();\n  const { example, openDocument } = props;\n\n  const handleOnClick = useCallback(\n    () => openDocument({ id: example.url, scope: example.scope }),\n    [example, openDocument]\n  );\n\n  return (\n    <div\n      data-testid=\"input_open-example\"\n      className={classes.card}\n      onClick={handleOnClick}\n    >\n      <div\n        className={example.imageLink ? classes.haveImage : classes.fullWidth}\n      >\n        <div className={classes.cardHeader}>\n          <div className={classes.title}>{example.title}</div>\n        </div>\n        <div className={classes.cardBody}>\n          <p className={classes.paragraph}>{example.description}</p>\n        </div>\n        {example.externalLink && (\n          <div className={classes.cardFooter}>\n            <Button\n              className={classes.externalLinkButton}\n              variant=\"outlined\"\n              endIcon={<CallMadeIcon />}\n            >\n              <a\n                data-testid=\"section_external-link\"\n                href={example.externalLink}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                onClick={stopPropagation}\n                className={classes.externalLinkLabel}\n              >\n                {example.externalLinkLabel || example.externalLink}\n              </a>\n            </Button>\n          </div>\n        )}\n      </div>\n      {example.imageLink && (\n        <div className={classes.exampleImage}>\n          <img\n            src={example.imageLink}\n            alt={example.imageDescription || example.title}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default HomeTabCard;\n","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Divider from \"@material-ui/core/Divider\";\nimport HomeTabCard from \"./HomeTabCard\";\n\nimport { examplesDocumentsStyles } from \"../styles\";\n\nconst HOME_EXAMPLES = window.SERVER_DATA?.Examples || [];\n\nconst Examples = props => {\n  const classes = examplesDocumentsStyles();\n  const { openExistingDocument } = props;\n  const { t } = useTranslation();\n\n  /**\n   * Render examples from configuration file\n   * @returns {Element} Examples\n   */\n  const getExamples = useCallback(() => {\n    return HOME_EXAMPLES?.map((example, i) => {\n      return (\n        <div key={example.title + i}>\n          {i !== 0 && <Divider light={true} className={classes.cardDivider} />}\n          <HomeTabCard example={example} openDocument={openExistingDocument} />\n        </div>\n      );\n    });\n  }, [classes.cardDivider, openExistingDocument]);\n\n  /**\n   * Render empty default message, shown when there's no examples defined\n   * @returns {Element} Element to be rendered in Examples section\n   */\n  const getDefaultMessage = useCallback(() => {\n    return (\n      <div className={classes.defaultMessage}>\n        <i className=\"icon-Happy\"></i>\n        <h2>{t(\"NoHomeTabExamples\")}</h2>\n      </div>\n    );\n  }, [t, classes.defaultMessage]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Paper\n      data-testid=\"section_examples\"\n      className={`${classes.paper} ${classes.examplePaper}`}\n    >\n      <div className={classes.columnTitle}>{t(\"Examples\")}</div>\n      <Divider />\n      <div className={classes.columnExample}>\n        {HOME_EXAMPLES.length ? getExamples() : getDefaultMessage()}\n      </div>\n    </Paper>\n  );\n};\n\nExamples.propTypes = {\n  openExistingDocument: PropTypes.func,\n  on: PropTypes.func\n};\n\nexport default Examples;\n","import React, { useCallback, useEffect, useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport withAlerts from \"../../decorators/withAlerts\";\nimport { withViewPlugin } from \"../../engine/ReactPlugin/ViewReactPlugin\";\nimport { getNameFromURL } from \"../../utils/Utils\";\nimport Workspace from \"../../utils/Workspace\";\nimport {\n  HOMETAB_PROFILE,\n  PLUGINS,\n  ALERT_SEVERITIES\n} from \"../../utils/Constants\";\nimport { ERROR_MESSAGES } from \"../../utils/Messages\";\nimport QuickAccessComponent from \"./components/QuickAccess\";\nimport RecentDocumentsComponent from \"./components/RecentDocuments\";\nimport ExamplesComponent from \"./components/Examples\";\n\nimport { homeTabStyles } from \"./styles\";\n\nconst HomeTab = props => {\n  const { call, on, off, alert } = props;\n  const workspaceManager = useMemo(() => new Workspace(), []);\n  const classes = homeTabStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Methods                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Open an existing Document\n   * @param {{name: string, scope: string, id: string, isDeleted: bool}} doc : Document data\n   */\n  const openExistingDocument = useCallback(\n    doc => {\n      if (!doc.name) doc.name = getNameFromURL(doc.id);\n\n      if (doc.isDeleted) {\n        alert({\n          message: t(ERROR_MESSAGES.FILE_DOESNT_EXIST, {\n            FILE_URL: doc.id\n          }),\n          severity: ALERT_SEVERITIES.WARNING\n        });\n      } else {\n        call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, doc);\n      }\n    },\n    [alert, call, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    call(PLUGINS.RIGHT_DRAWER.NAME, PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS);\n    on(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE, data => {\n      if (data.id === HOMETAB_PROFILE.name) {\n        call(\n          PLUGINS.RIGHT_DRAWER.NAME,\n          PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS\n        );\n      }\n    });\n    return () => {\n      off(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE);\n    };\n  }, [call, on, off]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Renders                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_hometab\" className={classes.root}>\n      <div className={classes.body}>\n        <div className={classes.column}>\n          <QuickAccessComponent call={call} />\n          <RecentDocumentsComponent\n            workspaceManager={workspaceManager}\n            openRecentDocument={openExistingDocument}\n            on={on}\n            off={off}\n          />\n        </div>\n        <div className={classes.column}>\n          <ExamplesComponent openExistingDocument={openExistingDocument} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst HomeTabPlugin = withViewPlugin(withAlerts(HomeTab));\n\nexport default HomeTabPlugin;\n\nHomeTab.propTypes = {\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired\n};\n\n/**\n * Get welcome tab data\n * @returns {TabData} Data used to create tab\n */\nexport const getHomeTab = () => {\n  return {\n    ...HOMETAB_PROFILE,\n    id: HOMETAB_PROFILE.name,\n    name: HOMETAB_PROFILE.title,\n    tabTitle: HOMETAB_PROFILE.title,\n    scope: HOMETAB_PROFILE.name,\n    extension: \"\",\n    isTool: true\n  };\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst sharedStyles = {\n  paper: {\n    margin: \"10px\",\n    flex: 1,\n    borderRadius: \"5px\"\n  },\n  columnTitle: {\n    padding: \"14px\",\n    fontSize: \"24px\"\n  },\n  columnBody: {\n    margin: \"7px\",\n    display: \"flex\",\n    flexFlow: \"column\"\n  }\n};\n\nexport const shortcutsStyles = makeStyles(theme => ({\n  root: {\n    height: \"100%\",\n    width: \"100%\",\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    backgroundColor: theme.robotDetails.backgroundColor\n  },\n  body: {\n    flex: \"1 1 auto\",\n    display: \"flex\",\n    padding: \"0 5px\",\n    marginTop: \"15px\"\n  },\n  smallColumn: {\n    flex: \"0 0 30%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  bigColumn: {\n    flex: \"0 0 70%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nexport const shortcutsListStyles = makeStyles(_theme => ({\n  ...sharedStyles,\n  listItem: {\n    padding: \"20px 10px\",\n    borderBottom: \"1px solid #666\",\n    borderRadius: \"3px\",\n    \"&.activeItem\": {\n      backgroundColor: \"rgba(54,181,230, 0.4)\"\n    }\n  },\n  listContent: {\n    display: \"inline-flex\",\n    width: \"100%\",\n    justifyContent: \"space-between\",\n    \"& > MuiSvgIcon-root\": {\n      fontSize: \"26px\"\n    }\n  }\n}));\n\nexport const shortcutsTableStyles = makeStyles(_theme => ({\n  ...sharedStyles,\n  columnBody: {\n    ...sharedStyles.columnBody,\n    \"& .MuiToolbar-root\": {\n      paddingLeft: \"0px\"\n    }\n  },\n  description: {\n    fontSize: \"20px\",\n    fontStyle: \"italic\",\n    padding: \"0 15px\"\n  }\n}));\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { MenuItem, Tooltip, Paper, Divider } from \"@material-ui/core\";\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\n\nimport { shortcutsListStyles } from \"../styles\";\n\nconst ShortcutsList = props => {\n  const { scopes, selectedScope, setSelectedScope } = props;\n  const { t } = useTranslation();\n  const classes = shortcutsListStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const isSelectedScope = scopeId => {\n    return selectedScope === scopeId;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  const handleChangeScope = evt => {\n    const newScope = evt.currentTarget.id;\n\n    setSelectedScope(newScope);\n  };\n\n  return (\n    <Paper data-testid=\"section_shortcuts-list\" className={classes.paper}>\n      <div className={classes.columnTitle}>{t(\"Scope\")}</div>\n      <Divider />\n      <div className={classes.columnBody}>\n        {scopes.map(scope => (\n          <MenuItem\n            data-testid=\"input_shortcut-scope\"\n            key={scope.id}\n            id={scope.id}\n            className={`${classes.listItem} ${\n              isSelectedScope(scope.id) ? \"activeItem\" : \"\"\n            }`}\n            onClick={handleChangeScope}\n          >\n            <Tooltip title={scope.description} placement=\"bottom-start\">\n              <span className={classes.listContent}>\n                {scope.label}\n                {isSelectedScope(scope.id) && <ArrowRightIcon />}\n              </span>\n            </Tooltip>\n          </MenuItem>\n        ))}\n      </div>\n    </Paper>\n  );\n};\n\nShortcutsList.propTypes = {\n  call: PropTypes.func\n};\n\nexport default ShortcutsList;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-table/core\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const materialTableStyles = makeStyles(_theme => ({\n  tableContainer: {\n    \"& .MuiPaper-root\": {\n      boxShadow: \"none\",\n      justifyContent: \"center\"\n    }\n  }\n}));\n","import React, { forwardRef, useEffect, useRef, memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport MaterialTableCore from \"@material-table/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nimport { materialTableStyles } from \"./styles\";\n\nconst MaterialTable = forwardRef((props, ref) => {\n  const {\n    columns,\n    actions,\n    data,\n    editable,\n    options,\n    title = \"\",\n    detailPanel,\n    components\n  } = props;\n  // Hooks\n  const theme = useTheme();\n  const classes = materialTableStyles();\n  const { t } = useTranslation();\n  // Refs\n  const defaultTableRef = useRef();\n  const openedPanels = useRef({});\n  const toggleDetailPanelHandler = useRef();\n  const tableRef = ref || defaultTableRef;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get a row style to apply to alternated rows\n   * @param {*} _\n   * @param {Int} rowIndex : the rowIndex\n   * @returns\n   */\n  const getRowStyle = (_, rowIndex) => {\n    return (\n      rowIndex % 2 !== 0 && {\n        backgroundColor: theme.nodeEditor.stripeColor\n      }\n    );\n  };\n\n  // TODO Dependent on backend ticket: https://movai.atlassian.net/browse/BP-546\n  // const openOpenedDetails = useCallback(() => {\n  //   const tableData = tableRef.current?.state?.data;\n  //   if (!tableData) return;\n  //   tableData.forEach((row, i) => {\n  //     if (openedPanels.current[row.id])\n  //       toggleDetailPanelHandler.current([i], openedPanels.current[row.id]);\n  //   });\n  // }, [tableRef]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    if (!toggleDetailPanelHandler.current) {\n      toggleDetailPanelHandler.current = tableRef.current?.onToggleDetailPanel;\n    }\n\n    if (\n      toggleDetailPanelHandler.current === tableRef.current?.onToggleDetailPanel\n    ) {\n      tableRef.current.onToggleDetailPanel = (path, render) => {\n        const index = tableRef.current.state.data[path[0]]?.id || path[0];\n        if (openedPanels.current[index]) {\n          delete openedPanels.current[index];\n        } else {\n          openedPanels.current[index] = render;\n        }\n\n        toggleDetailPanelHandler.current(path, render);\n      };\n    }\n  }, [tableRef]);\n\n  // TODO while faking id's works in the meanwhile, deep stuff, like checking after new data comes\n  // for id, makes faking id's not work. This is dependent on backend ticket: https://movai.atlassian.net/browse/BP-546\n  // useEffect(() => {\n  //   openOpenedDetails(data);\n  // }, [data, openOpenedDetails]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div className={classes.tableContainer}>\n      <MaterialTableCore\n        tableRef={tableRef}\n        title={title}\n        detailPanel={detailPanel}\n        columns={columns}\n        actions={actions}\n        editable={editable}\n        components={components}\n        data={data}\n        options={{\n          ...options,\n          rowStyle: getRowStyle,\n          search: true,\n          searchFieldAlignment: \"left\",\n          actionsCellStyle: {\n            textAlign: \"right\",\n            color: theme.palette.primary.main\n          },\n          actionsColumnIndex: -1,\n          draggable: false,\n          grouping: false,\n          paging: false\n        }}\n        localization={{\n          toolbar: { searchPlaceholder: t(\"Search\") },\n          pagination: {\n            labelDisplayedRows: \"{from}-{to} of {count}\"\n          },\n          header: {\n            actions: t(\"Actions\")\n          },\n          body: {\n            emptyDataSourceMessage: t(\"NoRecordsMessage\"),\n            deleteTooltip: t(\"Delete\"),\n            editTooltip: t(\"Edit\"),\n            addTooltip: t(\"Add\"),\n            editRow: {\n              cancelTooltip: t(\"Cancel\"),\n              saveTooltip: t(\"Confirm\")\n            }\n          }\n        }}\n      />\n    </div>\n  );\n});\n\nMaterialTable.propTypes = {\n  data: PropTypes.array,\n  options: PropTypes.object\n};\n\nMaterialTable.defaultProps = {\n  options: {},\n  data: []\n};\n\nexport default memo(MaterialTable);\n","import React, { useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { shortcutsTableStyles } from \"../styles\";\nimport MaterialTable from \"../../../editors/_shared/MaterialTable/MaterialTable\";\nimport { parseKeybinds } from \"../../../utils/Utils\";\n\nconst ShortcutsTable = props => {\n  const { data, scope } = props;\n\n  // Translation hook\n  const { t } = useTranslation();\n  // Style hook\n  const classes = shortcutsTableStyles();\n  const columns = useRef(getColumns());\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  function getColumns() {\n    return [\n      {\n        title: t(\"Label\"),\n        field: \"label\"\n      },\n      {\n        title: t(\"Description\"),\n        field: \"description\"\n      },\n      {\n        title: t(\"Shortcut\"),\n        field: \"shortcut\",\n        render: rd => parseKeybinds(rd.shortcut, \", \")\n      }\n    ];\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Paper className={classes.paper}>\n      <div className={classes.columnTitle}>\n        <strong>{scope.label}</strong> - {t(\"ShortcutsTabTitle\")}\n      </div>\n      <Divider />\n      <div className={classes.columnBody}>\n        <p className={classes.description}>{scope.description}</p>\n        <MaterialTable columns={columns.current} data={data} />\n      </div>\n    </Paper>\n  );\n};\n\nShortcutsTable.propTypes = {\n  call: PropTypes.func\n};\n\nexport default ShortcutsTable;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withViewPlugin } from \"../../engine/ReactPlugin/ViewReactPlugin\";\nimport { PLUGINS, SHORTCUTS_PROFILE } from \"../../utils/Constants\";\nimport ShortcutsList from \"./components/ShortcutsList\";\nimport ShortcutsTable from \"./components/ShortcutsTable\";\nimport { KEYBINDINGS } from \"../../utils/shortcuts\";\n\nimport { shortcutsStyles } from \"./styles\";\n\nconst AppShortcuts = props => {\n  const { call, off, on } = props;\n\n  // Hooks\n  const shortcutsData = useRef(formatData(KEYBINDINGS));\n  const [selectedScope, setSelectedScope] = useState(KEYBINDINGS.GENERAL.NAME);\n\n  // Style hook\n  const classes = shortcutsStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  function formatData(data) {\n    const formattedData = {\n      scopes: []\n    };\n    Object.values(data).forEach(value => {\n      formattedData.scopes.push({\n        id: value.NAME,\n        label: value.LABEL,\n        description: value.DESCRIPTION\n      });\n      formattedData[value.NAME] = [];\n\n      Object.values(value.KEYBINDS).forEach(keybind => {\n        formattedData[value.NAME].push({\n          id: keybind.NAME,\n          label: keybind.LABEL,\n          description: keybind.DESCRIPTION,\n          shortcut: keybind.SHORTCUTS\n        });\n      });\n    });\n\n    return formattedData;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    call(PLUGINS.RIGHT_DRAWER.NAME, PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS);\n    on(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE, data => {\n      if (data.id === SHORTCUTS_PROFILE.name) {\n        call(\n          PLUGINS.RIGHT_DRAWER.NAME,\n          PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS\n        );\n      }\n    });\n    return () => {\n      off(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE);\n    };\n  }, [call, on, off]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Renders                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_shortcuts\" className={classes.root}>\n      <div className={classes.body}>\n        <div className={classes.smallColumn}>\n          <ShortcutsList\n            scopes={shortcutsData.current.scopes}\n            setSelectedScope={setSelectedScope}\n            selectedScope={selectedScope}\n          />\n        </div>\n        <div className={classes.bigColumn}>\n          <ShortcutsTable\n            scope={shortcutsData.current.scopes.find(\n              s => s.id === selectedScope\n            )}\n            data={shortcutsData.current[selectedScope]}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nAppShortcuts.propTypes = {\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired\n};\n\nconst ShortcutsPlugin = withViewPlugin(AppShortcuts);\n\nexport default ShortcutsPlugin;\n\n/**\n * Get welcome tab data\n * @returns {TabData} Data used to create tab\n */\nexport const getShortcutsTab = () => {\n  return {\n    ...SHORTCUTS_PROFILE,\n    id: SHORTCUTS_PROFILE.name,\n    name: SHORTCUTS_PROFILE.title,\n    tabTitle: SHORTCUTS_PROFILE.title,\n    scope: SHORTCUTS_PROFILE.name,\n    extension: \"\"\n  };\n};\n","import i18n from \"../../../../i18n/i18n\";\nimport AppSettings from \"../../../../App/AppSettings\";\nimport { PLUGINS } from \"../../../../utils/Constants\";\nimport movaiIconWhite from \"../../../../Branding/movai-logo-white.png\";\nimport { getHomeTab } from \"../../../../tools/HomeTab/HomeTab\";\nimport { getShortcutsTab } from \"../../../../tools/AppShortcuts/AppShortcuts\";\nimport { getToolTabData } from \"../../../../tools\";\n\n//========================================================================================\n/*                                                                                      *\n *                                    Private Methods                                   *\n *                                                                                      */\n//========================================================================================\n\nfunction renderPopupInfo(classes) {\n  return (\n    <div className={classes.contentHolder}>\n      <p>\n        {i18n.t(\"Version-Colon\")} {AppSettings.APP_INFORMATION.VERSION}\n      </p>\n      <p>\n        {i18n.t(\"LastUpdate-Colon\")} {AppSettings.APP_INFORMATION.LAST_UPDATE}\n      </p>\n      <p>\n        {i18n.t(\"ConfigurationFile-Colon\")}{\" \"}\n        {AppSettings.APP_INFORMATION.CONFIGURATION_FILE}\n      </p>\n      <p>\n        {i18n.t(\"CustomConfigurationFile-Colon\")}\n        {AppSettings.APP_INFORMATION.CUSTOM_CONFIGURATION_FILE}\n      </p>\n      <p>\n        {i18n.t(\"AppDescription\")}: {AppSettings.APP_INFORMATION.DESCRIPTION}\n      </p>\n    </div>\n  );\n}\n\n//========================================================================================\n/*                                                                                      *\n *                                    Exposed Methods                                   *\n *                                                                                      */\n//========================================================================================\n\nexport function saveDocument(call) {\n  call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.SAVE_ACTIVE_EDITOR);\n}\n\nexport function saveAllDocument(call) {\n  call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.SAVE_DIRTIES);\n}\n\nexport function aboutPopup(call, classes) {\n  call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.ALERT, {\n    title: (\n      <>\n        <img\n          className={classes.movaiIcon}\n          src={movaiIconWhite}\n          alt=\"MOV.AI Logo\"\n        />\n        <span>{AppSettings.NAME}</span>\n      </>\n    ),\n    message: renderPopupInfo(classes),\n    submitText: i18n.t(\"Ok\")\n  });\n}\n\nexport function openLink(link) {\n  window.open(link, \"_blank\");\n}\n\n/**\n * Open Tool tab\n * @param {function} call : Plugin call method\n * @param {string} toolName : Tool Unique Name\n */\nexport function openTool(call, toolName) {\n  const tabData = getToolTabData({ id: toolName });\n  call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN, tabData);\n}\n\n/**\n * Open Welcome tab\n */\nexport function openWelcomeTab(call) {\n  const homeTab = getHomeTab();\n  call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN, homeTab);\n}\n\n/**\n * Open Shortcuts tab\n */\nexport function openShortcutsTab(call) {\n  const shortcutsTab = getShortcutsTab();\n  call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN, shortcutsTab);\n}\n","import i18n from \"../../../../i18n/i18n\";\nimport { getSystemBarTools, hasTool } from \"../../../../tools\";\nimport AppSettings from \"../../../../App/AppSettings\";\nimport { parseKeybinds } from \"../../../../utils/Utils\";\nimport {\n  HOMETAB_PROFILE,\n  SHORTCUTS_PROFILE\n} from \"../../../../utils/Constants\";\nimport { KEYBINDINGS } from \"../../../../utils/shortcuts\";\nimport { buildNewFileSubmenu } from \"./buildSubMenus\";\nimport {\n  saveDocument,\n  saveAllDocument,\n  aboutPopup,\n  openLink,\n  openTool\n} from \"./buildFunctions\";\n\nconst buildMenus = async (call, classes) => {\n  const buildFileMenu = async () => {\n    return {\n      id: \"fileMenu\",\n      title: \"File\",\n      data: [\n        {\n          id: \"newFile\",\n          title: i18n.t(\"NewDoc\"),\n          data: await buildNewFileSubmenu(call)\n        },\n        // Get the last 10 and show them here\n        // {\n        //   id: \"openRecentFiles\",\n        //   title: i18n.t(\"OpenRecent\")\n        //   data: async () => await buildRecentFilesSubmenu(call, classes)\n        // },\n        // {},\n        {},\n        {\n          id: \"saveFile\",\n          title: i18n.t(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.SAVE.LABEL),\n          keybind: parseKeybinds(\n            KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS\n          ),\n          callback: () => saveDocument(call)\n        },\n        {\n          id: \"saveAllFiles\",\n          title: i18n.t(KEYBINDINGS.GENERAL.KEYBINDS.SAVE_ALL.LABEL),\n          keybind: parseKeybinds(\n            KEYBINDINGS.GENERAL.KEYBINDS.SAVE_ALL.SHORTCUTS\n          ),\n          callback: () => saveAllDocument(call)\n        }\n      ]\n    };\n  };\n\n  // TODO add this later\n  // function buildEditMenu() {\n  //   return {\n  //     id: \"editMenu\",\n  //     title: \"Edit\",\n  //     data: [\n  //       {\n  //         id: \"copy\",\n  //         title: i18n.t(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.COPY.LABEL),\n  //         keybind: parseKeybinds(\n  //           KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.COPY.SHORTCUTS\n  //         )\n  //         // callback: () => copyCode(call)\n  //       },\n  //       {\n  //         id: \"paste\",\n  //         title: i18n.t(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.PASTE.LABEL),\n  //         keybind: parseKeybinds(\n  //           KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.PASTE.SHORTCUTS\n  //         )\n  //         // callback: () => pasteCode(call)\n  //       }\n  //     ]\n  //   };\n  // }\n\n  // TODO complete this menu by editor (Flow is halfway)\n  // const buildInnerMenus = () => {\n  //   const innerMenus = [];\n  //   switch (activeEditorScope) {\n  //     case SCOPES.CALLBACK:\n  //       break;\n  //     case SCOPES.CONFIGURATION:\n  //       break;\n  //     case SCOPES.FLOW:\n  //       innerMenus.push({\n  //         id: \"flowMenu\",\n  //         title: \"Flow\",\n  //         data: [\n  //           // We should not limit the recent file stack to 10, but rather filter by 10 to show on Hometab\n  //           // Then we can get the last 10 by scope (in this case Flow) and show them here\n  //           // {\n  //           //   id: \"openRecentFlows\",\n  //           //   title: i18n.t(\"OpenRecent\")\n  //           //   data: async () => await buildRecentFlowsSubmenu(call, classes)\n  //           // },\n  //           // {},\n  //           {\n  //             id: \"copyNode\",\n  //             title: i18n.t(KEYBINDINGS.FLOW.KEYBINDS.COPY_NODE.LABEL),\n  //             keybind: parseKeybinds(\n  //               KEYBINDINGS.FLOW.KEYBINDS.COPY_NODE.SHORTCUTS\n  //             )\n  //             // callback: () => copyNode(call)\n  //           },\n  //           {\n  //             id: \"pasteNode\",\n  //             title: i18n.t(KEYBINDINGS.FLOW.KEYBINDS.PASTE_NODE.LABEL),\n  //             keybind: parseKeybinds(\n  //               KEYBINDINGS.FLOW.KEYBINDS.PASTE_NODE.SHORTCUTS\n  //             )\n  //             // callback: () => pasteNode(call)\n  //           }\n  //         ]\n  //       });\n  //       break;\n  //     case SCOPES.NODE:\n  //       break;\n  //     default:\n  //       break;\n  //   }\n  //   return innerMenus;\n  // };\n\n  function buildHelpMenu() {\n    const hasHomeTab = hasTool(HOMETAB_PROFILE.name);\n    const hasShortcutsTab = hasTool(SHORTCUTS_PROFILE.name);\n    const hasDocumentation = Boolean(AppSettings.HELP.DOCUMENTATION);\n    const hasForum = Boolean(AppSettings.HELP.FORUM);\n    return {\n      id: \"helpMenu\",\n      title: \"Help\",\n      data: [\n        hasHomeTab\n          ? {\n              id: \"getStarted\",\n              title: i18n.t(\n                KEYBINDINGS.GENERAL.KEYBINDS.OPEN_WELCOME_TAB.LABEL\n              ),\n              keybind: parseKeybinds(\n                KEYBINDINGS.GENERAL.KEYBINDS.OPEN_WELCOME_TAB.SHORTCUTS\n              ),\n              callback: () => openTool(call, HOMETAB_PROFILE.name)\n            }\n          : null,\n        hasShortcutsTab\n          ? {\n              id: \"keyboardShortcuts\",\n              title: i18n.t(\n                KEYBINDINGS.GENERAL.KEYBINDS.OPEN_SHORTCUTS_TAB.LABEL\n              ),\n              keybind: parseKeybinds(\n                KEYBINDINGS.GENERAL.KEYBINDS.OPEN_SHORTCUTS_TAB.SHORTCUTS\n              ),\n              callback: () => openTool(call, SHORTCUTS_PROFILE.name)\n            }\n          : null,\n        hasHomeTab || hasShortcutsTab ? {} : null,\n\n        hasDocumentation\n          ? {\n              id: \"documentation\",\n              title: i18n.t(\"Documentation\"),\n              externalLink: true,\n              callback: () => openLink(AppSettings.HELP.DOCUMENTATION)\n            }\n          : null,\n        hasForum\n          ? {\n              id: \"forum\",\n              title: i18n.t(\"Forum\"),\n              externalLink: true,\n              callback: () => openLink(AppSettings.HELP.FORUM)\n            }\n          : null,\n        hasDocumentation || hasForum ? {} : null,\n        {\n          id: \"about\",\n          title: i18n.t(\"About\"),\n          callback: () => aboutPopup(call, classes)\n        }\n      ].filter(el => el)\n    };\n  }\n\n  function buildToolsMenu() {\n    return {\n      id: \"toolsMenu\",\n      title: i18n.t(\"Tools\"),\n      data: getSystemBarTools().map(tool => ({\n        id: tool.id,\n        title: tool.profile.title,\n        callback: () => openTool(call, tool.profile.name)\n      }))\n    };\n  }\n\n  async function buildMenu() {\n    const menu = [];\n    // TODO complete this menu by editor (Flow is halfway)\n    // const innerMenus = buildInnerMenus();\n\n    menu.push(await buildFileMenu());\n    // TODO add this later\n    // menu.push(buildEditMenu());\n    // innerMenus.length && menu.push(...innerMenus);\n    menu.push(buildHelpMenu());\n    // Add tools menu\n    const tools = buildToolsMenu();\n    if (tools.data.length) menu.push(tools);\n\n    return menu;\n  }\n\n  return buildMenu();\n};\n\nexport default buildMenus;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport Button from \"@material-ui/core/Button\";\nimport { withViewPlugin } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport SystemMenu from \"./Components/SystemMenu\";\nimport buildMenus from \"./builder/buildMenus\";\n\nimport { systemBarStyles, helpDialogStyles } from \"./styles\";\nimport { PLUGINS } from \"../../../utils/Constants\";\n\nconst SystemBar = props => {\n  const { debugMode, call, on } = props;\n  // State Hooks\n  const [openedMenuId, setOpenedMenuId] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [systemMenus, setSystemMenus] = useState(false);\n\n  // Other Hooks\n  const classes = systemBarStyles(debugMode)();\n  const dialogClasses = helpDialogStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private function to handle the menu close\n   */\n  const closeMenu = useCallback(evt => {\n    const hasMenuId = evt.target.parentElement.dataset?.menuId;\n    if (!hasMenuId) {\n      setOpenedMenuId(null);\n      setAnchorEl(null);\n      setMenuOpen(false);\n    }\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handler to control the opened menu\n   * @param {object} evt\n   */\n  const handleClickMenu = useCallback(\n    evt => {\n      setMenuOpen(_prevState => {\n        let newState = false;\n        let newMenuId = null;\n        let newAnchorEl = null;\n\n        if (evt.currentTarget.dataset.menuId !== openedMenuId) {\n          newState = true;\n          newMenuId = evt.currentTarget.dataset.menuId;\n          newAnchorEl = evt.currentTarget;\n        }\n\n        setOpenedMenuId(newMenuId);\n        setAnchorEl(newAnchorEl);\n\n        return newState;\n      });\n    },\n    [openedMenuId]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Component Did Mount\n   */\n  useEffect(() => {\n    on(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE, tab => {\n      buildMenus(call, dialogClasses).then(data => {\n        setSystemMenus(data);\n      });\n    });\n  }, [on, call, dialogClasses]);\n\n  return (\n    <>\n      {systemMenus && (\n        <div data-testid=\"section_system-bar\" className={classes.systemBar}>\n          {systemMenus.map(menu => {\n            const activeButtonClass =\n              openedMenuId === menu.id ? classes.activeMenu : \"\";\n            return (\n              <Button\n                data-testid=\"input_menu-item\"\n                key={menu.id}\n                className={`${classes.menuButton} ${activeButtonClass}`}\n                onClick={handleClickMenu}\n                data-menu-id={menu.id}\n              >\n                {t(menu.title)}\n              </Button>\n            );\n          })}\n          {menuOpen && openedMenuId && (\n            <SystemMenu\n              data-testid=\"section_sub-menu\"\n              menuOpen={menuOpen}\n              anchorEl={anchorEl}\n              data={systemMenus.find(menu => menu.id === openedMenuId)?.data}\n              closeMenu={closeMenu}\n            />\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default withViewPlugin(SystemBar);\n\nSystemBar.propTypes = {\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withHostReactPlugin } from \"../../../engine/ReactPlugin/HostReactPlugin\";\n\nconst AlertPanel = props => {\n  const { viewPlugins, hostName, style, className } = props;\n  return (\n    <div id={hostName} style={{ ...style }} className={className}>\n      {viewPlugins}\n    </div>\n  );\n};\n\nexport default withHostReactPlugin(AlertPanel);\n\nAlertPanel.propTypes = {\n  hostName: PropTypes.string.isRequired\n};\n\nAlertPanel.defaultProps = {\n  hostName: \"alertPanel\"\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/typeof\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Search\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Clear\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const searchStyles = makeStyles(theme => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n  input: {\n    marginLeft: 10,\n    flex: 1,\n    \"& input::placeholder\": {\n      color: theme.backdrop.color\n    }\n  },\n  iconButton: { padding: 10 },\n  icon: {\n    color: theme.palette.primary.main\n  }\n}));\n","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { TextField, IconButton, Tooltip } from \"@material-ui/core\";\nimport { DATA_TYPES } from \"../../Constants\";\n\nimport { searchStyles } from \"./styles\";\n\n/**\n * Normalize string\n * @param {*} str\n * @returns\n */\nconst normalizeString = str => {\n  return str\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .toLowerCase();\n};\n\n/**\n *\n * @param {*} searchQuery\n * @param {*} subject\n * @returns\n */\nfunction filter(searchQuery, subject) {\n  // Normalize search query\n  searchQuery = normalizeString(searchQuery);\n\n  /**\n   * Search in numbers and booleans\n   * @returns {boolean} True if searchQuery is found in stringified subject\n   */\n  const searchNonStrings = () => {\n    subject = normalizeString(subject.toString());\n    return subject.includes(searchQuery);\n  };\n\n  switch (typeof subject) {\n    case DATA_TYPES.STRING:\n      subject = normalizeString(subject);\n      return subject.includes(searchQuery);\n\n    case DATA_TYPES.OBJECT:\n      // Is array\n      if (Array.isArray(subject)) {\n        subject = subject?.filter(e => {\n          const value = filter(searchQuery, e);\n\n          if (typeof value === DATA_TYPES.BOOLEAN) return value;\n\n          return Boolean(value?.length !== 0);\n        });\n        return subject;\n      }\n\n      // Is an object\n      const values = Object.values(subject || {});\n      const list = filter(searchQuery, values);\n      return list.length > 0 ? subject : false;\n\n    case DATA_TYPES.NUMBER:\n      return searchNonStrings();\n    case DATA_TYPES.BOOLEAN:\n      return searchNonStrings();\n\n    default:\n      return subject;\n  }\n}\n\nconst Search = props => {\n  const { onSearch } = props;\n\n  // State hooks\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  // Translation hook\n  const { t } = useTranslation();\n  // Style hook\n  const classes = searchStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Resets the search value\n   */\n  const resetValue = () => {\n    setSearchInput(\"\");\n    onSearch(\"\");\n  };\n\n  /**\n   * Simple check to see if there's any value on searchInput\n   * @returns {Boolean} true if there's any value on the search\n   */\n  const isEmpty = () => {\n    return searchInput === null || searchInput.trim() === \"\";\n  };\n\n  const doSearch = value => {\n    setSearchInput(value);\n    onSearch(value);\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle on change search input event\n   * @param {*} event\n   */\n  const onChangeSearch = event => {\n    const value = event.target.value;\n    doSearch(value);\n  };\n\n  return (\n    <TextField\n      fullWidth\n      placeholder={t(\"Search\")}\n      value={searchInput}\n      onChange={onChangeSearch}\n      inputProps={{ \"data-testid\": \"input_search\" }}\n      InputProps={{\n        endAdornment: (\n          <IconButton\n            data-testid=\"input_reset-search\"\n            className={classes.iconButton}\n            onClick={resetValue}\n          >\n            {isEmpty() ? (\n              <Tooltip title={t(\"SearchSomething\")}>\n                <SearchIcon className={classes.icon} />\n              </Tooltip>\n            ) : (\n              <Tooltip title={t(\"ResetSearch\")}>\n                <ClearIcon className={classes.icon} />\n              </Tooltip>\n            )}\n          </IconButton>\n        )\n      }}\n    />\n  );\n};\n\nexport default Search;\nexport { filter };\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-window\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-virtualized-auto-sizer\");","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FixedSizeList } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { DEFAULT_EXPLORER_ROW_HEIGHT } from \"../../../../../utils/Constants\";\n\nimport { virtualizedTreeStyles } from \"./styles\";\n\nconst VirtualizedTree = props => {\n  const { itemData, rowRender, fixedHeight, fixedWidth } = props;\n\n  // Style hook\n  const classes = virtualizedTreeStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Renders                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Default row render function\n   * @param {*} rowProps\n   * @returns {JSX} To be rendered\n   */\n  const defaultRow = rowProps => {\n    const { index, style, data } = rowProps;\n    return (\n      <div className={classes.listItem} style={style}>\n        {data[index].label} {index}\n      </div>\n    );\n  };\n\n  return (\n    <AutoSizer>\n      {({ height, width }) => {\n        return (\n          <FixedSizeList\n            height={fixedHeight ?? height}\n            width={fixedWidth ?? width}\n            itemCount={itemData.length}\n            itemData={itemData}\n            itemSize={DEFAULT_EXPLORER_ROW_HEIGHT}\n          >\n            {rowRender ?? defaultRow}\n          </FixedSizeList>\n        );\n      }}\n    </AutoSizer>\n  );\n};\n\nVirtualizedTree.propTypes = {\n  itemData: PropTypes.array.isRequired,\n  rowRender: PropTypes.func,\n  fixedHeight: PropTypes.number,\n  fixedWidth: PropTypes.number\n};\n\nexport default VirtualizedTree;\n","export const virtualizedTreeStyles = _theme => ({\n  listItem: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { DEFAULT_EXPLORER_ROW_HEIGHT } from \"../../../../../utils/Constants\";\n\nexport const listItemsTreeWithSearchStyles = makeStyles(_theme => ({\n  list: {\n    paddingLeft: \"0px\",\n    paddingRight: \"0px\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  listHolder: {\n    height: \"100%\",\n    paddingBottom: \"10px\"\n  }\n}));\n\nexport const itemRowStyles = makeStyles(theme => ({\n  listItem: {\n    height: DEFAULT_EXPLORER_ROW_HEIGHT,\n    cursor: \"pointer\"\n  },\n  spaceBetween: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-between\"\n  },\n  preContainer: {\n    paddingLeft: \"20px\",\n    boxSizing: \"border-box\",\n    justifyContent: \"space-between\",\n    \"& button\": {\n      display: \"none\"\n    },\n    \"&:hover\": {\n      backgroundColor: `${theme.palette.primary.main}26`,\n      \"& button\": {\n        display: \"inline-flex\"\n      }\n    }\n  },\n  ellipsis: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    flex: 2\n  },\n  displayContents: {\n    display: \"contents\"\n  },\n  iconSpace: {\n    flex: 1,\n    textAlign: \"right\",\n    maxWidth: 38,\n    \"& button\": {\n      position: \"relative\",\n      bottom: 7,\n      padding: 7\n    }\n  },\n  contextMenuIcon: {\n    color: \"white\",\n    fontSize: 18\n  }\n}));\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/MoreHoriz\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/DeleteOutline\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/FileCopy\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ExpandMore\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ChevronRight\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Box\");","import React, { useEffect, useState, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { ContextMenu } from \"@mov-ai/mov-fe-lib-react\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { stopPropagation } from \"../../../../../utils/Utils\";\n\nimport { itemRowStyles } from \"./styles\";\n\nconst ItemRow = props => {\n  const { showIcons, style, node } = props;\n\n  const textElementRef = useRef();\n  // Define state and function to update the value\n  const [hoverStatus, setHover] = useState(false);\n\n  // Style hook\n  const classes = itemRowStyles();\n\n  // Translation hook\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Compare size of the text element\n   */\n  const compareSize = () => {\n    const compare =\n      textElementRef.current.scrollWidth > textElementRef.current.clientWidth;\n    setHover(compare);\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle on node mouse enter\n   */\n  const handleNodeMouseEnter = () => {\n    props.onMouseEnter && props.onMouseEnter(node);\n  };\n\n  /**\n   * Handle on node mouse leave\n   */\n  const handleNodeMouseLeave = () => {\n    props.onMouseLeave && props.onMouseLeave(node);\n  };\n\n  /**\n   * Handle on node click\n   */\n  const handleNodeMouseClick = () => {\n    props.onClickNode && props.onClickNode(node);\n  };\n\n  /**\n   * Handle on node double click\n   */\n  const handleNodeMouseDoubleClick = () => {\n    props.onDoubleClickNode && props.onDoubleClickNode(node);\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  // Component did mount\n  useEffect(() => {\n    compareSize();\n    window.addEventListener(\"resize\", compareSize);\n    return () => {\n      window.removeEventListener(\"resize\", compareSize);\n    };\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Renders                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div\n      data-testid=\"input_node\"\n      style={style}\n      onMouseEnter={handleNodeMouseEnter}\n      onMouseLeave={handleNodeMouseLeave}\n      onClick={handleNodeMouseClick}\n      onDoubleClick={handleNodeMouseDoubleClick}\n      p={2}\n      className={`${classes.listItem} ${\n        !node.children ? classes.preContainer : \"\"\n      }`}\n    >\n      <Box p={1} className={classes.inlineFlex}>\n        <Grid alignContent={\"space-between\"} container>\n          {node.children &&\n            (node.state?.expanded ? <ExpandMoreIcon /> : <ChevronRightIcon />)}\n\n          <div\n            className={\n              !node.children ? classes.spaceBetween : classes.displayContents\n            }\n          >\n            <Tooltip\n              arrow\n              title={node.title}\n              disableFocusListener={!hoverStatus}\n              disableHoverListener={!hoverStatus}\n              disableTouchListener={!hoverStatus}\n              placement=\"right-start\"\n            >\n              <div ref={textElementRef} className={classes.ellipsis}>\n                {node.title}\n              </div>\n            </Tooltip>\n            {showIcons && !node.children && (\n              <div className={classes.iconSpace}>\n                <ContextMenu\n                  styledMenuProps={{\n                    anchorOrigin: {\n                      vertical: \"bottom\",\n                      horizontal: \"center\"\n                    },\n                    transformOrigin: {\n                      vertical: \"top\",\n                      horizontal: \"center\"\n                    }\n                  }}\n                  element={\n                    <IconButton onClick={stopPropagation}>\n                      <MoreHorizIcon />\n                    </IconButton>\n                  }\n                  menuList={[\n                    {\n                      onClick: _evt => {\n                        props.handleCopyClick(node);\n                      },\n                      icon: (\n                        <FileCopyIcon className={classes.contextMenuIcon} />\n                      ),\n                      element: t(\"Copy\")\n                    },\n                    {\n                      onClick: () => {\n                        props.handleDeleteClick(node);\n                      },\n                      icon: <DeleteIcon className={classes.contextMenuIcon} />,\n                      element: t(\"Delete\")\n                    }\n                    // {\n                    //   onClick: () => {\n                    //     props.handleCompareClick(node);\n                    //   },\n                    //   icon: <CompareIcon fontSize=\"small\" />,\n                    //   label: t(\"Compare\")\n                    // }\n                  ]}\n                />\n              </div>\n            )}\n          </div>\n        </Grid>\n      </Box>\n    </div>\n  );\n};\n\nItemRow.propTypes = {\n  style: PropTypes.object.isRequired,\n  node: PropTypes.object.isRequired,\n  showIcons: PropTypes.bool\n};\n\nexport default ItemRow;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Divider, List, ListItem } from \"@material-ui/core\";\nimport Search from \"../../../../../utils/components/Search/Search\";\nimport VirtualizedTree from \"../VirtualizedTree/VirtualizedTree\";\n\nimport { listItemsTreeWithSearchStyles } from \"./styles\";\nimport ItemRow from \"./ItemRow\";\n\nexport function toggleExpandRow(node, data) {\n  // Toggle the expansion of the clicked panel«\n  const nextData = [...data];\n  const isExpanded = data[node.id]?.state?.expanded ?? false;\n  nextData[node.id].state = {\n    ...nextData[node.id].state,\n    expanded: !isExpanded\n  };\n\n  // Close other panels\n  data\n    .filter(elem => elem.id !== node.id)\n    .forEach(panel => {\n      nextData[panel.id].state = {\n        ...nextData[panel.id].state,\n        expanded: false\n      };\n    });\n  return nextData;\n}\n\nconst ListItemsTreeWithSearch = props => {\n  const { data } = props;\n\n  // State hooks\n  const [itemData, setItemData] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  // Style hook\n  const classes = listItemsTreeWithSearchStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Takes in an array to normalize, returns normalized array\n   * @param {Array} dataToNormalize : data that we want to normalize\n   * @returns {Array} normalized data\n   */\n  function normalizeData(dataToNormalize) {\n    const finalData = [];\n\n    dataToNormalize.forEach(node => {\n      finalData.push(node);\n      if (node.state?.expanded && node.children) {\n        node.children\n          // We'll sort the children array first to avoid opened file being set in first position\n          .sort((a, b) => a.name.localeCompare(b.name))\n          .forEach(childNode => {\n            finalData.push({\n              ...childNode,\n              id: `${childNode.scope}_${childNode.id}`\n            });\n          });\n      }\n    });\n\n    return finalData;\n  }\n\n  /**\n   * Filters given array of data\n   * @param {Array} searchData : data that we want to filter from\n   * @param {String} value : string to filter by\n   * @return {Array} filtered array\n   */\n  const searchFilter = useCallback((searchData, value = \"\") => {\n    const valueLower = value.toLowerCase();\n    const filteredNodes = searchData\n      .filter(\n        node =>\n          (!node.name.includes(\"@SM\") &&\n            node.name.toLowerCase().includes(valueLower)) ||\n          node.children.findIndex(ch =>\n            ch.name.toLowerCase().includes(valueLower)\n          ) >= 0\n      )\n      .map(node => {\n        return {\n          ...node,\n          children: (node?.children ?? []).filter(\n            ch =>\n              ch.name &&\n              !ch.name.includes(\"@SM\") &&\n              (node.name.toLowerCase().includes(valueLower) ||\n                ch.name.toLowerCase().includes(valueLower))\n          )\n        };\n      });\n\n    // Add children id if missing\n    filteredNodes.forEach(node => {\n      node.children.forEach((child, i) => {\n        child.id = child.id ?? i;\n        child.url = child.url ?? child.id;\n        if (child.children) {\n          child.children.forEach((grandChild, j) => {\n            grandChild.id = grandChild.id ?? j;\n            grandChild.url = grandChild.url ?? grandChild.id;\n          });\n        }\n      });\n    });\n\n    return normalizeData(filteredNodes);\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Search handler\n   * @param {String} searchValue : String used to search\n   */\n  const handleOnSearch = searchValue => {\n    setSearchInput(searchValue);\n    setItemData(searchFilter(data, searchValue));\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Will trigger mostly when data changes\n   */\n  useEffect(() => {\n    setItemData(searchFilter(data, searchInput));\n  }, [data, searchInput, searchFilter, setItemData]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Renders                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Row render function\n   * @param {*} rowProps\n   * @returns {JSX<ItemRow>} To be rendered\n   */\n  const renderRow = rowProps => {\n    const { index, style, data: rowData } = rowProps;\n    const node = rowData[index];\n\n    return <ItemRow node={node} {...props} style={style} />;\n  };\n\n  return (\n    <List className={classes.list} dense={true} component=\"div\">\n      <ListItem>\n        <Search onSearch={handleOnSearch} />\n      </ListItem>\n      <Divider />\n      <div className={classes.listHolder}>\n        <VirtualizedTree itemData={itemData} rowRender={renderRow} />\n      </div>\n    </List>\n  );\n};\n\nListItemsTreeWithSearch.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default ListItemsTreeWithSearch;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const explorerStyles = makeStyles(_theme => ({\n  typography: {\n    overflow: \"hidden\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    flex: \"1 1 auto\",\n    \"& + div\": {\n      height: \"0px\"\n    }\n  },\n  header: {\n    marginBottom: \"6px\",\n    \"& img\": {\n      maxWidth: \"65%\",\n      marginRight: \"10px\"\n    }\n  }\n}));\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { Typography } from \"@material-ui/core\";\nimport { withViewPlugin } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport { PLUGINS } from \"../../../utils/Constants\";\nimport AppSettings from \"../../../App/AppSettings\";\nimport ListItemsTreeWithSearch, {\n  toggleExpandRow\n} from \"./components/ListItemTree/ListItemsTreeWithSearch\";\nimport { explorerStyles } from \"./styles\";\n\nconst Explorer = props => {\n  const { call, on } = props;\n  const classes = explorerStyles();\n  const [data, setData] = useState([]);\n\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Push element into list in correct position\n   * @private function\n   * @param {Array} list\n   * @param {TreeNode} element\n   */\n  const pushSorted = useCallback((list, element) => {\n    /**\n     * Compare objects' name property to sort\n     * @param {*} a\n     * @param {*} b\n     * @returns\n     */\n    const compareByName = (a, b) => {\n      const nameA = a.name.toLowerCase();\n      const nameB = b.name.toLowerCase();\n      if (nameA < nameB) return -1;\n      if (nameA > nameB) return 1;\n      return 0;\n    };\n    // Insert element\n    list.push(element);\n    // Return sorted list\n    return list.sort(compareByName).map((x, i) => ({ ...x, id: i }));\n  }, []);\n\n  /**\n   * Delete document from local list\n   * @private function\n   * @param {{documentName: String, documentType: String}} docData\n   */\n  const deleteDocument = useCallback(docData => {\n    const { documentName, documentType } = docData;\n    setData(prevState => {\n      const newData = [...prevState];\n      // TODO: optimize time\n      const typeIndex = newData.findIndex(type => type.name === documentType);\n      if (typeIndex >= 0) {\n        const documentIndex = newData[typeIndex].children.findIndex(\n          doc => doc.name === documentName\n        );\n        if (documentIndex >= 0) {\n          newData[typeIndex].children.splice(documentIndex, 1);\n        }\n      }\n      return newData;\n    });\n  }, []);\n\n  /**\n   * Insert newly created document\n   * @private function\n   * @param {DocManager} docManager\n   * @param {{documentName: String, documentType: String}} docData\n   */\n  const addDocument = useCallback(\n    (_, docData) => {\n      const { documentName, documentType, document } = docData;\n      setData(prevState => {\n        // TODO: optimize time\n        const newData = [...prevState];\n        const typeIndex = newData.findIndex(type => type.name === documentType);\n        if (typeIndex >= 0) {\n          const documentIndex = newData[typeIndex].children.findIndex(\n            doc => doc.name === documentName\n          );\n          if (documentIndex < 0) {\n            pushSorted(newData[typeIndex].children, {\n              name: document.getName(),\n              title: document.getName(),\n              scope: document.getScope(),\n              url: document.getUrl()\n            });\n          }\n        }\n        return newData;\n      });\n    },\n    [pushSorted]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Expand tree or open document depending on have children or not\n   * @param {{id: String, deepness: String, url: String, name: String, scope: String}} node : Clicked node\n   */\n  const requestScopeVersions = useCallback(\n    node => {\n      if (node.children?.length) {\n        setData(toggleExpandRow(node, data));\n      } else {\n        call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n          id: node.url,\n          name: node.name,\n          scope: node.scope\n        });\n      }\n    },\n    [data, call]\n  );\n\n  /**\n   * Handle click to copy document\n   * @param {{name: string, scope: string}} node : Clicked document node\n   */\n  const handleCopy = useCallback(\n    node => {\n      const { name, scope } = node;\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.COPY_DOC, {\n        scope,\n        name,\n        onSubmit: newName =>\n          new Promise(resolve => {\n            call(\n              PLUGINS.DOC_MANAGER.NAME,\n              PLUGINS.DOC_MANAGER.CALL.COPY,\n              { name, scope },\n              newName\n            ).then(copiedDoc => {\n              resolve();\n              // Open copied document\n              requestScopeVersions({\n                scope,\n                deepness: 1,\n                name: copiedDoc.getName(),\n                url: copiedDoc.getUrl()\n              });\n            });\n          })\n      });\n    },\n    [call, requestScopeVersions]\n  );\n\n  /**\n   * Handle click to delete document\n   * @param {{name: string, scope: string}} node : Clicked document node\n   */\n  const handleDelete = useCallback(\n    node => {\n      const { name, scope } = node;\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CONFIRMATION, {\n        submitText: t(\"Delete\"),\n        title: t(\"DeleteDocConfirmationTitle\"),\n        onSubmit: () =>\n          call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.DELETE, {\n            name,\n            scope\n          }).catch(error =>\n            console.warn(\n              `Could not delete ${name} \\n ${error.statusText ?? error}`\n            )\n          ),\n        message: t(\"DeleteDocConfirmationMessage\", { docName: name })\n      });\n    },\n    [call, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React callbacks                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Load documents\n   * @param {DocManager} docManager\n   */\n  const loadDocs = useCallback(docManager => {\n    return setData(_ =>\n      docManager.getStores().map((store, id) => {\n        const { name, title } = store;\n        return {\n          id,\n          name,\n          title,\n          children: store.getDocs().map((doc, childId) => {\n            return {\n              id: childId,\n              name: doc.getName(),\n              title: doc.getName(),\n              scope: doc.getScope(),\n              url: doc.getUrl()\n            };\n          })\n        };\n      })\n    );\n  }, []);\n\n  /**\n   *\n   * @param {DocManager} docManager\n   * @param {{action: String, documentName: String, documentType: String}} docData\n   */\n  const updateDocs = useCallback(\n    (docManager, docData) => {\n      const { action } = docData;\n      const updateByActionMap = {\n        del: () => deleteDocument(docData),\n        set: () => addDocument(docManager, docData)\n      };\n      updateByActionMap[action] && updateByActionMap[action]();\n    },\n    [deleteDocument, addDocument]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React lifecycles                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.LOAD_DOCS, loadDocs);\n    on(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.ON.UPDATE_DOCS,\n      updateDocs\n    );\n  }, [on, loadDocs, updateDocs]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Render                                         *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <>\n      <h1 className={classes.header}>\n        <img src={AppSettings.LOGO} alt={AppSettings.APP_INFORMATION.LABEL} />\n      </h1>\n      <Typography\n        data-testid=\"section_explorer\"\n        component=\"div\"\n        className={classes.typography}\n      >\n        {data && (\n          <ListItemsTreeWithSearch\n            data={data}\n            onClickNode={requestScopeVersions}\n            handleCopyClick={handleCopy}\n            handleDeleteClick={handleDelete}\n            showIcons={true}\n          ></ListItemsTreeWithSearch>\n        )}\n      </Typography>\n    </>\n  );\n};\n\nexport default withViewPlugin(Explorer);\n\nExplorer.propTypes = {\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/AddBox\");","import React from \"react\";\nimport { defaultFunction } from \"./utils/Utils\";\n\nexport const MainContext = React.createContext({\n  selectedTheme: \"dark\",\n  handleToggleTheme: () => defaultFunction(\"handleToggleTheme\"),\n  handleLogOut: () => defaultFunction(\"handleLogOut\")\n});\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AABFmklEQVR4nO3dd7wlRZn/8U8dcpAkSJIMBpBgwuy6CEjGsCISlEVdFdQf5rQiuybEDCImkokgEkURA6ggKApXBEEkiSAgM4QRBphQz++P7rtchpm55/RT3VXnnO/79arXrsPt7qeqz+mqU10BRERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERkfIHUDbDFYCtgI2N9gI2CDAesDjgdWo/vtyCxw2B7gHmAHcbHBzgJuBUwPc0lnwIiIykAibAvsD69XP+vWAFaekJab8+YPAv4CZwN0Gt1I9728ErgGuDHBfl/GLQ4TNDN4c4TsGNxhYovSbCEvlzp+IiCxahKUMLk747L8pwncN3hLhSbnzJwsweG6ELxhcl/CmT013GTwxdz5FRGR6Busa/LOl+uCvEb5o8Lw4Br3oRTJY0+AjBn9t6SZPpvkRdsidXxER6V+E7Q3mt1w/XG9wqMGaufM7FiJsHuHbBnNavrFmYBEOy51nEREZnMFHu6gnDOZE+HaEzXPneSRFeGqEkw1iRzfU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\"","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const mainMenuStyles = makeStyles(theme => ({\n  mainMenuHolder: {\n    height: \"100%\"\n  },\n  icon: {\n    color: theme.palette.primary.main,\n    cursor: \"pointer\",\n    \"& svg\": {\n      color: theme.palette.primary.main\n    }\n  },\n  movaiIcon: {\n    padding: \"10px\",\n    width: \"25px\",\n    height: \"25px\"\n  }\n}));\n","import React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport {\n  VerticalBar,\n  ProfileMenu,\n  ContextMenu\n} from \"@mov-ai/mov-fe-lib-react\";\nimport TextSnippetIcon from \"@material-ui/icons/Description\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { withViewPlugin } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport { MainContext } from \"../../../main-context\";\nimport AppSettings from \"../../../App/AppSettings\";\nimport { PLUGINS, HOSTS } from \"../../../utils/Constants\";\nimport { getMainMenuTools } from \"../../../tools\";\nimport { getIconByScope } from \"../../../utils/Utils\";\nimport movaiIcon from \"../../../Branding/movai-logo-transparent.png\";\n\nimport { mainMenuStyles } from \"./styles\";\nimport { openTool } from \"../SystemBar/builder/buildFunctions\";\n\nconst MainMenu = props => {\n  const { call } = props;\n  // State hooks\n  const [docTypes, setDocTypes] = useState([]);\n  // Other hooks\n  const classes = mainMenuStyles();\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const { isDarkTheme, handleLogOut } = useContext(MainContext);\n  // Refs\n  const MENUS = [\n    {\n      name: PLUGINS.EXPLORER.NAME,\n      icon: _props => <TextSnippetIcon {..._props}></TextSnippetIcon>,\n      title: \"Explorer\",\n      isActive: true,\n      getOnClick: () => {\n        // Toggle left drawer\n        call(HOSTS.LEFT_DRAWER.NAME, HOSTS.LEFT_DRAWER.CALL.TOGGLE);\n      }\n    },\n    ...getMainMenuTools().map(tool => {\n      const Icon = tool.icon;\n      return {\n        name: tool.id,\n        icon: _props => <Icon {..._props} />,\n        title: tool.profile.title,\n        isActive: true,\n        getOnClick: () => {\n          // Open tool\n          openTool(call, tool.profile.name);\n        }\n      };\n    })\n  ];\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  // To run when component is initiated\n  useEffect(() => {\n    call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.GET_DOC_TYPES).then(\n      _docTypes => {\n        setDocTypes(_docTypes);\n      }\n    );\n  }, [call]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  const handleLogoutClick = useCallback(\n    () => handleLogOut(window.location.href),\n    [handleLogOut]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div className={classes.mainMenuHolder} data-testid=\"section_main-menu\">\n      <VerticalBar\n        unsetAccountAreaPadding={true}\n        backgroundColor={theme.palette.background.default}\n        upperElement={\n          <ContextMenu\n            element={\n              <Tooltip title={t(\"CreateNewDoc\")} placement=\"right\" arrow>\n                <AddBoxIcon\n                  id=\"mainMenuCreateNewDocument\"\n                  className={classes.icon}\n                ></AddBoxIcon>\n              </Tooltip>\n            }\n            menuList={docTypes.map(docType => ({\n              onClick: () =>\n                call(\n                  PLUGINS.DOC_MANAGER.NAME,\n                  PLUGINS.DOC_MANAGER.CALL.CREATE,\n                  {\n                    scope: docType.scope\n                  }\n                ).then(document => {\n                  call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n                    id: document.getUrl(),\n                    name: document.getName(),\n                    scope: docType.scope,\n                    isNew: true\n                  });\n                }),\n              element: docType.scope,\n              icon: getIconByScope(docType.scope),\n              onClose: true\n            }))}\n          ></ContextMenu>\n        }\n        navigationList={MENUS.map(menu => (\n          <Tooltip key={menu.name} title={menu.title} placement=\"right\" arrow>\n            {menu.icon({\n              className: classes.icon,\n              onClick: () => menu.getOnClick()\n            })}\n          </Tooltip>\n        ))}\n        lowerElement={[\n          <ProfileMenu\n            key={\"profileMenu\"}\n            version={AppSettings.APP_INFORMATION.VERSION}\n            isDarkTheme={isDarkTheme}\n            handleLogout={handleLogoutClick}\n          />,\n          <img\n            key={\"movaiIcon\"}\n            src={movaiIcon}\n            className={classes.movaiIcon}\n            alt=\"MOV.AI\"\n          />\n        ]}\n      ></VerticalBar>\n    </div>\n  );\n};\n\nMainMenu.propTypes = {\n  call: PropTypes.func.isRequired,\n  emit: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n\nexport default withViewPlugin(MainMenu);\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"rc-dock\");","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n  useRef\n} from \"react\";\nimport { Tooltip } from \"@material-ui/core\";\nimport {\n  DEFAULT_LAYOUT,\n  DOCK_POSITIONS,\n  DOCK_MODES,\n  PLUGINS\n} from \"../../../../utils/Constants\";\nimport { getIconByScope, buildDocPath } from \"../../../../utils/Utils\";\nimport PluginManagerIDE from \"../../../../engine/PluginManagerIDE/PluginManagerIDE\";\nimport Workspace from \"../../../../utils/Workspace\";\nimport { getToolTabData } from \"../../../../tools\";\nimport useTabStack from \"./useTabStack\";\n\nconst useTabLayout = (props, dockRef) => {\n  const { emit, call, on, off } = props;\n  const workspaceManager = useMemo(() => new Workspace(), []);\n  const activeTabId = useRef(null);\n  const firstLoad = useRef(true);\n  const tabsById = useRef(new Map());\n  const [layout, setLayout] = useState({ ...DEFAULT_LAYOUT });\n  const { addTabToStack, removeTabFromStack, getNextTabFromStack } =\n    useTabStack(workspaceManager);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const openNonEditorTabs = useCallback(\n    lastTabs => {\n      // Save current active tab id\n      const currentActiveTabId = activeTabId.current;\n\n      // Load tools tab data\n      lastTabs.forEach(tab => {\n        const isTool = !Boolean(tab.extension);\n        if (isTool) {\n          const toolName = tab.id;\n          const tabData = getToolTabData(tab);\n          tabsById.current.set(tabData.id, tabData);\n          workspaceManager.setTabs(tabsById.current);\n          dockRef.current.updateTab(toolName, tabData, false);\n        }\n      });\n\n      // Set current active tab id after extra tabs update\n      activeTabId.current = currentActiveTabId;\n      emit(PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE, { id: currentActiveTabId });\n    },\n    [dockRef, workspaceManager, emit]\n  );\n\n  /**\n   * Helper function to find if a tab exists in the DockLayout\n   * @private function\n   * @returns {TabData}: TabData if found\n   */\n  const findTab = useCallback(\n    tabId => {\n      return dockRef.current.find(tabId);\n    },\n    [dockRef]\n  );\n\n  /**\n   * Focus on a tab by a given tabId\n   * - Will check if there's maximized tabs to properly focus the current tab\n   * @private function\n   * @param {string} tabId : The tab id to be focused\n   */\n  const focusExistingTab = useCallback(\n    tabId => {\n      const maxboxChildren = dockRef.current.state.layout.maxbox.children;\n      dockRef.current.updateTab(tabId, null);\n\n      if (\n        maxboxChildren.length &&\n        !maxboxChildren[0].tabs.find(t => t.id === tabId)\n      ) {\n        dockRef.current.dockMove(maxboxChildren[0], null, DOCK_MODES.MAXIMIZE);\n      }\n    },\n    [dockRef]\n  );\n\n  /**\n   * Gets a dock name where a tab is\n   * @private function\n   * @param {String} tabId : the tab id to search for\n   * @returns {String} dock name\n   */\n  const getDockFromTabId = useCallback(\n    tabId => {\n      const dockLayout = dockRef.current.state.layout;\n      const tabData = findTab(tabId);\n      const panelId = tabData?.parent?.parent?.id;\n\n      const index =\n        Object.values(dockLayout).findIndex(v => v.id === panelId) ?? 0;\n      return Object.keys(dockLayout)[index];\n    },\n    [dockRef, findTab]\n  );\n\n  /**\n   * Checks if the layout activeId is valid, if not will set the last tab from stack\n   * @private function\n   * @param {Object} _layout : The layout to search through\n   */\n  const layoutActiveIdIsValid = useCallback(\n    _layout => {\n      // let's check if the lastTabId was in maxbox. If it isn't it's most likely in the dockbox.\n      const maxboxChildren = _layout.maxbox.children[0];\n      const layoutActiveId =\n        maxboxChildren?.activeId || _layout.dockbox.children[0]?.activeId;\n      let tabExists = maxboxChildren?.tabs.find(t => t.id === layoutActiveId);\n\n      if (!tabExists) {\n        tabExists = _layout.dockbox.children[0].tabs.find(\n          t => t.id === layoutActiveId\n        );\n      }\n\n      activeTabId.current = layoutActiveId;\n\n      if (!tabExists && layoutActiveId) {\n        const newActiveTabId = getNextTabFromStack();\n        if (maxboxChildren) maxboxChildren.activeId = newActiveTabId;\n        else _layout.dockbox.children[0].activeId = newActiveTabId;\n        activeTabId.current = newActiveTabId;\n      }\n    },\n    [getNextTabFromStack]\n  );\n\n  /**\n   * Apply layout and save changes\n   * @param {LayoutData} layout\n   */\n  const applyLayout = useCallback(\n    _layout => {\n      layoutActiveIdIsValid(_layout);\n      setLayout(_layout);\n      workspaceManager.setLayout(_layout);\n    },\n    [workspaceManager, layoutActiveIdIsValid]\n  );\n\n  /**\n   * Get first container in dockbox\n   */\n  const _getFirstContainer = useCallback(dockbox => {\n    const boxData = dockbox.children[0];\n    if (boxData?.tabs) return boxData;\n    else return _getFirstContainer(boxData);\n  }, []);\n\n  /**\n   * Find tab container recursively by tab id\n   * @param {BoxData} box : Layout box data (can be dockbox, maxbox, floatbox or windowbox)\n   * @param {String} tabId : Tab Id\n   */\n  const _getTabContainer = useCallback((box, tabId) => {\n    if (box?.tabs?.map(el => el.id).includes(tabId)) return box;\n    else if (box.children) {\n      let containerBox = null;\n      for (let i = 0; containerBox === null && i < box.children.length; i++) {\n        const boxChildren = box.children[i];\n        containerBox = _getTabContainer(boxChildren, tabId);\n      }\n      return containerBox;\n    }\n    return null;\n  }, []);\n\n  /**\n   * Set new tab data in layout\n   * @param {LayoutData} prevLayout : Previous layout data\n   * @param {String} prevTabId : Previous tab id\n   * @param {String} location : Layout data location (one of: \"dockbox\", \"floatbox\", \"maxbox\", \"windowbox\")\n   * @param {TabData} tabData : New tab data to update previous tab id\n   * @returns {{newLayout: LayoutData, box: BoxData}} : Returns new layout and box data (if any)\n   */\n  const _setTabInLayout = useCallback(\n    (prevLayout, prevTabId, location, tabData) => {\n      const newLayout = { ...prevLayout };\n      const box = _getTabContainer(newLayout[location], prevTabId);\n      if (box) {\n        tabData.id = `${tabData.id.substring(0, tabData.id.lastIndexOf(\"/\"))}/${\n          tabData.name\n        }`;\n        const tabIndex = box.tabs.findIndex(_el => _el.id === prevTabId);\n        box.tabs[tabIndex] = tabData;\n        box.activeId = tabData.id;\n        tabsById.current.delete(prevTabId);\n        tabsById.current.set(tabData.id, tabData);\n        addTabToStack(tabData, location);\n        workspaceManager.setTabs(tabsById.current);\n        workspaceManager.setLayout(newLayout);\n      }\n      return { newLayout, box };\n    },\n    [_getTabContainer, workspaceManager, addTabToStack]\n  );\n\n  /**\n   * Get tab to render\n   * @param {{id: String, name: String, scope: String, extension: String}} docData : Document data\n   * @param {Boolean} isDirty : Document dirty state\n   * @returns {Element} Tab element to render\n   */\n  const _getCustomTab = useCallback((docData, onCloseTab, isDirty) => {\n    return (\n      <Tooltip title={docData.tabTitle || docData.id}>\n        <div onAuxClick={() => onCloseTab(docData.id)}>\n          {getIconByScope(docData.scope, {\n            fontSize: 13,\n            marginTop: 2,\n            marginRight: 10,\n            marginLeft: 0\n          })}\n          {docData.name + docData.extension}\n          {isDirty && \" *\"}\n        </div>\n      </Tooltip>\n    );\n  }, []);\n\n  /**\n   * Save document and apply layout\n   * @param {{name: string, scope: string}} docData\n   * @param {LayoutData} newLayout : New layout to apply (optional)\n   */\n  const _saveDoc = useCallback(\n    (docData, newLayout) => {\n      const { id, name, scope } = docData;\n      call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.SAVE,\n        {\n          name,\n          scope\n        },\n        res => {\n          if (res.success) {\n            const dock = getDockFromTabId(id);\n            removeTabFromStack(id, dock);\n            if (newLayout) applyLayout(newLayout);\n          }\n        }\n      );\n    },\n    [call, applyLayout, getDockFromTabId, removeTabFromStack]\n  );\n\n  /**\n   * Discard changes and apply layout\n   * @param {{name: string, scope: string}} docData\n   * @param {LayoutData} newLayout : New layout to apply (optional)\n   */\n  const _discardChanges = useCallback(\n    (docData, newLayout) => {\n      const { id, name, scope } = docData;\n      call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.DISCARD_DOC_CHANGES,\n        { name, scope }\n      ).then(() => {\n        const dock = getDockFromTabId(id);\n        removeTabFromStack(id, dock);\n        if (newLayout) applyLayout(newLayout);\n      });\n    },\n    [call, applyLayout, getDockFromTabId, removeTabFromStack]\n  );\n\n  /**\n   * Open dialog before closing tab in dirty state\n   * @param {string} name : Document name\n   * @param {string} scope : Document scope\n   * @param {LayoutData} newLayout : New layout\n   */\n  const _closeDirtyTab = useCallback(\n    (document, newLayout) => {\n      const { name, scope } = document;\n\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CLOSE_DIRTY_DOC, {\n        name,\n        scope,\n        onSubmit: action => {\n          const triggerAction = {\n            // Save changes and close document\n            save: () => _saveDoc(document, newLayout),\n            // Discard changes and close document\n            dontSave: () => _discardChanges(document, newLayout)\n          };\n          return action in triggerAction ? triggerAction[action]() : false;\n        }\n      });\n    },\n    [call, _saveDoc, _discardChanges]\n  );\n\n  /**\n   * On dock layout remove tab\n   * @param {LayoutData} newLayout : New layout data\n   * @param {string} tabId : Tab id\n   * @param {boolean} forceClose : Force tab to close\n   */\n  const _onLayoutRemoveTab = useCallback(\n    (newLayout, tabId, forceClose) => {\n      const { name, scope, isNew, isDirty } = tabsById.current.get(tabId);\n      if (isDirty && !forceClose) {\n        const document = { id: tabId, name, scope, isNew };\n        _closeDirtyTab(document, newLayout);\n      } else {\n        // Remove doc locally if is new and not dirty\n        if (isNew && !isDirty)\n          call(\n            PLUGINS.DOC_MANAGER.NAME,\n            PLUGINS.DOC_MANAGER.CALL.DISCARD_DOC_CHANGES,\n            { name, scope }\n          );\n\n        // Remove tab and apply new layout\n        tabsById.current.delete(tabId);\n        workspaceManager.setTabs(tabsById.current);\n        const dock = getDockFromTabId(tabId);\n        removeTabFromStack(tabId, dock);\n        applyLayout(newLayout);\n        // Reset bookmarks\n        call(\n          PLUGINS.RIGHT_DRAWER.NAME,\n          PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS\n        );\n      }\n    },\n    [\n      call,\n      workspaceManager,\n      applyLayout,\n      _closeDirtyTab,\n      getDockFromTabId,\n      removeTabFromStack\n    ]\n  );\n\n  /**\n   * Close tab : Remove from layout\n   * @param {string} tabId : Tab ID (document URL)\n   * @param {boolean} forceClose : Force document to close\n   * @returns {LayoutData} : Layout without tab\n   */\n  const _closeTab = useCallback(\n    async (tabId, forceClose) => {\n      const tabData = findTab(tabId);\n      if (!tabData) return;\n      const currentLayout = dockRef.current.saveLayout();\n      const locations = Object.values(DOCK_POSITIONS);\n      // look for tab in layout locations\n      for (const location of locations) {\n        const box = _getTabContainer(currentLayout[location], tabId);\n\n        if (box) {\n          // If it's in a maximized tab, let's minimize it and then call _closeTab again\n          if (location === DOCK_POSITIONS.MAX && box.tabs.length === 1) {\n            const maxboxMainTab =\n              dockRef.current.state.layout.maxbox.children[0];\n            await dockRef.current.dockMove(\n              maxboxMainTab,\n              null,\n              DOCK_MODES.MAXIMIZE\n            );\n            return _closeTab(tabId);\n          }\n\n          // Let's remove the tab\n          box.tabs = box.tabs.filter(_el => _el.id !== tabId);\n\n          // And update the Layout\n          return _onLayoutRemoveTab(currentLayout, tabId, forceClose);\n        }\n      }\n    },\n    [dockRef, _getTabContainer, _onLayoutRemoveTab, findTab]\n  );\n\n  /**\n   * Update document dirty state\n   * @param {{instance: Model, value: Boolean}} data\n   */\n  const _updateDocDirty = useCallback(\n    data => {\n      const { instance: model, value: isDirty } = data;\n      const tabId = model.getUrl();\n      const currentTabData = tabsById.current.get(tabId);\n      const currentDirtyState = Boolean(currentTabData?.isDirty);\n      // Doesn't trigger update if dirty state didn't change\n      if (!currentTabData || currentDirtyState === isDirty) return;\n      // Set new dirty state\n      const newTabData = { ...currentTabData, isDirty: isDirty };\n      tabsById.current.set(tabId, newTabData);\n      // Trigger tab update\n      if (!dockRef.current) return;\n      const currentTab = findTab(tabId);\n      dockRef.current.updateTab(tabId, currentTab, false);\n    },\n    [dockRef, findTab]\n  );\n\n  /**\n   * Install tab plugin\n   * @param {*} docFactory : Document Factory\n   * @param {{id: string, name: string, scope: string}} docData : Document data\n   * @returns {Promise} Promise resolved on installation\n   */\n  const installTabPlugin = useCallback(async (docFactory, docData) => {\n    // If Plugin is already installed, doesn't install it again\n    const plugin = PluginManagerIDE.getPlugin(docData.id);\n    if (plugin) return Promise.resolve(plugin);\n    else {\n      const Plugin = docFactory.plugin;\n      const viewPlugin = new Plugin(\n        { name: docData.id },\n        { id: docData.id, name: docData.name, scope: docData.scope }\n      );\n      return PluginManagerIDE.install(docData.id, viewPlugin).then(\n        () => viewPlugin\n      );\n    }\n  }, []);\n\n  /**\n   * Get tab data based in document data\n   * @param {{id: String, title: String, name: String, scope: String}} docData : document basic data\n   * @returns {TabData} Tab data to be set in Layout\n   */\n  const _getTabData = useCallback(\n    docData => {\n      return call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.GET_DOC_FACTORY,\n        docData.scope\n      ).then(docFactory => {\n        if (!docFactory) return docData;\n\n        return installTabPlugin(docFactory, docData)\n          .then(viewPlugin => {\n            // Create and return tab data\n            const extension = docFactory.store.model.EXTENSION ?? \"\";\n            // Return TabData\n            return {\n              id: docData.id,\n              name: docData.name,\n              isNew: docData.isNew,\n              isDirty: docData.isDirty,\n              title: _getCustomTab(docData, _closeTab, docData.isDirty),\n              extension: extension,\n              scope: docData.scope,\n              content: viewPlugin.render()\n            };\n          })\n          .catch(err => {\n            console.warn(\"debug can't open tab\", err);\n            return docData;\n          });\n      });\n    },\n    [call, _getCustomTab, _closeTab, installTabPlugin]\n  );\n\n  /**\n   * Returns the default Tab position\n   * @private function\n   * @returns {Enumerable} DOCK_POSITIONS: based on if the maxbox has children\n   */\n  const getDefaultTabPosition = useCallback(() => {\n    const maximizedTabs = dockRef.current.state.layout.maxbox.children;\n    if (maximizedTabs.length) return DOCK_POSITIONS.MAX;\n\n    return DOCK_POSITIONS.DOCK;\n  }, [dockRef]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Open/Focus tab\n   * @param {TabData} tabData : Set Tab data in Layout\n   */\n  const open = useCallback(\n    tabData => {\n      const tabPosition = tabData.dockPosition ?? getDefaultTabPosition();\n      const position = tabData.position ?? {\n        h: 500,\n        w: 600,\n        x: 145,\n        y: 100,\n        z: 1\n      };\n\n      emit(PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE, { id: tabData.id });\n      addTabToStack(tabData, tabPosition);\n      tabsById.current.set(tabData.id, tabData);\n      workspaceManager.setTabs(tabsById.current);\n\n      const existingTab = findTab(tabData.id);\n      if (existingTab) {\n        focusExistingTab(tabData.id);\n        return;\n      }\n\n      // Update new open tab id\n      activeTabId.current = tabData.id;\n      // Set new layout\n      setLayout(prevState => {\n        const newState = { ...prevState };\n        if (newState[tabPosition].children.length === 0) {\n          newState[tabPosition].children = [{ ...position, tabs: [tabData] }];\n\n          workspaceManager.setLayout(newState);\n          return { ...newState };\n        }\n\n        if (tabPosition === DOCK_POSITIONS.FLOAT) {\n          newState[tabPosition].children.push({\n            ...position,\n            tabs: [tabData]\n          });\n        } else {\n          const firstContainer = _getFirstContainer(newState[tabPosition]);\n          firstContainer.tabs.push(tabData);\n          firstContainer.activeId = tabData.id;\n        }\n\n        workspaceManager.setLayout(newState);\n        return { ...newState };\n      });\n    },\n    [\n      workspaceManager,\n      _getFirstContainer,\n      getDefaultTabPosition,\n      focusExistingTab,\n      addTabToStack,\n      findTab,\n      emit\n    ]\n  );\n\n  /**\n   * Open Editor tab from document data\n   * @param {{id: String, title: String, name: String, scope: String}} docData : document basic data\n   */\n  const openEditor = useCallback(\n    async docData => {\n      try {\n        const doc = await call(\n          PLUGINS.DOC_MANAGER.NAME,\n          PLUGINS.DOC_MANAGER.CALL.READ,\n          { name: docData.name, scope: docData.scope }\n        );\n\n        docData.isNew = docData.isNew ?? doc.isNew;\n        docData.isDirty = docData.isDirty ?? doc.isDirty;\n\n        _getTabData(docData).then(tabData => {\n          emit(PLUGINS.TABS.ON.OPEN_EDITOR, tabData);\n          open(tabData);\n        });\n      } catch (e) {\n        console.warn(e);\n      }\n    },\n    [call, emit, _getTabData, open]\n  );\n\n  /**\n   * Close Tab\n   */\n  const close = useCallback(\n    data => {\n      const { tabId, keepBookmarks } = data;\n      // Close tab dynamically\n      _closeTab(tabId);\n      !keepBookmarks &&\n        call(\n          PLUGINS.RIGHT_DRAWER.NAME,\n          PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS\n        );\n    },\n    [call, _closeTab]\n  );\n\n  /**\n   * Load tab data\n   * @param {TabData} data : Tab data to load in Layout (might be missing information)\n   * @returns {TabData} Complete tab data\n   */\n  const loadTab = useCallback(\n    data => {\n      const tabFromMemory = tabsById.current.get(data.id);\n      if (!tabFromMemory && !data.content) return;\n      const { id, content, scope, name, tabTitle, extension, isDirty, isNew } =\n        tabFromMemory ?? data;\n      tabsById.current.set(id, {\n        id,\n        scope,\n        name,\n        tabTitle,\n        content,\n        extension,\n        isNew,\n        isDirty\n      });\n      const tabData = { id, scope, name, tabTitle, extension };\n      return {\n        id: id,\n        title: _getCustomTab(tabData, _closeTab, isDirty),\n        content: content,\n        closable: true\n      };\n    },\n    [_getCustomTab, _closeTab]\n  );\n\n  /**\n   * Triggered at any manual layout/active tab change\n   * @param {LayoutData} newLayout : New Layout data\n   * @param {String} tabId : Tab ID\n   * @param {String} direction : (one of: \"left\" | \"right\" | \"bottom\" | \"top\" | \"middle\" | \"remove\" | \"before-tab\" | \"after-tab\" | \"float\" | \"front\" | \"maximize\" | \"new-window\")\n   */\n  const onLayoutChange = useCallback(\n    (newLayout, tabId, direction) => {\n      const dock = getDockFromTabId(tabId);\n      const tabData = tabsById.current.get(tabId);\n      let newActiveTabId = tabId;\n\n      // Attempt to close tab\n      if (direction === DOCK_MODES.REMOVE) {\n        _closeTab(tabId);\n        if (!tabData.isDirty) {\n          newActiveTabId =\n            getNextTabFromStack(dock) ||\n            _getFirstContainer(newLayout.dockbox).activeId;\n        }\n      } else {\n        // Update layout\n        applyLayout(newLayout);\n\n        !firstLoad.current && addTabToStack(tabData, dock);\n        firstLoad.current = false;\n      }\n      // Emit new active tab id\n      if (!tabId) return;\n      if (newActiveTabId) {\n        activeTabId.current = newActiveTabId;\n        emit(PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE, { id: newActiveTabId });\n      } else {\n        call(\n          PLUGINS.RIGHT_DRAWER.NAME,\n          PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS\n        );\n      }\n    },\n    [\n      emit,\n      call,\n      _getFirstContainer,\n      _closeTab,\n      applyLayout,\n      getDockFromTabId,\n      addTabToStack,\n      getNextTabFromStack\n    ]\n  );\n\n  /**\n   * Update tab ID and data\n   * @param {String} prevTabId : Old tab ID\n   * @param {{id: String, name: String, scope: String}} docData : document basic data\n   */\n  const updateTabId = useCallback(\n    (prevTabId, newTabData) => {\n      _getTabData(newTabData).then(tabData => {\n        // Update new open tab id\n        activeTabId.current = tabData.id;\n        // Set new layout\n        setLayout(prevState => {\n          // look for tab in windowbox\n          const locations = Object.values(DOCK_POSITIONS);\n          for (const location of locations) {\n            const f = _setTabInLayout(prevState, prevTabId, location, tabData);\n            if (f.box) return f.newLayout;\n          }\n          return prevState;\n        });\n      });\n    },\n    [_getTabData, _setTabInLayout]\n  );\n\n  /**\n   * Get currently active tab\n   * @returns {string} active tab id\n   */\n  const getActiveTab = useCallback(() => {\n    return tabsById.current.get(activeTabId.current);\n  }, []);\n\n  /**\n   * Focus on active tab\n   */\n  const focusActiveTab = useCallback(() => {\n    focusExistingTab(activeTabId.current);\n  }, [focusExistingTab]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React lifecycles                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Add Events Listeners\n   */\n  useEffect(() => {\n    // Update doc dirty state\n    on(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.ON.UPDATE_DOC_DIRTY,\n      data => _updateDocDirty(data)\n    );\n    // On delete document\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.DELETE_DOC, data =>\n      _closeTab(data.url, true)\n    );\n\n    // We want to reload the tabData if it was a new tab\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.SAVE_DOC, data => {\n      if (data.newName) {\n        const doc = data.doc;\n        const scope = doc.type;\n        const name = data.newName;\n        const newTabData = {\n          id: buildDocPath({\n            workspace: doc.workspace,\n            scope,\n            name\n          }),\n          name,\n          scope\n        };\n\n        updateTabId(doc.path.replace(`/${doc.version}`, \"\"), newTabData);\n\n        call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.RELOAD_DOC, {\n          scope,\n          name\n        });\n      }\n    });\n    // Unsubscribe on unmount\n    return () => {\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.UPDATE_DOC_DIRTY);\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.DELETE_DOC);\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.SAVE_DOC);\n    };\n  }, [on, call, off, _updateDocDirty, updateTabId, _closeTab]);\n\n  /**\n   * Load workspace\n   */\n  useEffect(() => {\n    const [lastLayout, lastTabs] = workspaceManager.getLayoutAndTabs();\n    const tabs = [];\n\n    layoutActiveIdIsValid(lastLayout);\n\n    tabsById.current = lastTabs;\n    // Install current tabs plugins\n    lastTabs.forEach(tab => {\n      const { id, name, scope } = tab;\n\n      tabs.push(_getTabData({ id, name, scope }));\n    });\n    // After all plugins are installed\n    Promise.allSettled(tabs).then(_tabs => {\n      _tabs.forEach(tab => {\n        tab.status === \"fulfilled\" &&\n          tabsById.current.set(tab.value.id, tab.value);\n      });\n      setLayout(lastLayout);\n\n      openNonEditorTabs(lastTabs);\n    });\n\n    // Destroy local workspace manager instance on unmount\n    return () => {\n      workspaceManager.destroy();\n    };\n  }, [\n    dockRef,\n    workspaceManager,\n    _getTabData,\n    layoutActiveIdIsValid,\n    openNonEditorTabs\n  ]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                             Return Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  return {\n    layout,\n    open,\n    openEditor,\n    close,\n    loadTab,\n    onLayoutChange,\n    focusExistingTab,\n    getActiveTab,\n    focusActiveTab,\n    updateTabId\n  };\n};\n\nexport default useTabLayout;\n","import React, { useCallback, useEffect } from \"react\";\nimport { DOCK_POSITIONS } from \"../../../../utils/Constants\";\nimport { runBeforeUnload } from \"../../../../utils/Utils\";\n\nconst useTabStack = workspaceManager => {\n  const tabStack = React.useRef({});\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Remove all untitled tabs (not created in Redis)\n   */\n  const removeNewTabsFromStack = useCallback(() => {\n    const thisStack = tabStack.current;\n    const newStack = {};\n    for (const dock in thisStack) {\n      const dockStack = thisStack[dock];\n      newStack[dock] = dockStack.filter(tab => !tab.isNew);\n    }\n    workspaceManager.setTabStack(newStack);\n  }, [workspaceManager]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Public Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Removes a tab from the stack for given dock\n   * @param {String} dock : the dock to look for the tab, defaults to 'dockbox'\n   * @param {String} tabId : the tabId to remove from the stack\n   */\n  const removeTabFromStack = useCallback(\n    (tabId, dock = DOCK_POSITIONS.DOCK) => {\n      const thisStack = tabStack.current[dock] || [];\n      const newStack = thisStack.filter(tab => tab.id !== tabId);\n      tabStack.current[dock] = newStack;\n      workspaceManager.setTabStack(tabStack.current);\n    },\n    [workspaceManager]\n  );\n\n  /**\n   * Adds a tab to the stack of given dock\n   * @param {String} dock : the dock to look for the tab, defaults to 'dockbox'\n   * @param {String} tabId : the tabId to add to the stack\n   */\n  const addTabToStack = useCallback(\n    (tabData, dock = DOCK_POSITIONS.DOCK) => {\n      const { id, isNew } = tabData;\n      removeTabFromStack(id, dock);\n      const thisStack = tabStack.current[dock] || [];\n\n      thisStack.push({ id, isNew });\n      tabStack.current[dock] = thisStack;\n      workspaceManager.setTabStack(tabStack.current);\n    },\n    [workspaceManager, removeTabFromStack]\n  );\n\n  /**\n   * Get next tab from stack\n   */\n  const getNextTabFromStack = useCallback((dock = DOCK_POSITIONS.DOCK) => {\n    const thisStack = tabStack.current[dock] || [];\n    return thisStack[thisStack.length - 1]?.id;\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    tabStack.current = workspaceManager.getTabStack();\n    // Before unload app, remove all \"untitled\" tabs from stack\n    runBeforeUnload(removeNewTabsFromStack);\n  }, [workspaceManager, removeNewTabsFromStack]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                             Return Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  return {\n    addTabToStack,\n    removeTabFromStack,\n    getNextTabFromStack\n  };\n};\n\nexport default useTabStack;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"rc-dock/dist/rc-dock.css\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const tabsStyles = makeStyles(theme => ({\n  \"@global\": {\n    \".dock-dropdown-menu\": {\n      background: theme.palette.background.default\n    },\n    \".dock-dropdown-menu-item\": {\n      color: theme.palette.text.primary,\n      background: theme.palette.background.default\n    },\n    \".dock-dropdown-menu-item-active:hover\": {\n      background: theme.palette.background.primary\n    }\n  },\n  root: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\",\n    \"& .dock-layout\": {\n      width: \"100%\",\n      height: \"100%\",\n      background: theme.dockLayout.background,\n      \"& .dock-panel\": {\n        background: theme.palette.background.default,\n        borderColor: theme.palette.background.default,\n        \"& .dock-bar\": {\n          borderColor: theme.background,\n          background: theme.palette.background.primary,\n          \"& .dock-nav-more\": {\n            color: theme.palette.text.primary\n          },\n          \"& .dock-tab\": {\n            borderTopLeftRadius: \"5px\",\n            borderTopRightRadius: \"5px\",\n            background: theme.backdrop.background,\n            color: theme.backdrop.color,\n            padding: \"0 10px\",\n            \"& .dock-tab-close-btn\": {\n              right: \"1px\"\n            },\n            \"& > div\": {\n              padding: \"4px 15px 4px 5px\"\n            }\n          },\n          \"& .dock-ink-bar\": {\n            backgroundColor: theme.palette.primary.main\n          }\n        },\n        \"& .dock-drop-layer .dock-drop-square\": {\n          background: theme.palette.background.primary,\n          color: theme.backdrop.color,\n          borderColor: `${theme.backdrop.color}95`\n        }\n      },\n      \"& .dock-style-place-holder\": {\n        background: theme.palette.background.default\n      },\n      \"& .dock-divider\": {\n        background: `${theme.palette.background.primary}95`\n      }\n    }\n  },\n  dockLayout: {\n    position: \"absolute\",\n    left: \"10px\",\n    top: \"10px\",\n    right: \"10px\",\n    bottom: \"10px\"\n  }\n}));\n","import React, { useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport DockLayout from \"rc-dock\";\nimport { PLUGINS } from \"../../../utils/Constants\";\nimport {\n  withViewPlugin,\n  usePluginMethods\n} from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport useTabLayout from \"./hooks/useTabLayout\";\n\nimport \"rc-dock/dist/rc-dock.css\";\nimport { tabsStyles } from \"./styles\";\n\nconst Tabs = (props, ref) => {\n  const classes = tabsStyles();\n  const dockRef = useRef();\n  const {\n    layout,\n    open,\n    openEditor,\n    close,\n    onLayoutChange,\n    focusExistingTab,\n    getActiveTab,\n    focusActiveTab,\n    loadTab,\n    updateTabId\n  } = useTabLayout(props, dockRef);\n\n  usePluginMethods(ref, {\n    open,\n    openEditor,\n    updateTabId,\n    getActiveTab,\n    focusActiveTab,\n    close\n  });\n\n  /**\n   * Searches active tab in clicked panel and focus that tab.\n   * @param {*} evt\n   */\n  const focusActivePanelTab = evt => {\n    const target = evt.target;\n    if (!target?.classList?.contains(\"dock-nav-wrap\")) return;\n\n    const activeTabEl = target.querySelector(\".dock-tab-active>.dock-tab-btn\");\n    const panelActiveTab = activeTabEl.id.substring(\n      activeTabEl.id.indexOf(\"tab-\") + 4\n    );\n\n    if (getActiveTab !== panelActiveTab) focusExistingTab(panelActiveTab);\n  };\n\n  return (\n    <div\n      data-testid=\"input_tab-panel\"\n      className={classes.root}\n      onClick={focusActivePanelTab}\n    >\n      <DockLayout\n        ref={dockRef}\n        layout={layout}\n        loadTab={loadTab}\n        onLayoutChange={onLayoutChange}\n        className={classes.dockLayout}\n      />\n    </div>\n  );\n};\n\nTabs.pluginMethods = [...Object.values(PLUGINS.TABS.CALL)];\n\nexport default withViewPlugin(Tabs, Tabs.pluginMethods);\n\nTabs.propTypes = {\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired,\n  emit: PropTypes.func.isRequired,\n  onTopic: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withViewPlugin } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\n\nconst Placeholder = () => {\n  return <></>;\n};\n\nexport default withViewPlugin(Placeholder);\n\nPlaceholder.propTypes = {\n  call: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./App.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./App.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect } from \"react\";\nimport { Style } from \"@mov-ai/mov-fe-lib-react\";\nimport { Typography } from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport DocManager from \"../plugins/DocManager/DocManager\";\nimport Dialog from \"../plugins/Dialog/Dialog\";\nimport Alerts from \"../plugins/Alerts/Alerts\";\nimport BottomBar from \"../plugins/hosts/BottomBar/BottomBar\";\nimport CentralPanel from \"../plugins/hosts/CentralPanel/CentralPanel\";\nimport DrawerPanel from \"../plugins/hosts/DrawerPanel/DrawerPanel\";\nimport SidePanel from \"../plugins/hosts/SidePanel/SidePanel\";\nimport TopBar from \"../plugins/hosts/TopBar/TopBar\";\nimport AbstractHost from \"../plugins/hosts/AbstractHost/AbstractHost\";\nimport SystemBar from \"../plugins/views/SystemBar/SystemBar\";\nimport AlertPanel from \"../plugins/hosts/AlertPanel/AlertPanel\";\nimport Explorer from \"../plugins/views/Explorer/Explorer\";\nimport MainMenu from \"../plugins/views/MainMenu/MainMenu\";\nimport Tabs from \"../plugins/views/Tabs/Tabs\";\nimport PluginManagerIDE from \"../engine/PluginManagerIDE/PluginManagerIDE\";\nimport Placeholder from \"../plugins/views/Placeholder/Placeholder\";\nimport { PLUGINS, HOSTS } from \"../utils/Constants\";\nimport { MainContext } from \"../main-context\";\nimport { addEditor } from \"../plugins/DocManager/factory\";\nimport { addTool } from \"../tools\";\nimport { setLinks, setLogo, setName, setShortcuts } from \"./AppSettings\";\n\nimport \"./App.css\";\nimport { appStyles } from \"./styles\";\n\nconst DEBUG_MODE = false;\n\nfunction BaseApp(props) {\n  // Props\n  const {\n    theme,\n    handleToggleTheme,\n    handleLogOut,\n    logo,\n    links,\n    shortcuts,\n    appName\n  } = props;\n  // Style hook\n  const classes = appStyles(DEBUG_MODE)();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    installAppPlugins();\n    installViewPlugins();\n    // Write log in consle\n    writeMovaiLogo();\n  }, []);\n\n  // Set app settings\n\n  useEffect(() => {\n    if (logo) setLogo(logo);\n  }, [logo]);\n\n  useEffect(() => {\n    if (links) setLinks(links);\n  }, [links]);\n\n  useEffect(() => {\n    if (shortcuts) setShortcuts(shortcuts);\n  }, [shortcuts]);\n\n  useEffect(() => {\n    if (appName) setName(appName);\n  }, [appName]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  const onContextMenu = event => event.preventDefault();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <MainContext.Provider\n      value={{\n        selectedTheme: theme,\n        isDarkTheme: theme === \"dark\",\n        handleToggleTheme: handleToggleTheme,\n        handleLogOut: handleLogOut\n      }}\n    >\n      <Style />\n      <div className=\"App\" onContextMenu={onContextMenu}>\n        {getHostedPlugins(classes)}\n      </div>\n    </MainContext.Provider>\n  );\n}\n\n/**\n * Install app editors\n * @param {{scope: string, store: Store, plugin: IDEPlugin}} editor\n */\nexport function installEditor(editor) {\n  const { scope, store, editorPlugin, otherPlugins = [] } = editor;\n  addEditor(scope, store, editorPlugin);\n  // Install other plugins relead to editor\n  otherPlugins.forEach(pluginDescription => {\n    const plugin = pluginDescription.factory(pluginDescription.profile);\n    PluginManagerIDE.install(pluginDescription.profile.name, plugin);\n  });\n}\n\n/**\n * Install app tools\n * @param {{profile: {name: string}, Plugin: IDEPlugin, tabData: object}} tool\n */\nexport function installTool(tool) {\n  const { Plugin, profile, id } = tool;\n  const viewPlugin = new Plugin(profile);\n  PluginManagerIDE.install(id, viewPlugin).then(() => {\n    tool.tabData.content = viewPlugin.render();\n    addTool(id, tool);\n  });\n}\n\nfunction installAppPlugins() {\n  const plugins = [\n    {\n      profile: { name: PLUGINS.DOC_MANAGER.NAME },\n      factory: profile => new DocManager(profile)\n    },\n    {\n      profile: { name: PLUGINS.DIALOG.NAME },\n      factory: profile => new Dialog(profile)\n    },\n    {\n      profile: { name: PLUGINS.ALERT.NAME },\n      factory: profile => new Alerts(profile)\n    }\n  ];\n  plugins.forEach(pluginDescription => {\n    const plugin = pluginDescription.factory(pluginDescription.profile);\n    PluginManagerIDE.install(pluginDescription.profile.name, plugin);\n  });\n}\n\nfunction installViewPlugins() {\n  const plugins = [\n    {\n      profile: {\n        name: PLUGINS.MAIN_MENU.NAME,\n        location: HOSTS.LEFT_PANEL.NAME\n      },\n      factory: profile => new MainMenu(profile)\n    },\n    {\n      profile: {\n        name: PLUGINS.EXPLORER.NAME,\n        location: HOSTS.LEFT_DRAWER.NAME\n      },\n      factory: profile => new Explorer(profile)\n    },\n    {\n      profile: { name: PLUGINS.TABS.NAME, location: HOSTS.MAIN_PANEL.NAME },\n      factory: profile => new Tabs(profile)\n    },\n    {\n      profile: {\n        name: PLUGINS.PLACEHOLDER.NAME,\n        location: PLUGINS.RIGHT_DRAWER.NAME\n      },\n      factory: profile => new Placeholder(profile)\n    },\n    {\n      profile: { name: PLUGINS.SYSTEM_BAR.NAME, location: HOSTS.TOP_BAR.NAME },\n      factory: profile => new SystemBar(profile)\n    }\n  ];\n  plugins.forEach(pluginDescription => {\n    const plugin = pluginDescription.factory(pluginDescription.profile);\n    PluginManagerIDE.install(pluginDescription.profile.name, plugin);\n  });\n}\n\nfunction getHostedPlugins(classes) {\n  return (\n    <Grid container direction=\"column\">\n      <AbstractHost hostName={HOSTS.ABSTRACT_HOST.NAME}></AbstractHost>\n      <Grid container alignItems=\"flex-start\">\n        <TopBar hostName={HOSTS.TOP_BAR.NAME} debugMode={DEBUG_MODE}></TopBar>\n      </Grid>\n      <Grid container alignItems=\"stretch\" className={classes.mainGrid}>\n        <Typography component=\"div\" className={classes.leftPanel}>\n          <SidePanel\n            hostName={HOSTS.LEFT_PANEL.NAME}\n            className={classes.sidePanel}\n          ></SidePanel>\n          <DrawerPanel\n            hostName={HOSTS.LEFT_DRAWER.NAME}\n            anchor=\"left\"\n            initialOpenState\n          ></DrawerPanel>\n        </Typography>\n        <CentralPanel\n          className={classes.centralPanel}\n          hostName={HOSTS.MAIN_PANEL.NAME}\n        ></CentralPanel>\n        <DrawerPanel\n          className={classes.rightDrawer}\n          hostName={PLUGINS.RIGHT_DRAWER.NAME}\n          anchor=\"right\"\n        ></DrawerPanel>\n      </Grid>\n      <Grid container alignItems=\"flex-end\">\n        <BottomBar\n          hostName={HOSTS.BOTTOM_BAR.NAME}\n          className={classes.bottomBar}\n        ></BottomBar>\n      </Grid>\n      <AlertPanel hostName=\"alertPanel\" />\n    </Grid>\n  );\n}\n\nfunction writeMovaiLogo() {\n  console.log(MOVAI_LOGO);\n}\n\nconst MOVAI_LOGO = `\n███╗   ███╗ ████████╗ ██╗   ██╗         █████╗ ██╗ \n████╗ ████║ ██║   ██║ ██║   ██║        ██╔══██╗██║\n██╔████╔██║ ██║   ██║ ██║   ██║ █████╗ ███████║██║\n██║╚██╔╝██║ ██║   ██║  █║  ██╔╝ ╚════╝ ██╔══██║██║\n██║ ╚═╝ ██║ ╚██████═╝   ╚███═╝         ██║  ██║██║\n`;\n\nexport default BaseApp;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const appStyles = debugMode =>\n  makeStyles(theme => ({\n    leftPanel: {\n      border: debugMode ? \"solid 5px red\" : \"\",\n      borderRight: debugMode ? \"\" : `1px solid ${theme.background}`,\n      display: \"flex\",\n      position: \"relative\"\n    },\n    mainGrid: { flexGrow: 1 },\n    sidePanel: { height: \"100%\" },\n    centralPanel: { flexGrow: 1, border: debugMode ? \"solid 5px green\" : \"\" },\n    rightDrawer: {\n      border: debugMode ? \"solid 5px blue\" : \"\",\n      borderLeft: debugMode ? \"\" : `1px solid ${theme.background}`,\n      position: \"relative\"\n    },\n    bottomBar: { border: debugMode ? \"solid 5px orange\" : \"\", width: \"100%\" }\n  }));\n","const symbols = {\n  timer: Symbol(),\n  enabled: Symbol()\n};\n\n/**\n * Provides observable capabilities\n * Implements a proxy trap to execute callbacks when\n * an observed property changes\n */\nclass Observable {\n  constructor() {\n    this[symbols.timer] = undefined;\n\n    /**\n     * Proxy to trap changes to the properties\n     */\n    return new Proxy(this, {\n      set(target, prop, value) {\n        // check if the property should be trapped\n        if (target.observables.includes(prop) && target[symbols.enabled]) {\n          // set the property\n          const res = Reflect.set(...arguments);\n\n          // dispatch update\n          target.dispatch(prop, value);\n\n          return res;\n        }\n\n        // default\n        return Reflect.set(...arguments);\n      }\n    });\n  }\n\n  [symbols.enabled] = false;\n\n  // List of porpeties to observe\n  observables = [];\n\n  // List of callbacks to execute on update\n  subscribers = new Map();\n\n  /**\n   * Enable observables\n   * @returns\n   */\n  enableObservables(enable = true) {\n    this[symbols.enabled] = enable;\n    return this;\n  }\n\n  /**\n   * Subscribe to updates\n   * @param {function} callback : The function to run\n   * @returns {symbol} : The id of the subscription used to unsubscribe\n   */\n  subscribe(callback) {\n    const id = Symbol();\n    this.subscribers.set(id, callback);\n    return id;\n  }\n\n  /**\n   * Unsubscribe from updates\n   * @param {symbol} id : The id returned when subscribing\n   * @returns {boolean} : true if an element in the Map object existed and has been removed, or false if the element does not exist.\n   */\n  unsubscribe(id) {\n    return this.subscribers.delete(id);\n  }\n\n  /**\n   * Execute  subscribers\n   * @param {string} prop : The name of the changing property\n   * @param {any} value : The value of the property\n   * @returns  {any}\n   */\n  dispatch(prop, value) {\n    if (!this[symbols.enabled]) return;\n\n    try {\n      for (const fn of this.subscribers.values()) {\n        setTimeout(() => fn.call(this, this, prop, value), 0);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  /**\n   * Clean up the instance\n   */\n  destroy() {\n    this.subscribers.clear();\n  }\n}\n\nexport default Observable;\n","import Observable from \"./Observable\";\nimport { GLOBAL_WORKSPACE } from \"../../utils/Constants\";\n\n/**\n * Abstract class of a Model\n */\nexport default class Model extends Observable {\n  constructor({ id, name, version = \"-\", workspace = GLOBAL_WORKSPACE }) {\n    super();\n    this.id = id ?? name;\n    this.name = name;\n    this.version = version;\n    this.workspace = workspace;\n\n    this.enableObservables();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Model Properties                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  details = { user: \"N/A\", date: \"N/A\" };\n  isNew = true;\n  isLoaded = false;\n  isDirty = true;\n  isOutdated = false;\n\n  observables = [\"name\", \"details\"];\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the id property\n   * @returns {string}\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Model} : The instance\n   */\n  setId(value) {\n    this.id = value;\n    return this;\n  }\n\n  /**\n   * Returns the workspace property\n   * @returns {string}\n   */\n  getWorkspace() {\n    return this.workspace;\n  }\n\n  /**\n   * Returns the url property\n   * @returns {string}\n   */\n  getUrl() {\n    return `${this.getWorkspace()}/${this.getScope()}/${this.getName()}`;\n  }\n\n  /**\n   * Returns the name property\n   * @returns {string}\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Model} : The instance\n   */\n  setName(value) {\n    this.name = value;\n    return this;\n  }\n\n  /**\n   * Returns the version property\n   * @returns {string}\n   */\n  getVersion() {\n    return this.version;\n  }\n\n  /**\n   * Returns the details property\n   * @returns {string}\n   */\n  getDetails() {\n    return this.details;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Model} : The instance\n   */\n  setDetails(value) {\n    this.details = value;\n    return this;\n  }\n\n  /**\n   * Returns the isLoaded property\n   * @returns {boolean}\n   */\n  getIsLoaded() {\n    return this.isLoaded;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Model} : The instance\n   */\n  setIsLoaded(value) {\n    this.isLoaded = Boolean(value);\n    return this;\n  }\n\n  /**\n   * Returns the isDirty property\n   * @returns {boolean}\n   */\n  getDirty() {\n    return this.isDirty;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Model} : The instance\n   */\n  setDirty(value) {\n    this.isDirty = Boolean(value);\n    return this;\n  }\n\n  /**\n   * Returns the isNew property\n   * @returns {boolean}\n   */\n  getIsNew() {\n    return this.isNew;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Model} : The instance\n   */\n  setIsNew(value) {\n    this.isNew = Boolean(value);\n    return this;\n  }\n\n  /**\n   * Returns the isOutdated property\n   * @returns {boolean}\n   */\n  getOutdated() {\n    return this.isOutdated;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Model} : The instance\n   */\n  setOutdated(value) {\n    this.isOutdated = value;\n    return this;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {Model} : The instance\n   */\n  setData(json) {\n    Object.entries(json ?? {}).forEach(([key, value]) => {\n      if (Reflect.has(this, key) && value !== undefined) {\n        Reflect.set(this, key, value);\n      }\n    });\n    this.setOutdated(false);\n    return this;\n  }\n\n  /**\n   * Returns the scope property\n   * Override in the extended class\n   * @returns {string}\n   */\n  getScope() {\n    return \"NA\";\n  }\n\n  /**\n   * Returns the fileExtension property\n   * Override in the extended class\n   * @returns {string}\n   */\n  getFileExtension() {\n    return \".NA\";\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Sets the object as dirty and executes the dispatcher\n   */\n  dispatch() {\n    this.setDirty(true);\n\n    super.dispatch(...arguments);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      id: this.getId(),\n      url: this.getUrl(),\n      name: this.getName(),\n      scope: this.getScope(),\n      workspace: this.getWorkspace(),\n      details: this.getDetails(),\n      version: this.getVersion()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * Override in the extended class\n   * @returns {object}\n   */\n  serializeToDB() {\n    return this.serialize();\n  }\n\n  /**\n   * Returns properties serialized from the database format\n   * Override in the extended class\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(args) {\n    return args;\n  }\n\n  /**\n   * Creates a new instance from the database format\n   * Override in the extended class\n   * @param {object} json The data to initialize the instance\n   * @returns {object} : An instance\n   */\n  static ofJSON(json) {\n    const data = this.serializeOfDB(json);\n\n    const obj = new this(data);\n\n    return obj.setData(data).setDirty(false);\n  }\n\n  /**\n   * Instance clean up\n   * @private\n   */\n  destroy() {\n    super.destroy();\n  }\n}\n","class Schema {\n  constructor(schema) {\n    this.schema = schema;\n  }\n\n  validate = data => this.schema.validate(data);\n}\n\nexport default Schema;\n","import BaseModel from \"./BaseModel\";\nimport Schema from \"./Schema\";\n\nclass Model extends BaseModel {\n  constructor() {\n    const { schema, ...otherArgs } = arguments[0];\n    super({ ...otherArgs });\n\n    this.schema = new Schema(schema ?? {});\n  }\n\n  validate() {\n    return this.schema.validate(this.serialize());\n  }\n}\n\nexport default Model;\n","import Model from \"./Model\";\n\nexport default Model;\n","const EVENTS = {\n  UPDATE: \"onUpdate\",\n  CREATE: \"onCreate\",\n  DELETE: \"onDelete\",\n  ANY: \"onAny\"\n};\n\nexport default EVENTS;\n","import EVENTS from \"./events\";\n\n/**\n * Class to manage a list of items of a specific model\n */\nclass Manager {\n  /**\n   *\n   * @param {string} propName : The property name in the parent model\n   * @param {class} model : The model to manage\n   * @param {object} events : An object with events and associated subscribers\n   */\n  constructor(propName, model, events) {\n    // events {object} : {<event name>: <callback>}\n    // Available events  (method -> event):\n    //   setItem -> onCreate\n    //   updateItem -> onUpdate\n    //   deleteItem -> onDelete\n    this.events = events ?? {};\n\n    // The name of the property to manage\n    this.propName = propName;\n\n    // The model of the items\n    this.model = model;\n  }\n\n  /**\n   * Key:value store to save the items\n   */\n  data = new Map();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Checks if the item exists\n   * @param {string} name : The name of the item\n   * @returns {boolean} : True if the item exists otherwise false\n   */\n  checkExists(name) {\n    return this.data.has(name);\n  }\n\n  /**\n   * Returns an item based on a name\n   * @param {string} name : The name of the item\n   * @returns {object} : The value of the item or undefined\n   */\n  getItem(name) {\n    return this.data.get(name);\n  }\n\n  /**\n   * @returns {Boolean} : if has any items\n   */\n  hasItems() {\n    return Boolean(this.data.size);\n  }\n\n  /**\n   * Creates a new item\n   * Emits the CREATE event\n   * @param {object} param0 : An object with the name of the item and the content\n   * @returns {Manager} : The instance\n   */\n  setItem({ name, content }) {\n    const obj = new this.model();\n\n    obj.setData({ name, ...content });\n\n    this.data.set(name, obj);\n\n    //subscribe to object changes to emit update event\n    obj.subscribe(() => {\n      this.emit(EVENTS.UPDATE);\n    });\n\n    this.emit(EVENTS.CREATE);\n\n    return this;\n  }\n\n  /**\n   * Updates an item\n   * @param {object} param0 : An object with the name of the item and the content\n   * @returns {Manager} : The instance\n   */\n  updateItem({ name, content }) {\n    this.getItem(name)?.setData(content);\n\n    this.emit(EVENTS.UPDATE);\n\n    return this;\n  }\n\n  /**\n   * Renames an item\n   * @param {object} param0: An object with the old name of the item and the new name for the item\n   * @param {boolean} preventEmit: A boolean to prevent the second EVENTS.UPDATE emission\n   * @returns : The instance\n   */\n  renameItem({ prevName, name }, preventEmit) {\n    const oldItem = this.getItem(prevName);\n    if (oldItem) {\n      oldItem.setName(name);\n      this.data.delete(prevName);\n      this.data.set(name, oldItem);\n      !preventEmit && this.emit(EVENTS.UPDATE);\n    }\n\n    return this;\n  }\n\n  /**\n   * Deletes an item\n   * @param {string} key : The name of the item\n   * @returns {boolean} : True on success, false otherwise\n   */\n  deleteItem(name) {\n    this.getItem(name)?.destroy();\n\n    const res = this.data.delete(name);\n\n    this.emit(EVENTS.DELETE);\n\n    return res;\n  }\n\n  /**\n   * Creates one or more items\n   * @param {object} json : An object with the items to create\n   * @returns {Manager} : The instance\n   */\n  setData(json) {\n    Object.entries(json ?? {}).forEach(([name, content]) => {\n      this.setItem({ name, content });\n    });\n\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns all items serialized\n   * @returns {object} : An object with all items serialized\n   */\n  serialize() {\n    const output = {};\n\n    for (const key of this.data.keys()) {\n      const obj = this.getItem(key);\n\n      output[obj.getName()] = obj.serialize();\n    }\n\n    return output;\n  }\n\n  /**\n   * Returns all items serialized for database insertion\n   * @returns {object} : An object with all items serialized\n   */\n  serializeToDB() {\n    const output = {};\n\n    for (const key of this.data.keys()) {\n      const obj = this.getItem(key);\n\n      output[obj.getName()] = obj.serializeToDB();\n    }\n\n    return output;\n  }\n\n  /**\n   * Returns an object serialized for the model insertion\n   * @param {object} json : An object with all the items serialized from db\n   * @returns {object} : An object with all items serialized\n   */\n  static serializeOfDB(json, model) {\n    const output = {};\n\n    Object.entries(json ?? {}).forEach(([key, content]) => {\n      output[key] = model.serializeOfDB({ [key]: { ...content } });\n    });\n    return output;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Events Handlers                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * Calls subscribers based on the event received\n   * @param {string} event : The event name\n   */\n  emit(event) {\n    const { propName: name } = this;\n    const value = this.serialize();\n\n    // Execute on specific event\n    const fn = this.events[event];\n\n    if (typeof fn === \"function\") {\n      fn.call(this, event, name, value);\n    }\n\n    // Execute for any of the events\n    const anyFn = this.events[EVENTS.ANY];\n\n    if (typeof anyFn === \"function\") {\n      anyFn.call(this, event, name, value);\n    }\n  }\n\n  /**\n   * Clear all items\n   * @returns {Manager} Returns its instance\n   */\n  clear() {\n    this.data.clear();\n    return this;\n  }\n\n  /**\n   * Destroy items\n   */\n  destroy() {\n    Array.from(this.data.values()).destroy();\n    this.data.clear();\n  }\n}\n\nexport default Manager;\n","import Manager from \"./Manager\";\n\nexport default Manager;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../Model/Model\";\nimport schema from \"./schema\";\n\nclass Command extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.value = \"\";\n    this.description = \"\";\n\n    // Define observable properties\n    this.observables = Object.values(Command.OBSERVABLE_KEYS);\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                     Data Handlers                                    *\n     *                                                                                      */\n    //========================================================================================\n  }\n\n  /**\n   * Returns the value property\n   * @returns {string}\n   */\n  getValue() {\n    return this.value;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Command} : The instance\n   */\n  setValue(value) {\n    this.value = value;\n    return this;\n  }\n\n  /**\n   * Returns the description property\n   * @returns {string}\n   */\n  getDescription() {\n    return this.description;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Command} : The instance\n   */\n  setDescription(value) {\n    this.description = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      value: this.getValue(),\n      description: this.getDescription()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { value, description } = this.serialize();\n\n    return {\n      Value: value,\n      Description: description\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const { Value: value, Description: description } = content;\n\n    return { name, value, description };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    VALUE: \"value\",\n    DESCRIPTION: \"description\"\n  };\n}\n\nexport default Command;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../Model/Model\";\nimport schema from \"./schema\";\n\nclass EnvVar extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.value = \"\";\n    this.description = \"\";\n\n    // Define observable properties\n    this.observables = Object.values(EnvVar.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the value property\n   * @returns {string}\n   */\n  getValue() {\n    return this.value;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {EnvVar} : The instance\n   */\n  setValue(value) {\n    this.value = value;\n    return this;\n  }\n\n  /**\n   * Returns the description property\n   * @returns {string}\n   */\n  getDescription() {\n    return this.description;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {EnvVar} : The instance\n   */\n  setDescription(value) {\n    this.description = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      value: this.getValue(),\n      description: this.getDescription()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { value, description } = this.serialize();\n\n    return {\n      Value: value,\n      Description: description\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const { Value: value, Description: description } = content;\n\n    return { name, value, description };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    VALUE: \"value\",\n    DESCRIPTION: \"description\"\n  };\n}\n\nexport default EnvVar;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { DATA_TYPES } from \"../../../utils/Constants\";\nimport Model from \"../../Model/Model\";\nimport schema from \"./schema\";\n\nclass Parameter extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.value = \"\";\n    this.type = Parameter.defaults.type;\n    this.description = \"\";\n\n    // Define observable properties\n    this.observables = Object.values(Parameter.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the value property\n   * @returns {string}\n   */\n  getValue() {\n    return this.value;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Parameter} : The instance\n   */\n  setValue(value) {\n    this.value = value;\n    return this;\n  }\n\n  /**\n   * Returns the type property\n   * @returns {string}\n   */\n  getType() {\n    return this.type;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Parameter} : The instance\n   */\n  setType(value) {\n    this.type = value;\n    return this;\n  }\n\n  /**\n   * Returns the description property\n   * @returns {string}\n   */\n  getDescription() {\n    return this.description;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Parameter} : The instance\n   */\n  setDescription(value) {\n    this.description = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      value: this.getValue(),\n      type: this.getType(),\n      description: this.getDescription()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { value, description, type } = this.serialize();\n\n    return {\n      Value: value,\n      Type: type,\n      Description: description\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const type = content.Type ?? Parameter.defaults.type;\n    const { Value: value, Description: description } = content;\n\n    return { name, value, type, description };\n  }\n\n  /**\n   * Observable keys\n   */\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    VALUE: \"value\",\n    DESCRIPTION: \"description\",\n    TYPE: \"type\"\n  };\n\n  /**\n   * Defalt values\n   */\n  static defaults = {\n    type: DATA_TYPES.ANY\n  };\n}\n\nexport default Parameter;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../../Model\";\nimport schema from \"./schema\";\n\nclass PortType extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Model Properties                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  message = \"\";\n  callback = null;\n  parameters = {};\n\n  observables = [\"name\", \"message\", \"callback\", \"parameters\"];\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the message property\n   * @returns {string}\n   */\n  getMessage() {\n    return this.message;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {PortType} : The instance\n   */\n  setMessage(value) {\n    this.message = value;\n    return this;\n  }\n\n  /**\n   * Returns the callback property\n   * @returns {string}\n   */\n  getCallback() {\n    return this.callback;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {PortType} : The instance\n   */\n  setCallback(value) {\n    this.callback = value;\n    return this;\n  }\n\n  /**\n   * Returns the parameters property\n   * @returns {object}\n   */\n  getParameters() {\n    return this.parameters;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {object} value : The new value\n   * @returns {PortType} : The instance\n   */\n  setParameters(value) {\n    this.parameters = value;\n    return this;\n  }\n\n  /**\n   * Sets the value of a parameter\n   * @param {string} name : The name of the parameter\n   * @param {any} value : The new value of the parameter\n   */\n  setParameter(name, value) {\n    this.parameters[name] = value;\n    this.dispatch(\"parameters\", this.getParameters());\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      message: this.getMessage(),\n      callback: this.getCallback(),\n      parameters: this.getParameters()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * Override in the extended class\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { message, callback, parameters } = this.serialize();\n\n    return {\n      Message: message,\n      Parameter: parameters,\n      ...(callback ? { Callback: callback } : {})\n    };\n  }\n\n  /**\n   * Returns properties serialized from the database format\n   * Override in the extended class\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const {\n      Message: message,\n      Callback: callback,\n      Parameter: parameters\n    } = content;\n\n    return { name, message, callback, parameters };\n  }\n}\n\nexport default PortType;\n","import PortType from \"./PortType\";\n\nexport default PortType;\n","import { randomId } from \"../../../utils/Utils\";\nimport Model from \"../../Model\";\nimport Manager from \"../../Manager\";\nimport schema from \"./schema\";\nimport PortType from \"./PortType\";\n\nclass Port extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Events                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  events = {\n    onAny: (event, name, value) => this.propsUpdate(event, name, value)\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Model Properties                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  id = randomId();\n  description = \"\";\n  template = \"\";\n  msgPackage = \"\";\n  message = \"\";\n  portIn = new Manager(\"portIn\", PortType, this.events);\n  portOut = new Manager(\"portOut\", PortType, this.events);\n\n  observables = [\"name\", \"description\", \"template\", \"msgPackage\", \"message\"];\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the id property\n   * @returns {string}\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * Returns the description property\n   * @returns {string}\n   */\n  getDescription() {\n    return this.description;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Port} : The instance\n   */\n  setDescription(value) {\n    this.description = value;\n    return this;\n  }\n\n  /**\n   * Returns the template property\n   * @returns {string}\n   */\n  getTemplate() {\n    return this.template;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Port} : The instance\n   */\n  setTemplate(value) {\n    this.template = value;\n    return this;\n  }\n\n  /**\n   * Returns the msgPackage property\n   * @returns {string}\n   */\n  getPackage() {\n    return this.msgPackage;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Port} : The instance\n   */\n  setPackage(value) {\n    this.msgPackage = value;\n    return this;\n  }\n\n  /**\n   * Returns the message property\n   * @returns {string}\n   */\n  getMessage() {\n    return this.message;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Port} : The instance\n   */\n  setMessage(value) {\n    this.message = value;\n    return this;\n  }\n\n  /**\n   * Returns the portIn property\n   * @returns {Manager}\n   */\n  getPortIn() {\n    return this.portIn;\n  }\n\n  /**\n   * Returns the portOut property\n   * @returns {Manager}\n   */\n  getPortOut() {\n    return this.portOut;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {Port} : The instance\n   */\n  setData(json) {\n    const {\n      name,\n      details,\n      description,\n      template,\n      msgPackage,\n      message,\n      portIn,\n      portOut\n    } = json;\n\n    super.setData({\n      name,\n      details,\n      description,\n      template,\n      msgPackage,\n      message\n    });\n\n    this.portIn.setData(portIn);\n    this.portOut.setData(portOut);\n\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Events                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * Forces the events dispatcher\n   * @param {string} event : The name of the event\n   * @param {string} prop : The of the property updated\n   * @param {any} value : The new value of the property\n   */\n  propsUpdate(_, prop, value) {\n    // force dispatch\n    this.dispatch(prop, value);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      id: this.getId(),\n      name: this.getName(),\n      description: this.getDescription(),\n      template: this.getTemplate(),\n      msgPackage: this.getPackage(),\n      message: this.getMessage(),\n      portIn: this.getPortIn().serialize(),\n      portOut: this.getPortOut().serialize()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * Override in the extended class\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { description, template, message, msgPackage } = this.serialize();\n\n    return {\n      Info: description,\n      Template: template,\n      Package: msgPackage,\n      Message: message,\n      In: this.portIn.serializeToDB(),\n      Out: this.portOut.serializeToDB()\n    };\n  }\n\n  /**\n   * Returns properties serialized from the database format\n   * Override in the extended class\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n\n    const {\n      Id: id,\n      Info: description,\n      Template: template,\n      Message: message,\n      Package: msgPackage,\n      In: portIn,\n      Out: portOut\n    } = content;\n\n    return {\n      id,\n      name,\n      description,\n      template,\n      message,\n      msgPackage,\n      portIn: Manager.serializeOfDB(portIn, PortType),\n      portOut: Manager.serializeOfDB(portOut, PortType)\n    };\n  }\n}\n\nexport default Port;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { Model } from \"../../../models\";\nimport schema from \"./schema\";\n\nexport default class Configuration extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.code = \"\";\n    this.extension = \"yaml\";\n\n    // Define observable properties\n    this.observables = Object.values(Configuration.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the code property\n   * @returns {string}\n   */\n  getCode() {\n    return this.code;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Configuration} : The instance\n   */\n  setCode(code) {\n    this.code = code;\n    return this;\n  }\n\n  /**\n   * Returns the extension property\n   * @returns {string}\n   */\n  getExtension() {\n    return this.extension;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Configuration} : The instance\n   */\n  setExtension(extension) {\n    this.extension = extension || this.extension;\n    return this;\n  }\n\n  /**\n   * Returns the scope property\n   * @returns {string}\n   */\n  getScope() {\n    return Configuration.SCOPE;\n  }\n\n  /**\n   * Returns the file extension property\n   * @returns {string}\n   */\n  getFileExtension() {\n    return Configuration.EXTENSION;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      ...super.serialize(),\n      code: this.getCode(),\n      extension: this.getExtension()\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * Override in the extended class\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, code, extension, details } = this.serialize();\n\n    return {\n      Label: name,\n      Yaml: code,\n      Type: extension,\n      LastUpdate: details\n    };\n  }\n\n  /**\n   * Returns properties serialized from the database format\n   * Override in the extended class\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    // Get defaults if DB value is not defined\n    const extension = json.Type || Configuration.defaults.extension;\n    // Get value from DB\n    const {\n      Label: id,\n      Label: name,\n      Yaml: code,\n      LastUpdate: details,\n      workspace,\n      version\n    } = json;\n\n    return {\n      id,\n      name,\n      code,\n      extension,\n      details,\n      workspace,\n      version\n    };\n  }\n\n  static SCOPE = \"Configuration\";\n\n  static EXTENSION = \".conf\";\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    CODE: \"code\",\n    DETAILS: \"details\",\n    EXTENSION: \"extension\"\n  };\n\n  static KEYS_TO_DISCONSIDER = [this.OBSERVABLE_KEYS.CODE];\n}\n\n// Default model values\nConfiguration.defaults = {\n  extension: \"yaml\"\n};\n","const symbols = {\n  plugins: Symbol\n};\n\n/**\n * Class to manage plugins\n */\nclass StorePluginManager {\n  constructor(plugins) {\n    this.initPlugins(plugins);\n  }\n\n  get plugins() {\n    return this[symbols.plugins];\n  }\n\n  getPlugin(name) {\n    return this.plugins.get(name);\n  }\n\n  initPlugins(plugins = []) {\n    this[symbols.plugins] = new Map();\n\n    plugins.forEach(plugin => {\n      const instance = new plugin(this);\n\n      this[symbols.plugins].set(instance.getName(), instance);\n    });\n  }\n\n  destroy() {\n    for (const i of this.plugins.values()) {\n      i.destroy();\n    }\n  }\n}\n\nexport default StorePluginManager;\n","/**\n * Class providing a Plugin interface\n */\nclass StoreAbstractPlugin {\n  name;\n\n  getName() {\n    if (!this.name) throw new Error(\"Plugin name must be defined\");\n    return this.name;\n  }\n\n  destroy() {\n    throw new Error(`Destroy method of the plugin not implemented.`);\n  }\n}\n\nexport default StoreAbstractPlugin;\n","import { MasterDB } from \"@mov-ai/mov-fe-lib-core\";\n\nclass Subscriber {\n  constructor({ pattern, _onLoad, _onUpdate }) {\n    this.pattern = pattern;\n  }\n\n  subscribe(onUpdate, onLoad) {\n    MasterDB.subscribe(this.pattern, onUpdate, onLoad);\n  }\n\n  unsubscribe() {\n    MasterDB.unsubscribe(this.pattern);\n  }\n\n  destroy() {\n    this.unsubscribe();\n    MasterDB.close();\n  }\n}\n\nexport default Subscriber;\n","import { Document } from \"@mov-ai/mov-fe-lib-core\";\nimport { StorePluginManager } from \"./plugins\";\nimport Subscriber from \"../subscriber/Subscriber\";\nimport { GLOBAL_WORKSPACE } from \"../utils/Constants\";\n\nclass BaseStore extends StorePluginManager {\n  constructor(args) {\n    const {\n      workspace,\n      model,\n      plugin,\n      name,\n      title,\n      pattern,\n      observer,\n      docManager,\n      plugins\n    } = args;\n\n    super(plugins);\n\n    this._workspace = workspace || GLOBAL_WORKSPACE;\n    this._plugin = plugin;\n    this._model = model;\n    this._scope = model.SCOPE;\n    this._name = name || \"Store\";\n    this._title = title || \"Generic Store\";\n    this.pattern = pattern || { Scope: this.scope, Name: \"*\", Label: \"*\" };\n    this.observer = observer;\n    this.docManager = docManager;\n    this.protectedDocs = [];\n\n    this.enableSubscriber();\n  }\n\n  // Data store\n  data = new Map();\n\n  get workspace() {\n    return this._workspace;\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  get plugin() {\n    return this._plugin;\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  get scope() {\n    return this._scope;\n  }\n\n  get title() {\n    return this._title;\n  }\n\n  /**\n   * Loads a document\n   * @param {String} name\n   * @returns {Object} Loaded Document\n   */\n  loadDoc(name) {\n    return this.fetchDoc(name)\n      .then(file => {\n        // get or create document\n        const obj = this.getDoc(name) || this.newDoc(name).setIsNew(false);\n\n        const data = obj.constructor.serializeOfDB(file);\n        return obj\n          .enableObservables(false)\n          .setData(data)\n          .setIsLoaded(true)\n          .setDirty(false)\n          .enableObservables(true);\n      })\n      .catch(error => {\n        if (error.status === 404) {\n          return this.newDoc(name);\n        }\n      });\n  }\n\n  /**\n   * Fetches a document\n   * @param {String} name\n   * @returns {Object} Document\n   */\n  fetchDoc(name) {\n    const { scope } = this;\n    return new Document(Document.parsePath(name, scope)).read();\n  }\n\n  /**\n   * Gets a document from the store\n   * @param {String} name\n   * @returns {Object} Document\n   */\n  getDoc(name) {\n    return this.data.get(name);\n  }\n\n  /**\n   * Sets a document in the store\n   * @param {String} name\n   * @param {Object} value\n   * @returns\n   */\n  setDoc(name, value) {\n    return this.data.set(name, value);\n  }\n\n  /**\n   * Actual delete function\n   * @param {String} name\n   * @returns\n   */\n  delDoc(name) {\n    return this.data.delete(name);\n  }\n\n  /**\n   * Deletes a valid document from the store\n   * @param {String} name : Name of the document to delete\n   * @returns\n   */\n  deleteDocFromStore(name) {\n    this.getDoc(name)?.destroy();\n    return this.delDoc(name);\n  }\n\n  /**\n   * Generates a new document name\n   * @param {Int} next\n   * @returns {String} Generated name\n   */\n  generateName(next = 1) {\n    const name = `untitled-${next}`;\n    return this.data.has(name) ? this.generateName(next + 1) : name;\n  }\n\n  /**\n   * Rename the document (locally)\n   * @param {object} doc The document instance\n   * @param {string} newName The new name of the document\n   */\n  renameDoc(doc, newName) {\n    // remove the document from the local store\n    this.delDoc(doc.getName());\n    // re add the document with the new name\n    this.setDoc(newName, doc);\n\n    // rename the instance\n    doc.setName(newName);\n    // Since we are using the id as the name aswell, let's update it to avoid confusion\n    doc.setId(newName);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                         Events                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get updated document\n   * @returns {Object} data\n   */\n  getUpdateDoc() {\n    const docType = this.scope;\n\n    const event2actionMap = {\n      del: updateDoc => {\n        this.deleteDocFromStore(updateDoc.name);\n      },\n      set: updateDoc => {\n        if (!this.getDoc(updateDoc.name)) {\n          this.newDoc(updateDoc.name);\n        }\n      }\n    };\n\n    return data => {\n      if (data.event in event2actionMap) {\n        const docName = Object.keys(data.key[docType])[0];\n        const docContent = Object.values(data.key[docType])[0];\n        event2actionMap[data.event]({ name: docName, content: docContent });\n\n        if (typeof this.observer?.onUpdate === \"function\") {\n          this.observer.onUpdate(\n            this.name,\n            {\n              document: this.data.get(docName),\n              documentName: docName,\n              documentType: docType\n            },\n            data.event\n          );\n        }\n      }\n    };\n  }\n\n  /**\n   * Creates the instances for the documents without any content\n   * Content is only loaded when the user opens the document\n   * @param {object} data Object with the list of existing documents\n   */\n  loadDocs(data) {\n    const docType = this.scope;\n\n    Object.values(data.value[docType]).forEach(doc => {\n      const name = doc.Label;\n\n      // Check if is doc protected\n      const isProtected = this.protectedDocs.includes(doc.Label);\n\n      // create only if the instance does not exist yet\n      if (!this.getDoc(name) && !isProtected) {\n        const newDoc = this.newDoc(name);\n        newDoc\n          .enableObservables(false)\n          .setIsNew(false)\n          .setIsLoaded(false)\n          .setDirty(false)\n          .enableObservables(true);\n      }\n    });\n\n    // fire subject onLoad\n    if (typeof this.observer?.onLoad === \"function\") {\n      this.observer.onLoad(this.name);\n    }\n  }\n  /**\n   * Event to handle when document gets updated\n   * @param {Object} instance\n   * @param {String} _prop\n   * @param {String} _value\n   */\n  onDocumentUpdate(instance, _prop, _value) {\n    if (typeof this.observer.onDocumentDirty === \"function\") {\n      this.observer.onDocumentDirty(this.name, instance, instance.getDirty());\n    }\n  }\n\n  /**\n   * Method to enable subscriber\n   */\n  enableSubscriber() {\n    this.subscriber = new Subscriber({\n      pattern: this.pattern\n    });\n    this.subscriber.subscribe(this.getUpdateDoc(), data => this.loadDocs(data));\n  }\n\n  destroy() {\n    super.destroy();\n    if (this.subscriber) this.subscriber.destroy();\n  }\n}\n\nexport default BaseStore;\n","import { Document } from \"@mov-ai/mov-fe-lib-core\";\nimport BaseStore from \"./BaseStore\";\n\nclass Store extends BaseStore {\n  /**\n   * Returns a list of documents instances\n   * @returns {Array<{<Model>}}\n   */\n  getDocs() {\n    return Array.from(this.data.values());\n  }\n\n  /**\n   * Returns a document instance\n   * @param {string} name : The name of the document\n   * @returns {Promise<{<Model>}}\n   */\n  readDoc(name) {\n    const doc = this.getDoc(name);\n    return doc?.isLoaded ? Promise.resolve(doc) : this.loadDoc(name);\n  }\n\n  /**\n   * Creates a document in the store and returns the instance\n   * @param {string} name The name of the document to create\n   * @returns {Object<Model>}\n   */\n  newDoc(docName) {\n    const name = docName || this.generateName();\n\n    // create the document instance\n    const doc = new this.model({ name });\n    doc.setIsNew(true);\n    doc.setIsLoaded(true);\n\n    // Add changes subscriber\n    doc.subscribe((instance, prop, value) =>\n      this.onDocumentUpdate(instance, prop, value)\n    );\n\n    // store the document\n    this.setDoc(name, doc);\n    return doc;\n  }\n\n  /**\n   * Deletes the document from the store and the database\n   * @param {string} name The name of the document to delete\n   * @returns {Promise<any>}\n   */\n  deleteDoc(name) {\n    const docUrl = this.data.get(name).getUrl();\n    return new Document.delete({\n      name,\n      type: this.scope,\n      body: {}\n    })\n      .then(_ => {\n        // delete only if successfully deleted from the database\n        return this.deleteDocFromStore(name);\n      })\n      .then(res => {\n        this.observer.onDocumentDeleted(this.name, { name, url: docUrl });\n        return res;\n      });\n  }\n\n  /**\n   * Saves the document in the database\n   * @param {string} name The name of the document to save\n   * @param {string} newName The new name of the document (when renaming)\n   * @returns {Promise<{success, name}>}\n   */\n  saveDoc(name, newName) {\n    const { scope } = this;\n\n    // get document from store\n    const doc = this.getDoc(name);\n\n    // rename the document\n    if (newName) this.renameDoc(doc, newName);\n\n    //get the document data\n    const data = doc.serializeToDB();\n\n    // If is a new document => create document in DB\n    // If is not a new document => update in DB\n    const saveMethodByIsNew = {\n      true: _data => {\n        const payload = {\n          type: scope,\n          name: _data.Label,\n          body: _data\n        };\n        return Document.create(payload);\n      },\n      false: _data => {\n        const document = new Document(Document.parsePath(name, scope));\n        return document.overwrite(_data);\n      }\n    };\n\n    return saveMethodByIsNew[doc.getIsNew()](data).then(res => {\n      if (res.success) {\n        doc.setIsNew(false).setDirty(false);\n        this.observer.onDocumentDirty(this.name, doc, doc.getDirty());\n        res.model = doc;\n      }\n      return res;\n    });\n  }\n\n  /**\n   * Create copy of document and save it in DB\n   * @param {string} name The name of the document to copy\n   * @param {string} newName The name of the new document (copy)\n   * @returns {Promise<Model>} Promise resolved after finish copying document\n   */\n  async copyDoc(name, newName) {\n    return this.readDoc(name).then(doc => {\n      const newObj = this.model\n        .ofJSON(doc.serializeToDB())\n        .setIsNew(true)\n        .setName(newName);\n\n      this.setDoc(newName, newObj);\n      this.saveDoc(newName);\n\n      // Add subscriber to update dirty state\n      newObj.subscribe((instance, prop, value) =>\n        this.onDocumentUpdate(instance, prop, value)\n      );\n\n      // Return copied document\n      return newObj;\n    });\n  }\n\n  /**\n   * Checks if a document exists in the store\n   * @param {string} name The name of the document to check\n   * @returns {Boolean}\n   */\n  checkDocExists(name) {\n    return this.data.has(name);\n  }\n\n  /**\n   * Returns true if successfully discarded changes\n   * @param {string} name The name of the document\n   * @returns {boolean}\n   */\n  discardDocChanges(name) {\n    const doc = this.getDoc(name);\n    // A new document only exists in the store\n    //  so discarding its changes means removing it from the store\n    // Otherwise set isLoaded flag to false,\n    //  so the next time the user tries to read it:\n    //  it will load the doc from redis again\n    doc.getIsNew()\n      ? this.deleteDocFromStore(name)\n      : Boolean(doc?.setIsLoaded(false).setDirty(false));\n\n    return this.observer.onDocumentDirty(this.name, doc, doc.getDirty());\n  }\n\n  /**\n   * Get all dirty documents\n   * @returns {Array} Names of dirty documents from store\n   */\n  getDirties() {\n    return Array.from(this.data.values()).filter(obj => obj.getDirty());\n  }\n\n  /**\n   * Checks if the store has any documents changed (dirty)\n   * @returns {Boolean}\n   */\n  hasDirties() {\n    return this.getDirties().length > 0;\n  }\n\n  /**\n   * Saves all changed documents\n   * @returns {Promise<>}\n   */\n  saveDirties() {\n    const promises = this.getDirties().map(obj => {\n      return this.saveDoc(obj.getName());\n    });\n\n    return Promise.allSettled(promises);\n  }\n}\n\nexport default Store;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"lodash/isEqual\");","import { StoreAbstractPlugin } from \"../plugins\";\nimport Subscriber from \"../../subscriber/Subscriber\";\nimport _isEqual from \"lodash/isEqual\";\n\nconst symbols = {\n  timer: Symbol(),\n  subscribers: Symbol()\n};\n\n// debounce updates (in milliseconds)\nconst DEBOUNCE_TIME = 100;\n\n/**\n * Class providing a subscriptions manager for the documents\n * To be used as a plugin of the Store\n * @param {object} : Store instance\n */\nclass DBSubscriber extends StoreAbstractPlugin {\n  constructor(iStore) {\n    super();\n    this.iStore = iStore;\n  }\n\n  name = \"DBSubscriber\";\n  [symbols.timer] = null;\n  [symbols.subscribers] = new Map();\n\n  get scope() {\n    return this.iStore.scope;\n  }\n\n  subscribe(docName) {\n    const subscriber = new Subscriber({\n      pattern: this.getPattern(docName)\n    });\n\n    subscriber.subscribe(\n      data => this.onUpdate(data),\n      data => this.onLoad(data)\n    );\n\n    // add the subscriber to the map\n    this[symbols.subscribers].set(this.generateId(docName), subscriber);\n  }\n\n  unsubscribe(docName) {\n    const id = this.generateId(docName);\n\n    this[symbols.subscribers].get(id).destroy();\n    this[symbols.subscribers].delete(id);\n  }\n\n  getPattern(docName) {\n    const { scope } = this;\n    return { Scope: scope, Name: docName, LastUpdate: \"*\" };\n  }\n\n  /**\n   * Generates an id based on the inputs\n   * @param {string} docName\n   * @returns {string}\n   */\n  generateId(docName) {\n    return `${this.scope}/${docName}`;\n  }\n\n  getDoc(name) {\n    return this.iStore.getDoc(name);\n  }\n\n  onLoad(_) {\n    // not in use\n  }\n\n  /**\n   * Debouces the notifications from the subscriber\n   * @param {object} data : New data received from the subscriber\n   */\n  onUpdate(data) {\n    clearTimeout(this[symbols.timer]);\n\n    this[symbols.timer] = setTimeout(\n      () => this.updateDocument(data.patterns[0].Name),\n      DEBOUNCE_TIME\n    );\n  }\n\n  /**\n   * Updates the document if needed\n   */\n  updateDocument(docName) {\n    this.iStore\n      .fetchDoc(docName)\n      .then(updatedData => {\n        // get the document instance from the store\n        const doc = this.getDoc(docName);\n\n        // serialize model data\n        const currentData = doc.serializeToDB();\n\n        // remove keys not to be considered\n        const { _schema_version, ...filteredData } = updatedData;\n\n        if (this.shouldUpdate(currentData, filteredData)) {\n          // getDirty is true:\n          //    local document already has changes thus only set outdated flag to true\n          //\n          // getDirty is false:\n          //    can overwrite because the local document was not changed\n\n          doc.getDirty()\n            ? doc.setOutdated(true)\n            : this.overwriteDoc(docName, filteredData);\n        }\n      })\n      .catch(error => console.log(error));\n  }\n\n  /**\n   * Compares the given objects\n   * @param {object} objOne : Object to compare\n   * @param {object} objTwo : Object to compare\n   * @returns {boolean} : True if objects are different\n   */\n  shouldUpdate(objOne, objTwo) {\n    return !_isEqual(objOne, objTwo);\n  }\n\n  /**\n   * Overwrites the document data\n   * @param {object} data The data to overwrite the document\n   */\n  overwriteDoc(docName, data) {\n    const doc = this.getDoc(docName);\n\n    // Get the static method\n    const serialized = doc.constructor.serializeOfDB(data);\n\n    // Update data in data model\n    doc.setData(serialized).setDirty(false);\n\n    // Emit event to Doc Manager\n    this.iStore.docManager?.onDocumentUpdate(doc);\n  }\n\n  /**\n   * Clean up\n   */\n  destroy() {\n    for (const i of this[symbols.subscribers].values()) {\n      i.unsubscribe();\n    }\n    this[symbols.subscribers].clear();\n  }\n}\n\nexport default DBSubscriber;\n","import DBSubscriber from \"./DBSubscriber\";\n\nexport default DBSubscriber;\n","import Model from \"../model/Configuration\";\nimport { Store, DBSubscriber } from \"../../../store\";\n\nclass ConfigurationStore extends Store {\n  constructor(workspace, observer) {\n    super({\n      workspace,\n      model: Model,\n      name: Model.SCOPE,\n      title: \"Configurations\",\n      plugins: [DBSubscriber],\n      observer\n    });\n  }\n\n  loadDoc(name) {\n    this.getPlugin(\"DBSubscriber\").subscribe(name);\n\n    return super.loadDoc(name);\n  }\n\n  static SCOPE = Model.SCOPE;\n}\n\nexport default ConfigurationStore;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@mov-ai/mov-fe-lib-code-editor\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/lab\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Info\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/toArray\");","import React, { useEffect, useRef } from \"react\";\nimport hotkeys from \"hotkeys-js\";\nimport { getRefComponent, parseKeybinds } from \"../utils/Utils\";\nimport { KEYBINDINGS } from \"../utils/shortcuts\";\n\n/**\n * By default hotkeys are not enabled for INPUT SELECT TEXTAREA elements.\n * Hotkeys.filter to return to the true shortcut keys set to play a role, false shortcut keys set up failure.\n */\nhotkeys.filter = function () {\n  return true;\n};\n\nhotkeys(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS, event => {\n  event.preventDefault();\n});\n\n/**\n * Manage Key binds\n * @param {*} Component\n * @returns\n */\nconst withKeyBinds = Component => {\n  const RefComponent = getRefComponent(Component);\n\n  return (props, ref) => {\n    // Props\n    const { id } = props;\n    // Refs\n    const scopeRef = useRef();\n\n    /**\n     * Activate scope shortcuts.\n     * This will automatically deactivate all other scopes\n     */\n    const activateKeyBind = (scope = scopeRef.current) => {\n      hotkeys.setScope(scope);\n    };\n\n    /**\n     * Set scope to global\n     *  This will deactivate the current scope\n     */\n    const deactivateKeyBind = () => {\n      hotkeys.setScope(\"all\");\n    };\n\n    /**\n     * Add Key bind to its scope\n     * @param {*} keys\n     * @param {*} callback\n     */\n    const addKeyBind = (keys, callback, scope = scopeRef.current) => {\n      if (!scope) return;\n      const keysToBind = parseKeybinds(keys);\n      activateKeyBind(scope);\n      hotkeys(keysToBind, scope, callback);\n    };\n\n    /**\n     * Remove key bind from scope\n     * @param {*} key\n     */\n    const removeKeyBind = (keys, scope = scopeRef.current) => {\n      const keysToUnbind = parseKeybinds(keys);\n      hotkeys.unbind(keysToUnbind, scope);\n    };\n\n    /**\n     * Component initialization : set scope id\n     */\n    useEffect(() => {\n      scopeRef.current = id;\n      // Delete scope to unbind keys when component is unmounted\n      return () => {\n        hotkeys.deleteScope(scopeRef.current);\n      };\n    }, [id]);\n\n    return (\n      <RefComponent\n        {...props}\n        ref={ref}\n        addKeyBind={addKeyBind}\n        removeKeyBind={removeKeyBind}\n        activateKeyBind={activateKeyBind}\n        deactivateKeyBind={deactivateKeyBind}\n      />\n    );\n  };\n};\n\nexport default withKeyBinds;\n","import React, { useCallback, useRef } from \"react\";\nimport { PLUGINS } from \"../utils/Constants\";\nimport { getRefComponent } from \"../utils/Utils\";\n\n/**\n * Handle actions to update right menu of each editor\n * @param {*} Component : Editor React Component\n * @returns {ReactComponent} React component that receives props to handle menu actions\n */\nconst withMenuHandler = Component => {\n  const RefComponent = getRefComponent(Component);\n\n  return (props, ref) => {\n    const { call } = props;\n    const updateRightMenuRef = useRef();\n\n    /**\n     * Reset right menu : clear menu and close right drawer\n     */\n    const resetRightMenu = useCallback(() => {\n      call(\n        PLUGINS.RIGHT_DRAWER.NAME,\n        PLUGINS.RIGHT_DRAWER.CALL.RESET_BOOKMARKS\n      );\n    }, [call]);\n\n    /**\n     * Render components menu if any and bind events of active tab to trigger the component's renderRightMenu method\n     * @returns\n     */\n    const initRightMenu = useCallback(() => {\n      // render component menus (if any)\n      const editorRef = ref?.current;\n      if (!editorRef) return;\n      const _updateRightMenu = editorRef.renderRightMenu\n        ? editorRef.renderRightMenu\n        : resetRightMenu;\n      // Render (or close) right menu details\n      _updateRightMenu();\n      updateRightMenuRef.current = _updateRightMenu;\n    }, [ref, resetRightMenu]);\n\n    /**\n     * Update Right menu\n     */\n    const updateRightMenu = useCallback(() => {\n      if (!updateRightMenuRef.current) initRightMenu();\n      updateRightMenuRef.current();\n    }, [initRightMenu]);\n\n    return (\n      <RefComponent\n        {...props}\n        ref={ref}\n        initRightMenu={initRightMenu}\n        updateRightMenu={updateRightMenu}\n      />\n    );\n  };\n};\n\nexport default withMenuHandler;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const loaderStyles = makeStyles(_theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    maxHeight: \"100%\",\n    minHeight: \"300px\",\n    position: \"relative\"\n  },\n  loaderContainer: {\n    height: \"100%\",\n    position: \"absolute\",\n    textAlign: \"center\",\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    zIndex: 1051 // Must be greater than 1050 to be on top of floating buttons\n  },\n  loaderImage: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  linearProgress: { marginTop: 20 }\n}));\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { LinearProgress } from \"@material-ui/core\";\nimport loader from \"../../../Branding/movai-logo-transparent.png\";\n\nimport { loaderStyles } from \"./styles\";\n\nconst Loader = _props => {\n  // Style hook\n  const classes = loaderStyles();\n  // Translation hook\n  const { t } = useTranslation();\n  // Render\n  return (\n    <div className={classes.root}>\n      <div id=\"loader\" className={classes.loaderContainer}>\n        <div className={classes.loaderImage}>\n          <img src={loader} alt={t(\"Loading\")} width={200}></img>\n          <LinearProgress\n            color=\"secondary\"\n            className={classes.linearProgress}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { getRefComponent } from \"../utils/Utils\";\nimport Loader from \"../editors/_shared/Loader/Loader\";\n\nimport { loaderStyles } from \"./styles\";\n\n/**\n * Render loader before document is ready\n * @param {*} Component\n * @returns\n */\nconst withLoader = Component => {\n  const RefComponent = getRefComponent(Component);\n\n  return (props, ref) => {\n    const { loading } = props;\n    const classes = loaderStyles();\n\n    return (\n      <Typography component=\"div\" className={classes.root}>\n        {loading ? <Loader /> : <RefComponent {...props} ref={ref} />}\n      </Typography>\n    );\n  };\n};\n\nexport default withLoader;\n","import React, {\n  cloneElement,\n  Children,\n  useEffect,\n  useState,\n  useRef\n} from \"react\";\nimport { getRefComponent } from \"../../utils/Utils\";\nimport { PLUGINS } from \"../../utils/Constants\";\n\nconst DataHandler = props => {\n  const { children, call, scope, name } = props;\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const modelRef = useRef();\n\n  /**\n   * Save document\n   * @param {String} newName : Document name (used to set document name when creating a new document)\n   */\n  const save = () => {\n    call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.SAVE, {\n      scope,\n      name\n    });\n  };\n\n  /**\n   * On Load : read data and set model in modelRef\n   */\n  useEffect(() => {\n    call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.READ, {\n      scope,\n      name\n    }).then(model => {\n      setData(model.serialize());\n      modelRef.current = model;\n      setLoading(false);\n    });\n  }, [call, scope, name]);\n\n  return Children.map(children, el =>\n    cloneElement(el, { data, save, instance: modelRef, loading })\n  );\n};\n\nconst withDataHandler = Component => {\n  const RefComponent = getRefComponent(Component);\n\n  return (props, ref) => {\n    return (\n      <DataHandler {...props}>\n        <RefComponent {...props} ref={ref} />\n      </DataHandler>\n    );\n  };\n};\n\nexport default DataHandler;\n\nexport { withDataHandler };\n","import React, { forwardRef, useCallback, useEffect, useRef } from \"react\";\nimport withAlerts from \"../../decorators/withAlerts\";\nimport withKeyBinds from \"../../decorators/withKeyBinds\";\nimport withMenuHandler from \"../../decorators/withMenuHandler\";\nimport withLoader from \"../../decorators/withLoader\";\nimport { withDataHandler } from \"../../plugins/DocManager/DataHandler\";\nimport { KEYBINDINGS } from \"../../utils/shortcuts\";\nimport { PLUGINS } from \"../../utils/Constants\";\nimport { getNameFromURL } from \"../../utils/Utils\";\nimport { ViewPlugin } from \"./ViewReactPlugin\";\n\n/**\n * Add decorators to Component always forwarding ref\n * @param {ReactComponent} Component : Component to be decorated\n * @param {Array<decorators>} decorators : Array of decorators to be added to component\n * @returns Fully decorated component\n */\nconst composeDecorators = (Component, decorators) => {\n  const [withFirstDecorator, ...otherDecorators] = decorators;\n  const composed = forwardRef((props, ref) =>\n    withFirstDecorator(Component)(props, ref)\n  );\n  if (otherDecorators.length)\n    return composeDecorators(composed, otherDecorators);\n  else return composed;\n};\n\n/**\n * Decorate react component and handle shared behavior between editors\n * @param {ReactComponent} ReactComponent : Editor React Component\n * @param {Array<String>} methods : Methods to be exposed\n * @returns\n */\nexport function withEditorPlugin(ReactComponent, methods = []) {\n  const RefComponent = forwardRef((props, ref) => ReactComponent(props, ref));\n\n  /**\n   * Component responsible to handle common editor lifecycle\n   */\n  const EditorComponent = forwardRef((props, ref) => {\n    const {\n      id,\n      on,\n      off,\n      scope,\n      addKeyBind,\n      removeKeyBind,\n      save,\n      activateKeyBind,\n      deactivateKeyBind,\n      initRightMenu,\n      updateRightMenu\n    } = props;\n\n    const editorContainer = useRef();\n\n    /**\n     * Activate editor : activate editor's keybinds and update right menu\n     */\n    const activateEditor = useCallback(() => {\n      activateKeyBind();\n      updateRightMenu();\n    }, [activateKeyBind, updateRightMenu]);\n\n    /**\n     * Activate keybinds if is this editor\n     */\n    const activateThisKeys = useCallback(\n      ({ instance }) => {\n        if (!instance) return;\n        if (instance.id === getNameFromURL(id)) editorContainer.current.focus();\n      },\n      [id]\n    );\n\n    /**\n     * Component did mount\n     */\n    useEffect(() => {\n      initRightMenu();\n      addKeyBind(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS, save);\n      on(\n        PLUGINS.TABS.NAME,\n        PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE,\n        activateThisKeys\n      );\n\n      on(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.ON.UPDATE_DOC_DIRTY,\n        activateThisKeys\n      );\n\n      // Remove key bind on component unmount\n      return () => {\n        removeKeyBind(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.SAVE.SHORTCUTS);\n        off(PLUGINS.TABS.NAME, PLUGINS.TABS.ON.ACTIVE_TAB_CHANGE);\n        off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.UPDATE_DOC_DIRTY);\n      };\n    }, [\n      id,\n      addKeyBind,\n      removeKeyBind,\n      initRightMenu,\n      on,\n      off,\n      save,\n      activateThisKeys\n    ]);\n\n    return (\n      <div\n        tabIndex=\"-1\"\n        ref={editorContainer}\n        onFocus={activateEditor}\n        onBlur={deactivateKeyBind}\n        className={`container-${scope}`}\n      >\n        <RefComponent\n          {...props}\n          activateEditor={activateEditor}\n          saveDocument={save}\n          deactivateKeyBind={deactivateKeyBind}\n          ref={ref}\n        />\n      </div>\n    );\n  });\n\n  // Decorate component\n  const DecoratedEditorComponent = composeDecorators(EditorComponent, [\n    withMenuHandler,\n    withLoader,\n    withKeyBinds,\n    withDataHandler,\n    withAlerts\n  ]);\n\n  /**\n   * Return Plugin class rendering decorated editor component\n   */\n  return class extends ViewPlugin {\n    constructor(profile, props = {}) {\n      super(profile, props, methods);\n    }\n\n    render() {\n      return (\n        <DecoratedEditorComponent\n          {...this.props}\n          ref={this.ref}\n          call={this.call}\n          profile={this.profile}\n          emit={this.emit}\n          on={this.on}\n          off={this.off}\n          onTopic={this.onTopic}\n        />\n      );\n    }\n  };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _isEqual from \"lodash/isEqual\";\n\nconst useDataSubscriber = props => {\n  const { instance, keysToDisconsider, propsData = {} } = props;\n  // State hooks\n  const [data, setData] = React.useState(propsData);\n  const [details, setDetails] = React.useState({});\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  React.useEffect(() => {\n    let subscriberId;\n    const modelRef = instance.current;\n    if (!modelRef) return;\n\n    setData(modelRef.serialize());\n    setDetails(modelRef.getDetails());\n    subscriberId = modelRef.subscribe((_, key, value) => {\n      if (!keysToDisconsider) return;\n      if (keysToDisconsider.includes(key)) return;\n      // Update doc data to be used locally\n      setData(prevState => {\n        if (_isEqual(prevState[key], value)) return prevState;\n        return { ...prevState, [key]: value };\n      });\n      // Update details if necessary\n      setDetails(prevState => {\n        const newDetails = modelRef.getDetails();\n        if (prevState === newDetails) return prevState;\n        else return newDetails;\n      });\n    });\n\n    // on component unmount : unsubscribe\n    return () => {\n      if (subscriberId) modelRef.unsubscribe(subscriberId);\n    };\n  }, [instance, propsData, keysToDisconsider]);\n\n  return { data, details };\n};\n\nuseDataSubscriber.propTypes = {\n  instance: PropTypes.object.isRequired,\n  keysToDisconsider: PropTypes.array.isRequired,\n  propsData: PropTypes.object.isRequired\n};\n\nexport default useDataSubscriber;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const detailsMenuStyles = makeStyles(_theme => ({\n  detailsName: { textAlign: \"center\" }\n}));\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\n\nimport { detailsMenuStyles } from \"./styles\";\n\nconst DetailsMenu = ({ name, details }) => {\n  // Style hook\n  const classes = detailsMenuStyles();\n  // Translation hook\n  const { t } = useTranslation();\n\n  return (\n    <div>\n      <h2 className={classes.detailsName}>{name}</h2>\n      <List sx={{ width: \"100%\", bgcolor: \"background.paper\" }} component=\"nav\">\n        <ListItem>\n          <ListItemText primary={t(\"Name-Colon\")} />\n          <Typography>{name}</Typography>\n        </ListItem>\n        <Divider />\n        <ListItem divider>\n          <ListItemText primary={t(\"LastUpdate-Colon\")} />\n          <Typography>{details.date || \"N/A\"}</Typography>\n        </ListItem>\n        <Divider />\n        <ListItem divider>\n          <ListItemText primary={t(\"User-Colon\")} />\n          <Typography>{details.user || \"N/A\"}</Typography>\n        </ListItem>\n      </List>\n    </div>\n  );\n};\n\nexport default DetailsMenu;\n","import React from \"react\";\nimport useDataSubscriber from \"../../../plugins/DocManager/useDataSubscriber\";\nimport DetailsMenu from \"../../_shared/DetailsMenu/DetailsMenu\";\n\nconst Menu = ({ name, model, details: detailsProp }) => {\n  // State hook\n  const { details } = useDataSubscriber({\n    instance: model,\n    propsData: detailsProp\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <DetailsMenu\n      data-testid=\"section_configuration-details-menu\"\n      name={name}\n      details={details}\n    ></DetailsMenu>\n  );\n};\n\nexport default Menu;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst container = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  flexGrow: 1,\n  height: \"100%\"\n};\n\nexport const configurationStyles = makeStyles(theme => ({\n  container: {\n    ...container\n  },\n  codeContainer: {\n    ...container,\n    maxHeight: \"calc(100% - 48px)\"\n  },\n  appBar: {\n    background: theme.palette.background.default,\n    color: theme.palette.text.primary,\n    \"& button span\": {\n      color: theme.palette.text.primary\n    }\n  }\n}));\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { MonacoCodeEditor } from \"@mov-ai/mov-fe-lib-code-editor\";\nimport { AppBar, Toolbar } from \"@material-ui/core\";\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Model from \"../model/Configuration\";\nimport { defaultFunction } from \"../../../utils/Utils\";\nimport { PLUGINS } from \"../../../utils/Constants\";\nimport { usePluginMethods } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport { withEditorPlugin } from \"../../../engine/ReactPlugin/EditorReactPlugin\";\nimport useDataSubscriber from \"../../../plugins/DocManager/useDataSubscriber\";\nimport Menu from \"./Menu\";\n\nimport { configurationStyles } from \"./styles\";\n\nconst Configuration = (props, ref) => {\n  const {\n    id,\n    name,\n    call,\n    instance,\n    activateEditor = () => defaultFunction(\"activateEditor\"),\n    saveDocument = () => defaultFunction(\"saveDocument\"),\n    editable = true\n  } = props;\n  // Other Hooks\n  const { data } = useDataSubscriber({\n    instance,\n    propsData: props.data,\n    keysToDisconsider: Model.KEYS_TO_DISCONSIDER\n  });\n  // Style Hooks\n  const classes = configurationStyles();\n  const theme = useTheme();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React callbacks                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  const renderRightMenu = useCallback(() => {\n    const details = props.data?.details || {};\n    const menuName = `${id}-detail-menu`;\n    const menuTitle = t(\"ConfigurationDetailsMenuTitle\");\n    // add bookmark\n    call(PLUGINS.RIGHT_DRAWER.NAME, PLUGINS.RIGHT_DRAWER.CALL.SET_BOOKMARK, {\n      [menuName]: {\n        icon: <InfoIcon></InfoIcon>,\n        name: menuName,\n        title: menuTitle,\n        view: (\n          <Menu id={id} name={name} details={details} model={instance}></Menu>\n        )\n      }\n    });\n  }, [call, id, name, instance, props.data, t]);\n\n  usePluginMethods(ref, {\n    renderRightMenu\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Document Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Updates the config extension\n   * @param {String} value\n   */\n  const updateConfigExtension = value => {\n    if (instance.current) instance.current.setExtension(value);\n  };\n\n  /**\n   * Updates the config code\n   * @param {String} value\n   * @returns\n   */\n  const updateConfigCode = value => {\n    if (value === instance.current.getCode()) return;\n    if (instance.current) instance.current.setCode(value);\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle File Type Change\n   * @param {*} event\n   * @param {String} newExtension\n   */\n  const handleChangeFileType = (event, newExtension) => {\n    event.stopPropagation();\n    updateConfigExtension(newExtension);\n  };\n\n  /**\n   * Should be called when editor loads\n   * @param {*} editor\n   */\n  const onLoadEditor = editor => {\n    if (!id) editor.focus();\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Render Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const renderEditor = () => {\n    return (\n      <div\n        data-testid=\"section_configuration-editor\"\n        className={classes.codeContainer}\n      >\n        <MonacoCodeEditor\n          value={data.code}\n          language={data.extension}\n          theme={theme.codeEditor.theme}\n          options={{ readOnly: !editable }}\n          onChange={updateConfigCode}\n          onSave={saveDocument}\n          onLoad={onLoadEditor}\n        />\n      </div>\n    );\n  };\n\n  return (\n    <div\n      data-testid=\"section_configuration-editor\"\n      className={classes.container}\n    >\n      <AppBar\n        data-testid=\"section_app-bar\"\n        position=\"static\"\n        className={classes.appBar}\n      >\n        <Toolbar\n          data-testid=\"input-toolbar\"\n          variant=\"dense\"\n          onClick={activateEditor}\n        >\n          <ToggleButtonGroup\n            size=\"small\"\n            exclusive\n            value={data.extension}\n            onChange={handleChangeFileType}\n          >\n            <ToggleButton value=\"xml\">XML</ToggleButton>\n            <ToggleButton value=\"yaml\">YAML</ToggleButton>\n          </ToggleButtonGroup>\n        </Toolbar>\n      </AppBar>\n      {renderEditor()}\n    </div>\n  );\n};\n\nConfiguration.scope = \"Configuration\";\n\nConfiguration.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  call: PropTypes.func.isRequired,\n  instance: PropTypes.object,\n  data: PropTypes.object,\n  editable: PropTypes.bool,\n  saveDocument: PropTypes.func,\n  activateEditor: PropTypes.func\n};\n\nexport default withEditorPlugin(Configuration);\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { Model } from \"../../../../models\";\nimport schema from \"./schema\";\n\nclass PyLib extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Model Properties                                   *\n   *                                                                                      */\n  //========================================================================================\n  module = \"\";\n  libClass = \"\";\n\n  observables = [\"name\", \"module\", \"libClass\"];\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  getModule() {\n    return this.module;\n  }\n\n  setModule(value) {\n    this.module = value;\n    return this;\n  }\n  getClass() {\n    return this.libClass;\n  }\n\n  setClass(value) {\n    this.libClass = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  serialize() {\n    return {\n      name: this.getName(),\n      module: this.getModule(),\n      libClass: this.getClass()\n    };\n  }\n\n  serializeToDB() {\n    const { module, libClass } = this.serialize();\n\n    return {\n      Module: module,\n      Class: libClass\n    };\n  }\n\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const { Module: module, Class: libClass } = content;\n\n    return { name, module, libClass };\n  }\n}\n\nexport default PyLib;\n","import PyLib from \"./PyLib\";\n\nexport default PyLib;\n","import { Model, Manager } from \"../../../models\";\nimport schema from \"./schema\";\nimport PyLib from \"./PyLib\";\n\nexport default class Callback extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                        Events                                        *\n     *                                                                                      */\n    //========================================================================================\n\n    this.pyLibs = new Manager(\"pyLibs\", PyLib, {\n      onAny: (event, name, value) => this.propsUpdate(event, name, value)\n    });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.code = \"\";\n    this.message = \"\";\n\n    // Define observable properties\n    this.observables = Object.values(Callback.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the code property\n   * @returns {string}\n   */\n  getCode() {\n    return this.code;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Callback} : The instance\n   */\n  setCode(value) {\n    this.code = value;\n    return this;\n  }\n\n  /**\n   * Returns the message property\n   * @returns {string}\n   */\n  getMessage() {\n    return this.message;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Callback} : The instance\n   */\n  setMessage(value) {\n    this.message = value;\n    return this;\n  }\n\n  /**\n   * Returns the pyLibs manager\n   * @returns {Manager}\n   */\n  getPyLibs() {\n    return this.pyLibs;\n  }\n\n  /**\n   * Adds a python lib to the list of imports\n   * @param {object} value : The pylib to add\n   * @returns {Callback} : The instance\n   */\n  addPythonLibs(value) {\n    this.pyLibs = { ...this.pyLibs, ...value };\n    return this;\n  }\n\n  /**\n   * Deletes a python lib from the list of imports\n   * @param {string} value : The id of the pyLib\n   * @returns {Callback} : The instance\n   */\n  deletePythonLib(value) {\n    const { [value]: _, ...newPyLibs } = this.pyLibs;\n    this.pyLibs = { ...newPyLibs };\n    return this;\n  }\n\n  /**\n   * Returns the scope property\n   * @returns {string}\n   */\n  getScope() {\n    return Callback.SCOPE;\n  }\n\n  /**\n   * Returns the extension property\n   * @returns {string}\n   */\n  getFileExtension() {\n    return Callback.EXTENSION;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {Callback} : The instance\n   */\n  setData(json) {\n    const { name, details, code, message, pyLibs } = json;\n\n    super.setData({ name, details, code, message });\n\n    this.pyLibs.setData(pyLibs);\n\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * Forces the events dispatcher\n   * @param {string} event : The name of the event\n   * @param {string} prop : The of the property updated\n   * @param {any} value : The new value of the property\n   */\n  propsUpdate(_, prop, value) {\n    // force dispatch\n    this.dispatch(prop, value);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      ...super.serialize(),\n      code: this.getCode(),\n      message: this.getMessage(),\n      pyLibs: this.getPyLibs().serialize()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, details, code, message } = this.serialize();\n\n    return {\n      Label: name,\n      Code: code,\n      Message: message,\n      LastUpdate: details,\n      Py3Lib: this.pyLibs.serializeToDB()\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const {\n      Label: id,\n      Label: name,\n      Code: code,\n      Message: message,\n      Py3Lib: pyLibs,\n      LastUpdate: details,\n      workspace,\n      version\n    } = json;\n\n    return {\n      id,\n      name,\n      code,\n      message,\n      details,\n      workspace,\n      version,\n      pyLibs: Manager.serializeOfDB(pyLibs, PyLib)\n    };\n  }\n\n  static SCOPE = \"Callback\";\n\n  static EXTENSION = \".cb\";\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    CODE: \"code\",\n    DETAILS: \"details\",\n    MESSAGE: \"message\"\n  };\n\n  static KEYS_TO_DISCONSIDER = [this.OBSERVABLE_KEYS.CODE];\n}\n","import { Rest } from \"@mov-ai/mov-fe-lib-core\";\n\nconst data = {};\nconst Helper = {};\nconst CB_NAME = \"backend.CallbackEditor\";\n\n/**\n * Call CallbackEditor callback\n * @param {string} functionName : Method name\n * @returns {Promise}\n */\nconst cloudFunction = async functionName => {\n  return Rest.cloudFunction({\n    cbName: CB_NAME,\n    func: functionName\n  })\n    .then(response => {\n      return response.success ? response.result : null;\n    })\n    .catch(err => console.warn(\"debug err\", err));\n};\n\n/**\n * Get all python libraries\n * @returns {Promise<PyLibs>} Python libraries available\n */\nHelper.getAllLibraries = async () => {\n  if (data.pyLibs) return Promise.resolve(data.pyLibs);\n  return cloudFunction(\"get_all_libraries\").then(libs => {\n    data.pyLibs = libs;\n    return data.pyLibs;\n  });\n};\n\n/**\n * Get all callback message types\n * @returns {Promise<Array>} Callback message type available\n */\nHelper.getAllMessages = async () => {\n  if (data.messages) return Promise.resolve(data.messages);\n  return cloudFunction(\"get_messages\").then(messages => {\n    data.messages = messages;\n    return data.messages;\n  });\n};\n\nexport default Helper;\n","import { Store, DBSubscriber } from \"../../../store\";\nimport Model from \"../model/Callback\";\nimport Helper from \"./Helper\";\n\nclass CallbackStore extends Store {\n  constructor(workspace, observer) {\n    super({\n      workspace,\n      model: Model,\n      name: Model.SCOPE,\n      title: \"Callbacks\",\n      plugins: [DBSubscriber],\n      observer\n    });\n\n    // Set protectedDocs list\n    this.protectedDocs = [\n      \"place_holder\",\n      \"backend.CallbackEditor\",\n      \"backend.DataValidation\",\n      \"backend.FlowTopBar\",\n      \"backend.getPortsData\"\n    ];\n  }\n\n  // Set helper object with cloudFunction\n  helper = Helper;\n\n  loadDoc(name) {\n    this.getPlugin(\"DBSubscriber\").subscribe(name);\n\n    return super.loadDoc(name);\n  }\n\n  static SCOPE = Model.SCOPE;\n}\n\nexport default CallbackStore;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ExpandLess\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Edit\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"lodash/debounce\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/SvgIcon\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/lab/TreeView\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/lab/TreeItem\");","import React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport SvgIcon from \"@material-ui/core/SvgIcon\";\nimport { alpha, withStyles } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport _isEqual from \"lodash/isEqual\";\n\nfunction MinusSquare(props) {\n  return (\n    <SvgIcon fontSize=\"inherit\" {...props}>\n      {/* tslint:disable-next-line: max-line-length */}\n      <path d=\"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z\" />\n    </SvgIcon>\n  );\n}\n\nfunction PlusSquare(props) {\n  return (\n    <SvgIcon fontSize=\"inherit\" {...props}>\n      {/* tslint:disable-next-line: max-line-length */}\n      <path d=\"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z\" />\n    </SvgIcon>\n  );\n}\n\nfunction CloseSquare(props) {\n  return (\n    <SvgIcon className=\"close\" fontSize=\"inherit\" {...props}>\n      {/* tslint:disable-next-line: max-line-length */}\n      <path d=\"M17.485 17.512q-.281.281-.682.281t-.696-.268l-4.12-4.147-4.12 4.147q-.294.268-.696.268t-.682-.281-.281-.682.294-.669l4.12-4.147-4.12-4.147q-.294-.268-.294-.669t.281-.682.682-.281.696 .268l4.12 4.147 4.12-4.147q.294-.268.696-.268t.682.281 .281.669-.294.682l-4.12 4.147 4.12 4.147q.294.268 .294.669t-.281.682zM22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0z\" />\n    </SvgIcon>\n  );\n}\n\nconst StyledTreeItem = withStyles(theme => ({\n  iconContainer: {\n    \"& .close\": {\n      opacity: 0.3\n    }\n  },\n  group: {\n    marginLeft: 12,\n    paddingLeft: 12,\n    borderLeft: `1px dashed ${alpha(theme.palette.text.primary, 0.4)}`\n  }\n}))(props => <TreeItem {...props} />);\n\nconst MaterialTree = props => {\n  // Props\n  const { data, multiSelect, onNodeSelect, onSelectItem } = props;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Private Methods                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get object tree item to be rendered\n   *  This function is implemented to comply with SonarLint rule:\n   *    Ternary operators should not be nested (javascript:S3358)\n   * @returns {ReactElement} Element to be rendered\n   */\n  const _getObjectTreeItem = (obj, id, key, innerKey) => {\n    // Extracted element IDs to comply with rule:\n    //  Ternary operators should not be nested (javascript:S3358)\n    const parentElementId = id ? id + \".\" + key : key;\n    const elementId = [parentElementId, innerKey].join(\".\");\n\n    // Return module item to be rendered\n    return obj[key].modules !== undefined && innerKey === \"modules\" ? (\n      <StyledTreeItem key={elementId} nodeId={elementId} label={innerKey}>\n        {recursiveObjectTree(obj[key].modules, parentElementId)}\n      </StyledTreeItem>\n    ) : (\n      <div key={elementId}></div>\n    );\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Render                                          *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render tree in array format\n   * @param {array} array : Tree data\n   * @param {string} id : Parent ID\n   * @returns {ReactElement} Rendered Tree\n   */\n  const recursiveArrayTree = (array, id) => {\n    return array.map(elem => {\n      const elementId = id ? `${id}/${elem.text}` : elem.text;\n\n      return elem.children === undefined ? (\n        <StyledTreeItem\n          data-testid=\"input_select-tree-item\"\n          key={elementId}\n          nodeId={elementId}\n          label={elem.text}\n          onClick={() => onSelectItem(elem, elementId.split(\"/\"))}\n        />\n      ) : (\n        <StyledTreeItem\n          data-testid=\"input_select-tree-item\"\n          key={elementId}\n          nodeId={elementId}\n          label={elem.text}\n        >\n          {recursiveArrayTree(elem.children, elementId)}\n        </StyledTreeItem>\n      );\n    });\n  };\n\n  /**\n   * Render tree in object format\n   * @param {object} obj : Tree data\n   * @param {string} id : Parent ID\n   * @returns {ReactElement} Rendered Tree\n   */\n  const recursiveObjectTree = (obj, id) => {\n    return Object.keys(obj)\n      .sort()\n      .map(key => {\n        const elementId = id ? `${id}.${key}` : key;\n        return (\n          <StyledTreeItem\n            data-testid=\"input_select-tree-item\"\n            key={elementId}\n            nodeId={elementId}\n            label={key}\n            onClick={() => onSelectItem(key, id || key)}\n          >\n            {Object.keys(obj[key]).map(innerKey => {\n              return obj[key][innerKey].length > 0 ? (\n                <StyledTreeItem\n                  data-testid=\"input_select-tree-item\"\n                  key={elementId + \".\" + innerKey}\n                  nodeId={elementId + \".\" + innerKey}\n                  label={innerKey}\n                  onClick={() => onSelectItem(key, id || key)}\n                >\n                  {obj[key][innerKey].map(elem => {\n                    return (\n                      <StyledTreeItem\n                        data-testid=\"input_select-tree-item\"\n                        key={elementId + \".\" + innerKey + \".\" + elem}\n                        nodeId={elementId + \".\" + innerKey + \".\" + elem}\n                        label={elem}\n                        onClick={() => onSelectItem(elem, elementId + \".\")}\n                      />\n                    );\n                  })}\n                </StyledTreeItem>\n              ) : (\n                _getObjectTreeItem(obj, id, key, innerKey)\n              );\n            })}\n          </StyledTreeItem>\n        );\n      });\n  };\n\n  return (\n    <TreeView\n      data-testid=\"section_tree-view\"\n      multiSelect={multiSelect}\n      style={{ marginTop: 15 }}\n      onNodeSelect={(_, selectedNodes) => onNodeSelect(selectedNodes)}\n      defaultExpanded={[\"1\"]}\n      defaultCollapseIcon={<MinusSquare />}\n      defaultExpandIcon={<PlusSquare />}\n      defaultEndIcon={<CloseSquare />}\n    >\n      {Array.isArray(data)\n        ? recursiveArrayTree(data, null)\n        : recursiveObjectTree(data, null)}\n    </TreeView>\n  );\n};\n\nMaterialTree.propTypes = {\n  data: PropTypes.object,\n  onNodeSelect: PropTypes.func,\n  onSelectItem: PropTypes.func,\n  multiSelect: PropTypes.bool\n};\n\nMaterialTree.defaultProps = {\n  data: {},\n  onSelectItem: (elem, path) => console.log(elem, path),\n  onNodeSelect: (elem, path) => console.log(elem, path),\n  multiSelect: false\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\n// When data changes => component will render (return false)\nfunction arePropsEqual(prevProps, nextProps) {\n  return _isEqual(prevProps.data, nextProps.data);\n}\n\nexport default memo(MaterialTree, arePropsEqual);\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const searchStyles = makeStyles(theme => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n  input: {\n    marginLeft: 10,\n    flex: 1,\n    \"& input::placeholder\": {\n      color: theme.backdrop.color\n    }\n  },\n  iconButton: { padding: 10 },\n  icon: {\n    color: theme.palette.primary.main\n  }\n}));\n","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { TextField, IconButton, Tooltip } from \"@material-ui/core\";\nimport { DATA_TYPES } from \"../../../utils/Constants\";\n\nimport { searchStyles } from \"./styles\";\n\n/**\n * Normalize string\n * @param {*} str\n * @returns\n */\nconst normalizeString = str => {\n  return str\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .toLowerCase();\n};\n\n/**\n *\n * @param {*} searchQuery\n * @param {*} subject\n * @returns\n */\nfunction filter(searchQuery, subject) {\n  // Normalize search query\n  searchQuery = normalizeString(searchQuery);\n\n  /**\n   * Search in numbers and booleans\n   * @returns {boolean} True if searchQuery is found in stringified subject\n   */\n  const searchNonStrings = () => {\n    subject = normalizeString(subject.toString());\n    return subject.includes(searchQuery);\n  };\n\n  switch (typeof subject) {\n    case DATA_TYPES.STRING:\n      subject = normalizeString(subject);\n      return subject.includes(searchQuery);\n\n    case DATA_TYPES.OBJECT:\n      // Is array\n      if (Array.isArray(subject)) {\n        subject = subject?.filter(e => {\n          const value = filter(searchQuery, e);\n\n          if (typeof value === DATA_TYPES.BOOLEAN) return value;\n\n          return Boolean(value?.length !== 0);\n        });\n        return subject;\n      }\n\n      // Is an object\n      const values = Object.values(subject || {});\n      const list = filter(searchQuery, values);\n      return list.length > 0 ? subject : false;\n\n    case DATA_TYPES.NUMBER:\n      return searchNonStrings();\n    case DATA_TYPES.BOOLEAN:\n      return searchNonStrings();\n\n    default:\n      return subject;\n  }\n}\n\nconst Search = props => {\n  const { onSearch } = props;\n\n  // State hooks\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  // Translation hook\n  const { t } = useTranslation();\n  // Style hook\n  const classes = searchStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Resets the search value\n   */\n  const resetValue = () => {\n    setSearchInput(\"\");\n    onSearch(\"\");\n  };\n\n  /**\n   * Simple check to see if there's any value on searchInput\n   * @returns {Boolean} true if there's any value on the search\n   */\n  const isEmpty = () => {\n    return searchInput === null || searchInput.trim() === \"\";\n  };\n\n  const doSearch = value => {\n    setSearchInput(value);\n    onSearch(value);\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle on change search input event\n   * @param {*} event\n   */\n  const onChangeSearch = event => {\n    const value = event.target.value;\n    doSearch(value);\n  };\n\n  return (\n    <TextField\n      fullWidth\n      placeholder={t(\"Search\")}\n      value={searchInput}\n      onChange={onChangeSearch}\n      inputProps={{ \"data-testid\": \"input_search\" }}\n      InputProps={{\n        endAdornment: (\n          <IconButton\n            data-testid=\"input_reset-search\"\n            className={classes.iconButton}\n            onClick={resetValue}\n          >\n            {isEmpty() ? (\n              <Tooltip title={t(\"SearchSomething\")}>\n                <SearchIcon className={classes.icon} />\n              </Tooltip>\n            ) : (\n              <Tooltip title={t(\"ResetSearch\")}>\n                <ClearIcon className={classes.icon} />\n              </Tooltip>\n            )}\n          </IconButton>\n        )\n      }}\n    />\n  );\n};\n\nexport default Search;\nexport { filter };\n","//========================================================================================\n/*                                                                                      *\n *                                   Public constants                                   *\n *                                                                                      */\n//========================================================================================\n\nexport const EXCLUDED_PATHS = [\"functions\", \"consts\", \"classes\"];\n\n//========================================================================================\n/*                                                                                      *\n *                                 Private methods                                      *\n *                                                                                      */\n//========================================================================================\n\n/**\n * Normalize strings (make search case insensitive)\n * @param {string} str : String to be normalized\n * @returns {string} Normalized string\n */\nconst _normalizeString = str => {\n  return str\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .toLowerCase();\n};\n\n/**\n * Search in inner keys (functions, consts, classes)\n *  This function is implemented to comply with SonarLint rule:\n *    Cognitive Complexity of functions should not be too high (javascript:S3776)\n * @param {*} result : Current search result\n * @param {*} value : Normalized search value\n * @param {*} allImports : All imports\n * @param {*} key : Iteration key\n * @returns Search result\n */\nconst _searchInnerKeys = (result, value, allImports, key) => {\n  let _children = {};\n  let aux = {};\n  let found = false;\n\n  // if has modules\n  if (allImports[key].modules !== undefined) {\n    _children = searchImports(value, allImports[key].modules);\n  }\n\n  EXCLUDED_PATHS.forEach(x => {\n    const array =\n      x in allImports[key]\n        ? allImports[key][x].filter(elem =>\n            _normalizeString(elem).includes(value)\n          )\n        : [];\n    if (array.length > 0) {\n      aux[x] = array;\n      found = true;\n    }\n  });\n  if (Object.keys(_children).length > 0) {\n    aux[\"modules\"] = _children;\n  }\n  if (found || Object.keys(_children).length > 0) {\n    result[key] = aux;\n  }\n  return result;\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                  Search Messages                                     *\n *                                                                                      */\n//========================================================================================\n\n/**\n * Search messages\n * @param {string} value : Search value\n * @param {array} allMessages : All messages available\n * @returns {array} Filtered messages by search value\n */\nexport const searchMessages = (value, allMessages) => {\n  if (!value) return allMessages;\n  else {\n    let result = [];\n    value = _normalizeString(value);\n    allMessages.forEach(elem => {\n      if (_normalizeString(elem.text).includes(value)) {\n        result.push(elem);\n      } else {\n        // If has children\n        if (elem.children !== undefined) {\n          const _children = elem.children.filter(el =>\n            _normalizeString(el.text).includes(value)\n          );\n          if (_children.length > 0) {\n            result.push({\n              text: elem.text,\n              children: _children\n            });\n          }\n        }\n      }\n    });\n    return result;\n  }\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                  Search Imports                                      *\n *                                                                                      */\n//========================================================================================\n\n/**\n * Search imports\n * @param {string} value : Search value\n * @param {object} allImports : All libraries available\n * @returns {object} Filtered libraries by search value\n */\nexport const searchImports = (value, allImports) => {\n  // Clear search value => return full object\n  if (!value) return allImports;\n  // Has search value => Filter by value\n  let result = {};\n  value = _normalizeString(value);\n  Object.keys(allImports).forEach(key => {\n    if (_normalizeString(key).includes(value)) {\n      result[key] = allImports[key];\n    } else {\n      result = _searchInnerKeys(result, value, allImports, key);\n    }\n  });\n  return result;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport _debounce from \"lodash/debounce\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Dialog,\n  DialogContent,\n  Button,\n  DialogActions\n} from \"@material-ui/core\";\nimport { PLUGINS } from \"../../../../utils/Constants\";\nimport { withTheme } from \"../../../../decorators/withTheme\";\nimport { DialogTitle } from \"../../../../plugins/Dialog/components/AppDialog/AppDialog\";\nimport Loader from \"../../../_shared/Loader/Loader\";\nimport MaterialTree from \"../../../_shared/MaterialTree/MaterialTree\";\nimport Search from \"../../../_shared/Search/Search\";\nimport { EXCLUDED_PATHS, searchImports } from \"./utils\";\nimport { ERROR_MESSAGES } from \"../../../../utils/Messages\";\n\nconst useStyles = makeStyles(_theme => ({\n  paper: {\n    minWidth: \"40%\"\n  }\n}));\n\nconst AddImportDialog = props => {\n  // Props\n  const { call, scope, onClose, onSubmit } = props;\n  // State hooks\n  const [loading, setLoading] = useState(false);\n  const [pyLibs, setPyLibs] = useState();\n  const [filteredLibs, setFilteredLibs] = useState();\n  const [selectedLibs, setSelectedLibs] = useState();\n  // Style hook\n  const classes = useStyles();\n  // Translation hook\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  React Lifecycle                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    setLoading(true);\n    call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.GET_STORE,\n      scope\n    ).then(store => {\n      store.helper.getAllLibraries().then(libs => {\n        if (libs) {\n          setPyLibs(libs);\n          setFilteredLibs(libs);\n        }\n        setLoading(false);\n      });\n    });\n  }, [call, scope]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Handle Events                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On chage selected Lib\n   * @param {*} _selectedLibs\n   */\n  const onSelectLib = _selectedLibs => {\n    const pyLibSelected = {};\n    _selectedLibs.forEach(libPath => {\n      const path = libPath.split(\".\");\n      const modulePath = path.filter(_path => !EXCLUDED_PATHS.includes(_path));\n      const name = modulePath.pop();\n      if (name === libPath || modulePath.length === 0) {\n        pyLibSelected[name] = { module: name, libClass: false };\n      } else {\n        pyLibSelected[name] = { module: modulePath.join(\".\"), libClass: name };\n      }\n    });\n    // Return pyLibSelected\n    setSelectedLibs(pyLibSelected);\n  };\n\n  /**\n   * On search imports\n   * @param {*} value\n   */\n  const onSearch = _debounce(value => {\n    const result = searchImports(value, pyLibs);\n    setFilteredLibs(result);\n  }, 500);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Render                                         *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Material Tree to select python lib\n   * @returns {ReactElement}\n   */\n  const renderTree = () => {\n    // Return loader if data is not ready\n    if (loading) return <Loader />;\n    // Return when data is ready or error message if not\n    return pyLibs ? (\n      <MaterialTree\n        data={filteredLibs}\n        onNodeSelect={onSelectLib}\n        multiSelect={true}\n      ></MaterialTree>\n    ) : (\n      <>\n        <h2>{t(ERROR_MESSAGES.SOMETHING_WENT_WRONG)}</h2>\n        <h3>{t(\"FailedToLoadLibraries\")}</h3>\n      </>\n    );\n  };\n\n  return (\n    <Dialog\n      data-testid=\"section_add-import-dialog\"\n      open={true}\n      onClose={onClose}\n      classes={{ paper: classes.paper }}\n    >\n      <DialogTitle onClose={onClose} hasCloseButton={true}>\n        {t(\"Add Import\")}\n      </DialogTitle>\n      <DialogContent>\n        <Search onSearch={onSearch} />\n        {renderTree()}\n      </DialogContent>\n      <DialogActions>\n        <Button data-testid=\"input_cancel\" onClick={onClose}>\n          {t(\"Cancel\")}\n        </Button>\n        <Button\n          data-testid=\"input_confirm\"\n          color=\"primary\"\n          onClick={() => {\n            onSubmit(selectedLibs);\n            onClose();\n          }}\n          disabled={!selectedLibs}\n        >\n          {t(\"Add\")}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default withTheme(AddImportDialog);\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Typography,\n  TextField,\n  Dialog,\n  DialogContent,\n  Button,\n  DialogActions\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { PLUGINS } from \"../../../../utils/Constants\";\nimport { ERROR_MESSAGES } from \"../../../../utils/Messages\";\nimport { withTheme } from \"../../../../decorators/withTheme\";\nimport { DialogTitle } from \"../../../../plugins/Dialog/components/AppDialog/AppDialog\";\nimport Loader from \"../../../_shared/Loader/Loader\";\nimport MaterialTree from \"../../../_shared/MaterialTree/MaterialTree\";\nimport Search from \"../../../_shared/Search/Search\";\nimport { searchMessages } from \"./utils\";\n\nconst useStyles = makeStyles(_theme => ({\n  treeRoot: {\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n    paddingLeft: 5,\n    justifyContent: \"center\",\n    width: \"100%\"\n  },\n  paper: {\n    minWidth: \"40%\"\n  }\n}));\n\nconst EditMessageDialog = props => {\n  // Props\n  const { call, scope, selectedMessage, onClose, onSubmit } = props;\n  // State hooks\n  const [loading, setLoading] = useState(false);\n  const [messages, setMessages] = useState();\n  const [filteredMsg, setFilteredMsg] = useState();\n  const [selectedMsg, setSelectedMsg] = useState(selectedMessage);\n  // Style hook\n  const classes = useStyles();\n  // Translation hook\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Private Methods                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Format message list to tree structure\n   */\n  const _updateMessages = useCallback(list => {\n    let messagesStruct = [];\n    Object.keys(list)\n      .sort()\n      .forEach((pack, idx1) => {\n        messagesStruct.push({\n          id: (idx1 + 1) * 100,\n          text: pack,\n          children: list[pack].sort().map((message, idx2) => {\n            return {\n              id: (idx1 + 1) * 100 + idx2 + 1,\n              text: message,\n              isLeaf: true\n            };\n          })\n        });\n      });\n    // TODO : If create a CB from NodeEditor append the corresponding Message\n    setMessages(messagesStruct);\n    setFilteredMsg(messagesStruct);\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Handle Events                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On change selected Message\n   * @param {*} selectedMessage\n   */\n  const onSelectMessage = _selectedMessage => {\n    const messagePath = _selectedMessage.split(\"/\");\n    if (messagePath.length <= 1) return;\n    // Return selectedMessage\n    setSelectedMsg(_selectedMessage);\n  };\n\n  /**\n   * On search tree\n   */\n  const onSearch = useCallback(\n    value => {\n      const result = searchMessages(value, messages);\n      setFilteredMsg(result);\n    },\n    [messages]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  React Lifecycle                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Component mounted\n   */\n  useEffect(() => {\n    setLoading(true);\n    call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.GET_STORE,\n      scope\n    ).then(store => {\n      store.helper.getAllMessages().then(msgs => {\n        if (msgs) _updateMessages(msgs);\n        setLoading(false);\n      });\n    });\n  }, [call, scope, _updateMessages]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Render                                         *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Material Tree to select python lib\n   * @returns {ReactElement}\n   */\n  const renderTree = () => {\n    // Return loader if data is not ready\n    if (loading) return <Loader />;\n    // Return when data is ready or error message if not\n    return messages ? (\n      <MaterialTree\n        data={filteredMsg}\n        onNodeSelect={onSelectMessage}\n      ></MaterialTree>\n    ) : (\n      <>\n        <h2>{t(ERROR_MESSAGES.SOMETHING_WENT_WRONG)}</h2>\n        <h3>{t(\"FailedToLoadMessages\")}</h3>\n      </>\n    );\n  };\n\n  return (\n    <Dialog\n      data-testid=\"section_edit-message\"\n      open={true}\n      onClose={onClose}\n      classes={{ paper: classes.paper }}\n    >\n      <DialogTitle onClose={onClose} hasCloseButton={true}>\n        {t(\"EditMessage\")}\n      </DialogTitle>\n      <DialogContent>\n        <Search onSearch={onSearch} />\n        <Typography component=\"div\" className={classes.treeRoot}>\n          {renderTree()}\n        </Typography>\n        <TextField\n          fullWidth\n          label={t(\"Message\")}\n          value={selectedMsg}\n          margin=\"normal\"\n          disabled\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button data-testid=\"input_cancel\" onClick={onClose}>\n          {t(\"Cancel\")}\n        </Button>\n        <Button\n          data-testid=\"input_confirm\"\n          color=\"primary\"\n          onClick={() => {\n            onSubmit(selectedMsg);\n            onClose();\n          }}\n          disabled={!selectedMsg}\n        >\n          {t(\"Submit\")}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default withTheme(EditMessageDialog);\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const menuStyles = makeStyles(_theme => ({\n  itemValue: {\n    padding: \"15px 15px 15px 25px\",\n    fontSize: \"14px\"\n  },\n  itemLibValue: {\n    paddingLeft: \"10px\",\n    \"& span\": {\n      fontSize: \"14px\"\n    }\n  },\n  disabled: {\n    color: \"gray\"\n  }\n}));\n","import React, { useCallback, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Collapse,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Typography,\n  Tooltip,\n  Divider\n} from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Model from \"../model/Callback\";\nimport { PLUGINS } from \"../../../utils/Constants\";\nimport { withDataHandler } from \"../../../plugins/DocManager/DataHandler\";\nimport useDataSubscriber from \"../../../plugins/DocManager/useDataSubscriber\";\nimport DetailsMenu from \"../../_shared/DetailsMenu/DetailsMenu\";\nimport AddImportDialog from \"./dialogs/AddImport\";\nimport EditMessageDialog from \"./dialogs/EditMessage\";\n\nimport { menuStyles } from \"./styles\";\n\nconst ACTIVE_ITEM = {\n  IMPORTS: 1,\n  MESSAGE: 2\n};\n\nconst Menu = props => {\n  // Props\n  const { call, scope, name, instance, editable = true } = props;\n  // State hook\n  const [activeItem, setActiveItem] = useState(0);\n  // Other hooks\n  const classes = menuStyles();\n  const { t } = useTranslation();\n  const { data } = useDataSubscriber({\n    instance,\n    propsData: props.data,\n    keysToDisconsider: Model.KEYS_TO_DISCONSIDER\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Document Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Delete import from model\n   * @param {*} pyLib\n   */\n  const deleteImport = useCallback(\n    pyLib => {\n      if (instance.current) instance.current.getPyLibs().deleteItem(pyLib.key);\n    },\n    [instance]\n  );\n\n  /**\n   * Add Imports\n   * @param {*} pyLibs\n   */\n  const addImports = useCallback(\n    pyLibs => {\n      if (instance.current) instance.current.getPyLibs().setData(pyLibs);\n      setActiveItem(ACTIVE_ITEM.IMPORTS);\n    },\n    [instance]\n  );\n\n  /**\n   * Set message\n   * @param {string} msg\n   */\n  const setMessage = useCallback(\n    msg => {\n      if (instance.current) instance.current.setMessage(msg);\n      setActiveItem(ACTIVE_ITEM.MESSAGE);\n    },\n    [instance]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Handle Events                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Open dialog to set callback message\n   */\n  const handleEditMessageClick = useCallback(\n    evt => {\n      evt.stopPropagation();\n\n      call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.CUSTOM_DIALOG,\n        {\n          onSubmit: setMessage,\n          selectedMessage: data.message,\n          scope: scope,\n          call: call\n        },\n        EditMessageDialog\n      );\n    },\n    [scope, data.message, call, setMessage]\n  );\n\n  /**\n   * Open dialog to add imports\n   */\n  const handleAddImportsClick = useCallback(\n    evt => {\n      evt.stopPropagation();\n\n      call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.CUSTOM_DIALOG,\n        {\n          onSubmit: addImports,\n          scope: scope,\n          call: call\n        },\n        AddImportDialog\n      );\n    },\n    [scope, addImports, call]\n  );\n\n  /**\n   * Handle expand/collapse action\n   *  If item is collapsed : Expand item and collapse other\n   *  If item is expanded  : Collapse item and let all others collapsed as well\n   * @param {*} evt\n   */\n  const handleExpandClick = useCallback(evt => {\n    const currentActiveItem = parseInt(evt.currentTarget.dataset.activeItem);\n    setActiveItem(prevState => {\n      if (prevState === currentActiveItem) return 0;\n      else return currentActiveItem;\n    });\n  }, []);\n\n  /**\n   * Handler to remove the message\n   */\n  const handleRemoveMessage = useCallback(() => {\n    if (instance.current) instance.current.setMessage(\"\");\n    setActiveItem(ACTIVE_ITEM.MESSAGE);\n  }, [instance]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Private methods                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Check if collapse item is expanded\n   * @private function\n   * @param {integer} _item : Collapse item id\n   * @returns {boolean} True if collapse item is expanded, False otherwise\n   */\n  const isActive = useCallback(\n    _item => {\n      return activeItem === _item;\n    },\n    [activeItem]\n  );\n\n  /**\n   * Get name to be rendered in import row\n   * @private function\n   * @param {string} key\n   * @param {string} libClass\n   * @param {string} libModule\n   * @returns {string} Lib title to be rendered in import row\n   */\n  const getComposedName = useCallback((key, libClass, libModule) => {\n    if (libClass === undefined) {\n      return key === libModule\n        ? \"import \" + libModule\n        : \"import \" + libModule + \" as \" + key;\n    } else {\n      return key === libClass\n        ? \"from \" + libModule + \" import \" + libClass\n        : \"from \" + libModule + \" import \" + libClass + \" as \" + key;\n    }\n  }, []);\n\n  /**\n   * Get the list of imports\n   * @private function\n   */\n  const getImportsList = useCallback(() => {\n    const pyLibs = data.pyLibs || {};\n    const importList = [];\n\n    Object.keys(pyLibs).forEach(key => {\n      const lib = pyLibs[key];\n      const libModule = lib.module ? lib.module : undefined;\n      const libClass = lib.libClass ? lib.libClass : undefined;\n      const name_composed = getComposedName(key, libClass, libModule);\n      const obj = { name: name_composed, key: key };\n      if (libModule) importList.push(obj);\n    });\n\n    return importList;\n  }, [data.pyLibs, getComposedName]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Render Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get Imports\n   * @returns {ReactElement} React element to be rendered in Imports collapse item\n   */\n  const getImports = useCallback(() => {\n    const pyLibs = getImportsList();\n    return pyLibs.length > 0 ? (\n      pyLibs.map((pyLib, index) => {\n        return (\n          <Typography key={\"imports_\" + index}>\n            <Divider />\n            <ListItem>\n              <ListItemText\n                className={classes.itemLibValue}\n                primary={pyLib.name}\n              />\n              <ListItemSecondaryAction>\n                <Tooltip title={t(\"RemoveImport\")}>\n                  <IconButton\n                    data-testid=\"input_delete-import\"\n                    edge=\"end\"\n                    onClick={() => deleteImport(pyLib)}\n                  >\n                    <DeleteIcon fontSize=\"small\" />\n                  </IconButton>\n                </Tooltip>\n              </ListItemSecondaryAction>\n            </ListItem>\n          </Typography>\n        );\n      })\n    ) : (\n      <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n        {t(\"NoImports\")}\n      </Typography>\n    );\n  }, [classes, getImportsList, deleteImport, t]);\n\n  /**\n   * Get Callback message\n   * @returns {ReactElement} React element to be rendered in Message collapse item\n   */\n  const getMessage = useCallback(() => {\n    return data.message ? (\n      <Typography>\n        <Divider />\n        <ListItem>\n          <ListItemText\n            className={classes.itemLibValue}\n            primary={data.message}\n          />\n          <ListItemSecondaryAction>\n            <Tooltip title={t(\"RemoveMessage\")}>\n              <IconButton\n                data-testid=\"input_delete-message\"\n                edge=\"end\"\n                onClick={handleRemoveMessage}\n              >\n                <DeleteIcon fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          </ListItemSecondaryAction>\n        </ListItem>\n      </Typography>\n    ) : (\n      <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n        {t(\"NoMessageDefined\")}\n      </Typography>\n    );\n  }, [classes, data.message, handleRemoveMessage, t]);\n\n  return (\n    <div>\n      <DetailsMenu\n        data-testid=\"section_callback-details-menu\"\n        name={name}\n        details={data.details || {}}\n      ></DetailsMenu>\n      <List>\n        {/* ============ IMPORTS ============ */}\n        <ListItem\n          data-testid=\"input_imports-expand\"\n          button\n          data-active-item={ACTIVE_ITEM.IMPORTS}\n          onClick={handleExpandClick}\n        >\n          <ListItemText primary={t(\"Imports\")} />\n          <IconButton\n            data-testid=\"input_add-import\"\n            disabled={!editable}\n            onClick={handleAddImportsClick}\n          >\n            <AddIcon />\n          </IconButton>\n          {isActive(ACTIVE_ITEM.IMPORTS) ? <ExpandLess /> : <ExpandMore />}\n        </ListItem>\n        <Collapse in={isActive(ACTIVE_ITEM.IMPORTS)} unmountOnExit>\n          {getImports()}\n          <Divider />\n        </Collapse>\n        {/* ============ MESSAGE ============ */}\n        <ListItem\n          data-testid=\"input_message-expand\"\n          button\n          data-active-item={ACTIVE_ITEM.MESSAGE}\n          onClick={handleExpandClick}\n        >\n          <ListItemText primary={t(\"Message\")} />\n          <IconButton\n            data-testid=\"input_edit-message\"\n            disabled={!editable}\n            onClick={handleEditMessageClick}\n          >\n            <EditIcon />\n          </IconButton>\n          {isActive(ACTIVE_ITEM.MESSAGE) ? <ExpandLess /> : <ExpandMore />}\n        </ListItem>\n        <Collapse in={isActive(ACTIVE_ITEM.MESSAGE)} unmountOnExit>\n          {getMessage()}\n          <Divider />\n        </Collapse>\n      </List>\n    </div>\n  );\n};\n\nexport default withDataHandler(Menu);\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { MonacoCodeEditor } from \"@mov-ai/mov-fe-lib-code-editor\";\nimport { PLUGINS } from \"./../../../utils/Constants\";\nimport { withEditorPlugin } from \"../../../engine/ReactPlugin/EditorReactPlugin\";\nimport { usePluginMethods } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Menu from \"./Menu\";\n\nconst useStyles = makeStyles(_theme => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    height: \"100%\",\n    maxHeight: \"100%\"\n  }\n}));\n\nconst Callback = (props, ref) => {\n  const {\n    id,\n    name,\n    call,\n    scope,\n    instance,\n    data,\n    saveDocument,\n    editable = true\n  } = props;\n\n  // Style Hooks\n  const classes = useStyles();\n  const theme = useTheme();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React callbacks                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  const renderRightMenu = useCallback(() => {\n    const menuName = `${id}-detail-menu`;\n    const menuTitle = t(\"CallbackDetailsMenuTitle\");\n    // add bookmark\n    call(PLUGINS.RIGHT_DRAWER.NAME, PLUGINS.RIGHT_DRAWER.CALL.SET_BOOKMARK, {\n      [menuName]: {\n        icon: <InfoIcon />,\n        name: menuName,\n        title: menuTitle,\n        view: <Menu id={id} call={call} name={name} scope={scope} />\n      }\n    });\n  }, [call, id, name, scope, t]);\n\n  usePluginMethods(ref, {\n    renderRightMenu\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Document Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const updateCallbackCode = value => {\n    if (value === instance.current.getCode()) return;\n    if (instance.current) instance.current.setCode(value);\n  };\n\n  const onEditorLoad = editor => {\n    if (!id) editor.focus();\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Render Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_callback-editor\" className={classes.container}>\n      <MonacoCodeEditor\n        value={data?.code}\n        language={\"python\"}\n        theme={theme.codeEditor.theme}\n        options={{ readOnly: !editable }}\n        onChange={updateCallbackCode}\n        onSave={saveDocument}\n        onLoad={onEditorLoad}\n      />\n    </div>\n  );\n};\n\nCallback.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  scope: PropTypes.string.isRequired,\n  call: PropTypes.func.isRequired,\n  data: PropTypes.object,\n  instance: PropTypes.object,\n  editable: PropTypes.bool,\n  saveDocument: PropTypes.func\n};\n\nexport default withEditorPlugin(Callback);\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { Model, Manager } from \"../../../models\";\nimport { Command, EnvVar, Parameter, Port } from \"../../../models/subModels\";\nimport schema from \"./schema\";\n\nclass Node extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                        Events                                        *\n     *                                                                                      */\n    //========================================================================================\n    this.events = {\n      onAny: (event, name, value) => this.propsUpdate(event, name, value)\n    };\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.description = \"\";\n    this.path = \"\";\n    this.type = \"\";\n    this.persistent = false;\n    this.launch = true;\n    this.remappable = true;\n    this.packageDep = \"\";\n    this.parameters = new Manager(\"parameters\", Parameter, this.events);\n    this.envVars = new Manager(\"envVars\", EnvVar, this.events);\n    this.commands = new Manager(\"commands\", Command, this.events);\n    this.ports = new Manager(\"ports\", Port, this.events);\n\n    // Define observable properties\n    this.observables = Object.values(Node.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the description property\n   * @returns {string}\n   */\n  getDescription() {\n    return this.description;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Node} : The instance\n   */\n  setDescription(value) {\n    this.description = value;\n    return this;\n  }\n\n  /**\n   * Returns the path property\n   * @returns {string}\n   */\n  getPath() {\n    return this.path;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Node} : The instance\n   */\n  setPath(value) {\n    this.path = value;\n    return this;\n  }\n\n  /**\n   * Returns the type property\n   * @returns {string}\n   */\n  getType() {\n    return this.type;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Node} : The instance\n   */\n  setType(value) {\n    this.type = value;\n    return this;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} parameter : The name of the parameter\n   * @param {string} value : The value of the parameter\n   * @returns {Node} : The instance\n   */\n  setExecutionParameter(parameter, value) {\n    super.setData({ [parameter]: value });\n    return this;\n  }\n\n  /**\n   * Returns the persisten property\n   * @returns {boolean}\n   */\n  getPersistent() {\n    return this.persistent;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Node} : The instance\n   */\n  setPersistent(value) {\n    this.persistent = value;\n    return this;\n  }\n\n  /**\n   * Returns the launch property\n   * @returns {boolean}\n   */\n  getLaunch() {\n    return this.launch;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Node} : The instance\n   */\n  setLaunch(value) {\n    this.launch = value;\n    return this;\n  }\n\n  /**\n   * Returns the remappable property\n   * @returns {boolean}\n   */\n  getRemappable() {\n    return this.remappable;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {boolean} value : The new value\n   * @returns {Node} : The instance\n   */\n  setRemappable(value) {\n    this.remappable = value;\n    return this;\n  }\n\n  /**\n   * Returns the packageDep property\n   * @returns {string}\n   */\n  getPackageDep() {\n    return this.packageDep;\n  }\n\n  /**\n   * Sets the new value of the property\n   * @param {string} value : The new value\n   * @returns {Node} : The instance\n   */\n  setPackageDep(value) {\n    this.packageDep = value;\n    return this;\n  }\n\n  /**\n   * Returns the parameters property\n   * @returns {Manager}\n   */\n  getParameters() {\n    return this.parameters;\n  }\n\n  /**\n   * Adds a new instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} propName : The name of the property\n   * @param {any} data : The data to set the item\n   * @returns {Node} : The instance\n   */\n  setKeyValue(propName, data) {\n    this[propName].setData(data);\n    return this;\n  }\n\n  /**\n   * Updates an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} propName : The name of the property\n   * @param {*} content : The data to update the item\n   * @param {*} prevName : Previous item name\n   * @returns {Node} : The instance\n   */\n  updateKeyValueItem(propName, content, prevName) {\n    const name = content.name;\n    if (prevName !== name) {\n      this[propName].renameItem({ prevName, name }, true);\n    }\n\n    this[propName].updateItem({ name, content });\n    return this;\n  }\n\n  /**\n   * Deletes an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {Node} : The instance\n   */\n  deleteKeyValue(varName, key) {\n    this[varName].deleteItem(key);\n    return this;\n  }\n\n  /**\n   * Returns an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {any}\n   */\n  getKeyValue(varName, key) {\n    return this[varName].getItem(key);\n  }\n\n  /**\n   * Returns the envVars property\n   * @returns {Manager}\n   */\n  getEnvVars() {\n    return this.envVars;\n  }\n\n  /**\n   * Returns the commands property\n   * @returns {Manager}\n   */\n  getCommands() {\n    return this.commands;\n  }\n\n  /**\n   * Adds a port\n   * @param {object} data : The data to set the port\n   * @returns {Node} : The instance\n   */\n  setPort(data) {\n    this.setKeyValue(\"ports\", data);\n    return this;\n  }\n\n  /**\n   * Updates the port with the provided content.\n   * @param {string} currName : The current name of the port\n   * @param {object} data : The data to update the port\n   * @returns {Node} : The instance\n   */\n  updatePort(currName, content) {\n    this.updateKeyValueItem(\"ports\", content, currName);\n    return this;\n  }\n\n  /**\n   * Returns a port instance\n   * @param {string} key : The port id\n   * @returns {Port}\n   */\n  getPort(key) {\n    return this.getKeyValue(\"ports\", key);\n  }\n\n  /**\n   * Deletes a port\n   * @param {string} key : The name of the port\n   * @returns {Node} : The instance\n   */\n  deletePort(key) {\n    this.deleteKeyValue(\"ports\", key);\n    return this;\n  }\n\n  /**\n   * Returns the ports property\n   * @returns {Manager}\n   */\n  getPorts() {\n    return this.ports;\n  }\n\n  /**\n   * Sets the callback value of the port\n   * @param {string} portId : The id of the port\n   * @param {string} portName : The name of the port\n   * @param {string} callbackName : The new callback name\n   * @returns {Node} : The instance\n   */\n  setPortCallback(portId, portName, callbackName) {\n    this.getPorts()\n      .getItem(portId)\n      .getPortIn()\n      .getItem(portName)\n      .setCallback(callbackName);\n\n    return this;\n  }\n\n  /**\n   * Sets a parameter value of the port\n   * @param {string} portId : The id of the port\n   * @param {string} direction : In or Out\n   * @param {string} portName : The name of the port\n   * @param {string} parameterName : The parameter of the port to update\n   * @param {any} value : The new value of the parameter\n   * @returns {Node} : The instance\n   */\n  setPortParameter(portId, direction, portName, parameterName, value) {\n    this.getPorts()\n      .getItem(portId)\n      [direction].getItem(portName)\n      .setParameter(parameterName, value);\n\n    return this;\n  }\n\n  /**\n   * Returns the scope property\n   * @returns {string}\n   */\n  getScope() {\n    return Node.SCOPE;\n  }\n\n  /**\n   * Returns the file extension property\n   * @returns {string}\n   */\n  getFileExtension() {\n    return Node.EXTENSION;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {Node} : The instance\n   */\n  setData(json) {\n    const {\n      name,\n      details,\n      description,\n      path,\n      type,\n      persistent,\n      packageDep,\n      launch,\n      remappable,\n      parameters,\n      envVars,\n      commands,\n      ports\n    } = json;\n\n    super.setData({\n      name,\n      details,\n      description,\n      path,\n      type,\n      persistent,\n      packageDep,\n      launch,\n      remappable\n    });\n\n    this.parameters.setData(parameters);\n    this.envVars.setData(envVars);\n    this.commands.setData(commands);\n    this.ports.setData(ports);\n\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * Forces the events dispatcher\n   * @param {string} event : The name of the event\n   * @param {string} prop : The of the property updated\n   * @param {any} value : The new value of the property\n   */\n  propsUpdate(_, prop, value) {\n    // force dispatch\n    this.dispatch(prop, value);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      ...super.serialize(),\n      name: this.getName(),\n      details: this.getDetails(),\n      description: this.getDescription(),\n      path: this.getPath(),\n      type: this.getType(),\n      persistent: this.getPersistent(),\n      packageDep: this.getPackageDep(),\n      launch: this.getLaunch(),\n      remappable: this.getRemappable(),\n      parameters: this.getParameters().serialize(),\n      envVars: this.getEnvVars().serialize(),\n      commands: this.getCommands().serialize(),\n      ports: this.getPorts().serialize()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * Override in the extended class\n   * @returns {object}\n   */\n  serializeToDB() {\n    const {\n      name,\n      details,\n      description,\n      path,\n      type,\n      persistent,\n      packageDep,\n      launch,\n      remappable\n    } = this.serialize();\n\n    return {\n      Label: name,\n      Info: description,\n      Path: path,\n      Type: type,\n      Persistent: persistent,\n      Launch: launch,\n      Remappable: remappable,\n      LastUpdate: details,\n      PackageDepends: packageDep,\n      Parameter: this.getParameters().serializeToDB(),\n      EnvVar: this.getEnvVars().serializeToDB(),\n      CmdLine: this.getCommands().serializeToDB(),\n      PortsInst: this.getPorts().serializeToDB()\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * Override in the extended class\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const {\n      Label: id,\n      Label: name,\n      LastUpdate: details,\n      workspace,\n      version,\n      Info: description,\n      Path: path,\n      Type: type,\n      Persistent: persistent,\n      Launch: launch,\n      Remappable: remappable,\n      PackageDepends: packageDep,\n      Parameter: parameters,\n      EnvVar: envVars,\n      CmdLine: commands,\n      PortsInst: ports\n    } = json;\n\n    return {\n      id,\n      name,\n      details,\n      workspace,\n      version,\n      description,\n      path,\n      type,\n      persistent,\n      launch,\n      remappable,\n      packageDep,\n      parameters: Manager.serializeOfDB(parameters, Parameter),\n      envVars: Manager.serializeOfDB(envVars, EnvVar),\n      commands: Manager.serializeOfDB(commands, Command),\n      ports: Manager.serializeOfDB(ports, Port)\n    };\n  }\n  static SCOPE = \"Node\";\n\n  static EXTENSION = \".nd\";\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    DETAILS: \"details\",\n    DESCRIPTION: \"description\",\n    PATH: \"path\",\n    TYPE: \"type\",\n    PERSISTENT: \"persistent\",\n    LAUNCH: \"launch\",\n    REMAPPABLE: \"remappable\",\n    PACKAGE_DEP: \"packageDep\"\n  };\n\n  static KEYS_TO_DISCONSIDER = [\n    this.OBSERVABLE_KEYS.NAME,\n    this.OBSERVABLE_KEYS.DESCRIPTION,\n    this.OBSERVABLE_KEYS.PATH\n  ];\n}\n\nNode.defaults = {\n  description: \"\",\n  path: \"\",\n  type: \"\",\n  persistent: false,\n  launch: true,\n  remappable: true,\n  packageDep: \"\"\n};\n\nexport default Node;\n","import { Rest, MasterDB } from \"@mov-ai/mov-fe-lib-core\";\n\nconst data = {};\nconst Helper = {};\nconst subscribers = {};\nconst callbackPatterns = {\n  label: { Scope: \"Callback\", Name: \"*\", Label: \"*\" },\n  message: { Scope: \"Callback\", Name: \"*\", Message: \"*\" }\n};\nconst EMPTY_ARROW_FN = name => console.log(`${name} not implemented`);\n\n//========================================================================================\n/*                                                                                      *\n *                                    Private Methods                                   *\n *                                                                                      */\n//========================================================================================\n\n/**\n * Form callback object : Set object with all callbacks and its messages\n * @param {object} messageData : All Messages of exising Callbacks\n * @param {object} labelData : All Labels of existing Callbacks\n * @returns\n */\nconst formCallbackObject = (messageData, labelData) => {\n  const scopeCallback = {};\n  Object.keys(messageData.value.Callback).forEach(key => {\n    scopeCallback[key] = {};\n    scopeCallback[key][\"Message\"] = messageData.value.Callback[key][\"Message\"];\n\n    if (labelData.value.Callback[key] !== undefined) {\n      scopeCallback[key][\"Label\"] = labelData.value.Callback[key][\"Label\"];\n    }\n  });\n  return scopeCallback;\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                    Exposed Methods                                   *\n *                                                                                      */\n//========================================================================================\n\n/**\n * This will give the options in the first selector \"Transport/Protocol\"\n * @returns {Promise<ScopePorts>}\n */\nHelper.getAllTransportProtocol = async () => {\n  if (data.scopePorts) return Promise.resolve(data.scopePorts);\n  return new Promise((resolve, reject) => {\n    try {\n      const portsPattern = { Scope: \"Ports\", Name: \"*\" };\n      subscribers[\"ports\"] = portsPattern;\n      MasterDB.subscribe(\n        portsPattern,\n        () => EMPTY_ARROW_FN(\"updateScopePorts\"),\n        res => {\n          const scopePorts = res?.value?.Ports || {};\n          data.scopePorts = scopePorts;\n          resolve(scopePorts);\n        }\n      );\n    } catch (err) {\n      reject(err);\n      console.warn(\"debug fail to get transport/protocol\", err);\n    }\n  });\n};\n\n/**\n * Get all portsData\n * @returns {Promise<SystemPortsData>} Python libraries available\n */\nHelper.getPortsData = async () => {\n  // If scopeSystemPortsData is cached, resolve with cached value\n  if (data.scopeSystemPortsData)\n    return Promise.resolve(data.scopeSystemPortsData);\n  // Call cloud function\n  return Rest.cloudFunction({\n    cbName: \"backend.getPortsData\",\n    func: \"\"\n  })\n    .then(response => {\n      if (response) {\n        data.scopeSystemPortsData = response;\n        return data.scopeSystemPortsData;\n      }\n    })\n    .catch(err => {\n      console.warn(\"debug fail to get ports data\", err);\n    });\n};\n\n/**\n * Get All callbacks with its messages\n * @returns {Promise<ScopeCallbacks>}\n */\nHelper.getScopeCallback = async () => {\n  if (data.scopeCallback) return Promise.resolve(data.scopeCallback);\n  return new Promise((resolve, reject) => {\n    try {\n      subscribers[\"callbackMessages\"] = callbackPatterns.message;\n      MasterDB.subscribe(\n        callbackPatterns.message,\n        () => EMPTY_ARROW_FN(\"updateMessage\"),\n        messageData => {\n          subscribers[\"callbackLabels\"] = callbackPatterns.label;\n          MasterDB.subscribe(\n            callbackPatterns.label,\n            () => EMPTY_ARROW_FN(\"updateLabel\"),\n            labelData => {\n              const scopeCallback = formCallbackObject(messageData, labelData);\n              data.scopeCallback = scopeCallback;\n              resolve(scopeCallback);\n            }\n          );\n        }\n      );\n    } catch (err) {\n      reject(err);\n      console.warn(\"debug fail to get transport/protocol\", err);\n    }\n  });\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                       Licecycle                                      *\n *                                                                                      */\n//========================================================================================\n\n/**\n * Destroy : unsubscribe to MasterDB patterns\n */\nHelper.destroy = () => {\n  Object.values(subscribers).forEach(pattern => {\n    MasterDB.unsubscribe(pattern);\n  });\n};\n\nexport default Helper;\n","import Model from \"../model/Node\";\nimport Helper from \"./Helper\";\nimport { Store, DBSubscriber } from \"../../../store\";\n\nclass NodeStore extends Store {\n  constructor(workspace, observer, docManager) {\n    super({\n      workspace,\n      model: Model,\n      name: Model.SCOPE,\n      title: \"Nodes\",\n      plugins: [DBSubscriber],\n      docManager,\n      observer\n    });\n  }\n\n  // Set helper object with cloudFunction and more\n  helper = Helper;\n\n  /**\n   * @override loadDoc to activate Redis subscriber to document\n   * @param {string} name : Document name\n   * @returns Parent loadDoc method\n   */\n  loadDoc(name) {\n    this.getPlugin(\"DBSubscriber\").subscribe(name);\n\n    return super.loadDoc(name);\n  }\n\n  /**\n   * @override destroy method to unsubscribe to data in helper\n   */\n  destroy() {\n    super.destroy();\n    this.helper.destroy();\n  }\n\n  static SCOPE = Model.SCOPE;\n}\n\nexport default NodeStore;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Accordion\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/AccordionSummary\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/AccordionDetails\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const parametersDialogStyles = makeStyles(_theme => ({\n  marginTop: { marginTop: \"15px\" },\n  valueOptions: {\n    flexDirection: \"row\"\n  },\n  disabledValue: {\n    color: \"grey\",\n    fontStyle: \"italic\"\n  }\n}));\n\nexport const keyValueEditorDialogStyles = makeStyles(_theme => ({\n  input: { fontSize: \"13px\" },\n  label: {\n    marginTop: \"20px\",\n    fontSize: \"16px\",\n    transform: \"translate(0, 1.5px) scale(0.75)\",\n    transformOrigin: \"top left\",\n    color: \"rgba(255, 255, 255, .7)\"\n  },\n  marginTop: { marginTop: \"15px\" },\n  paper: { minWidth: \"50%\" },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\"\n  },\n  codeContainer: {\n    height: \"200px\",\n    width: \"100%\"\n  },\n  accordion: {\n    margin: \"0px !important\"\n  },\n  accordionSummary: {\n    paddingLeft: \"0px\",\n    paddingRight: \"0px\",\n    minHeight: \"auto !important\",\n    alignItems: \"flex-end\",\n\n    \"& > div\": {\n      margin: \"0px !important\",\n      padding: \"0px\"\n    }\n  },\n  noHorizontalPadding: {\n    paddingLeft: 0,\n    paddingRight: 0\n  }\n}));\n","import React, { useCallback, useEffect, useState, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport _isEqual from \"lodash/isEqual\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport {\n  Typography,\n  TextField,\n  FormControl,\n  InputLabel,\n  Dialog,\n  DialogContent,\n  DialogActions,\n  Button\n} from \"@material-ui/core\";\nimport { withTheme } from \"../../../decorators/withTheme\";\nimport { DialogTitle } from \"../../../plugins/Dialog/components/AppDialog/AppDialog\";\n\nimport { keyValueEditorDialogStyles } from \"./styles\";\n\nconst COMPONENTS = {\n  NAME: \"name\",\n  VALUE: \"value\"\n};\n\nconst KeyValueEditorDialog = props => {\n  // Props\n  const {\n    onClose,\n    onSubmit,\n    nameValidation,\n    valueValidation,\n    validate,\n    title,\n    isNew,\n    disabled,\n    disableName,\n    disableDescription,\n    showDescription,\n    renderCustomContent,\n    renderValueEditor,\n    showDefault\n  } = props;\n  // State hook\n  const [data, setData] = useState({});\n  const [validation, setValidation] = useState({\n    component: null,\n    error: false,\n    message: \"\"\n  });\n  // Other hooks\n  const classes = keyValueEditorDialogStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Simple extract method to lower cognitive complex\n   * @private function\n   * @param {String} component : component to check against\n   */\n  const getValidationComponent = useCallback(\n    component => {\n      return validation.component === component;\n    },\n    [validation.component]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    setData(props.data);\n  }, [props.data]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On change Name\n   * @param {Event} evt : OnChange event\n   */\n  const onChangeName = useCallback(\n    evt => {\n      const name = evt?.target?.value;\n      let isValid = Promise.resolve(true);\n      if (nameValidation && validate) {\n        isValid = nameValidation({ name }).then(res => {\n          setValidation({\n            component: COMPONENTS.NAME,\n            error: !res.result,\n            message: t(res.error)\n          });\n          // Return validation\n          return res.result;\n        });\n      }\n\n      // Set data\n      setData(prevState => {\n        return { ...prevState, name };\n      });\n      // Return validation result\n      return isValid;\n    },\n    [nameValidation, t, validate]\n  );\n\n  /**\n   * On change Description\n   * @param {Event} evt : OnChange event\n   */\n  const onChangeDescription = useCallback(evt => {\n    const description = evt?.target?.value;\n    setData(prevState => {\n      return { ...prevState, description };\n    });\n  }, []);\n\n  /**\n   * On change Value\n   * @param {string} value : Code editor value\n   */\n  const onChangeValue = useCallback(\n    value => {\n      if (valueValidation && validate) {\n        validate({ value }).then(res => {\n          setValidation({\n            component: COMPONENTS.VALUE,\n            error: !res.result,\n            message: t(res.error)\n          });\n        });\n      }\n\n      setData(prevState => {\n        return { ...prevState, value };\n      });\n    },\n    [t, validate, valueValidation]\n  );\n\n  /**\n   * Submit form and close dialog\n   */\n  const onSave = useCallback(() => {\n    // Validate name\n    onChangeName({ target: { value: data.name } }).then(isValid => {\n      if (isValid) {\n        // Validate data type\n        validate(data).then(res => {\n          if (res.result ?? res.success) {\n            onSubmit(res.data);\n            onClose();\n          } else {\n            setValidation({ error: true, message: res.error });\n          }\n        });\n      }\n    });\n  }, [data, onClose, onSubmit, validate, onChangeName]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Render Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Dialog open={true} onClose={onClose} classes={{ paper: classes.paper }}>\n      <div data-testid=\"section_key-value-editor-dialog\">\n        <DialogTitle onClose={onClose} hasCloseButton={true}>\n          {title}\n        </DialogTitle>\n        <DialogContent>\n          <Typography component=\"div\" className={classes.container}>\n            <TextField\n              label={`${t(\"Name\")} *`}\n              error={\n                getValidationComponent(COMPONENTS.NAME) && validation.error\n              }\n              helperText={\n                getValidationComponent(COMPONENTS.NAME) && validation.message\n              }\n              value={data.name}\n              autoFocus={isNew}\n              disabled={disableName || disabled}\n              className={classes.input}\n              onChange={onChangeName}\n              inputProps={{ \"data-testid\": \"input_name\" }}\n            />\n            {showDescription && (\n              <FormControl className={classes.marginTop}>\n                <TextField\n                  label={t(\"Description\")}\n                  value={data.description}\n                  className={classes.input}\n                  multiline\n                  minRows={3}\n                  maxRows={10}\n                  disabled={disableDescription || disabled}\n                  onChange={onChangeDescription}\n                  inputProps={{ \"data-testid\": \"input_description\" }}\n                />\n              </FormControl>\n            )}\n            {renderCustomContent && renderCustomContent()}\n            <InputLabel className={classes.label}>{t(\"Value\")}</InputLabel>\n            <FormControl className={classes.marginTop}>\n              {renderValueEditor(data.value, {\n                isNew,\n                onChange: onChangeValue,\n                error:\n                  getValidationComponent(COMPONENTS.VALUE) && validation.error,\n                helperText:\n                  getValidationComponent(COMPONENTS.VALUE) &&\n                  validation.message,\n                disabled: disabled,\n                defaultValue: data.defaultValue\n              })}\n            </FormControl>\n            {showDefault && (\n              <Accordion className={classes.accordion} defaultExpanded>\n                <AccordionSummary\n                  className={classes.accordionSummary}\n                  expandIcon={<ExpandMoreIcon />}\n                >\n                  <Typography className={classes.label}>\n                    {t(\"Default Value\")}\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails className={classes.noHorizontalPadding}>\n                  {renderValueEditor(data.defaultValue, {\n                    isNew,\n                    onChange: onChangeValue,\n                    isDefault: true,\n                    disabled: true\n                  })}\n                </AccordionDetails>\n              </Accordion>\n            )}\n          </Typography>\n        </DialogContent>\n        <DialogActions data-testid=\"section_dialog-actions\">\n          <Button data-testid=\"input_close\" onClick={onClose}>\n            {t(\"Cancel\")}\n          </Button>\n          <Button\n            data-testid=\"input_confirm\"\n            color=\"primary\"\n            onClick={onSave}\n            // Let's only disable the save button if we are doing a name validation (which is validated on change)\n            disabled={\n              (getValidationComponent(COMPONENTS.NAME) && validation.error) ||\n              disabled\n            }\n          >\n            {t(\"Save\")}\n          </Button>\n        </DialogActions>\n      </div>\n    </Dialog>\n  );\n};\n\nKeyValueEditorDialog.propTypes = {\n  title: PropTypes.string.isRequired,\n  isNew: PropTypes.bool,\n  disabled: PropTypes.bool,\n  disableName: PropTypes.bool,\n  disableDescription: PropTypes.bool,\n  showDefault: PropTypes.bool,\n  showDescription: PropTypes.bool,\n  defaultValue: PropTypes.string,\n  onClose: PropTypes.func,\n  validate: PropTypes.func,\n  onSubmit: PropTypes.func,\n  renderValueEditor: PropTypes.func,\n  renderCustomContent: PropTypes.func,\n  nameValidation: PropTypes.func,\n  valueValidation: PropTypes.func\n};\n\nKeyValueEditorDialog.defaultProps = {\n  disableName: false,\n  disableDescription: false,\n  showDescription: true,\n  showDefault: false,\n  validate: data => Promise.resolve({ success: true, data })\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\nfunction arePropsEqual(prevProps, nextProps) {\n  return _isEqual(prevProps, nextProps);\n}\n\nexport default memo(withTheme(KeyValueEditorDialog), arePropsEqual);\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"lodash/toString\");","import React from \"react\";\nimport _toString from \"lodash/toString\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport { MonacoCodeEditor } from \"@mov-ai/mov-fe-lib-code-editor\";\nimport { DATA_TYPES } from \"../../../../utils/Constants\";\n\n/**\n * Abstract Data Type Class\n */\nclass AbstractDataType {\n  key = \"\";\n  label = \"\";\n  default = \"\";\n\n  editComponent = this.defaultStringEditor;\n  // hooks\n  _theme = {};\n\n  constructor({ theme }) {\n    // Set hooks to be used in abstract renders\n    this._theme = theme;\n    this.defaultStringEditor = this.defaultStringEditor.bind(this);\n  }\n\n  /**\n   * Get Data type key\n   * @returns\n   */\n  getKey() {\n    return this.key;\n  }\n\n  /**\n   * Get data type label\n   * @returns\n   */\n  getLabel() {\n    return this.label;\n  }\n\n  /**\n   * Get data type edit component\n   * @returns\n   */\n  getEditComponent() {\n    return this.editComponent;\n  }\n\n  /**\n   * Abstract validation : Should fail if not implemented in extended class\n   * @returns\n   */\n  validate() {\n    // To be implemented in extended class\n    console.warn(\n      \"debug validation method not implemented for data type\",\n      this.key\n    );\n    return Promise.resolve({\n      success: false,\n      error: \"ValidationMethodNotImplemented\"\n    });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Expose lodash toString method\n   * @param {*} value\n   * @returns {string} String value\n   */\n  toString(value) {\n    return _toString(value);\n  }\n\n  /**\n   * @private Check if value is already parsed, or if it still needs to be parsed to return\n   * @param {*} value : Value to be parsed\n   * @returns parsed value\n   */\n  getParsedValue(value) {\n    return typeof value === DATA_TYPES.STRING ? JSON.parse(value) : value;\n  }\n\n  /**\n   *\n   * @param {*} props\n   * @param {*} mode\n   * @returns\n   */\n  defaultStringEditor(props, mode = \"row\") {\n    const editor = {\n      row: _props => this.stringEditComponent(_props, \"\"),\n      dialog: this.codeEditComponent\n    };\n    return editor[mode](props);\n  }\n\n  /**\n   * @private Gets common text editor for regular inputs (strings, arrays, objects, any, default)\n   * @param {*} props : Material table row props\n   * @param {string} placeholder : Placeholder\n   * @param {*} parsedValue : Parsed value (can be a string, array, or object)\n   * @returns {ReactComponent} Text input for editing common strings\n   */\n  stringEditComponent(props, placeholder, parsedValue) {\n    const value = parsedValue !== undefined ? parsedValue : props.rowData.value;\n    return (\n      <TextField\n        inputProps={{ \"data-testid\": \"input_value\" }}\n        fullWidth\n        placeholder={placeholder}\n        value={value || \"\"}\n        onChange={evt => props.onChange(evt.target.value)}\n      ></TextField>\n    );\n  }\n\n  /**\n   * @private Render code editor\n   * @param {{rowData: {value: string}}, onChange: function, isNew: boolean} props : input props\n   * @returns {ReactComponent} Code Editor Component\n   */\n  codeEditComponent = props => {\n    return (\n      <Typography\n        data-testid=\"section_data-type-code-editor\"\n        component=\"div\"\n        style={{ height: \"100px\", width: \"100%\" }}\n      >\n        <MonacoCodeEditor\n          value={_toString(props.rowData.value)}\n          onLoad={editor => {\n            if (!props.isNew) editor.focus();\n            props.onLoadEditor && props.onLoadEditor(editor);\n          }}\n          language=\"python\"\n          disableMinimap={true}\n          theme={this._theme.codeEditor.theme}\n          options={{ readOnly: props.disabled }}\n          onChange={value => props.onChange(value)}\n        />\n      </Typography>\n    );\n  };\n}\n\nexport default AbstractDataType;\n","import { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport DataType from \"../AbstractDataType\";\n\nclass AnyType extends DataType {\n  // Any type properties definition\n  key = DATA_TYPES.ANY;\n  label = \"Any\";\n  editComponent = this.defaultStringEditor;\n\n  /**\n   * Validate value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    return Promise.resolve({ success: true, value });\n  }\n}\n\nexport default AnyType;\n","import { DEFAULT_VALUE, DISABLED_VALUE } from \"../../../../../utils/Constants\";\n\n/**\n * Checks if provided value is empty or DISABLED_VALUE\n * @param {string} value : value to be checked\n * @returns\n */\nexport function checkIfDefaultOrDisabled(value) {\n  return value === DEFAULT_VALUE || value === DISABLED_VALUE;\n}\n","import { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport DataType from \"../AbstractDataType\";\nimport { checkIfDefaultOrDisabled } from \"./utils\";\n\nclass ArrayType extends DataType {\n  // Array type properties definition\n  key = DATA_TYPES.ARRAY;\n  label = \"Array\";\n  default = \"[]\";\n\n  editComponent = (props, mode = \"row\") => {\n    const editor = {\n      row: _props => this.stringEditComponent(_props, this.default),\n      dialog: this.codeEditComponent\n    };\n    return editor[mode](props);\n  };\n\n  /**\n   * Validate array value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    value = value?.replace(/'/g, '\"');\n    return new Promise(resolve => {\n      try {\n        if (checkIfDefaultOrDisabled(value)) {\n          return resolve({ success: true, value });\n        }\n        const parsed = this.getParsedValue(value);\n        resolve({ success: Array.isArray(parsed), value });\n      } catch (e) {\n        resolve({ success: false, value });\n      }\n    });\n  }\n}\n\nexport default ArrayType;\n","import React from \"react\";\nimport { Checkbox } from \"@material-ui/core\";\nimport { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport { pythonToBool, boolToPython } from \"../../../../../utils/Utils\";\nimport DataType from \"../AbstractDataType\";\n\nclass BooleanType extends DataType {\n  // Boolean type properties definition\n  key = DATA_TYPES.BOOLEAN;\n  label = \"Boolean\";\n  default = boolToPython(false);\n\n  editComponent = (props, mode = \"row\") => {\n    let pyValue = this.toString(props.rowData.value).toLowerCase();\n    const editor = {\n      row: () => this.booleanEditComponent(props, pyValue),\n      dialog: () => this.booleanEditComponent(props, pyValue, true)\n    };\n    return editor[mode]();\n  };\n\n  /**\n   * Validate Boolean value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    return new Promise(resolve => {\n      try {\n        const parsed = pythonToBool(value);\n        const isValid = typeof parsed === DATA_TYPES.BOOLEAN;\n\n        resolve({ success: isValid });\n      } catch (e) {\n        resolve({ success: false });\n      }\n    });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Boolean Type edit component\n   * @param {*} props\n   * @param {*} pyValue\n   * @param {*} usePythonValue\n   * @returns\n   */\n  booleanEditComponent(props, pyValue, usePythonValue) {\n    let parsedValue = false;\n    try {\n      parsedValue = JSON.parse(pyValue);\n      if (typeof parsedValue === DATA_TYPES.STRING)\n        parsedValue = JSON.parse(parsedValue);\n    } catch (e) {\n      parsedValue = false;\n    }\n\n    // On change checkbox value\n    const onChangeCheckbox = event => {\n      const boolValue = event.target.checked;\n      const value = usePythonValue ? boolToPython(boolValue) : boolValue;\n      props.onChange(value);\n    };\n\n    return (\n      <Checkbox\n        color={\"primary\"}\n        style={{ width: \"fit-content\" }}\n        checked={parsedValue}\n        onChange={onChangeCheckbox}\n        disabled={props.disabled}\n      />\n    );\n  }\n}\n\nexport default BooleanType;\n","import { Rest } from \"@mov-ai/mov-fe-lib-core\";\nimport DataType from \"../AbstractDataType\";\n\nclass ConfigurationType extends DataType {\n  // Configuration type properties definition\n  key = \"config\";\n  label = \"Configuration\";\n  editComponent = this.defaultStringEditor;\n\n  /**\n   * Validate configuration value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    return Rest.cloudFunction({\n      cbName: \"backend.DataValidation\",\n      func: \"validateConfiguration\",\n      args: value\n    })\n      .then(res => {\n        const isValid = res.success && res.result;\n        return { success: isValid, error: \"ConfigurationNotFound\" };\n      })\n      .catch(err => {\n        console.log(\"Configuration validation err\", err);\n        return { success: false };\n      });\n  }\n}\n\nexport default ConfigurationType;\n","import React from \"react\";\nimport { TextField } from \"@material-ui/core\";\nimport { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport DataType from \"../AbstractDataType\";\nimport { checkIfDefaultOrDisabled } from \"./utils\";\n\nclass NumberType extends DataType {\n  // Number type properties definition\n  key = DATA_TYPES.NUMBER;\n  label = \"Number\";\n  default = \"0\";\n\n  editComponent = props => {\n    return (\n      <TextField\n        fullWidth\n        type={DATA_TYPES.NUMBER}\n        placeholder={\"0\"}\n        value={props.rowData.value || \"\"}\n        disabled={props.disabled}\n        onChange={evt => props.onChange(evt.target.value)}\n      ></TextField>\n    );\n  };\n\n  /**\n   * Validate number value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    return new Promise(resolve => {\n      try {\n        if (checkIfDefaultOrDisabled(value)) {\n          return resolve({ success: true, value });\n        }\n        const parsed = this.parseValueToFloat(value);\n        const isValid = typeof parsed === DATA_TYPES.NUMBER && !isNaN(parsed);\n        resolve({ success: isValid, parsed });\n      } catch (e) {\n        resolve({ success: false });\n      }\n    });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Parse float correctly\n   * @param {string} value\n   * @returns {boolean} : false if the string contains any commas (,)\n   * @returns {float} : A float with the parsedFloat value\n   */\n  parseValueToFloat(value) {\n    if (value.indexOf(\",\") >= 0) return false;\n\n    return parseFloat(value);\n  }\n}\n\nexport default NumberType;\n","import { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport DataType from \"../AbstractDataType\";\nimport { checkIfDefaultOrDisabled } from \"./utils\";\n\nclass ObjectType extends DataType {\n  // Object type properties definition\n  key = DATA_TYPES.OBJECT;\n  label = \"Object\";\n  default = \"{}\";\n\n  editComponent = (props, mode = \"row\") => {\n    const editor = {\n      row: _props => this.stringEditComponent(_props, this.default),\n      dialog: this.codeEditComponent\n    };\n    return editor[mode](props);\n  };\n\n  /**\n   * Validate object value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    return new Promise(resolve => {\n      try {\n        if (checkIfDefaultOrDisabled(value)) {\n          return resolve({ success: true, value });\n        }\n        const parsed = JSON.parse(value);\n        resolve({ success: parsed.constructor === Object });\n      } catch (e) {\n        resolve({ success: false });\n      }\n    });\n  }\n}\n\nexport default ObjectType;\n","import { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport DataType from \"../AbstractDataType\";\nimport { checkIfDefaultOrDisabled } from \"./utils\";\n\nclass StringType extends DataType {\n  // String type properties definition\n  key = DATA_TYPES.STRING;\n  label = \"String\";\n  default = '\"\"';\n\n  editComponent = (props, mode = \"row\") => {\n    // Define editor by mode\n    const editorByMode = {\n      row: () => this.stringEditComponent(props, '\"\"'),\n      dialog: () => this.codeEditComponent(props)\n    };\n    // Return editor by mode\n    return editorByMode[mode]();\n  };\n\n  /**\n   * Validate string value\n   * @param {*} value\n   * @returns\n   */\n  validate(value) {\n    return new Promise(resolve => {\n      try {\n        if (checkIfDefaultOrDisabled(value)) {\n          return resolve({ success: true, value });\n        }\n        const parsed = this.getParsedValue(value);\n        const isValid =\n          typeof parsed === DATA_TYPES.STRING || parsed instanceof String;\n        resolve({ success: isValid });\n      } catch (e) {\n        resolve({ success: false, error: \"MandatoryStringQuotes\" });\n      }\n    });\n  }\n}\n\nexport default StringType;\n","import AnyType from \"./types/AnyType\";\nimport ArrayType from \"./types/ArrayType\";\nimport BooleanType from \"./types/BooleanType\";\nimport ConfigurationType from \"./types/ConfigurationType\";\nimport NumberType from \"./types/NumberType\";\nimport ObjectType from \"./types/ObjectType\";\nimport StringType from \"./types/StringType\";\n\nclass DataTypeManager {\n  constructor({ theme, selfProvision = true }) {\n    // Hooks\n    this.theme = theme;\n    // Initiate types\n    this.dataTypes = new Map();\n    if (selfProvision) {\n      this.setDataType(StringType);\n      this.setDataType(NumberType);\n      this.setDataType(BooleanType);\n      this.setDataType(ObjectType);\n      this.setDataType(ArrayType);\n      this.setDataType(ConfigurationType);\n      this.setDataType(AnyType);\n    }\n  }\n\n  /**\n   *\n   * @param {DataType} DataType : DataType class\n   */\n  setDataType(DataType) {\n    const dataTypeInstance = new DataType({ theme: this.theme });\n    this.dataTypes.set(dataTypeInstance.getKey(), dataTypeInstance);\n  }\n\n  /**\n   * Get all dataTypes\n   * @returns {array} List of all data types\n   */\n  getTypeKeys() {\n    return [...this.dataTypes.keys()];\n  }\n\n  /**\n   * Get data types\n   * @param {string} type\n   * @returns\n   */\n  getType(type) {\n    return this.dataTypes.get(type);\n  }\n}\n\nexport default DataTypeManager;\n","import { useTheme } from \"@material-ui/core/styles\";\nimport DataTypeManager from \"./DataTypes/DataTypeManager\";\n\nconst useDataTypes = () => {\n  // Hooks\n  const theme = useTheme();\n  const dataTypeManager = new DataTypeManager({ theme });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get list of valid data types to be displayed in the select box\n   * @param {Array} excluded : Excluded keys\n   * @returns {Array} List of valid data types to be displayed in the select box\n   */\n  const getDataTypes = (excluded = [\"config\"]) => {\n    return dataTypeManager\n      .getTypeKeys()\n      .filter(type => !excluded.includes(type));\n  };\n\n  /**\n   * Get data type label\n   * @param {string} dataType\n   * @returns {string} Type Label\n   */\n  const getLabel = dataType => {\n    return dataTypeManager.getType(dataType)?.getLabel();\n  };\n\n  /**\n   * Get edit component\n   * @param {string} dataType : Data type\n   * @returns {ReactElement} Data Type Editor Component\n   */\n  const getEditComponent = dataType => {\n    return dataTypeManager.getType(dataType)?.getEditComponent();\n  };\n\n  /**\n   * Return the value if valid otherwise returns\n   * the default value ot the type\n   * @param {string} type : The type to convert to\n   * @param {string} value : The value to validate\n   * @returns {string}\n   */\n  const getValidValue = async (type, value) => {\n    const typeInst = dataTypeManager.getType(type);\n    const res = await typeInst.validate(value);\n    return res.success ? value : typeInst.default;\n  };\n\n  /**\n   * Validation method of data\n   * @param {{type: string, value: *}} data : Data to be validated\n   * @returns {Promise} Async validation of data\n   */\n  const validate = data => {\n    const dataType = dataTypeManager.getType(data.type);\n    if (!dataType) return Promise.resolve({ success: true, data });\n    return dataType.validate(data.value);\n  };\n\n  return {\n    getLabel,\n    getDataTypes,\n    getEditComponent,\n    getValidValue,\n    validate\n  };\n};\n\nexport default useDataTypes;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport {\n  MenuItem,\n  Select,\n  FormControl,\n  FormControlLabel,\n  InputLabel,\n  Radio,\n  RadioGroup\n} from \"@material-ui/core\";\nimport { withTheme } from \"../../../decorators/withTheme\";\nimport { ERROR_MESSAGES } from \"../../../utils/Messages\";\nimport {\n  DATA_TYPES,\n  DEFAULT_VALUE,\n  DISABLED_VALUE,\n  ALERT_SEVERITIES\n} from \"../../../utils/Constants\";\nimport withAlerts from \"../../../decorators/withAlerts\";\nimport KeyValueEditorDialog from \"../KeyValueTable/KeyValueEditorDialog\";\nimport useDataTypes from \"../hooks/useDataTypes\";\n\nimport { parametersDialogStyles } from \"./styles\";\n\nconst VALUE_OPTIONS = {\n  CUSTOM: \"custom\",\n  DEFAULT: \"default\",\n  DISABLED: \"disabled\"\n};\n\nconst ParameterEditorDialog = props => {\n  const {\n    isNew,\n    disabled,\n    disableType,\n    customValidation,\n    preventRenderType,\n    showValueOptions,\n    alert\n  } = props;\n\n  // Hooks\n  const [data, setData] = useState({});\n  const [valueOption, setValueOption] = useState(VALUE_OPTIONS.DEFAULT);\n  const { t } = useTranslation();\n  const classes = parametersDialogStyles();\n  const { getDataTypes, getLabel, getEditComponent, getValidValue, validate } =\n    useDataTypes();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methdos                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Renders a value related to to it's type\n   * @param {*} value : value to be rendered\n   */\n  const renderValue = useCallback(\n    value => {\n      if (props.data.type === DATA_TYPES.STRING) {\n        return `\"${value}\"`;\n      }\n\n      return value;\n    },\n    [props.data.type]\n  );\n\n  /**\n   * Get Default Value Option\n   * @param {*} defaultValue : Default value to check\n   * @param {*} value : Value to check\n   */\n  const getValueOption = useCallback(value => {\n    let result = VALUE_OPTIONS.CUSTOM;\n\n    if (value === DISABLED_VALUE) {\n      result = VALUE_OPTIONS.DISABLED;\n    }\n    if (value === DEFAULT_VALUE) {\n      result = VALUE_OPTIONS.DEFAULT;\n    }\n\n    return result;\n  }, []);\n\n  /**\n   * @private Stringify value if type string\n   * @param {{type: string, value: *}} formData\n   * @returns {*} Formatted value\n   */\n  const valueToRender = useCallback(formData => {\n    const formValue = formData.value ?? formData.defaultValue;\n    return formData?.type === DATA_TYPES.STRING\n      ? JSON.stringify(formValue)\n      : formValue;\n  }, []);\n\n  /**\n   * @private Parse value if type string\n   * @param {{type: string, value: *}} formData\n   * @returns {*} Formatted value\n   */\n  const valueToSave = useCallback(\n    formData => {\n      const type = formData.type;\n\n      if (showValueOptions) {\n        if (valueOption === VALUE_OPTIONS.DEFAULT) {\n          return DEFAULT_VALUE;\n        }\n        if (valueOption === VALUE_OPTIONS.DISABLED) {\n          return DISABLED_VALUE;\n        }\n      }\n\n      return type === DATA_TYPES.STRING\n        ? JSON.parse(formData.value)\n        : formData.value;\n    },\n    [showValueOptions, valueOption]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Component Methods                                  *\n   *                                                                                      */\n  //========================================================================================\n  /**\n   * Validate form data to submit\n   * @param {*} formData\n   * @returns\n   */\n  const onValidate = useCallback(\n    formData => {\n      const dataToValidate = {\n        ...formData,\n        value:\n          showValueOptions && valueOption === VALUE_OPTIONS.DEFAULT\n            ? DEFAULT_VALUE\n            : data.value,\n        type: data.type\n      };\n\n      if (customValidation) return customValidation(dataToValidate);\n\n      return validate(dataToValidate)\n        .then(res => {\n          if (!res.success)\n            throw new Error(\n              t(res.error) || t(ERROR_MESSAGES.DATA_VALIDATION_FAILED)\n            );\n          // Prepare data to submit\n          if (res.parsed) data.value = res.parsed.toString();\n          const dataToSubmit = {\n            ...dataToValidate,\n            value: valueToSave(data)\n          };\n          return { ...res, data: dataToSubmit };\n        })\n        .catch(err => {\n          alert({ message: err.message, severity: ALERT_SEVERITIES.ERROR });\n          return err;\n        });\n    },\n    [\n      showValueOptions,\n      valueOption,\n      data,\n      alert,\n      validate,\n      valueToSave,\n      customValidation,\n      t\n    ]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Component Handlers                                 *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle Type Select onChange Event\n   * @param {*} evt\n   * @returns\n   */\n  const handleTypeChange = useCallback(\n    evt => {\n      const type = evt?.target?.value;\n\n      getValidValue(type, data.value).then(newValue => {\n        setData(prevState => {\n          return {\n            ...prevState,\n            type,\n            value: newValue ?? prevState.value\n          };\n        });\n      });\n    },\n    [data, getValidValue]\n  );\n\n  /**\n   * Handle Value Option onChange Event\n   * @param {*} evt\n   */\n  const handleChangeValueOption = useCallback(\n    evt => {\n      const opt = evt.target.value;\n      setData(prevState => {\n        if (opt === VALUE_OPTIONS.DISABLED) {\n          return { ...prevState, value: DISABLED_VALUE };\n        }\n        if (opt === VALUE_OPTIONS.DEFAULT || opt === VALUE_OPTIONS.CUSTOM) {\n          return { ...prevState, value: renderValue(props.data.defaultValue) };\n        }\n        return prevState;\n      });\n\n      setValueOption(opt);\n    },\n    [props.data.defaultValue, renderValue]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    if (showValueOptions) setValueOption(getValueOption(props.data.value));\n\n    setData({ ...props.data, value: valueToRender(props.data) });\n  }, [props.data, showValueOptions, valueToRender, getValueOption]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Render Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Data Type Selector\n   * @returns {ReactComponent} Form control with data type selector\n   */\n  const renderTypeSelector = useCallback(() => {\n    if (preventRenderType) return null;\n    return (\n      <FormControl className={classes.marginTop}>\n        <InputLabel>{`${t(\"Type\")} *`}</InputLabel>\n        <Select\n          fullWidth\n          value={data.type || DATA_TYPES.ANY}\n          onChange={handleTypeChange}\n          disabled={disableType || disabled}\n          inputProps={{ \"data-testid\": \"input_type\" }}\n        >\n          {getDataTypes().map(key => (\n            <MenuItem key={key} value={key}>\n              {getLabel(key)}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  }, [\n    disabled,\n    classes,\n    data,\n    preventRenderType,\n    disableType,\n    getDataTypes,\n    getLabel,\n    handleTypeChange,\n    t\n  ]);\n\n  const renderValueOptions = useCallback(() => {\n    return (\n      <FormControl component=\"fieldset\">\n        <RadioGroup\n          data-testid=\"section_value-option\"\n          value={valueOption}\n          onChange={handleChangeValueOption}\n          className={classes.valueOptions}\n        >\n          <FormControlLabel\n            value={VALUE_OPTIONS.CUSTOM}\n            disabled={disabled}\n            control={<Radio inputProps={{ \"data-testid\": \"input_custom\" }} />}\n            label={t(\"UseCustomValue\")}\n          />\n          <FormControlLabel\n            value={VALUE_OPTIONS.DEFAULT}\n            disabled={disabled}\n            control={<Radio inputProps={{ \"data-testid\": \"input_default\" }} />}\n            label={t(\"UseDefaultValue\")}\n          />\n          <FormControlLabel\n            value={VALUE_OPTIONS.DISABLED}\n            disabled={disabled}\n            control={<Radio inputProps={{ \"data-testid\": \"input_disabled\" }} />}\n            label={t(\"DisableParamType\", {\n              paramType: data.paramType || t(\"Value\")\n            })}\n          />\n        </RadioGroup>\n      </FormControl>\n    );\n  }, [\n    data.paramType,\n    valueOption,\n    classes,\n    handleChangeValueOption,\n    t,\n    disabled\n  ]);\n\n  /**\n   * Render Value Editor Component\n   */\n  const renderValueEditor = useCallback(\n    (defaultValue, options) => {\n      const editComponent = getEditComponent(data.type);\n      if (!editComponent) return <></>;\n      return (\n        <>\n          {!options.isDefault && showValueOptions && renderValueOptions()}\n          {!options.isDefault && valueOption === VALUE_OPTIONS.DISABLED ? (\n            <p className={classes.disabledValue}>\n              {t(\"DisabledParamType\", {\n                paramType: data.paramType || t(\"Value\")\n              })}\n            </p>\n          ) : (\n            getEditComponent(data.type)(\n              {\n                rowData: {\n                  value: options.isDefault\n                    ? renderValue(defaultValue)\n                    : data.value\n                },\n                onChange: _value => {\n                  if (\n                    valueOption !== VALUE_OPTIONS.CUSTOM &&\n                    renderValue(options.defaultValue) !== _value\n                  ) {\n                    setValueOption(VALUE_OPTIONS.CUSTOM);\n                  }\n                  setData(prevState => {\n                    return { ...prevState, value: _value };\n                  });\n                },\n                disabled: options.disabled || disabled,\n                isNew: options.isNew ?? isNew\n              },\n              \"dialog\"\n            )\n          )}\n        </>\n      );\n    },\n    [\n      valueOption,\n      showValueOptions,\n      disabled,\n      data,\n      isNew,\n      classes,\n      renderValueOptions,\n      renderValue,\n      getEditComponent,\n      t\n    ]\n  );\n\n  return (\n    <KeyValueEditorDialog\n      {...props}\n      validate={onValidate}\n      renderValueEditor={renderValueEditor}\n      renderCustomContent={renderTypeSelector}\n    />\n  );\n};\n\nParameterEditorDialog.propTypes = {\n  data: PropTypes.object.isRequired,\n  isNew: PropTypes.bool,\n  disableType: PropTypes.bool,\n  disabled: PropTypes.bool,\n  showDescription: PropTypes.bool,\n  preventRenderType: PropTypes.bool,\n  showValueOptions: PropTypes.bool,\n  customValidation: PropTypes.func,\n  alert: PropTypes.func\n};\n\nexport default withAlerts(withTheme(ParameterEditorDialog));\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Typography\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const collapsibleHeaderStyles = makeStyles(_theme => ({\n  root: {\n    padding: \"5px 0px 5px 0px\",\n    width: \"100%\"\n  },\n  heading: {\n    fontSize: \"1.5rem\"\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  column: {\n    flexBasis: \"90%\"\n  }\n}));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport { collapsibleHeaderStyles } from \"./styles\";\n\nconst CollapsibleHeader = props => {\n  const {\n    title,\n    children,\n    defaultExpanded,\n    testId = \"section_accordion\"\n  } = props;\n  const classes = collapsibleHeaderStyles();\n\n  return (\n    <Typography data-testid={testId} component=\"div\" className={classes.root}>\n      <Accordion defaultExpanded={defaultExpanded}>\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n          <Typography component=\"div\" className={classes.column}>\n            <Typography className={classes.heading}>{title}</Typography>\n          </Typography>\n        </AccordionSummary>\n        <Divider />\n        <AccordionDetails className={classes.details}>\n          {children}\n        </AccordionDetails>\n      </Accordion>\n    </Typography>\n  );\n};\n\nCollapsibleHeader.propTypes = {\n  title: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  defaultExpanded: PropTypes.bool\n};\n\nCollapsibleHeader.defaultProps = {\n  title: <div>Title</div>,\n  defaultExpanded: false\n};\n\nexport default CollapsibleHeader;\n","import React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport _isEqual from \"lodash/isEqual\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport CollapsibleHeader from \"../CollapsibleHeader/CollapsibleHeader\";\nimport MaterialTable from \"../MaterialTable/MaterialTable\";\n\nconst KeyValueTable = props => {\n  // Props\n  const {\n    varName,\n    data,\n    title,\n    onRowDelete,\n    openEditDialog,\n    editable,\n    columns,\n    testId = \"section_key-value-table\"\n  } = props;\n  // Hooks\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Format data : Convert object in array to be rendered in Material Table\n   * @param {*} _data : Raw data (can be an object of objects)\n   * @returns {array} Formatted data\n   */\n  const formatData = _data => {\n    if (Array.isArray(_data)) return _data;\n    return Object.values(_data).map((item, i) => {\n      return {\n        id: `${i}_${item.name}`,\n        name: item.name,\n        value: item.value,\n        type: item.type,\n        description: item.description\n      };\n    });\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Table Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get table actions definitions\n   *  Add     : If editable -> open modal with empty data\n   *  Edit    : Always rendered, but not always enabled (depends on editable prop) -> open modal with current data\n   *  Delete  : Not necessary to add in this function because it should have the default behavior from material table\n   * @returns {array} Array of actions availabe on Material table\n   */\n  const getActions = () => {\n    const actions = [\n      rowData => ({\n        icon: () => <Edit></Edit>,\n        disabled: !editable,\n        tooltip: t(\"Edit\"),\n        onClick: () => openEditDialog(varName, rowData.name)\n      })\n    ];\n    // Add row button if editable\n    if (editable)\n      actions.push({\n        icon: () => <AddBox></AddBox>,\n        tooltip: t(\"AddAction\", { actionTitle: title }),\n        isFreeAction: true,\n        onClick: () => openEditDialog(varName)\n      });\n    return actions;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <CollapsibleHeader testId={testId} title={title}>\n      <MaterialTable\n        columns={columns}\n        data={formatData(data)}\n        actions={getActions()}\n        editable={{\n          isEditable: () => editable,\n          isDeletable: () => editable,\n          onRowDelete: rowData => onRowDelete(varName, rowData.name)\n        }}\n      />\n    </CollapsibleHeader>\n  );\n};\n\nKeyValueTable.propTypes = {\n  varName: PropTypes.string.isRequired,\n  onRowDelete: PropTypes.func.isRequired,\n  openEditDialog: PropTypes.func.isRequired,\n  title: PropTypes.string,\n  data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  columns: PropTypes.array,\n  editable: PropTypes.bool\n};\n\nKeyValueTable.defaultProps = {\n  data: [],\n  editable: false\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\nfunction arePropsEqual(prevProps, nextProps) {\n  return _isEqual(prevProps.data, nextProps.data);\n}\n\nexport default memo(KeyValueTable, arePropsEqual);\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const descriptionStyles = makeStyles(theme => ({\n  root: {\n    padding: \"5px 0px 5px 0px\",\n    width: \"100%\"\n  },\n  container: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  input: {\n    margin: theme.spacing(1),\n    fontFamily: \"inherit\",\n    width: \"80%\",\n    fontWeight: \"bold\"\n  },\n  text: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  center: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    flexWrap: \"wrap\"\n  },\n  nodeTypeMini: {\n    width: \"12px\",\n    height: \"12px\",\n    marginRight: \"6px\",\n    borderRadius: \"3px\"\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  typeContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    right: \"100px\",\n    top: \"20px\"\n  },\n  details: { display: \"flex\", flexDirection: \"column\" },\n  row: { display: \"flex\", flexDirection: \"row\" },\n  heading: { fontSize: \"1.5rem\" },\n  column: { flexBasis: \"90%\" }\n}));\n","import React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { MOVAI_FLOW_TYPES } from \"../../../../../utils/Constants\";\nimport CollapsibleHeader from \"../../../../_shared/CollapsibleHeader/CollapsibleHeader\";\n\nimport { descriptionStyles } from \"./styles\";\n\n// Node colors: Each node type has one specific correspondent color\nconst NODE_COLORS = {\n  [MOVAI_FLOW_TYPES.NODES.ROS1_NODELETE]: \"#ef5b5b\",\n  [MOVAI_FLOW_TYPES.NODES.ROS1_NODE]: \"#684551\",\n  [MOVAI_FLOW_TYPES.NODES.ROS1_PLUGIN]: \"#20a39e\",\n  [MOVAI_FLOW_TYPES.NODES.ROS1_STATEM]: \"#006494\",\n  [MOVAI_FLOW_TYPES.NODES.MOVAI_NODE]: \"#be2424\",\n  [MOVAI_FLOW_TYPES.NODES.MOVAI_STATE]: \"#52528c\",\n  [MOVAI_FLOW_TYPES.NODES.MOVAI_SERVER]: \"#dec5e3\",\n  [MOVAI_FLOW_TYPES.NODES.MOVAI_FLOW]: \"#252125\",\n  [MOVAI_FLOW_TYPES.NODES.ROS2_NODE]: \"#f7b05b\",\n  [MOVAI_FLOW_TYPES.NODES.ROS2_LIFECYCLENODE]: \"#a5907e\"\n};\n\nconst Description = props => {\n  // Props\n  const { onChangeDescription, value, nodeType, editable } = props;\n  // Hooks\n  const { t } = useTranslation();\n  const classes = descriptionStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Header with node type\n   * @returns {ReactElement} Element to be rendered in collapsible header\n   */\n  const renderTitleSection = () => {\n    return (\n      <>\n        <Typography component=\"span\" className={classes.heading}>\n          {t(\"Description\")}\n        </Typography>\n        {nodeType && (\n          <Typography component=\"span\" className={classes.typeContainer}>\n            <>\n              <Typography\n                component=\"span\"\n                className={classes.nodeTypeMini}\n                style={{ backgroundColor: NODE_COLORS[nodeType] }}\n              ></Typography>\n              <Typography component=\"span\">{nodeType}</Typography>\n            </>\n          </Typography>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <CollapsibleHeader\n      testId=\"section_description\"\n      title={renderTitleSection()}\n      defaultExpanded={true}\n    >\n      {/* ---------------- Description -------------------*/}\n      <TextField\n        inputProps={{ \"data-testid\": \"input_description\" }}\n        disabled={!editable}\n        className={classes.textField}\n        label={t(\"Description\")}\n        minRows=\"4\"\n        multiline\n        defaultValue={value}\n        onChange={evt => onChangeDescription(evt.target.value)}\n        margin=\"normal\"\n        variant=\"outlined\"\n      />\n    </CollapsibleHeader>\n  );\n};\n\nDescription.propTypes = {\n  value: PropTypes.string,\n  nodeType: PropTypes.string,\n  onChangeDescription: PropTypes.func,\n  editable: PropTypes.bool\n};\n\nDescription.defaultProps = {\n  nodeType: \"\",\n  value: \"\",\n  onChangeDescription: (evt, text) => console.log(evt.target.value, text),\n  editable: false\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\nfunction arePropsEqual(prevProps, nextProps) {\n  const sameDescription = prevProps.value === nextProps.value;\n  const sameType = prevProps.nodeType === nextProps.nodeType;\n  return sameType && sameDescription;\n}\n\nexport default memo(Description, arePropsEqual);\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/FormControlLabel\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Checkbox\");","import Tooltip from \"@material-ui/core/Tooltip\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nexport const HtmlTooltip = withStyles(theme => ({\n  tooltip: {\n    backgroundColor: theme.palette.accent.background,\n    borderColor: theme.palette.accent.border,\n    color: theme.palette.accent.color,\n    padding: theme.spacing(1),\n    maxWidth: 220,\n    fontSize: theme.typography.pxToRem(12),\n    border: \"1px solid\"\n  }\n}))(Tooltip);\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const executionParamStyles = makeStyles(theme => ({\n  root: {\n    padding: \"5px 0px 5px 0px\",\n    width: \"100%\"\n  },\n  heading: {\n    fontSize: \"1.5rem\"\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  column: {\n    flexBasis: \"90%\"\n  },\n  input: {\n    margin: theme.spacing(1),\n    fontFamily: \"inherit\",\n    width: \"80%\",\n    fontWeight: \"bold\"\n  },\n  text: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  center: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    flexWrap: \"wrap\"\n  },\n  centerCheckboxTooltip: {\n    justifyContent: \"center\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1\n  },\n  logo: {\n    margin: \"12px 12px 12px 12px\",\n    padding: \"0px\"\n  },\n  formControlLabel: {\n    margin: \"0%\"\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  noMargin: {\n    margin: 0\n  }\n}));\n","import React, { useCallback, useState, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport Typography from \"@material-ui/core/Typography\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InfoLogo from \"@material-ui/icons/Info\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport TextField from \"@material-ui/core/TextField\";\nimport _isEqual from \"lodash/isEqual\";\nimport CollapsibleHeader from \"../../../../_shared/CollapsibleHeader/CollapsibleHeader\";\nimport { HtmlTooltip } from \"../../../../_shared/HtmlTooltip/HtmlTooltip\";\n\nimport { executionParamStyles } from \"./styles\";\n\nconst TOOLTIP = {\n  close: 0,\n  persistent: 1,\n  remappable: 2,\n  launch: 3\n};\n\nconst ExecutionParameters = props => {\n  const {\n    persistent,\n    remappable,\n    launch,\n    path,\n    onChangePath,\n    onChangeExecutionParams,\n    editable\n  } = props;\n  // Handle tooltip open state\n  const [openTooltip, setOpenTooltip] = useState(TOOLTIP.close);\n  // Hooks\n  const classes = executionParamStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React callbacks                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle tooltip close\n   */\n  const handleTooltipClose = useCallback(\n    triggeredBy => {\n      if (triggeredBy !== openTooltip) return;\n      setOpenTooltip(TOOLTIP.close);\n    },\n    [openTooltip]\n  );\n\n  /**\n   * Handle tooltip toggle\n   */\n  const handleTooltipToggle = useCallback(newState => {\n    setOpenTooltip(prevState => {\n      if (prevState === newState) return TOOLTIP.close;\n      else return newState;\n    });\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Render Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Checkbox with custom HTML tooltip\n   * @param {string} keyName : Property key name\n   * @param {string} title : Checkbox label\n   * @param {boolean} checkboxValue : Checkbox checked state\n   * @param {{id: number, title: string, description: string}} tooltip : Tooltip data\n   * @returns {ReactElement} Checkbox with custom HTML tooltip\n   */\n  const renderCheckbox = (keyName, title, checkboxValue, tooltip) => (\n    <Typography component=\"div\" className={classes.centerCheckboxTooltip}>\n      <FormControlLabel\n        className={classes.formControlLabel}\n        control={\n          <Checkbox\n            inputProps={{ \"data-testid\": `input_${keyName}` }}\n            disabled={!editable}\n            checked={checkboxValue}\n            onChange={() => onChangeExecutionParams(keyName, !checkboxValue)}\n            color=\"primary\"\n          />\n        }\n        label={title}\n      />\n      <ClickAwayListener onClickAway={() => handleTooltipClose(tooltip.id)}>\n        <Typography data-testid=\"section_tooltip\" component=\"div\">\n          <HtmlTooltip\n            PopperProps={{ disablePortal: true }}\n            onClose={handleTooltipClose}\n            open={openTooltip === tooltip.id}\n            disableFocusListener\n            disableHoverListener\n            title={\n              <>\n                <Typography color=\"inherit\">{tooltip.title}</Typography>\n                {tooltip.description}\n              </>\n            }\n          >\n            <IconButton\n              data-testid=\"input_toggle-tooltip\"\n              className={classes.logo}\n              onClick={() => handleTooltipToggle(tooltip.id)}\n            >\n              <InfoLogo className=\"tooltipIcon\" />\n            </IconButton>\n          </HtmlTooltip>\n        </Typography>\n      </ClickAwayListener>\n    </Typography>\n  );\n\n  return (\n    <CollapsibleHeader\n      testId=\"section_execution-parameters\"\n      title={t(\"ExecutionParameters\")}\n    >\n      <Typography component=\"div\" className={classes.center}>\n        {/*-------------------- Persistent ------------------------*/}\n        {renderCheckbox(\"persistent\", t(\"Persistent\"), persistent, {\n          id: TOOLTIP.persistent,\n          title: t(\"PersistentNodeTitle\"),\n          description: t(\"PersistentNodeDescription\")\n        })}\n        {/* ---------------- Remappable -------------------*/}\n        {renderCheckbox(\"remappable\", t(\"Remappable\"), remappable, {\n          id: TOOLTIP.remappable,\n          title: t(\"Remappable\"),\n          description: t(\"RemappableDescription\")\n        })}\n        {/* ---------------- Launch -------------------*/}\n        {renderCheckbox(\"launch\", t(\"Launch\"), launch, {\n          id: TOOLTIP.launch,\n          title: t(\"Launch\"),\n          description: t(\"LaunchDescription\")\n        })}\n      </Typography>\n      <TextField\n        inputProps={{ \"data-testid\": \"input_path\" }}\n        label={t(\"Path\")}\n        disabled={!editable}\n        className={classes.textField}\n        defaultValue={path}\n        onChange={evt => onChangePath(evt.target.value)}\n        margin=\"normal\"\n        variant=\"outlined\"\n      />\n    </CollapsibleHeader>\n  );\n};\n\nExecutionParameters.propTypes = {\n  persistent: PropTypes.bool,\n  remappable: PropTypes.bool,\n  launch: PropTypes.bool,\n  path: PropTypes.string,\n  onChangePath: PropTypes.func,\n  onChangeExecutionParams: PropTypes.func,\n  editable: PropTypes.bool\n};\n\nExecutionParameters.defaultProps = {\n  persistent: false,\n  remappable: true,\n  launch: true,\n  path: \"\",\n  onChangePath: text => console.log(text),\n  onChangeExecutionParams: (param, value) => console.log(param, value),\n  editable: true\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\nfunction arePropsEqual(prevProps, nextProps) {\n  // filter out functions\n  const {\n    onChangeExecutionParams: a,\n    onChangePath: b,\n    ...filtPrevProps\n  } = prevProps;\n\n  const {\n    onChangeExecutionParams: aa,\n    onChangePath: bb,\n    ...filtNextProps\n  } = nextProps;\n\n  return _isEqual(filtPrevProps, filtNextProps);\n}\n\nexport default memo(ExecutionParameters, arePropsEqual);\n","import React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _isEqual from \"lodash/isEqual\";\nimport { useTranslation } from \"react-i18next\";\nimport { defaultFunction } from \"../../../../../utils/Utils\";\nimport ParameterEditorDialog from \"../../../../_shared/KeyValueTable/ParametersEditorDialog\";\nimport KeyValueTable from \"../../../../_shared/KeyValueTable/KeyValueTable\";\nimport useDataTypes from \"../../../../_shared/hooks/useDataTypes\";\n\nconst ParametersTable = props => {\n  // Props\n  const { editable, data, openEditDialog, onRowDelete, defaultColumns } = props;\n  // Hooks\n  const { getLabel } = useDataTypes();\n  const { t } = useTranslation();\n  // Override default columns\n  const typeColumn = {\n    title: t(\"Type\"),\n    field: \"type\",\n    width: 150,\n    tableData: {\n      columnOrder: 1.5 // Workaround to add this column after 1, but before 2\n    },\n    cellStyle: {\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\"\n    },\n    render: rowData => (\n      <span data-testid=\"output_type\">{getLabel(rowData.type)}</span>\n    )\n  };\n  const columns = [...defaultColumns];\n  columns.push(typeColumn);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <KeyValueTable\n      testId=\"section_parameters\"\n      title={t(\"Parameters\")}\n      varName=\"parameters\"\n      editable={editable}\n      data={data}\n      columns={columns}\n      onRowDelete={onRowDelete}\n      openEditDialog={(varName, dataId) =>\n        openEditDialog(varName, dataId, ParameterEditorDialog)\n      }\n    ></KeyValueTable>\n  );\n};\n\nParametersTable.propTypes = {\n  data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  defaultColumns: PropTypes.array,\n  onRowDelete: PropTypes.func,\n  openEditDialog: PropTypes.func,\n  editable: PropTypes.bool\n};\n\nParametersTable.defaultProps = {\n  data: [],\n  defaultColumns: [],\n  onRowDelete: () => defaultFunction(\"onRowDelete\"),\n  openEditDialog: () => defaultFunction(\"openEditDialog\"),\n  editable: false\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\nfunction arePropsEqual(prevProps, nextProps) {\n  return _isEqual(prevProps.data, nextProps.data);\n}\n\nexport default memo(ParametersTable, arePropsEqual);\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"material-table\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const configColumnsStyles = makeStyles(theme => ({\n  formHolder: {\n    width: \"100%\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: \"120px\"\n  },\n  control: {\n    fontSize: \"0.875rem\"\n  }\n}));\n","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  FormControl,\n  NativeSelect,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\nimport useSelectOptions from \"./useSelectOptions\";\n\nimport { configColumnsStyles } from \"./styles\";\n\nconst useIOConfigColumns = data => {\n  const { autoFocus, scopePorts, scopeSystemPortsData } = data;\n  // Hooks\n  const classes = configColumnsStyles();\n  const { t } = useTranslation();\n  const { getGroupOptions, getPackageOptions, getMessageOptions } =\n    useSelectOptions({ scopeSystemPortsData, scopePorts });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Render Sub-Components                                *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render selectable options\n   * @param {array<{label: string, value: string}>} options\n   * @returns {ReactElement} List of options available\n   */\n  const renderOptions = options => {\n    return (\n      options !== undefined &&\n      options.map((option, optionIndex) => {\n        return (\n          <option key={optionIndex} value={option.value}>\n            {option.label}\n          </option>\n        );\n      })\n    );\n  };\n\n  /**\n   * @private Render port icon\n   * @param {*} rowData\n   * @returns {ReactElement} Element to be rendered as port icon\n   */\n  const renderPortIcon = useCallback(rowData => {\n    const inIcon = Object.keys(rowData.portIn).length ? (\n      <Tooltip title=\"Iport\">\n        <i className=\"icon-in\" style={{ fontSize: \"1.5rem\" }}></i>\n      </Tooltip>\n    ) : undefined;\n    const outIcon = Object.keys(rowData.portOut).length ? (\n      <Tooltip title=\"Oport\">\n        <i className=\"icon-out\" style={{ fontSize: \"1.5rem\" }}></i>\n      </Tooltip>\n    ) : undefined;\n    return (\n      <>\n        {inIcon}\n        {outIcon}\n      </>\n    );\n  }, []);\n\n  /**\n   * @private Get Name edit component\n   * @param {*} props : edit element props\n   * @returns {ReactElement} TextField to edit name\n   */\n  const getNameEditComponent = useCallback(\n    props => {\n      return (\n        <TextField\n          autoFocus={autoFocus}\n          placeholder={props.columnDef.title}\n          value={props.value === undefined ? \"\" : props.value}\n          onChange={event => props.onChange(event.target.value)}\n          inputProps={{\n            \"data-testid\": \"input_name\",\n            style: {\n              fontSize: 13,\n              textAlign: \"left\"\n            }\n          }}\n        />\n      );\n    },\n    [autoFocus]\n  );\n\n  /**\n   * @private Get Transport/Protocol edit component\n   * @param {*} props : edit element props\n   * @returns {ReactElement} Element to edit Transport/Protocol\n   */\n  const getTransportEditComponent = useCallback(\n    props => {\n      /**\n       * On Change Transport / Protocol\n       * @param {Event} event\n       */\n      const onChange = event => {\n        const newData = { ...props.rowData };\n        newData.template = event.target.value;\n\n        // Autofill if only one package and message\n        const packageOptions = getPackageOptions(newData);\n        // If only one package\n        if (packageOptions.length === 1) {\n          newData.message = \"\";\n          newData.msgPackage = packageOptions[0].value;\n          const messageOptions = getMessageOptions(newData);\n          // If only one message\n          if (messageOptions.length === 1)\n            newData.message = messageOptions[0].value;\n        } else {\n          newData.msgPackage = \"\";\n          newData.message = \"\";\n        }\n        props.onRowDataChange(newData);\n      };\n\n      // When you click edit, second column should be a selector with the Transport/Protocol\n      const options = getGroupOptions(scopePorts);\n      return (\n        <div className={classes.formHolder}>\n          <FormControl className={classes.formControl}>\n            <NativeSelect\n              inputProps={{ \"data-testid\": \"input_protocol\" }}\n              className={classes.control}\n              value={props.value}\n              onChange={onChange}\n            >\n              <option value=\"\" />\n              {options.map((transport, transportIndex) => {\n                return transport.options !== undefined ? (\n                  <optgroup\n                    key={transportIndex}\n                    label={` - ${transport.label}`}\n                  >\n                    {transport.options.map((protocol, protocolIndex) => {\n                      return (\n                        <option key={protocolIndex} value={protocol.value}>\n                          {protocol.label}\n                        </option>\n                      );\n                    })}\n                  </optgroup>\n                ) : (\n                  <option\n                    key={\"standalone\" + transportIndex}\n                    value={transport.value}\n                  >\n                    {transport.label}\n                  </option>\n                );\n              })}\n            </NativeSelect>\n          </FormControl>\n        </div>\n      );\n    },\n    [classes, scopePorts, getGroupOptions, getMessageOptions, getPackageOptions]\n  );\n\n  /**\n   * @private Get Package edit component\n   * @param {*} props : edit element props\n   * @returns {ReactElement} Element to edit Package\n   */\n  const getPackageEditComponent = useCallback(\n    props => {\n      /**\n       * On change event for package selector\n       * @param {Event} event\n       */\n      const onChange = event => {\n        const newData = { ...props.rowData };\n        newData.msgPackage = event.target.value;\n        newData.message = \"\";\n        props.onRowDataChange(newData);\n      };\n\n      // When you click edit, third column should be a selector with the Packages\n      const options = getPackageOptions(props.rowData);\n      return (\n        <div className={classes.formHolder}>\n          <FormControl className={classes.formControl}>\n            <NativeSelect\n              inputProps={{ \"data-testid\": \"input_package\" }}\n              className={classes.control}\n              value={props.value}\n              onChange={onChange}\n            >\n              <option value=\"\" />\n              {renderOptions(options)}\n            </NativeSelect>\n          </FormControl>\n        </div>\n      );\n    },\n    [classes, getPackageOptions]\n  );\n\n  /**\n   * @private Get Message edit component\n   * @param {*} props : edit element props\n   * @returns {ReactElement} Element to edit Message\n   */\n  const getMessageEditComponent = useCallback(\n    props => {\n      /**\n       * On change message selector\n       * @param {*} evt\n       */\n      const onChange = evt => {\n        const newData = { ...props.rowData };\n        newData.message = evt.target.value;\n        props.onRowDataChange(newData);\n      };\n      // When you click edit, fourth column should be a selector with the Message\n      const options = getMessageOptions(props.rowData);\n      return (\n        <div className={classes.formHolder}>\n          <FormControl className={classes.formControl}>\n            <NativeSelect\n              inputProps={{ \"data-testid\": \"input_message\" }}\n              className={classes.control}\n              value={props.value}\n              onChange={onChange}\n            >\n              <option value=\"\" />\n              {renderOptions(options)}\n            </NativeSelect>\n          </FormControl>\n        </div>\n      );\n    },\n    [classes, getMessageOptions]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   *\n   * @returns\n   */\n  const getColumns = useCallback(() => {\n    return [\n      {\n        title: \"\",\n        field: \"portType\",\n        render: renderPortIcon,\n        editable: \"never\",\n        width: 50\n      },\n      {\n        title: t(\"Name\"),\n        field: \"name\",\n        defaultSort: \"asc\",\n        render: rowData => (\n          <span data-testid=\"output_name\">{rowData.name}</span>\n        ),\n        editComponent: getNameEditComponent\n      },\n      {\n        title: t(\"TransportProtocol\"),\n        field: \"template\",\n        render: rowData => (\n          <span data-testid=\"output_protocol\">\n            {scopePorts[rowData?.template]?.Label}\n          </span>\n        ), // what you see (not in edit mode)\n        editComponent: getTransportEditComponent\n      },\n      {\n        title: t(\"Package\"),\n        field: \"msgPackage\",\n        render: rowData => (\n          <span data-testid=\"output_package\">{rowData.msgPackage}</span>\n        ),\n        editComponent: getPackageEditComponent\n      },\n      {\n        title: t(\"Message\"),\n        field: \"message\",\n        render: rowData => (\n          <span data-testid=\"output_message\">{rowData.message}</span>\n        ),\n        editComponent: getMessageEditComponent\n      }\n    ];\n  }, [\n    scopePorts,\n    renderPortIcon,\n    getNameEditComponent,\n    getMessageEditComponent,\n    getPackageEditComponent,\n    getTransportEditComponent,\n    t\n  ]);\n\n  return { getColumns };\n};\n\nexport default useIOConfigColumns;\n","import { useCallback } from \"react\";\n\nconst useSelectOptions = data => {\n  const { scopeSystemPortsData, scopePorts } = data;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Sort array of objects by label\n   * @param {object} a : Comparable A\n   * @param {object} b : Comparable B\n   */\n  const sortByLabel = (a, b) => {\n    if (a.label > b.label) return 1;\n    else return b.label > a.label ? -1 : 0;\n  };\n\n  /**\n   * Insert element in alphabetical order\n   * @param {{options: array}} groupObj : Group with options array to insert item\n   * @param {object} item : Item to insert\n   * @returns {object} : Object with ordered options array\n   */\n  const insertInAlphabeticalOrder = (groupObj, item) => {\n    for (let i = 0; i < groupObj.options.length; i++) {\n      const element = groupObj.options[i].label;\n      if (item.label <= element) {\n        groupObj.options.splice(i, 0, item);\n        break;\n      }\n      if (i === groupObj.options.length - 1) {\n        groupObj.options.push(item);\n        break;\n      }\n    }\n    return groupObj;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Receive an object of Templates/Ports and format to render\n   */\n  const getGroupOptions = useCallback(() => {\n    const groupedObj = [];\n    let groupIndex = -1;\n    try {\n      scopePorts !== undefined &&\n        Object.keys(scopePorts).forEach(templateKey => {\n          const [transport, protocol] =\n            scopePorts[templateKey].Label.split(\"/\");\n          // Set options to insert\n          const option = { value: templateKey, label: protocol || transport };\n          // If not protocol insert transport into groupedObj\n          if (!protocol) groupedObj.push(option);\n          else {\n            // Find if there is a group already with that transport\n            groupIndex = groupedObj.findIndex(elem => elem.label === transport);\n            // If no group, create one\n            if (groupIndex === -1) {\n              groupedObj.push({\n                label: transport,\n                options: [option]\n              });\n            }\n            // Else just append to that group options\n            else {\n              // Put in alphabetical order\n              const existingGroup = { ...groupedObj[groupIndex] };\n              groupedObj[groupIndex] = insertInAlphabeticalOrder(\n                existingGroup,\n                option\n              );\n            }\n          }\n        });\n    } catch (error) {\n      console.warn(\"debug : Error getting Transport/Protocol Options\");\n    }\n    return groupedObj;\n  }, [scopePorts]);\n\n  /**\n   * Dependencies object and the selected template.\n   * @returns {array} List of Packages\n   */\n  const getPackageOptions = useCallback(rowData => {\n    if (\n      rowData === undefined ||\n      rowData.template === undefined ||\n      rowData.template === \"\"\n    ) {\n      return [];\n    }\n    let packageOptions = [];\n    try {\n      const dataObj = { ...scopePorts[rowData.template].Data };\n      // If there is package and message add package option\n      if (Object.keys(dataObj).length > 1) {\n        packageOptions = [{ value: dataObj.Package, label: dataObj.Package }];\n      }\n      // Else go find by type. Example: ROS1_msg, ROS1_action\n      else {\n        packageOptions = Object.keys(scopeSystemPortsData[dataObj.type]).map(\n          element => {\n            return { value: element, label: element };\n          }\n        );\n      }\n      // Return sorted package options\n      return packageOptions.sort(sortByLabel);\n    } catch (error) {\n      console.warn(\"debug : Error getting Package Options\");\n      return [];\n    }\n  }, [scopePorts, scopeSystemPortsData]);\n\n  /**\n   * Get list of messages based in dependencies object and the selected protocol and package.\n   * @returns {array} List of Messages\n   */\n  const getMessageOptions = useCallback(rowData => {\n    if (\n      rowData === undefined ||\n      rowData.template === undefined ||\n      rowData.template === \"\" ||\n      rowData.msgPackage === undefined ||\n      rowData.msgPackage === \"\"\n    ) {\n      return [];\n    }\n    let messageOptions = [];\n    try {\n      const dataObj = { ...scopePorts[rowData.template].Data };\n      // If there is package and message add package option\n      if (Object.keys(dataObj).length > 1) {\n        messageOptions = [{ value: dataObj.Message, label: dataObj.Message }];\n      }\n      // Else go find by type and selected package and return the messages\n      else {\n        messageOptions = scopeSystemPortsData[dataObj.type][\n          rowData.msgPackage\n        ].map(element => {\n          return { value: element, label: element };\n        });\n      }\n      // Return sorted messages\n      return messageOptions.sort(sortByLabel);\n    } catch (error) {\n      console.warn(\"debug : Error in getting Message Options\");\n      return [];\n    }\n  }, [scopePorts, scopeSystemPortsData]);\n\n  return { getGroupOptions, getPackageOptions, getMessageOptions };\n};\n\nexport default useSelectOptions;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/FolderOpen\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/FiberManualRecord\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst sharedStyles = {\n  gridContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    boxSizing: \"border-box\",\n    padding: \"10px\",\n    alignItems: \"center\"\n  },\n  titleColumn: {\n    margin: \"auto\"\n  },\n  circle: {\n    width: \"0.25em\",\n    height: \"0.25em\",\n    margin: \"5px\"\n  }\n};\n\nexport const callbackStyles = makeStyles(theme => ({\n  ...sharedStyles,\n  actionColumn: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\"\n  },\n  iconPadding: {\n    paddingRight: \"5px\"\n  },\n  icon: {\n    color: theme.icon.color,\n    \"&:hover\": {\n      color: theme.icon.hoverColor\n    }\n  }\n}));\n\nexport const parametersStyles = makeStyles(_theme => ({\n  ...sharedStyles,\n  input: {\n    width: \"100%\",\n    fontSize: \"0.875rem\",\n    padding: \"0px 8px 0px 8px\"\n  }\n}));\n","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport FolderOpenIcon from \"@material-ui/icons/FolderOpen\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Circle from \"@material-ui/icons/FiberManualRecord\";\nimport { IconButton, Tooltip, Typography } from \"@material-ui/core\";\nimport { Edit, AddBox } from \"@material-ui/icons\";\nimport { SCOPES } from \"../../../../../../../utils/Constants\";\nimport { callbackStyles } from \"./styles\";\n\nconst Callback = props => {\n  // Props\n  const {\n    id,\n    ioPort,\n    message,\n    callback,\n    portName,\n    protectedCallbacks,\n    handleNewCallback,\n    handleOpenCallback,\n    handleOpenSelectScopeModal\n  } = props;\n  // Hooks\n  const classes = callbackStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Handler                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Open Select scope modal\n   */\n  const openSelectScopeModal = useCallback(() => {\n    handleOpenSelectScopeModal(\n      {\n        message,\n        selectedIoPort: ioPort,\n        selected: callback,\n        scopeList: [SCOPES.CALLBACK]\n      },\n      portName,\n      ioPort\n    );\n  }, [callback, handleOpenSelectScopeModal, ioPort, message, portName]);\n\n  /**\n   * Handler to open a callback by a given id\n   */\n  const openCallback = useCallback(() => {\n    handleOpenCallback(id);\n  }, [id, handleOpenCallback]);\n\n  /**\n   * Handler to create a new Callback\n   */\n  const createNewCallback = useCallback(() => {\n    handleNewCallback(message, portName, ioPort);\n  }, [message, portName, ioPort, handleNewCallback]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Grid className={classes.gridContainer}>\n      <Grid item xs={3} className={classes.titleColumn}>\n        <Circle className={classes.circle} />\n        {t(\"Callback\")}:\n      </Grid>\n      <Grid className={classes.gridContainer} item xs={6}>\n        <Tooltip title={id}>\n          <Typography data-testid=\"output_selected-callback\">{id}</Typography>\n        </Tooltip>\n      </Grid>\n      <Grid item xs={3} className={classes.actionColumn}>\n        {/* FolderIcon - Open Modal to Select Callback (with Workspace and Version) */}\n        {props.editable && (\n          <Tooltip title={t(\"SelectCallback\")}>\n            <IconButton\n              data-testid=\"input_select-callback\"\n              className={classes.icon}\n              component=\"button\"\n              onClick={openSelectScopeModal}\n            >\n              <FolderOpenIcon />\n            </IconButton>\n          </Tooltip>\n        )}\n\n        {/* EditIcon - Call Callback Editor */}\n        <Tooltip title={t(\"EditCallback\")}>\n          <>\n            <IconButton\n              data-testid=\"input_edit-callback\"\n              disabled={protectedCallbacks.includes(id)}\n              className={classes.icon}\n              component=\"button\"\n              onClick={openCallback}\n            >\n              <Edit />\n            </IconButton>\n          </>\n        </Tooltip>\n\n        {/* AddIcon - Create new Callback with associated Message */}\n        {props.editable && (\n          <Tooltip title={t(\"CreateCallback\")}>\n            <IconButton\n              data-testid=\"input_create-callback\"\n              className={classes.icon}\n              component=\"button\"\n              onClick={createNewCallback}\n            >\n              <AddBox />\n            </IconButton>\n          </Tooltip>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Callback;\n","import React, { useCallback } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Circle from \"@material-ui/icons/FiberManualRecord\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { parametersStyles } from \"./styles\";\n\nconst Parameters = props => {\n  // Props\n  const {\n    param,\n    paramValue,\n    direction,\n    ioPort,\n    editable,\n    handleIOPortsInputs,\n    rowData: { name: rowDataName }\n  } = props;\n  // Hooks\n  const classes = parametersStyles();\n\n  const handleOnChange = useCallback(\n    evt => {\n      handleIOPortsInputs(\n        evt.target.value,\n        rowDataName,\n        direction,\n        ioPort,\n        param\n      );\n    },\n    [rowDataName, direction, ioPort, param, handleIOPortsInputs]\n  );\n\n  return (\n    <Grid className={classes.gridContainer}>\n      <Grid item xs={3} className={classes.titleColumn}>\n        <Circle className={classes.circle} />\n        {`${param}:`}\n      </Grid>\n      <Grid item xs={9}>\n        <TextField\n          inputProps={{ \"data-testid\": \"input_parameter\" }}\n          disabled={!editable}\n          defaultValue={paramValue}\n          className={classes.input}\n          onChange={handleOnChange}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Parameters;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const ioConfigStyles = makeStyles(theme => ({\n  details: {\n    padding: \"8px 24px 24px\",\n    \"&.editing div[class^='MTableToolbar-actions'] .MuiIconButton-root, &.editing .Mui-selected, &.editing .child-row\":\n      {\n        opacity: \"0.2\",\n        transition: \"all 300ms ease 0s\",\n        cursor: \"default\",\n        pointerEvents: \"none\"\n      }\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  control: {\n    fontSize: \"0.875rem\"\n  },\n  toolbar: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  toolbarComponents: {\n    width: \"100%\"\n  }\n}));\n\nexport const IOPortStyles = makeStyles(_theme => ({\n  root: {\n    padding: \"0 12px\",\n    width: \"calc(100% - 24px)\"\n  },\n  heading: {\n    fontSize: \"0.875rem\"\n  },\n  ioPortTitle: {\n    boxShadow: \"none\",\n    padding: \"0px 50px 0px 50px\"\n  },\n  portBase: { fontSize: \"1.5rem\" },\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  paddingLR: {\n    padding: \"0px 12px\",\n    lineHeight: \"100%\"\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    padding: \"0px 100px 0px 100px\"\n  }\n}));\n","import React from \"react\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Callback from \"./components/Callback\";\nimport Parameters from \"./components/Parameters\";\n\nimport { IOPortStyles } from \"../styles\";\n\nconst IOPorts = props => {\n  // Props\n  const {\n    editable,\n    handleOpenCallback,\n    protectedCallbacks,\n    handleNewCallback,\n    handleOpenSelectScopeModal\n  } = props;\n  // Hooks\n  const classes = IOPortStyles();\n\n  /**\n   * Get port icons\n   * @param {*} direction\n   * @returns\n   */\n  const getPortIcon = direction => {\n    const iconClass = {\n      portIn: \"icon-in\",\n      portOut: \"icon-out\"\n    };\n\n    return <i className={`${classes.portBase} ${iconClass[direction]}`}></i>;\n  };\n\n  /**\n   * Render Input/Output Port\n   * @param {string} direction : One of options: \"portIn\" or \"portOut\"\n   * @returns {ReactElement} Input/Output Port\n   */\n  const renderIoPort = direction => {\n    return (\n      <div>\n        {props.rowData[direction] !== undefined &&\n          Object.keys(props.rowData[direction]).map((ioPort, ioPortIndex) => {\n            const portData = props.rowData[direction][ioPort];\n            const callback = portData?.callback;\n            const message = portData?.message;\n            const parameters = portData?.parameters || {};\n            const disableAccordion =\n              Object.keys(parameters).length === 0 && !callback;\n            return (\n              <Accordion\n                defaultExpanded\n                className={classes.ioPortTitle}\n                key={`${ioPortIndex} ${direction}`}\n                expanded={disableAccordion ? true : undefined}\n              >\n                <AccordionSummary\n                  expandIcon={disableAccordion ? undefined : <ExpandMoreIcon />}\n                >\n                  <div className={classes.heading}>\n                    {/* Icon */}\n                    <div className={classes.row}>\n                      {getPortIcon(direction)}\n                      {/* Ioport Name */}\n                      <div className={classes.paddingLR}>\n                        <b>{ioPort}</b>\n                      </div>\n                      {/* Effective Message */}\n                      <div className={classes.paddingLR}>{`(${message})`}</div>\n                    </div>\n                  </div>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails className={classes.details}>\n                  {/* ------------------------- Callback ------------------------- */}\n                  {callback !== null && (\n                    <div data-testid=\"section_callback\">\n                      <Callback\n                        id={callback}\n                        ioPort={ioPort}\n                        editable={editable}\n                        message={message}\n                        direction={direction}\n                        portName={props.rowData.name}\n                        protectedCallbacks={protectedCallbacks}\n                        handleNewCallback={handleNewCallback}\n                        handleOpenCallback={handleOpenCallback}\n                        handleOpenSelectScopeModal={handleOpenSelectScopeModal}\n                      />\n                    </div>\n                  )}\n                  {/* ------------------------- Parameters ------------------------- */}\n                  <div data-testid=\"section_parameters\">\n                    {Object.keys(parameters).map((param, paramIndex) => {\n                      return (\n                        <div data-testid={`section_parameter-${param}`}>\n                          <Parameters\n                            {...props}\n                            key={paramIndex + direction}\n                            editable={editable}\n                            param={param}\n                            paramValue={parameters[param]}\n                            direction={direction}\n                            ioPort={ioPort}\n                          />\n                        </div>\n                      );\n                    })}\n                  </div>\n                </AccordionDetails>\n              </Accordion>\n            );\n          })}\n      </div>\n    );\n  };\n\n  return (\n    <div\n      data-testid=\"section_io-ports\"\n      className={`${classes.root} ${props.classNames}`}\n    >\n      {renderIoPort(\"portIn\")}\n      {renderIoPort(\"portOut\")}\n    </div>\n  );\n};\n\nexport default IOPorts;\n","import React, { useCallback, useEffect, useState, useRef, memo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport _isEqual from \"lodash/isEqual\";\nimport { MTableToolbar, MTableEditRow } from \"material-table\";\nimport { Typography } from \"@material-ui/core\";\nimport { PLUGINS } from \"../../../../../utils/Constants\";\nimport MaterialTable from \"../../../../_shared/MaterialTable/MaterialTable\";\nimport CollapsibleHeader from \"../../../../_shared/CollapsibleHeader/CollapsibleHeader\";\nimport useIOConfigColumns from \"./hooks/useIOConfigColumns\";\nimport useHelper from \"./hooks/useHelper\";\nimport IOPorts from \"./IOPorts/IOPorts\";\n\nimport { ioConfigStyles } from \"./styles\";\n\nconst IOConfig = props => {\n  // Refs\n  const tableRef = useRef();\n  const tableContainerRef = useRef();\n\n  // Props\n  const {\n    ioConfig,\n    call,\n    scope,\n    protectedCallbacks,\n    onIOConfigRowSet,\n    onIOConfigRowDelete,\n    handleIOPortsInputs,\n    handleOpenSelectScopeModal,\n    handleOpenCallback,\n    handleNewCallback,\n    autoFocus,\n    editable\n  } = props;\n\n  // State hooks\n  const [scopePorts, setScopePorts] = useState({});\n  const [scopeSystemPortsData, setScopeSystemPortsData] = useState({});\n  const [ioData, setIOData] = useState([]);\n\n  // Other hooks\n  const classes = ioConfigStyles();\n  const { t } = useTranslation();\n  const { getEffectiveMessage } = useHelper();\n  const { getColumns } = useIOConfigColumns({\n    scopeSystemPortsData,\n    scopePorts,\n    autoFocus\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Update lock rows : Add fade out effect to detail panel when editing table\n   * @returns\n   */\n  const updateLockRows = () => {\n    if (!tableRef.current || !tableContainerRef.current) return;\n    setTimeout(() => {\n      const editingRow = tableRef.current.dataManager.lastEditingRow;\n      const addingRow =\n        tableContainerRef?.current?.querySelector(\"tr[mode='add']\");\n      if (editingRow || addingRow) {\n        tableContainerRef?.current?.classList.add(\"editing\");\n      } else {\n        tableContainerRef?.current?.classList.remove(\"editing\");\n      }\n    });\n  };\n\n  /**\n   * Format data : Convert object in array to be rendered in Material Table\n   * @param {*} _data : Raw data (can be an object of objects)\n   * @returns {array} Formatted data\n   */\n  const formatData = useCallback(\n    _data => {\n      const newData = Array.isArray(_data)\n        ? _data\n        : Object.values(_data).map(item => ({\n            ...item,\n            name: item.name\n          }));\n      setIOData(prevState =>\n        _isEqual(prevState, newData) ? prevState : newData\n      );\n    },\n    [setIOData]\n  );\n\n  /**\n   * Format port data\n   */\n  const formatPortData = useCallback(\n    (rowData, direction, key) => {\n      // Set port properties\n      const effectiveMessage = getEffectiveMessage(rowData, direction, key);\n      rowData[direction][key][\"message\"] = effectiveMessage;\n      rowData[direction][key][\"callback\"] = rowData[direction][key].Callback;\n      rowData[direction][key][\"parameters\"] = rowData[direction][key].Parameter;\n      // Delete LinkEnabled\n      delete rowData[direction][key][\"LinkEnabled\"];\n      if (direction === \"portOut\") return rowData;\n      return rowData;\n    },\n    [getEffectiveMessage]\n  );\n\n  /**\n   * Set in port data from template\n   */\n  const setPortDataIn = useCallback(\n    rowData => {\n      rowData.portIn = scopePorts[rowData.template]?.In || {};\n\n      // Update CallbackOptions and EffectiveMessage = (pkg/msg) of in ioport\n      Object.keys(rowData.portIn).forEach(key => {\n        rowData = formatPortData(rowData, \"portIn\", key);\n      });\n      return rowData;\n    },\n    [scopePorts, formatPortData]\n  );\n\n  /**\n   * Set out port data from template\n   */\n  const setPortDataOut = useCallback(\n    rowData => {\n      rowData.portOut = scopePorts[rowData.template]?.Out || {};\n\n      // Update CallbackOptions and EffectiveMessage = (pkg/msg) of out ioport\n      Object.keys(rowData.portOut).forEach(key => {\n        rowData = formatPortData(rowData, \"portOut\", key);\n      });\n      return rowData;\n    },\n    [scopePorts, formatPortData]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle Add of new config\n   * @param {*} newData\n   * @returns\n   */\n  const handleRowAdd = useCallback(\n    newData => {\n      return new Promise((resolve, reject) => {\n        // Set port in/out\n        newData = setPortDataIn(newData);\n        newData = setPortDataOut(newData);\n        // Call method to set row\n        onIOConfigRowSet(newData, resolve, reject);\n      });\n    },\n    [onIOConfigRowSet, setPortDataIn, setPortDataOut]\n  );\n\n  /**\n   * Handle Update of config\n   * @param {*} newData\n   * @param {*} oldData\n   * @returns\n   */\n  const handleRowUpdate = useCallback(\n    (newData, oldData) => {\n      return new Promise((resolve, reject) => {\n        const templateChanged = newData.template !== oldData.template;\n\n        // Set templated port in\n        if (\n          // template changed\n          templateChanged ||\n          // or there's no previous data in the port IN\n          !newData.portIn?.in\n        ) {\n          newData = setPortDataIn(newData);\n        }\n\n        // Set templated port out\n        if (\n          // template changed\n          templateChanged ||\n          // or there's no previous data in the port OUT\n          !newData.portOut?.out\n        ) {\n          newData = setPortDataOut(newData);\n        }\n        // Call method to set row\n        onIOConfigRowSet(newData, resolve, reject, oldData);\n      });\n    },\n    [onIOConfigRowSet, setPortDataIn, setPortDataOut]\n  );\n\n  /**\n   * Handle Delete of config\n   * @param {*} value\n   * @returns\n   */\n  const handleRowDelete = useCallback(\n    value => {\n      return new Promise(resolve => {\n        onIOConfigRowDelete(value, resolve);\n      });\n    },\n    [onIOConfigRowDelete]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    // Initialize state\n    call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.GET_STORE,\n      scope\n    ).then(store => {\n      // Get All transport / protocol to fill first selector\n      store.helper.getAllTransportProtocol().then(res => {\n        if (res) setScopePorts(res);\n      });\n      // Get All ports data to fill second selector\n      store.helper.getPortsData().then(res => {\n        if (res) setScopeSystemPortsData(res);\n      });\n    });\n  }, [call, scope]);\n\n  useEffect(() => {\n    formatData(ioConfig);\n  }, [ioConfig, formatData]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                            Render Custom Table Components                            *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render custom Toolbar\n   * @param {*} _props\n   * @returns\n   */\n  const renderCustomToolbar = _props => {\n    return (\n      <Typography component=\"div\" className={classes.toolbar}>\n        <Typography component=\"div\" className={classes.toolbarComponents}>\n          <MTableToolbar {..._props} />\n        </Typography>\n      </Typography>\n    );\n  };\n\n  /**\n   * Render custom edit row\n   * @param {*} _props\n   * @returns\n   */\n  const renderCustomEditRow = _props => {\n    updateLockRows();\n    return (\n      <MTableEditRow\n        {..._props}\n        onEditingCanceled={mode => {\n          _props.onEditingCanceled(mode);\n          updateLockRows();\n        }}\n        onEditingApproved={(mode, newData, oldData) => {\n          _props.onEditingApproved(mode, newData, oldData);\n          updateLockRows();\n        }}\n      />\n    );\n  };\n\n  /**\n   * Render Details Panel\n   * @param {*} panelData\n   * @returns\n   */\n  const renderDetailPanel = useCallback(\n    panelData => {\n      return (\n        <IOPorts\n          classNames=\"child-row\"\n          editable={editable}\n          rowData={panelData.rowData}\n          protectedCallbacks={protectedCallbacks}\n          handleIOPortsInputs={handleIOPortsInputs}\n          handleOpenCallback={handleOpenCallback}\n          handleNewCallback={handleNewCallback}\n          handleOpenSelectScopeModal={handleOpenSelectScopeModal}\n        />\n      );\n    },\n    [\n      editable,\n      protectedCallbacks,\n      handleIOPortsInputs,\n      handleOpenCallback,\n      handleNewCallback,\n      handleOpenSelectScopeModal\n    ]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <CollapsibleHeader\n      testId=\"section_io-configuration\"\n      title={t(\"IOConfiguration\")}\n      defaultExpanded={true}\n    >\n      <Typography\n        component=\"div\"\n        className={classes.details}\n        ref={tableContainerRef}\n      >\n        <MaterialTable\n          ref={tableRef}\n          columns={getColumns()}\n          data={ioData}\n          detailPanel={renderDetailPanel}\n          editable={{\n            isEditable: () => editable,\n            isDeletable: () => editable,\n            onRowAdd: editable ? handleRowAdd : null,\n            onRowUpdate: handleRowUpdate,\n            onRowDelete: handleRowDelete\n          }}\n          components={{\n            Toolbar: renderCustomToolbar,\n            EditRow: renderCustomEditRow\n          }}\n        />\n      </Typography>\n    </CollapsibleHeader>\n  );\n};\n\nIOConfig.propTypes = {\n  ioConfig: PropTypes.object.isRequired,\n  onIOConfigRowSet: PropTypes.func.isRequired,\n  onIOConfigRowDelete: PropTypes.func.isRequired,\n  handleIOPortsInputs: PropTypes.func.isRequired,\n  handleOpenSelectScopeModal: PropTypes.func.isRequired,\n  handleOpenCallback: PropTypes.func.isRequired,\n  handleNewCallback: PropTypes.func.isRequired,\n  protectedCallbacks: PropTypes.array,\n  editable: PropTypes.bool\n};\n\nIOConfig.defaultProps = {\n  editable: true,\n  protectedCallbacks: []\n};\n\n//The function returns true when the compared props equal, preventing the component from re-rendering\nfunction arePropsEqual(prevProps, nextProps) {\n  const sameConfig = _isEqual(prevProps.ioConfig, nextProps.ioConfig);\n  const sameProtectedDocs = _isEqual(\n    prevProps.protectedCallbacks,\n    nextProps.protectedCallbacks\n  );\n  return sameConfig && sameProtectedDocs;\n}\n\nexport default memo(IOConfig, arePropsEqual);\n","/**\n * Hook to return helper methods\n * @returns {{getAllCallbacksWithMessage: function, getEffectiveMessage: function}}\n */\nconst useHelper = () => {\n  /**\n   * Get all callback with specific message\n   * @param {object} allCallbacks\n   * @param {string} message\n   * @returns {array} Callbacks with message\n   */\n  const getAllCallbacksWithMessage = (allCallbacks, message) => {\n    const result = [];\n    Object.values(allCallbacks).forEach(cb => {\n      if (cb.Message === message) {\n        result.push(cb.Label);\n      }\n    });\n    return result;\n  };\n\n  /**\n   * Get effective message from port data\n   * @param {object} configRowData : Config row data (table rowData)\n   * @param {string} direction : One of options (\"portIn\" or \"portOut\")\n   * @param {string} portName : Port name\n   * @returns {string} Formatted message\n   */\n  const getEffectiveMessage = (configRowData, direction, portName) => {\n    try {\n      const generalMsg = configRowData.message;\n      const generalPkg = configRowData.msgPackage;\n      const [receivedMsg1, receivedMsg2] =\n        configRowData[direction][portName].Message.split(\"&\");\n      // If there is no \"&\" in the message\n      if (receivedMsg2 === undefined) {\n        return receivedMsg1;\n      } else {\n        return generalPkg + \"/\" + receivedMsg1 + generalMsg + receivedMsg2;\n      }\n    } catch (err) {\n      console.log(\":: ERROR ::\\n In replaceAmpersandWithMessage()\", err);\n      return undefined;\n    }\n  };\n\n  return { getAllCallbacksWithMessage, getEffectiveMessage };\n};\n\nexport default useHelper;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const keyValueHookStyles = makeStyles(_theme => ({\n  logo: {\n    margin: \"2px\",\n    padding: \"0px\"\n  }\n}));\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport InfoLogo from \"@material-ui/icons/Info\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { DATA_TYPES } from \"../../../../../utils/Constants\";\nimport { HtmlTooltip } from \"../../../../_shared/HtmlTooltip/HtmlTooltip\";\n\nimport { keyValueHookStyles } from \"./styles\";\n\nconst useKeyValueMethods = () => {\n  // Hooks\n  const classes = keyValueHookStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Render sub-components                                *\n   *                                                                                      */\n  //========================================================================================\n\n  const renderInfoIcon = rowData => {\n    return (\n      <HtmlTooltip\n        title={\n          <>\n            <Typography color=\"inherit\" component=\"h3\">\n              <b>{rowData.name}</b>\n            </Typography>\n            <p>{rowData.description}</p>\n          </>\n        }\n      >\n        <IconButton className={classes.logo}>\n          <InfoLogo />\n        </IconButton>\n      </HtmlTooltip>\n    );\n  };\n\n  /**\n   * Render of Value column\n   * @param {*} rowData\n   * @returns Row value column\n   */\n  const renderValue = rowData => {\n    if (rowData.type === DATA_TYPES.STRING)\n      return (\n        <span data-testid=\"output_value\">{JSON.stringify(rowData.value)}</span>\n      );\n    return <span data-testid=\"output_value\">{rowData.value}</span>;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Exported methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Get table columns definitions\n   *  Info  : Tooltip with name and description\n   *  Name  : Key name\n   *  Value : Key value\n   * @returns {array} Table columns\n   */\n  const getColumns = () => {\n    return [\n      {\n        title: \"\",\n        field: \"description\",\n        width: \"5%\",\n        cellStyle: { padding: \"10px\", textAlign: \"start\" },\n        sorting: false,\n        render: renderInfoIcon\n      },\n      {\n        title: t(\"Name\"),\n        field: \"name\",\n        width: \"45%\",\n        defaultSort: \"asc\",\n        cellStyle: {\n          textOverflow: \"ellipsis\",\n          whiteSpace: \"nowrap\",\n          overflow: \"hidden\"\n        },\n        render: rowData => <span data-testid=\"output_name\">{rowData.name}</span>\n      },\n      {\n        title: t(\"Value\"),\n        field: \"value\",\n        width: \"45%\",\n        cellStyle: {\n          maxWidth: 200,\n          textOverflow: \"ellipsis\",\n          whiteSpace: \"nowrap\",\n          overflow: \"hidden\"\n        },\n        render: renderValue\n      }\n    ];\n  };\n\n  return { getColumns };\n};\n\nexport default useKeyValueMethods;\n","import React from \"react\";\nimport useDataSubscriber from \"../../../plugins/DocManager/useDataSubscriber\";\nimport DetailsMenu from \"../../_shared/DetailsMenu/DetailsMenu\";\n\nconst Menu = ({ name, model, details: detailsProp }) => {\n  // State hook\n  const { details } = useDataSubscriber({\n    instance: model,\n    propsData: detailsProp\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_node-details-menu\">\n      <DetailsMenu name={name} details={details}></DetailsMenu>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const nodeStyles = makeStyles(_theme => ({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  container: {\n    flexGrow: 1,\n    padding: \"15px\",\n    overflowY: \"auto\"\n  }\n}));\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { Typography } from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Model from \"../model/Node\";\nimport CallbackModel from \"../../Callback/model/Callback\";\nimport { usePluginMethods } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport { withEditorPlugin } from \"../../../engine/ReactPlugin/EditorReactPlugin\";\nimport {\n  DEFAULT_KEY_VALUE_DATA,\n  TABLE_KEYS_NAMES,\n  DIALOG_TITLE,\n  DATA_TYPES,\n  ROS_VALID_NAMES,\n  ROS_VALID_NAMES_VARIATION,\n  PLUGINS,\n  SCOPES,\n  ALERT_SEVERITIES\n} from \"../../../utils/Constants\";\nimport { ERROR_MESSAGES } from \"../../../utils/Messages\";\nimport ParameterEditorDialog from \"../../_shared/KeyValueTable/ParametersEditorDialog\";\nimport KeyValueTable from \"../../_shared/KeyValueTable/KeyValueTable\";\nimport useDataSubscriber from \"../../../plugins/DocManager/useDataSubscriber\";\nimport Description from \"./components/Description/Description\";\nimport ExecutionParameters from \"./components/ExecutionParameters/ExecutionParameters\";\nimport ParametersTable from \"./components/ParametersTable/ParametersTable\";\nimport IOConfig from \"./components/IOConfig/IOConfig\";\nimport useKeyValueMethods from \"./components/hooks/useKeyValueMethods\";\nimport Menu from \"./Menu\";\n\nimport { nodeStyles } from \"./styles\";\n\nconst Node = (props, ref) => {\n  const { id, name, call, alert, instance, editable = true } = props;\n\n  // Hooks\n  const [protectedCallbacks, setProtectedCallbacks] = useState([]);\n  const classes = nodeStyles();\n  const { t } = useTranslation();\n  const { getColumns } = useKeyValueMethods();\n  const { data } = useDataSubscriber({\n    instance,\n    propsData: props.data,\n    keysToDisconsider: Model.KEYS_TO_DISCONSIDER\n  });\n  const defaultColumns = getColumns();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Validation                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @summary: Validate document name against invalid characters. It accept ROS valid names\n   * and can't accept two consecutive underscores.\n   * @param {string} paramName : name of the document\n   * @param {string} type : one of options \"port\" or \"keyValue\"\n   * @param {object} previousData : Previous data row\n   * @returns {object} {result: <boolean>, error: <string>}\n   **/\n  const validateName = useCallback(\n    (paramName, type, previousData) => {\n      const typeName = DIALOG_TITLE[type.toUpperCase()] ?? type;\n      const newName = paramName.name ?? paramName;\n      const re = type === \"ports\" ? ROS_VALID_NAMES : ROS_VALID_NAMES_VARIATION;\n      try {\n        if (!paramName)\n          throw new Error(\n            t(ERROR_MESSAGES.TYPE_NAME_IS_MANDATORY, { typeName })\n          );\n        else if (!re.test(newName)) {\n          throw new Error(t(ERROR_MESSAGES.INVALID_TYPE_NAME, { typeName }));\n        }\n\n        const previousName = previousData?.name ?? previousData;\n        // Validate against repeated names\n        const checkNewName = !previousName && data[type][newName];\n        const checkNameChanged =\n          previousName && previousName !== newName && data[type][newName];\n\n        if (checkNameChanged || checkNewName) {\n          throw new Error(t(ERROR_MESSAGES.MULTIPLE_ENTRIES_WITH_SAME_NAME));\n        }\n      } catch (error) {\n        return { result: false, error: error.message };\n      }\n      return { result: true, error: \"\" };\n    },\n    [data, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Document Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const updateDescription = value => {\n    if (instance.current) instance.current.setDescription(value);\n  };\n\n  const updateExecutionParams = (param, value) => {\n    if (instance.current) instance.current.setExecutionParameter(param, value);\n  };\n\n  const updatePath = value => {\n    if (instance.current) instance.current.setPath(value);\n  };\n\n  const setPort = (value, resolve, reject, previousData) => {\n    try {\n      // Trim name\n      value.name = value.name.trim();\n\n      // Validate port name\n      const validation = validateName(value.name, \"ports\", previousData);\n      if (!validation.result) {\n        throw new Error(validation.error);\n      }\n\n      // Check for transport/package/message\n      if (!value.template)\n        throw new Error(t(ERROR_MESSAGES.NO_TRANSPORT_PROTOCOL_CHOSEN));\n      else if (!value.msgPackage)\n        throw new Error(ERROR_MESSAGES.NO_PACKAGE_CHOSEN);\n      else if (!value.message)\n        throw new Error(ERROR_MESSAGES.NO_MESSAGE_CHOSEN);\n\n      if (instance.current) {\n        if (previousData?.template === value.template) {\n          instance.current.updatePort(previousData.name, value);\n          return resolve();\n        } else instance.current.deletePort(value.id);\n\n        const dataToSave = { [value.name]: value };\n        instance.current.setPort(dataToSave);\n        resolve();\n      }\n    } catch (err) {\n      // Show alert\n      alert({ message: err.message, severity: ALERT_SEVERITIES.ERROR });\n      // Reject promise\n      reject();\n    }\n  };\n\n  const deletePort = (port, resolve) => {\n    if (instance.current) instance.current.deletePort(port.name);\n    resolve();\n  };\n\n  const updatePortCallback = useCallback(\n    (ioConfigId, portName, callback) => {\n      instance.current.setPortCallback(ioConfigId, portName, callback);\n    },\n    [instance]\n  );\n\n  const updateIOPortInputs = (\n    value,\n    ioConfigName,\n    direction,\n    ioPortKey,\n    paramName\n  ) => {\n    instance.current.setPortParameter(\n      ioConfigName,\n      direction,\n      ioPortKey,\n      paramName,\n      value\n    );\n  };\n\n  const updateKeyValue = useCallback(\n    (varName, newData, oldData, isNew) => {\n      try {\n        const keyName = newData.name;\n        const dataToSave = { [keyName]: newData };\n        // Validate port name\n        const validation = validateName(keyName, varName, oldData.name);\n        if (!validation.result) {\n          throw new Error(validation.error);\n        }\n        if (isNew) {\n          // update key value\n          if (instance.current)\n            instance.current.setKeyValue(varName, dataToSave);\n        } else {\n          // add key value\n          if (instance.current)\n            instance.current.updateKeyValueItem(varName, newData, oldData.name);\n        }\n      } catch (err) {\n        if (err.message)\n          alert({ message: err.message, severity: ALERT_SEVERITIES.ERROR });\n      }\n    },\n    [instance, alert, validateName]\n  );\n\n  const deleteKeyValue = (varName, key) => {\n    return new Promise((resolve, reject) => {\n      if (instance.current) instance.current.deleteKeyValue(varName, key);\n      if (instance.current.getKeyValue(varName, key)) reject();\n      else resolve();\n    });\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React callbacks                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  const renderRightMenu = useCallback(() => {\n    const details = props.data?.details ?? {};\n    const menuName = `${id}-detail-menu`;\n    const menuTitle = t(\"NodeDetailsMenuTitle\");\n    // add bookmark\n    call(PLUGINS.RIGHT_DRAWER.NAME, PLUGINS.RIGHT_DRAWER.CALL.SET_BOOKMARK, {\n      [menuName]: {\n        icon: <InfoIcon></InfoIcon>,\n        name: menuName,\n        title: menuTitle,\n        view: (\n          <Menu id={id} name={name} details={details} model={instance}></Menu>\n        )\n      }\n    });\n  }, [call, id, name, props.data, instance, t]);\n\n  usePluginMethods(ref, {\n    renderRightMenu\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Open dialog to edit/add new Parameter\n   * @param {object} objData : data to construct the object\n   * @param {ReactComponent} DialogComponent : Dialog component to render\n   */\n  const handleOpenEditDialog = useCallback(\n    (param, dataId) => {\n      const paramType = t(DIALOG_TITLE[param.toUpperCase()]);\n      const isNew = !dataId;\n      const objData = data[param][dataId] || DEFAULT_KEY_VALUE_DATA;\n      const obj = {\n        ...objData,\n        varName: param,\n        type: objData.type ?? DATA_TYPES.ANY,\n        name: objData.key || dataId,\n        paramType\n      };\n      const args = {\n        onSubmit: formData => {\n          return updateKeyValue(param, formData, obj, isNew);\n        },\n        nameValidation: newData =>\n          Promise.resolve(validateName(newData, param, obj.name)),\n        title: t(\"EditParamType\", { paramType }),\n        data: obj,\n        preventRenderType: param !== TABLE_KEYS_NAMES.PARAMETERS,\n        call\n      };\n\n      call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.CUSTOM_DIALOG,\n        args,\n        ParameterEditorDialog\n      );\n    },\n    [data, validateName, updateKeyValue, call, t]\n  );\n\n  /**\n   * Create new callback, set it in node port and open editor\n   * @param {string} defaultMsg : Callback default message\n   * @param {string} ioConfigName : I/O Config Name\n   * @param {string} portName : Port name\n   */\n  const handleNewCallback = useCallback(\n    (defaultMsg, ioConfigName, portName) => {\n      const scope = CallbackModel.SCOPE;\n      call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.SAVE,\n        {\n          scope,\n          name: \" new_callback \",\n          data: {\n            message: defaultMsg\n          }\n        },\n        res => {\n          if (res.success) {\n            const newTabData = {\n              id: `${res.model.workspace}/${scope}/${res.name}`,\n              name: res.name,\n              scope\n            };\n            call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, newTabData);\n            // Set new callback in Node Port\n            updatePortCallback(ioConfigName, portName, res.name);\n          }\n        }\n      );\n    },\n    [call, updatePortCallback]\n  );\n\n  /**\n   * Open Callback\n   * @param {string} callbackName : Callback name\n   */\n  const handleOpenCallback = useCallback(\n    callbackName => {\n      // If no callback name is passed -> returns\n      if (!callbackName) return;\n      // Open existing callback\n      const scope = CallbackModel.SCOPE;\n      call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.READ, {\n        scope,\n        name: callbackName\n      }).then(doc => {\n        call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n          id: doc.getUrl(),\n          name: doc.getName(),\n          scope\n        });\n      });\n    },\n    [call]\n  );\n\n  /**\n   * Handle Open SelectScopeModal\n   * @param {object} modalData : Props to pass to SelectScopeModal\n   * @param {string} ioConfigName : I/O Config Name\n   * @param {string} portName : Port name\n   */\n  const handleOpenSelectScopeModal = useCallback(\n    (modalData, ioConfigName, portName) => {\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.SELECT_SCOPE_MODAL, {\n        ...modalData,\n        onSubmit: selectedCallback => {\n          const splitURL = selectedCallback.split(\"/\");\n          const callback = splitURL.length > 1 ? splitURL[2] : selectedCallback;\n          // Set new callback in Node Port\n          updatePortCallback(ioConfigName, portName, callback);\n        }\n      });\n    },\n    [call, updatePortCallback]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.GET_STORE,\n      SCOPES.CALLBACK\n    ).then(store => {\n      setProtectedCallbacks(store.protectedDocs);\n    });\n  }, [call]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Render Functions                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Typography\n      data-testid=\"section_node-editor\"\n      component=\"div\"\n      className={classes.container}\n    >\n      <Description\n        onChangeDescription={updateDescription}\n        editable={editable}\n        nodeType={data.type}\n        value={data.description}\n      ></Description>\n      <IOConfig\n        {...props}\n        editable={editable}\n        ioConfig={data.ports}\n        protectedCallbacks={protectedCallbacks}\n        onIOConfigRowSet={setPort}\n        onIOConfigRowDelete={deletePort}\n        handleIOPortsInputs={updateIOPortInputs}\n        handleOpenSelectScopeModal={handleOpenSelectScopeModal}\n        handleOpenCallback={handleOpenCallback}\n        handleNewCallback={handleNewCallback}\n      />\n      <ExecutionParameters\n        path={data.path}\n        remappable={data.remappable}\n        persistent={data.persistent}\n        launch={data.launch}\n        editable={editable}\n        onChangePath={updatePath}\n        onChangeExecutionParams={updateExecutionParams}\n      />\n      <ParametersTable\n        editable={editable}\n        data={data.parameters}\n        defaultColumns={defaultColumns}\n        openEditDialog={handleOpenEditDialog}\n        onRowDelete={deleteKeyValue}\n      ></ParametersTable>\n      <KeyValueTable\n        testId=\"section_env-vars\"\n        title={t(\"EnvironmentVariables\")}\n        editable={editable}\n        data={data.envVars}\n        columns={defaultColumns}\n        openEditDialog={handleOpenEditDialog}\n        onRowDelete={deleteKeyValue}\n        varName=\"envVars\"\n      ></KeyValueTable>\n      <KeyValueTable\n        testId=\"section_command-line\"\n        title={t(\"CommandLine\")}\n        editable={editable}\n        data={data.commands}\n        columns={defaultColumns}\n        openEditDialog={handleOpenEditDialog}\n        onRowDelete={deleteKeyValue}\n        varName=\"commands\"\n      ></KeyValueTable>\n    </Typography>\n  );\n};\n\nNode.scope = \"Node\";\n\nNode.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  call: PropTypes.func.isRequired,\n  data: PropTypes.object,\n  instance: PropTypes.object,\n  editable: PropTypes.bool\n};\n\nexport default withEditorPlugin(Node);\nexport { Node as NodeComponent };\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../../../../models/Model\";\nimport schema from \"./schema\";\n\nclass ExposedPorts extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    // Extend Model properties (name, details, ...)\n    this.ports = [];\n\n    // Define observable properties\n    this.observables = Object.values(ExposedPorts.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the ports property\n   * @returns {array}\n   */\n  getPorts() {\n    return this.ports;\n  }\n\n  /**\n   * Sets the ports property\n   * @param {array} value : The new value\n   * @returns {ExposedPorts}\n   */\n  setPorts(value) {\n    this.ports = value;\n    return this;\n  }\n\n  /**\n   * Adds a new exposed port\n   * @param {any} value : The port value\n   * @returns {ExposedPorts}\n   */\n  addPort(value) {\n    this.ports = [...this.ports, value];\n    return this.ports;\n  }\n\n  /**\n   * Removes a new exposed port\n   * @param {any} value : The port value\n   * @returns {ExposedPorts}\n   */\n  removePort(value) {\n    this.ports = this.ports.filter(v => v !== value);\n    return this.ports;\n  }\n\n  /**\n   * Toggle the exposed port\n   * @param {any} value\n   * @returns {ExposedPorts}\n   */\n  togglePort(value) {\n    return this.ports.includes(value)\n      ? this.removePort(value)\n      : this.addPort(value);\n  }\n\n  /**\n   * Returns the number of ports exposed\n   * @returns {number}\n   */\n  count() {\n    return this.ports.length;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      ports: this.getPorts()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, ports } = this.serialize();\n\n    return {\n      [name]: ports\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const content = Object.values(json ?? {})[0];\n    const name = Object.keys(content ?? {})[0];\n    const ports = Object.values(content ?? {})[0];\n\n    return { name, ports };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    PORTS: \"ports\"\n  };\n}\n\nexport default ExposedPorts;\n","import ExposedPorts from \"./ExposedPorts\";\nimport Manager from \"../../../../../models/Manager\";\nimport EVENTS from \"../../../../../models/Manager/events\";\n\n/**\n * Class to manage the exposed ports of the node instances in a Flow\n */\nclass ExposedPortsManager extends Manager {\n  // Map objects:\n  // { <node template name>:\n  //      { <node instance name>: <ExposedPorts> }\n  // }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Creates a new item\n   * Emits the CREATE event\n   * @param {object} param0 : An object with the name of the item and the content\n   * @returns : The instance\n   */\n  setItem({ name, content }) {\n    this.data.set(name, content);\n\n    this.emit(EVENTS.CREATE);\n\n    return this;\n  }\n\n  /**\n   * Deletes an item\n   * @param {string} key The name of the item\n   * @returns : True on success, false otherwise\n   */\n  deleteItem(name) {\n    Object.values(this.getItem(name) ?? {}).forEach(val => {\n      val.destroy();\n    });\n\n    const res = this.data.delete(name);\n\n    this.emit(EVENTS.DELETE);\n\n    return res;\n  }\n\n  /**\n   * Creates one or more items\n   * @param {object} json : An object with the items to create\n   * @returns : The instance\n   */\n  setData(json) {\n    // clean up any items added previously\n    this.destroy();\n\n    Object.entries(json ?? {}).forEach(([nodeTemplate, nodeInstances]) => {\n      Object.entries(nodeInstances ?? {}).forEach(([nodeInstanceName, obj]) => {\n        const ports = obj.ports ?? [];\n\n        ports.forEach(port =>\n          this.toggleExposedPort(nodeTemplate, nodeInstanceName, port)\n        );\n      });\n    });\n  }\n\n  /**\n   * Returns an item from the exposed ports\n   * @param {string} nodeTemplate : The name of the template to get\n   * @returns : Returns an item or undefined\n   */\n  getExposedPortsByTemplate(nodeTemplate) {\n    return this.data.get(nodeTemplate);\n  }\n\n  /**\n   * Add a new node instance with empty exposed ports\n   * @param {object} nodeInstances : Object with the node instances\n   * @param {string} nodeInstance : The name of the node instance\n   * @returns : Returns the exposed port created\n   */\n  addNodeInstance(nodeInstances, nodeInstance) {\n    const obj = new ExposedPorts();\n    obj.setData({ name: nodeInstance });\n    nodeInstances[nodeInstance] = obj;\n\n    return obj;\n  }\n\n  /**\n   * Creates a new item with the template name\n   * @param {string} nodeTemplate : The name of the template\n   * @returns : Returns the created item\n   */\n  addTemplate(nodeTemplate) {\n    this.data.set(nodeTemplate, {});\n    this.emit(EVENTS.CREATE);\n\n    return this.getItem(nodeTemplate);\n  }\n\n  /**\n   * @private\n   * Removes templates and node instances without exposed ports\n   */\n  removeEmpties() {\n    for (const exposed of this.data) {\n      const [template, value] = exposed;\n      const newValues = {};\n      Object.entries(value).forEach(([nodeInstanceName, exposedPorts]) => {\n        // node instance has exposed ports\n        // exposedPorts: (ExposedPorts objects)\n        if (exposedPorts.count() > 0) {\n          newValues[nodeInstanceName] = exposedPorts;\n        }\n      });\n\n      if (Object.keys(newValues).length === 0) {\n        // remove the template because it does not have\n        // any node instances neitheir exposed ports\n        this.deleteItem(template);\n      }\n    }\n  }\n\n  /**\n   * @private\n   * Get or create a node instance\n   * @param {object} nodeInstances An object with the node instances\n   * @param {string} nodeInstanceName The node instance name\n   * @returns Returns a node instance object\n   */\n  getOrCreateByNodeInstance(nodeInstances, nodeInstanceName) {\n    return (\n      nodeInstances[nodeInstanceName] ||\n      this.addNodeInstance(nodeInstances, nodeInstanceName)\n    );\n  }\n\n  /**\n   * @private\n   * Get or create a template\n   * @param {string} nodeTemplate : The template name\n   * @returns Returns a template\n   */\n  getOrCreateByTemplate(nodeTemplate) {\n    return (\n      this.getExposedPortsByTemplate(nodeTemplate) ||\n      this.addTemplate(nodeTemplate)\n    );\n  }\n\n  /**\n   * Toggle the exposed port of a node instance\n   * @param {string} nodeTemplate : The template name\n   * @param {string} nodeInstanceName The node instance name\n   * @param {string} port The port name\n   */\n  toggleExposedPort(nodeTemplate, nodeInstanceName, port) {\n    const obj = this.getOrCreateByNodeInstance(\n      this.getOrCreateByTemplate(nodeTemplate),\n      nodeInstanceName\n    );\n\n    obj.togglePort(port);\n\n    this.removeEmpties();\n\n    this.emit(EVENTS.UPDATE);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns all items serialized\n   * @returns {object} : An object with all items serialized\n   */\n  serialize() {\n    const output = {};\n\n    for (const key of this.data.keys()) {\n      const item = this.getItem(key);\n\n      const nodeInstances = {};\n\n      Object.entries(item).forEach(([_key, _obj]) => {\n        nodeInstances[_key] = _obj.serialize();\n      });\n\n      output[key] = nodeInstances;\n    }\n\n    return output;\n  }\n\n  /**\n   * Returns all items serialized for database insertion\n   * @returns {object} : An object with all items serialized\n   */\n  serializeToDB() {\n    const output = {};\n\n    for (const exposedPorts of this.data) {\n      const [templateName, value] = exposedPorts;\n\n      Object.values(value).forEach(nodeInstanceObj => {\n        output[templateName] = {\n          ...output[templateName],\n          ...nodeInstanceObj.serializeToDB()\n        };\n      });\n    }\n\n    return output;\n  }\n\n  /**\n   * Returns an object serialized for the model insertion\n   * @param {object} json : An object with all the items serialized from db\n   * @returns {object} : An object with all items serialized\n   */\n\n  static serializeOfDB(json, model) {\n    const output = {};\n\n    Object.entries(json ?? {}).forEach(([nodeTemplate, nodeInstances]) => {\n      Object.entries(nodeInstances).forEach(([nodeInstance, ports]) => {\n        const content = {\n          [nodeTemplate]: { [nodeInstance]: ports }\n        };\n\n        output[nodeTemplate] = {\n          ...(output[nodeTemplate] ?? {}),\n          [nodeInstance]: model.serializeOfDB(content)\n        };\n      });\n    });\n\n    return output;\n  }\n\n  destroy() {\n    Array.from(this.data.values()).forEach(value => {\n      Object.values(value ?? {}).forEach(ports => ports.destroy());\n    });\n    this.data.clear();\n  }\n}\n\nexport default ExposedPortsManager;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../Model\";\nimport schema from \"./schema\";\n\nclass IdBased extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.id = \"\";\n\n    // Define observable properties\n    this.observables = Object.values(IdBased.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the id property\n   * @returns {string}\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * Sets the id property\n   * @param {string} value : The new value\n   * @returns {IdBased}\n   */\n  setId(value) {\n    this.id = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      id: this.getId(),\n      name: this.getName()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name } = this.serialize();\n\n    return {\n      name\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const id = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const { name } = content;\n\n    return { id, name };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\"\n  };\n}\n\nexport default IdBased;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import IdBasedModel from \"../../../../../models/subModels/IdBasedModel/IdBased\";\nimport schema from \"./schema\";\n\nclass Group extends IdBasedModel {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.id = \"\";\n    this.enabled = true;\n\n    // Define observable properties\n    this.observables = Object.values(Group.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the enabled property\n   * @returns {boolean}\n   */\n  getEnabled() {\n    return this.enabled;\n  }\n\n  /**\n   * Sets the enabled property\n   * @param {boolean} value : The new value\n   * @returns {Group}\n   */\n  setEnabled(value) {\n    this.enabled = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      id: this.getId(),\n      name: this.getName(),\n      enabled: this.getEnabled()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, enabled } = this.serialize();\n\n    return {\n      name,\n      on: enabled\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const id = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const { name, on: enabled } = content;\n\n    return { id, name, enabled };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    ENABLED: \"enabled\"\n  };\n}\n\nexport default Group;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../../../../models/Model\";\nimport schema from \"./schema\";\n\nconst SEPARATOR = {\n  SUBFLOW: \"__\",\n  NODE: \"/\"\n};\n\nclass Link extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.from = \"\";\n    this.to = \"\";\n    this.dependency = 0;\n\n    // Define observable properties\n    this.observables = Object.values(Link.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  getFrom() {\n    return this.from;\n  }\n\n  setFrom(value) {\n    this.from = value;\n    return this;\n  }\n\n  getTo() {\n    return this.to;\n  }\n\n  setTo(value) {\n    this.to = value;\n    return this;\n  }\n\n  getDependency() {\n    return this.dependency;\n  }\n\n  setDependency(value) {\n    this.dependency = value;\n    return this;\n  }\n\n  getNodes() {\n    return [this.getFrom(), this.getTo()].map(value => {\n      return value.split(SEPARATOR.NODE)[0].split(SEPARATOR.SUBFLOW)[0];\n    });\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  serialize() {\n    return {\n      id: this.getId(),\n      from: this.getFrom(),\n      to: this.getTo(),\n      dependency: this.getDependency()\n    };\n  }\n\n  serializeToDB() {\n    const { from, to, dependency } = this.serialize();\n\n    return {\n      From: from,\n      To: to,\n      Dependency: dependency\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  static serializeOfDB(json) {\n    const id = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n    const { From: from, To: to, Dependency: dependency } = content;\n\n    return { id, from, to, dependency };\n  }\n\n  static OBSERVABLE_KEYS = {\n    ID: \"id\",\n    FROM: \"from\",\n    TO: \"to\",\n    DEPENDENCY: \"dependency\"\n  };\n}\n\nexport default Link;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import Model from \"../../../../../models/Model\";\nimport schema from \"./schema\";\n\nclass Position extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.x = 0;\n    this.y = 0;\n\n    // Define observable properties\n    this.observables = Object.values(Position.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the x property\n   * @returns {number}\n   */\n  getX() {\n    return this.x;\n  }\n\n  /**\n   * Sets the x property\n   * @param {number} value : The new value\n   * @returns {Position}\n   */\n  setX(value) {\n    this.x = value;\n    return this;\n  }\n\n  /**\n   * Returns the y property\n   * @returns {number}\n   */\n  getY() {\n    return this.y;\n  }\n\n  /**\n   * Sets the y property\n   * @param {number} value : The new value\n   * @returns {Position}\n   */\n  setY(value) {\n    this.y = value;\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      x: this.getX(),\n      y: this.getY()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { x, y } = this.serialize();\n\n    return {\n      x: { Value: x },\n      y: { Value: y }\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(data) {\n    if (Array.isArray(data)) {\n      const position = data ?? [0, 0];\n\n      return { x: position[0], y: position[1] };\n    } else {\n      const output = {};\n\n      Object.entries(data ?? {}).forEach(([name, content]) => {\n        output[name] = content.Value ?? 0;\n      });\n\n      return output;\n    }\n  }\n\n  static OBSERVABLE_KEYS = {\n    X: \"x\",\n    Y: \"y\"\n  };\n}\n\nexport default Position;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { Command, EnvVar, Parameter } from \"../../../../../models/subModels\";\nimport { Model, Manager } from \"../../../../../models\";\nimport Position from \"../Position/Position\";\nimport schema from \"./schema\";\n\nclass NodeInstance extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                        Events                                        *\n     *                                                                                      */\n    //========================================================================================\n\n    this.propEvents = {\n      onAny: (event, name, value) => this.propsUpdate(event, name, value)\n    };\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.template = \"\";\n    this.persistent = false;\n    this.launch = true;\n    this.remappable = true;\n    this.groups = [];\n    this.position = new Position();\n    this.parameters = new Manager(\"parameters\", Parameter, this.propEvents);\n    this.envVars = new Manager(\"envVars\", EnvVar, this.propEvents);\n    this.commands = new Manager(\"commands\", Command, this.propEvents);\n\n    // Define observable properties\n    this.observables = Object.values(NodeInstance.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the template property\n   * @returns {string}\n   */\n  getTemplate() {\n    return this.template;\n  }\n\n  /**\n   * Sets the template property\n   * @param {string} value : The new value\n   * @returns {NodeInstance}\n   */\n  setTemplate(value) {\n    this.template = value;\n    return this;\n  }\n\n  /**\n   * Returns the persistent property\n   * @returns {boolena}\n   */\n  getPersistent() {\n    return this.persistent;\n  }\n\n  /**\n   * Sets the persistent property\n   * @param {boolean} value : The new value\n   * @returns {NodeInstance}\n   */\n  setPersistent(value) {\n    this.persistent = value;\n    return this;\n  }\n\n  /**\n   * Returns the launch property\n   * @returns {boolean}\n   */\n  getLaunch() {\n    return this.launch;\n  }\n\n  /**\n   * Sets the launch property\n   * @param {boolean} value : The new value\n   * @returns {NodeInstance}\n   */\n  setLaunch(value) {\n    this.launch = value;\n    return this;\n  }\n\n  /**\n   * Returns the remappable property\n   * @returns {string}\n   */\n  getRemappable() {\n    return this.remappable;\n  }\n\n  /**\n   * Sets the remappable property\n   * @param {boolean} value : The new value\n   * @returns {NodeInstance}\n   */\n  setRemappable(value) {\n    this.remappable = value;\n    return this;\n  }\n\n  /**\n   * Returns the groups property\n   * @returns {array}\n   */\n  getGroups() {\n    return this.groups;\n  }\n\n  /**\n   * Sets the new value of the groups\n   * @param {array} value : The groups\n   * @returns {NodeInstance} : The instance\n   */\n  setGroups(value) {\n    this.groups = value;\n    return this;\n  }\n\n  /**\n   * Adds a new id to the groups\n   * @param {string} groupId : The groupId\n   * @returns {NodeInstance} : The instance\n   */\n  addGroup(groupId) {\n    this.groups.push(groupId);\n    return this;\n  }\n\n  /**\n   * Remove Group by groupId\n   * @param {string} groupId : The groupId\n   * @returns {NodeInstance} : The instance\n   */\n  removeGroup(groupId) {\n    const indexOfGroupId = this.groups.indexOf(groupId);\n    if (indexOfGroupId >= 0) this.groups.splice(indexOfGroupId, 1);\n    return this;\n  }\n\n  /**\n   * Returns the node's position object\n   * @returns {Position}\n   */\n  getPosition() {\n    return this.position;\n  }\n\n  /**\n   * Sets the node's position\n   * @param {number} x : Coordinate x\n   * @param {number} y : Coordinate y\n   * @returns\n   */\n  setPosition(x, y) {\n    this.position.setData({ x, y });\n\n    this.dispatch(\n      NodeInstance.OBSERVABLE_KEYS.POSITION,\n      this.getPosition().serialize()\n    );\n\n    return this;\n  }\n\n  /**\n   * Updates an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} propName : The name of the property\n   * @param {*} content : The data to update the item\n   * @returns {Node} : The instance\n   */\n  updateKeyValueItem(propName, content) {\n    const name = content.name;\n    this[propName]?.updateItem({ name, content });\n\n    return this;\n  }\n\n  /**\n   * Updates an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} propName : The name of the property\n   * @param {boolean} value : The value to update the prop\n   * @returns {Node} : The instance\n   */\n  updateKeyValueProp(propName, value) {\n    this[propName] = value;\n\n    return this;\n  }\n\n  /**\n   * Deletes an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {Node} : The instance\n   */\n  deleteKeyValue(varName, key) {\n    this[varName]?.deleteItem(key);\n    return this;\n  }\n\n  /**\n   * Returns an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {any}\n   */\n  getKeyValue(varName, key) {\n    return this[varName]?.getItem(key);\n  }\n\n  /**\n   * Sets an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} content : The content of the item\n   * @returns {Node} : The instance\n   */\n  addKeyValue(varName, content) {\n    const name = content.name;\n    this[varName]?.setItem({ name, content });\n    return this;\n  }\n\n  /**\n   * Returns the parameters manager\n   * @returns {Manager}\n   */\n  getParameters() {\n    return this.parameters;\n  }\n\n  /**\n   * Returns the env. vars manager\n   * @returns {Manager}\n   */\n  getEnvVars() {\n    return this.envVars;\n  }\n\n  /**\n   * Returns the commands mnager\n   * @returns {Manager}\n   */\n  getCommands() {\n    return this.commands;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {NodeInstance} : The instance\n   */\n  setData(json) {\n    const {\n      name,\n      template,\n      persistent,\n      launch,\n      remappable,\n      groups,\n      position,\n      parameters,\n      envVars,\n      commands\n    } = json;\n\n    super.setData({\n      name,\n      template,\n      persistent,\n      launch,\n      remappable,\n      groups\n    });\n\n    this.position.setData(position);\n    this.parameters.setData(parameters);\n    this.envVars.setData(envVars);\n    this.commands.setData(commands);\n\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * Forces the events dispatcher\n   * @param {string} event : The name of the event\n   * @param {string} prop : The of the property updated\n   * @param {any} value : The new value of the property\n   */\n  propsUpdate(_, prop, value) {\n    // force dispatch\n    this.dispatch(prop, value);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      template: this.getTemplate(),\n      persistent: this.getPersistent(),\n      launch: this.getLaunch(),\n      remappable: this.getRemappable(),\n      groups: this.getGroups(),\n      position: this.getPosition().serialize(),\n      parameters: this.getParameters().serialize(),\n      envVars: this.getEnvVars().serialize(),\n      commands: this.getCommands().serialize()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, template, persistent, launch, remappable, groups } =\n      this.serialize();\n\n    return {\n      NodeLabel: name,\n      Template: template,\n      Persistent: persistent,\n      Launch: launch,\n      Remappable: remappable,\n      NodeLayers: groups,\n      Visualization: {\n        ...this.getPosition().serializeToDB()\n      },\n      Parameter: this.getParameters().serializeToDB(),\n      EnvVar: this.getEnvVars().serializeToDB(),\n      CmdLine: this.getCommands().serializeToDB()\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n\n    const {\n      Template: template,\n      Persistent: persistent,\n      Launch: launch,\n      Remappable: remappable,\n      NodeLayers: groups,\n      Visualization: position,\n      Parameter: parameters,\n      EnvVar: envVars,\n      CmdLine: commands\n    } = content;\n\n    return {\n      name,\n      template,\n      persistent,\n      launch,\n      remappable,\n      groups,\n      position: Position.serializeOfDB(position),\n      parameters: Manager.serializeOfDB(parameters, Parameter),\n      envVars: Manager.serializeOfDB(envVars, EnvVar),\n      commands: Manager.serializeOfDB(commands, Command)\n    };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    TEMPLATE: \"template\",\n    PERSISTENT: \"persistent\",\n    REMAPPABLE: \"remappable\",\n    GROUPS: \"groups\",\n    POSITION: \"persistent\"\n  };\n}\n\nexport default NodeInstance;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { Model, Manager } from \"../../../../../models\";\nimport { Parameter } from \"../../../../../models/subModels\";\nimport Position from \"../Position/Position\";\nimport schema from \"./schema\";\n\nclass SubFlow extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                        Events                                        *\n     *                                                                                      */\n    //========================================================================================\n\n    this.propEvents = {\n      onAny: (event, name, value) => this.propsUpdate(event, name, value)\n    };\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.template = \"\";\n    this.position = new Position();\n    this.parameters = new Manager(\"parameters\", Parameter, this.propEvents);\n\n    // Define observable properties\n    this.observables = Object.values(SubFlow.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the template property\n   * @returns {string}\n   */\n  getTemplate() {\n    return this.template;\n  }\n\n  /**\n   * Sets the template property\n   * @param {string} value : The new value\n   * @returns {SubFlow}\n   */\n  setTemplate(value) {\n    this.template = value;\n    return this;\n  }\n\n  /**\n   * Returns the subflow's position object\n   * @returns {Position}\n   */\n  getPosition() {\n    return this.position;\n  }\n\n  /**\n   * Sets the subflow's position\n   * @param {number} x : Coordinate x\n   * @param {number} y : Coordinate y\n   * @returns\n   */\n  setPosition(x, y) {\n    this.position.setData({ x, y });\n    this.dispatch(\n      SubFlow.OBSERVABLE_KEYS.POSITION,\n      this.getPosition().serialize()\n    );\n\n    return this;\n  }\n\n  /**\n   * Returns the parameters manager\n   * @returns {Manager}\n   */\n  getParameters() {\n    return this.parameters;\n  }\n\n  /**\n   * Updates an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} propName : The name of the property\n   * @param {*} content : The data to update the item\n   * @returns {Node} : The instance\n   */\n  updateKeyValueItem(propName, content) {\n    const name = content.name;\n    this[propName]?.updateItem({ name, content });\n\n    return this;\n  }\n\n  /**\n   * Deletes an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {Node} : The instance\n   */\n  deleteKeyValue(varName, key) {\n    this[varName]?.deleteItem(key);\n    return this;\n  }\n\n  /**\n   * Returns an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {any}\n   */\n  getKeyValue(varName, key) {\n    return this[varName]?.getItem(key);\n  }\n\n  /**\n   * Sets an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} content : The content of the item\n   * @returns {Node} : The instance\n   */\n  addKeyValue(varName, content) {\n    const name = content.name;\n    this[varName]?.setItem({ name, content });\n    return this;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {SubFlow} : The instance\n   */\n  setData(json) {\n    const { name, template, position, parameters } = json;\n    super.setData({ name, template });\n\n    this.position.setData(position);\n    this.parameters.setData(parameters);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  propsUpdate(_, prop, value) {\n    // force dispatch\n    this.dispatch(prop, value);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      name: this.getName(),\n      template: this.getTemplate(),\n      position: this.getPosition().serialize(),\n      parameters: this.getParameters().serialize()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, template } = this.serialize();\n\n    return {\n      ContainerLabel: name,\n      ContainerFlow: template,\n      Visualization: this.getPosition().serializeToDB(),\n      Parameter: this.getParameters().serializeToDB()\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns properties serialized from the database format\n   * @param {object} json : The data received from the database\n   * @returns {object}\n   */\n  static serializeOfDB(json) {\n    const name = Object.keys(json)[0];\n    const content = Object.values(json)[0];\n\n    const {\n      ContainerFlow: template,\n      Visualization: position,\n      Parameter: parameters\n    } = content;\n\n    return {\n      name,\n      template,\n      position: Position.serializeOfDB(position),\n      parameters: Manager.serializeOfDB(parameters, Parameter)\n    };\n  }\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    TEMPLATE: \"template\",\n    POSITION: \"position\"\n  };\n}\n\nSubFlow.defaults = {};\n\nexport default SubFlow;\n","import Manager from \"../../Manager\";\n\nclass IdBasedManager extends Manager {\n  serialize() {\n    const output = {};\n\n    for (const key of this.data.keys()) {\n      const obj = this.getItem(key);\n\n      output[obj.getId()] = obj.serialize();\n    }\n\n    return output;\n  }\n\n  serializeToDB() {\n    const output = {};\n\n    for (const key of this.data.keys()) {\n      const obj = this.getItem(key);\n\n      output[obj.getId()] = obj.serializeToDB();\n    }\n\n    return output;\n  }\n}\n\nexport default IdBasedManager;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object({});\n\nexport default schema;\n","import { randomId } from \"../../../utils/Utils\";\nimport { Model, Manager } from \"../../../models\";\nimport { Parameter } from \"../../../models/subModels\"; // from shared subModels\nimport {\n  ExposedPorts,\n  ExposedPortsManager,\n  Group,\n  Link,\n  NodeInstance,\n  SubFlow\n} from \"./subModels\"; // from internal subModels\nimport IdBasedManager from \"../../../models/subModels/IdBasedModel/IdBasedManager\";\nimport schema from \"./schema\";\n\nclass Flow extends Model {\n  constructor() {\n    // inject imported schema and forward constructor arguments\n    super({ schema, ...arguments[0] });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                        Events                                        *\n     *                                                                                      */\n    //========================================================================================\n\n    this.propEvents = {\n      onAny: (event, name, value) => this.propsUpdate(event, name, value)\n    };\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                   Model Properties                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    this.description = \"\";\n    this.exposedPorts = new ExposedPortsManager(\n      \"exposedPorts\",\n      ExposedPorts,\n      this.propEvents\n    );\n    this.groups = new IdBasedManager(\"groups\", Group, this.propEvents);\n    this.links = new Manager(\"links\", Link, this.propEvents);\n    this.nodeInstances = new Manager(\n      \"nodeInstances\",\n      NodeInstance,\n      this.propEvents\n    );\n    this.parameters = new Manager(\"parameters\", Parameter, this.propEvents);\n    this.subFlows = new Manager(\"subFlows\", SubFlow, this.propEvents);\n\n    // Define observable properties\n    this.observables = Object.values(Flow.OBSERVABLE_KEYS);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Data Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the description property\n   * @returns {string}\n   */\n  getDescription() {\n    return this.description;\n  }\n\n  /**\n   * Sets the description property\n   * @param {string} value : The new value\n   * @returns {Flow}\n   */\n  setDescription(value) {\n    this.description = value;\n    return this;\n  }\n\n  /**\n   * Returns the node instances manager\n   * @returns {Manager}\n   */\n  getNodeInstances() {\n    return this.nodeInstances;\n  }\n\n  /**\n   * Returns the node instance item requested\n   * @param {String} nodeId : the id of the item we're getting\n   * @returns {Manager}\n   */\n  getNodeInstanceItem(nodeId) {\n    return this.nodeInstances.getItem(nodeId);\n  }\n\n  /**\n   * Returns the sub-flows manager\n   * @returns {Manager}\n   */\n  getSubFlows() {\n    return this.subFlows;\n  }\n\n  /**\n   * Returns the sub flow item requested\n   * @param {String} flowId : the id of the item we're getting\n   * @returns {Manager}\n   */\n  getSubFlowItem(flowId) {\n    return this.subFlows.getItem(flowId);\n  }\n\n  /**\n   * Returns the exposed ports manager\n   * @returns {Manager}\n   */\n  getExposedPorts() {\n    return this.exposedPorts;\n  }\n\n  /**\n   * Returns the links manager\n   * @returns {Manager}\n   */\n  getLinks() {\n    return this.links;\n  }\n\n  /**\n   * Returns the groups manager\n   * @returns {IdBasedManager}\n   */\n  getGroups() {\n    return this.groups;\n  }\n\n  /**\n   * Returns a group\n   * @param {String} groupId : the id of the group to retrieve\n   * @returns {Group}\n   */\n  getGroup(groupId) {\n    return this.groups.getItem(groupId);\n  }\n\n  /**\n   * Returns the node instances manager\n   * @returns {Manager}\n   */\n  getSearchOptions() {\n    const nodes = Array.from(this.getNodeInstances().data.values());\n    const subFlows = Array.from(this.getSubFlows().data.values());\n    return nodes.concat(subFlows);\n  }\n\n  /**\n   * Adds a new Group\n   * @param {String} groupName : The name of the group to be added\n   * @returns {Flow}\n   */\n  addGroup(groupName) {\n    const groupId = randomId();\n    this.groups.setItem({\n      name: groupId,\n      content: { id: groupId, name: groupName, enabled: true }\n    });\n    return this;\n  }\n\n  /**\n   * Deletes a group\n   * @param {String} groupId : The id of the group to be deleted\n   * @returns {Flow}\n   */\n  deleteGroup(groupId) {\n    this.groups.deleteItem(groupId);\n    return this;\n  }\n\n  /**\n   * Toggles a group visibility\n   * @param {String} groupId : The id of the group to toggle the visibility\n   * @returns {Flow}\n   */\n  toggleGroupVisibility(groupId, enabled) {\n    const thisGroup = this.getGroup(groupId);\n    this.groups.updateItem({\n      name: groupId,\n      content: { ...thisGroup, enabled }\n    });\n    return this;\n  }\n\n  /**\n   * Rename group\n   * @param {String} groupId : The id of the group to edit\n   * @param {Object} content : The content to replace on the group\n   * @returns {Flow}\n   */\n  editGroup(groupId, content = {}) {\n    const thisGroup = this.getGroup(groupId);\n    this.groups.updateItem({\n      name: groupId,\n      content: { ...thisGroup, ...content }\n    });\n    return this;\n  }\n\n  /**\n   * Returns the parameters manager\n   * @returns {Manager}\n   */\n  getParameters() {\n    return this.parameters;\n  }\n\n  /**\n   * Returns the parameter\n   * @param {String} paramId : The id of the parameter to retrieve\n   * @returns {Parameter}\n   */\n  getParameter(paramId) {\n    return this.parameters.getItem(paramId);\n  }\n\n  /**\n   * Adds a new Parameter\n   * @returns {Manager}\n   */\n  addParameter(name, content) {\n    this.parameters.setItem({ name, content });\n    return this;\n  }\n\n  /**\n   * Deletes a parameter\n   * @param {string} paramId : The id of the parameter to be deleted\n   * @returns {Flow}\n   */\n  deleteParameter(paramId) {\n    this.parameters.deleteItem(paramId);\n    return this;\n  }\n\n  /**\n   * Updates an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} propName : The name of the property\n   * @param {object} content : The data to update the item\n   * @param {string} prevName : Previous item name\n   * @returns {Node} : The instance\n   */\n  updateKeyValueItem(propName, content, prevName) {\n    const name = content.name;\n    if (prevName !== name) {\n      this[propName].renameItem({ prevName, name }, true);\n    }\n\n    this[propName].updateItem({ name, content });\n    return this;\n  }\n\n  /**\n   * Deletes an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {Node} : The instance\n   */\n  deleteKeyValue(varName, key) {\n    this[varName].deleteItem(key);\n    return this;\n  }\n\n  /**\n   * Returns an instance of a managed property\n   * Can only be used with managed properties\n   * @param {string} varName : The name of the property\n   * @param {any} key : The name of the item\n   * @returns {any}\n   */\n  getKeyValue(varName, key) {\n    return this[varName].getItem(key);\n  }\n\n  /**\n   * Returns the scope property\n   * @returns {string}\n   */\n  getScope() {\n    return Flow.SCOPE;\n  }\n\n  /**\n   * Returns the extension property\n   * @returns {string}\n   */\n  getFileExtension() {\n    return Flow.EXTENSION;\n  }\n\n  /**\n   * Updates the properties of the instance\n   * @param {object} json : The data to update the instance\n   * @returns {Flow} : The instance\n   */\n  setData(json) {\n    const {\n      description,\n      name,\n      details,\n      nodeInstances,\n      subFlows,\n      exposedPorts,\n      links,\n      groups,\n      parameters\n    } = json;\n\n    super.setData({ description, name, details });\n\n    this.nodeInstances.clear().setData(nodeInstances);\n    this.subFlows.clear().setData(subFlows);\n    this.exposedPorts.clear().setData(exposedPorts);\n    this.links.clear().setData(links);\n    this.groups.clear().setData(groups);\n    this.parameters.clear().setData(parameters);\n\n    return this;\n  }\n\n  addNode(node) {\n    const { name } = node;\n    const content = NodeInstance.serializeOfDB({ [name]: { ...node } });\n    this.getNodeInstances().setItem({ name, content });\n  }\n\n  addSubFlow(node) {\n    const { name } = node;\n    const content = SubFlow.serializeOfDB({ [name]: { ...node } });\n    this.getSubFlows().setItem({ name, content });\n  }\n\n  /**\n   * Deletes a node instance and connected links\n   * @param {string} nodeId : The node instance id\n   * @returns {boolean} : True on success, false otherwise\n   */\n  deleteNode(nodeId) {\n    this.deleteNodeLinks(nodeId);\n    this.deleteNodeExposedPorts(nodeId);\n    return this.getNodeInstances().deleteItem(nodeId);\n  }\n\n  /**\n   * Deletes a sub flow and connected links\n   * @param {string} subFlowId : The sub flow id\n   * @returns {boolean} : True on success, false otherwise\n   */\n  deleteSubFlow(subFlowId) {\n    this.deleteNodeLinks(subFlowId);\n    this.deleteNodeExposedPorts(subFlowId);\n    return this.getSubFlows().deleteItem(subFlowId);\n  }\n\n  /**\n   * Deletes links connected to the node (nodeInst or subFlow)\n   * @param {string} id : The node (nodeInst or subFlow) id\n   * @returns {array} Deleted links array\n   */\n  deleteNodeLinks = id => {\n    const deletedLinks = [];\n\n    // delete all links connected to the node\n    this.getLinks().data.forEach((item, key) => {\n      // check if the link belongs to the node\n      if (item.getNodes().includes(id)) {\n        this.deleteLink(key);\n\n        deletedLinks.push(key);\n      }\n    });\n\n    return deletedLinks;\n  };\n\n  /**\n   * Delete Exposed Ports of NodeInst or Container\n   * @param {string} id : The node (nodeInst or subFlow) id\n   */\n  deleteNodeExposedPorts = id => {\n    this.getExposedPorts().data.forEach((_, key) => {\n      if (id === key) {\n        this.deleteExposedPorts(key);\n      }\n    });\n  };\n\n  /**\n   * Add a new link\n   * @param {array} link : Link with format [<from>, <to>]\n   */\n  addLink(link) {\n    const [from, to] = link;\n    const id = randomId();\n\n    this.getLinks().setItem({ name: id, content: { from, to } });\n\n    const links = this.getLinks().serializeToDB();\n\n    return { id, ...links[id] };\n  }\n\n  /**\n   * Delete Link\n   * @param {string} id : Link ID\n   */\n  deleteLink(id) {\n    this.getLinks().deleteItem(id);\n  }\n\n  /**\n   * Delete Exposed Port\n   * @param {string} id : ExposedPort ID\n   */\n  deleteExposedPorts(id) {\n    this.getExposedPorts().deleteItem(id);\n  }\n\n  /**\n   * Set link dependency level\n   * @param {string} linkId : Link ID\n   * @param {number} dependecyLevel : Dependency level\n   */\n  setLinkDependency(linkId, dependecyLevel) {\n    this.getLinks().getItem(linkId).setDependency(dependecyLevel);\n  }\n\n  /**\n   *\n   * @param {*} linkId\n   * @returns\n   */\n  getLinkDependency(linkId) {\n    return this.getLinks().getItem(linkId).getDependency();\n  }\n\n  toggleExposedPort(templateName, nodeName, portName) {\n    this.getExposedPorts().toggleExposedPort(templateName, nodeName, portName);\n    return this.getExposedPorts().serializeToDB();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  propsUpdate(_, prop, value) {\n    // force dispatch\n    this.dispatch(prop, value);\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Serializers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns the instance properties serialized\n   * @returns {object}\n   */\n  serialize() {\n    return {\n      ...super.serialize(),\n      description: this.getDescription(),\n      nodeInstances: this.getNodeInstances().serialize(),\n      subFlows: this.getSubFlows().serialize(),\n      exposedPorts: this.getExposedPorts().serialize(),\n      links: this.getLinks().serialize(),\n      groups: this.getGroups().serialize(),\n      parameters: this.getParameters().serialize()\n    };\n  }\n\n  /**\n   * Returns the instance properties serialized to\n   * the database format\n   * @returns {object}\n   */\n  serializeToDB() {\n    const { name, description, details } = this.serialize();\n\n    // TODO method is just a temporary fix. https://movai.atlassian.net/browse/BP-465\n    const getValueToSave = manager => {\n      return manager.hasItems() ? manager.serializeToDB() : undefined;\n    };\n\n    return {\n      Label: name,\n      Description: description,\n      LastUpdate: details,\n      NodeInst: this.getNodeInstances().serializeToDB(),\n      Container: this.getSubFlows().serializeToDB(),\n      ExposedPorts: getValueToSave(this.getExposedPorts()),\n      Links: getValueToSave(this.getLinks()),\n      Layers: getValueToSave(this.getGroups()),\n      Parameter: this.getParameters().serializeToDB()\n    };\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Static                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Serialize database data to model properties\n   * @param {object} json : The data received from the database\n   * @returns {object} Model properties\n   */\n  static serializeOfDB(json) {\n    const {\n      Label: id,\n      Label: name,\n      LastUpdate: details,\n      workspace,\n      version,\n      Description: description,\n      NodeInst: nodeInstances,\n      Container: subFlows,\n      ExposedPorts: exposedPorts,\n      Links: links,\n      Layers: groups,\n      Parameter: parameters\n    } = json;\n\n    return {\n      id,\n      name,\n      details,\n      workspace,\n      version,\n      description,\n      nodeInstances: Manager.serializeOfDB(nodeInstances, NodeInstance),\n      subFlows: Manager.serializeOfDB(subFlows, SubFlow),\n      exposedPorts: ExposedPortsManager.serializeOfDB(\n        exposedPorts,\n        ExposedPorts\n      ),\n      links: Manager.serializeOfDB(links, Link),\n      groups: Manager.serializeOfDB(groups, Group),\n      parameters: Manager.serializeOfDB(parameters, Parameter)\n    };\n  }\n\n  static SCOPE = \"Flow\";\n  static CLASSNAME = \"flow-interface\";\n\n  static EXTENSION = \".flo\";\n\n  static KEYS_TO_DISCONSIDER = [\n    \"subFlows\",\n    \"exposedPorts\",\n    \"links\",\n    \"nodeInstances\"\n  ];\n\n  static OBSERVABLE_KEYS = {\n    NAME: \"name\",\n    DETAILS: \"details\",\n    DESCRIPTION: \"description\"\n  };\n}\n\nFlow.defaults = {};\n\nexport default Flow;\n","import { Rest } from \"@mov-ai/mov-fe-lib-core\";\n\nconst data = {};\nconst Helper = {};\nconst CB_NAME = \"backend.FlowTopBar\";\n\n/**\n * Call CallbackEditor callback\n * @param {string} functionName : Method name\n * @returns {Promise}\n */\nconst cloudFunction = async (functionName, args) => {\n  return Rest.cloudFunction({\n    cbName: CB_NAME,\n    func: functionName,\n    args\n  })\n    .then(res => {\n      return res.success ? res.result : null;\n    })\n    .catch(err => console.warn(\"debug err\", err));\n};\n\n/**\n * Get default robot id\n * @returns {Promise<string>} RobotID\n */\nHelper.getDefaultRobot = async () => {\n  if (data.defaultRobot) return Promise.resolve(data.defaultRobot);\n  return cloudFunction(\"getDefaultRobot\", \"\").then(res => {\n    data.defaultRobot = res.robotName;\n    return data.defaultRobot;\n  });\n};\n\n/**\n * Get all callback message types\n * @returns {Promise<Array>} Callback message type available\n */\nHelper.sendToRobot = async ({ action, flowPath, robotId }) => {\n  return cloudFunction(\"sendToRobot\", [action, flowPath, robotId]);\n};\n\nexport default Helper;\n","import { Store, DBSubscriber } from \"../../../store\";\nimport Model from \"../model/Flow\";\nimport Helper from \"./Helper\";\n\nclass FlowStore extends Store {\n  constructor(workspace, observer, docManager) {\n    super({\n      workspace,\n      model: Model,\n      name: Model.SCOPE,\n      title: \"Flows\",\n      plugins: [DBSubscriber],\n      docManager,\n      observer\n    });\n  }\n\n  // Set helper object with cloudFunction\n  helper = Helper;\n\n  loadDoc(name) {\n    this.getPlugin(\"DBSubscriber\").subscribe(name);\n\n    return super.loadDoc(name);\n  }\n\n  static SCOPE = Model.SCOPE;\n}\n\nexport default FlowStore;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"rxjs/operators\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/CompareArrows\");","class Clipboard {\n  constructor() {\n    if (Clipboard.instance) return Clipboard.instance;\n    Clipboard.instance = this;\n    this._data = {};\n  }\n\n  /**\n   * Get clipboard data\n   */\n  get data() {\n    return this._data;\n  }\n\n  /**\n   * Write key data in clipboard\n   * @param {string} key : Key name\n   * @param {*} value : Key Value\n   */\n  write(key, value) {\n    this._data[key] = value;\n  }\n\n  /**\n   * Read clipboard key\n   * @param {string} key\n   * @returns {*} Clipboard key data value\n   */\n  read(key) {\n    return this.data[key];\n  }\n}\n\nconst KEYS = {\n  NODES_TO_COPY: \"NodesToCopy\"\n};\n\nexport default Clipboard;\nexport { KEYS };\n","//immutable class, not managing exceptions\nclass Vec2 {\n  constructor(x, y) {\n    this.vec = [x, y].map(z => (z ? z : 0));\n  }\n\n  get x() {\n    return this.vec[0];\n  }\n\n  get y() {\n    return this.vec[1];\n  }\n\n  toArray() {\n    return this.vec;\n  }\n\n  add(y) {\n    return this.op(y, (a, b) => a + b);\n  }\n\n  sub(y) {\n    return this.op(y, (a, b) => a - b);\n  }\n\n  mul(y) {\n    return this.op(y, (a, b) => a * b);\n  }\n\n  div(y) {\n    return this.op(y, (a, b) => a / b);\n  }\n\n  dot(y) {\n    return this.vec.reduce((acc, v, i) => acc + v * y.vec[i], 0);\n  }\n\n  prod(y) {\n    return new Vec2(this.x * y.x - this.y * y.y, this.x * y.y + this.y * y.x);\n  }\n\n  length() {\n    return Math.sqrt(this.dot(this));\n  }\n\n  normalize() {\n    return this.scale(1 / this.length());\n  }\n\n  dual() {\n    return new Vec2(-this.y, this.x);\n  }\n\n  sym() {\n    return this.scale(-1);\n  }\n\n  conj() {\n    return new Vec2(this.x, -this.y);\n  }\n\n  scale(r) {\n    return this.map(z => z * r);\n  }\n\n  map(lambda) {\n    return Vec2.fromArray(this.vec.map(lambda));\n  }\n\n  /**\n   * Returns a vec2 from the operation function bilambda\n   * @param {*} y\n   * @param {*} biLambda\n   */\n  op(y, biLambda) {\n    return Vec2.fromArray(this.vec.map((v, i) => biLambda(v, y.vec[i])));\n  }\n\n  reduce(fold, initial) {\n    return this.vec.reduce(fold, initial);\n  }\n\n  toObject() {\n    return { x: this.x, y: this.y };\n  }\n\n  toString() {\n    return `{x: ${this.x}, y:${this.y}}`;\n  }\n\n  static fromArray(array) {\n    if (array.length < 2) throw new Error(\"array must have size > 2\");\n    return new Vec2(array[0], array[1]);\n  }\n\n  static of(x, y) {\n    return new Vec2(x, y);\n  }\n\n  static ofBabylon(vector3) {\n    return new Vec2(vector3.x, vector3.y);\n  }\n\n  static ZERO = new Vec2(0, 0);\n  static e1 = new Vec2(1, 0);\n  static e2 = new Vec2(0, 1);\n}\n\nexport default Vec2;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Backdrop\");","const MAX_MOVING_PIXELS = 15000;\nconst CANVAS_LIMITS = [\n  [10, MAX_MOVING_PIXELS - 75],\n  [25, MAX_MOVING_PIXELS - 75]\n];\nconst FLOW_VIEW_MODE = {\n  default: \"default\",\n  treeView: \"treeView\"\n};\n\nconst ROBOT_BLACKLIST = window.SERVER_DATA?.RobotBlackList ?? [];\n\nconst MOVAI_FLOW_TYPES = {\n  NODES: {\n    ROS1_NODELETE: \"ROS1/Nodelet\",\n    ROS1_NODE: \"ROS1/Node\",\n    ROS1_PLUGIN: \"ROS1/Plugin\",\n    ROS1_STATEM: \"ROS1/StateM\",\n    MOVAI_NODE: \"MovAI/Node\",\n    MOVAI_STATE: \"MovAI/State\",\n    MOVAI_SERVER: \"MovAI/Server\",\n    MOVAI_FLOW: \"MovAI/Flow\",\n    ROS2_NODE: \"ROS2/Node\",\n    ROS2_LIFECYCLENODE: \"ROS2/LifecycleNode\"\n  },\n  LINKS: {\n    TRANSITION: \"movai_msgs/Transition\",\n    NODELET: \"movai_msgs/Nodelet\"\n  }\n};\n\nconst NODE_TYPES = {\n  NODE: \"NODE\",\n  CONTAINER: \"CONTAINER\",\n  TREE_NODE: \"TREE_NODE\",\n  TREE_CONTAINER: \"TREE_CONTAINER\"\n};\n\nconst TYPES = {\n  NODE: \"NodeInst\",\n  CONTAINER: \"Container\"\n};\n\nconst generateContainerId = flowId => {\n  return `base-${flowId?.replace(/\\//g, \"-\")}`;\n};\n\nexport {\n  MAX_MOVING_PIXELS,\n  CANVAS_LIMITS,\n  generateContainerId,\n  FLOW_VIEW_MODE,\n  MOVAI_FLOW_TYPES,\n  ROBOT_BLACKLIST,\n  NODE_TYPES,\n  TYPES\n};\n","const EVT_NAMES = {\n  ADD_NODE: \"addNode\",\n  ADD_FLOW: \"addFlow\",\n  ADD_STATE: \"addState\",\n  DEFAULT: \"default\",\n  LOADING: \"loading\",\n  ON_CLICK: \"onClick\",\n  ON_CANVAS_CTX_MENU: \"onCanvasCtxMenu\",\n  ON_CHG_MOUSE_OVER: \"onChangeMouseOver\",\n  ON_LINK_CTX_MENU: \"onLinkCtxMenu\",\n  ON_LINK_ERROR_MOUSE_OVER: \"onLinkErrorMouseOver\",\n  ON_MOUSE_OUT: \"onMouseOut\",\n  ON_MOUSE_OVER: \"onMouseOver\",\n  ON_NODE_CTX_MENU: \"onNodeCtxMenu\",\n  ON_PORT_CTX_MENU: \"onPortCtxMenu\",\n  ON_PORT_MOUSE_OVER: \"onPortMouseOver\",\n  ON_TOGGLE_WARNINGS: \"onToggleWarnings\",\n  SELECT_NODE: \"selectNode\"\n};\n\nconst EVT_TYPES = {\n  LINK: \"Link\",\n  PORT: \"Port\"\n};\n\nexport { EVT_NAMES, EVT_TYPES };\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"clsx\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/SnackbarContent\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/CheckCircle\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Error\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/colors\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/styles\");","import { amber, green } from \"@material-ui/core/colors\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nconst commonStyles = {\n  display: \"flex\",\n  justifyContent: \"space-between\"\n};\n\nconst headerStyles = {\n  ...commonStyles,\n  marginBottom: \"40px\"\n};\n\nconst linesHolderStyles = {\n  maxHeight: \"35vh\",\n  overflowY: \"auto\",\n  paddingLeft: \"10px\",\n  paddingRight: \"10px\"\n};\n\nconst lineStyles = {\n  ...commonStyles,\n  paddingTop: \"10px\",\n  paddingBottom: \"10px\",\n  borderTop: \"1px dashed #ccc\",\n  borderBottom: \"1px dashed #ccc\",\n  marginBottom: \"10px\",\n  \"& ~ div\": {\n    paddingTop: \"0px\",\n    borderTop: \"0 none\"\n  },\n  \"& > div\": {\n    overflow: \"hidden\",\n    maxWidth: \"230px\",\n    textOverflow: \"ellipsis\",\n    \"& > p\": {\n      margin: \"0px\"\n    }\n  },\n  \"& > div:last-of-type\": {\n    textAlign: \"right\"\n  }\n};\n\nexport const warningsStyles = makeStyles(theme => ({\n  root: {\n    position: \"absolute\",\n    top: \"20px\",\n    right: \"50px\"\n  },\n  snackbar: {\n    margin: \"5px\",\n    minWidth: \"200px\"\n  },\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  clickableSnack: {\n    border: \"2px solid #666\",\n    cursor: \"pointer\",\n    transition: \"border-color .5s\",\n    \"&:hover\": {\n      borderColor: \"#000\"\n    }\n  },\n  icon: {\n    fontSize: \"20px\"\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: \"10px\"\n  },\n  message: {\n    display: \"flex\",\n    whiteSpace: \"pre\",\n    alignItems: \"center\"\n  }\n}));\n\nexport const invalidLinksWarningStyles = makeStyles(_theme => ({\n  invalidLinksHeader: {\n    ...headerStyles\n  },\n  invalidLinksMessageHolder: {\n    ...linesHolderStyles\n  },\n  invalidLinkHolder: {\n    ...lineStyles\n  },\n  fixMessage: {\n    marginTop: \"40px\"\n  }\n}));\n\nexport const invalidParametersWarningStyles = makeStyles(_theme => ({\n  invalidParametersHeader: {\n    ...headerStyles\n  },\n  invalidParametersMessageHolder: {\n    ...linesHolderStyles\n  },\n  postMessage: {\n    marginTop: \"40px\"\n  }\n}));\n\nexport const invalidExposedPortsWarningStyles = makeStyles(_theme => ({\n  root: {\n    \"& p\": {\n      whiteSpace: \"pre-wrap\"\n    }\n  },\n  invalidExposedPortsHeader: {\n    ...headerStyles\n  },\n  invalidExposedPortsMessageHolder: {\n    ...linesHolderStyles\n  },\n  postMessage: {\n    marginTop: \"40px\"\n  }\n}));\n\nexport const parameterLineStyles = makeStyles(_theme => ({\n  invalidParameterHolder: {\n    ...lineStyles\n  },\n  paramsList: {\n    marginTop: \"0px\"\n  },\n  linkButton: {\n    textTransform: \"none\",\n    fontSize: \"16px\"\n  }\n}));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\n\nimport { warningsStyles } from \"./styles\";\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon\n};\n\nconst Warnings = props => {\n  // Props\n  const { warnings = [], isVisible } = props;\n  // Other hooks\n  const classes = warningsStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   *\n   * @returns\n   */\n  const createSnacks = () => {\n    return warnings.map((warning, index) => {\n      const { type, message, onClick } = warning;\n      const Icon = variantIcon[type];\n      const html = warning.html\n        ? warning.html\n        : () => {\n            /* empty */\n          };\n      const handleOnSnackClick = () => {\n        onClick && onClick(warning);\n      };\n      return (\n        <SnackbarContent\n          key={index}\n          className={`${clsx(classes[type])} ${classes.snackbar} ${\n            onClick ? classes.clickableSnack : \"\"\n          }`}\n          onClick={handleOnSnackClick}\n          message={\n            <span className={classes.message}>\n              <Icon className={clsx(classes.icon, classes.iconVariant)} />\n              {message}\n              {html()}\n            </span>\n          }\n        />\n      );\n    });\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <>{isVisible && <div className={classes.root}>{createSnacks()}</div>}</>\n  );\n};\n\nWarnings.propTypes = {\n  warnings: PropTypes.array.isRequired,\n  isVisible: PropTypes.bool\n};\n\nexport default Warnings;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Card\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/CardContent\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ArrowDropDown\");","import { makeStyles } from \"@material-ui/styles\";\n\nexport const dependencyInfoStyles = makeStyles(theme => ({\n  root: {\n    position: \"absolute\",\n    bottom: \"15px\",\n    right: \"15px\",\n    cursor: \"pointer\",\n    border: \"2px solid transparent\",\n    transition: \"border-color .5s\",\n    \"&:hover\": {\n      borderColor: theme.palette.grey[500]\n    },\n    \"& h3\": {\n      marginTop: \"0\",\n      fontSize: \"24px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      transition: \"font-size .5s\"\n    },\n    \"& h3 > svg\": {\n      transition: \"transform .5s\"\n    },\n    \"&.minified\": {\n      maxHeight: \"35px\",\n      maxWidth: \"70px\",\n      borderColor: theme.palette.grey[50],\n      \"&:hover\": {\n        borderColor: \"transparent\"\n      },\n      \"& > div\": {\n        padding: \"5px 10px\"\n      },\n      \"& h3\": {\n        fontSize: \"18px\"\n      },\n      \"& h3 > svg\": {\n        transform: \"rotate(180deg)\"\n      }\n    }\n  },\n  infoContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    \"& > p\": {\n      margin: \"0\"\n    }\n  },\n  colorChip: {\n    width: \"40px\",\n    height: \"4px\"\n  }\n}));\n","import React, { useCallback, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport { LINK_DEPENDENCY } from \"../../../../../utils/Constants\";\n\nimport { dependencyInfoStyles } from \"./styles\";\n\nconst DependencyInfo = () => {\n  const [minified, setMinified] = useState(false);\n\n  // Translation hook\n  const { t } = useTranslation();\n  // Style hook\n  const classes = dependencyInfoStyles();\n\n  const toggleMinify = useCallback(() => {\n    setMinified(prevState => !prevState);\n  }, []);\n\n  return (\n    <Card\n      data-testid=\"section_dependency-info\"\n      className={`${classes.root} ${minified ? \"minified\" : \"\"}`}\n    >\n      <CardContent data-testid=\"input_minify-toggle\" onClick={toggleMinify}>\n        <h3>\n          {minified\n            ? t(\"MinifiedDependencyInfoTitle\")\n            : t(\"DependencyInfoTitle\")}\n          <ArrowDropDownIcon />\n        </h3>\n        {Object.values(LINK_DEPENDENCY).map((dep, i) => {\n          return (\n            <div key={`${dep.LABEL}_${i}`} className={classes.infoContainer}>\n              <p>{t(dep.LABEL)}</p>\n              <div\n                className={classes.colorChip}\n                style={{ backgroundColor: dep.COLOR }}\n              ></div>\n            </div>\n          );\n        })}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default DependencyInfo;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"rxjs\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"d3\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"lodash/omit\");","import * as d3 from \"d3\";\nimport lodash from \"lodash\";\nimport { MOVAI_FLOW_TYPES } from \"../../Constants/constants\";\n\n/**\n * convert Visualization.x.Value, Visualization.y.Value to [x,y]\n * @param {obj}  Visualization object or [x,y]\n * @return {array}  Array with position x,y\n */\nexport function convertVisualization(obj) {\n  if (!obj) return undefined;\n  let output;\n\n  try {\n    const x = lodash.get(obj, \"x.Value\", obj[0]);\n    const y = lodash.get(obj, \"y.Value\", obj[1]);\n    output = [x, y];\n  } catch (error) {\n    console.error(error);\n  }\n\n  return output;\n}\n\nexport function convertTypeCss(template, isMiniature = false) {\n  const clickableAreaClass = !isMiniature ? \" node-inst-click-area\" : \"\";\n  const templateClass = template.Type?.replace(/\\//g, \"-\") || \"unknown\";\n  const css = template.Label === \"start\" ? \"start\" : templateClass;\n\n  return `${css}${clickableAreaClass}`;\n}\n\nexport function portConvertTypeCss(message) {\n  return `port-default port-${message.replace(/\\//g, \"-\")}`.toLowerCase();\n}\n\nexport function getBaseTemplate(type) {\n  const baseTemplate = {\n    start: { id: type },\n    container: { Type: MOVAI_FLOW_TYPES.NODES.MOVAI_FLOW }\n  };\n  return baseTemplate[type];\n}\n\nexport function belongLineBuilder({ x1, y1, x2, y2 }) {\n  return d3\n    .create(\"svg\")\n    .append(\"line\")\n    .style(\"stroke\", \"white\")\n    .style(\"stroke-width\", 1)\n    .attr(\"x1\", x1)\n    .attr(\"y1\", y1)\n    .attr(\"x2\", x2)\n    .attr(\"y2\", y2)\n    .node();\n}\n","//========================================================================================\n/*                                                                                      *\n *                                    Private Methods                                   *\n *                                                                                      */\n//========================================================================================\n\n/**\n * @private Parse document path\n * @param {string} path : Document path\n * @returns {string} Uniform document path\n */\nconst parseDocumentPath = path => {\n  const splittedPath = path.split(\"/\");\n  const version = splittedPath[3] || \"-\";\n  const basePath = splittedPath.slice(0, 3).join(\"/\");\n\n  return [\"__UNVERSIONED__\", \"-\"].includes(version)\n    ? `${basePath}/-`\n    : `${basePath}/${version}`;\n};\n\n\n//========================================================================================\n/*                                                                                      *\n *                                    Public Methods                                    *\n *                                                                                      */\n//========================================================================================\n\n\n/**\n * Flatten object\n * @param {*} obj \n * @param {*} prefix \n * @param {*} separator \n * @returns \n */\nexport function flattenObject(obj, prefix = \"\", separator = \".\") {\n  return Object.keys(obj).reduce((acc, k) => {\n    const pre = prefix.length ? prefix + separator : \"\";\n    if (typeof obj[k] === \"object\")\n      Object.assign(acc, flattenObject(obj[k], pre + k, separator));\n    else acc[pre + k] = obj[k];\n    return acc;\n  }, {});\n}\n\n/**\n * Compare document path\n * @param {string} path1 : Document path 1\n * @param {string} path2 : Document path 2\n * @returns {boolean} True if is the same document path, False otherwise\n */\nexport const compareDocumentPaths = (path1, path2) => {\n  if (path1 === path2) return true;\n  const parsedPath1 = parseDocumentPath(path1);\n  const parsedPath2 = parseDocumentPath(path2);\n\n  return parsedPath1 === parsedPath2;\n};\n","import { convertVisualization } from \"../Utils\";\nimport { MAX_MOVING_PIXELS, TYPES } from \"../../../Constants/constants\";\n\nexport default class BaseNodeStruct {\n  constructor(data) {\n    this.data = {\n      id: data.id,\n      NodeLabel: data.NodeLabel || \"\",\n      CmdLine: data.CmdLine || [],\n      name: data.NodeLabel, // standard way to get NodeLabel, StateLabel, ContainerLabel\n      Parameter: data.Parameter || {},\n      Template: data.Template || \"\",\n      Visualization: convertVisualization(data.Visualization) || [50, 50],\n      NodeLayers: data.NodeLayers || [],\n      Persistent: data.Persistent,\n      Remappable: data.Remappable,\n      Launch: data.Launch,\n      type: TYPES.NODE,\n      model: \"Node\"\n    };\n  }\n\n  // these keys are required in order to maintain the node valid\n  // if any is deleted then the node must be deleted\n  requiredKeys = [\"NodeLabel\", \"Template\", \"Visualization\"];\n  // when any of those keys changes, it doesn't require to reload canvas\n  noReloadRequired = [\n    \"Dummy\",\n    \"Persistent\",\n    \"NodeLayers\",\n    \"Parameter\",\n    \"CmdLine\",\n    \"EnvVar\",\n    \"Visualization\"\n  ];\n\n  _ports = new Map();\n  minSize = { h: 50, w: 50 };\n  padding = { x: 25, y: 3 };\n  portsSpacing = 10;\n  _visible = true;\n\n  get posX() {\n    const x = this.data.Visualization[0];\n    return x <= 1 ? x / (1 / MAX_MOVING_PIXELS) : x;\n  }\n\n  get posY() {\n    const y = this.data.Visualization[1];\n    return y < 1 ? y / (1 / MAX_MOVING_PIXELS) : y;\n  }\n\n  get width() {\n    return this.minSize.w;\n  }\n\n  get height() {\n    return Math.max(this.getHeight(), this.minSize.h);\n  }\n\n  get center() {\n    const { posX, posY, width, height } = this;\n\n    return {\n      xCenter: posX + width / 2,\n      yCenter: posY + height / 2\n    };\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  set visible(value) {\n    this._visible = Boolean(value);\n  }\n\n  /**\n   * @private\n   * Calculate max number of ports between in and out\n   * Returns: {max, in, out}\n   */\n  getNrOfPorts = () => {\n    const output = { In: 0, Out: 0 };\n\n    this._ports.forEach(port => {\n      output[port.type] += 1;\n    });\n\n    return {\n      Max: Math.max(output.In, output.Out),\n      ...output\n    };\n  };\n\n  /**\n   * @private\n   * Calculate node height based on the max nr. of ports per type\n   */\n  getHeight = () => {\n    const { portsSpacing } = this;\n    const minPorts = 5;\n    const minHeight = portsSpacing * minPorts;\n    const height = (this.getNrOfPorts().Max + 1) * portsSpacing;\n\n    return Math.max(minHeight, height);\n  };\n\n  /**\n   * @private\n   * @param {*} type\n   * @returns\n   */\n  getPortsInitialPos = type => {\n    const nrOfPorts = this.getNrOfPorts();\n    const height = this.getHeight();\n    const { width, portsSpacing } = this;\n    const { x, y } = this.padding;\n\n    const initX = {\n      In: x / 2,\n      Out: width + x / 2\n    };\n\n    const initY = height / 2 - ((nrOfPorts[type] - 1) * portsSpacing) / 2 + y;\n\n    return [initX[type], initY];\n  };\n\n  getPortPos = portName => {\n    return this._ports.get(portName)?.position;\n  };\n}\n","// ports that accept links with any other message type\nconst acceptsAny = [\"movai_msgs/Any\"];\n\n/**\n * Check if any of the messages accepts any type\n * @param {string} msgA message type\n * @param {string} msgB message type\n */\nconst checkAny = (msgA, msgB) => {\n  return [msgA, msgB].some(msg => acceptsAny.includes(msg));\n};\n\n/**\n * Validate ports messages\n * Ports must have same message type\n * or at least one of them should accept any\n * @param {string} msgA message type\n * @param {string} msgB message type\n */\nconst validMessage = (msgA, msgB) => {\n  return msgA === msgB || checkAny(msgA, msgB);\n};\n\n/**\n * Validate ports types are different (In and Out)\n * @param {string} typeA port type (In or Out)\n * @param {string} typeB port type (In or Out)\n */\nconst validType = (typeA, typeB) => {\n  return typeA !== typeB;\n};\n\n/**\n * checks if ports are linkeable\n * @param {object} dataA port A data {message, type}\n * @param {object} dataB port B data {message, type}\n */\nconst isLinkeable = (dataA, dataB) => {\n  const rules = [\n    (a, b) => validMessage(a.message, b.message),\n    (a, b) => validType(a.type, b.type)\n  ];\n  return rules.every(fn => fn(dataA, dataB));\n};\n\nexport { isLinkeable };\n","import * as d3 from \"d3\";\n\nimport { portConvertTypeCss } from \"../Utils\";\nimport { isLinkeable } from \"./PortValidator\";\n\n// ports that accept links with any other message type\nconst portsAny = [\"movai_msgs/Any\"];\n\nclass BasePortStruct {\n  constructor(\n    node,\n    {\n      name,\n      type,\n      Callback,\n      Message,\n      Template,\n      Package,\n      Parameter,\n      Exposed,\n      origin\n    }\n  ) {\n    this.node = node;\n    this.data = {\n      name,\n      type,\n      callback: Callback || \"\",\n      message: Message || \"\",\n      template: Template || \"\",\n      package: Package || \"\",\n      parameters: Parameter || {},\n      exposed: Exposed || false,\n      origin: origin || null\n    };\n  }\n\n  requiredKeys = [\"message\", \"template\"];\n  _visible = true;\n\n  get name() {\n    return this.data.name;\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  set visible(value) {\n    this._visible = value;\n  }\n}\n\nclass BasePort extends BasePortStruct {\n  constructor(node, data, events) {\n    super(node, data);\n    this.events = events;\n    this.css = {\n      default: () =>\n        `${portConvertTypeCss(this.data.message)} ${this.cssExposed}`,\n      unlinkeable: () => `port-disabled ${this.cssExposed}`,\n      //mouseover: ()=>`port-over ${this.cssExposed}`,\n      opacity: { default: 1, unlinkeable: 0.5 }\n    };\n\n    this.render().addEvents();\n  }\n\n  object = null;\n  color = \"white\";\n  radius = 10;\n  cx = 0;\n  cy = 0;\n  links = new Map();\n  linking = false;\n\n  destroy = () => {\n    this.object.remove();\n  };\n\n  render() {\n    const css = this.css.default();\n    this.object = d3\n      .create(\"svg:circle\")\n      .attr(\"cx\", this.cx)\n      .attr(\"cy\", this.cy)\n      .attr(\"r\", this.radius)\n      .attr(\"stroke-width\", 0)\n      .attr(\"class\", css);\n\n    return this;\n  }\n\n  addEvents() {\n    this.object.on(\"click\", () => this.eventsOn(this.onClick, false));\n    this.object.on(\"mouseenter\", () => {\n      this.eventsOn(this.onMouseOver);\n    });\n    this.object.on(\"mouseout\", () => {\n      this.eventsOn(this.onMouseOut);\n    });\n    this.object.on(\"contextmenu\", () => this.eventsOn(this.onContext));\n\n    return this;\n  }\n\n  eventsOn = (fn, availableInReadOnly = true) => {\n    d3.event.preventDefault();\n    d3.event.stopPropagation();\n\n    const { visible, readOnly } = this;\n    if (visible && (availableInReadOnly || !readOnly)) fn();\n  };\n\n  onClick = () => {\n    this.callFunction(this.events.onClick, this);\n  };\n\n  onMouseOver = () => {\n    this.callFunction(this.events.onMouseOver, this);\n  };\n\n  onMouseOut = () => {\n    this.callFunction(this.events.onMouseOut, this);\n  };\n\n  onContext = () => {\n    this.callFunction(this.events.onContext, this);\n  };\n\n  get el() {\n    return this.object.node();\n  }\n\n  get type() {\n    return this.data.type;\n  }\n\n  get position() {\n    const { node, data } = this;\n    return {\n      data,\n      nodeSize: { height: node.height, width: node.width },\n      center: node.center,\n      x: node.posX + this.cx,\n      y: node.posY + this.cy\n    };\n  }\n\n  /**\n   * Check if port message accepts links from ports with different message type\n   */\n  get acceptsAny() {\n    return portsAny.includes(this.data.message);\n  }\n\n  get exposed() {\n    return this.data.exposed;\n  }\n\n  get readOnly() {\n    return this.node.canvas.readOnly;\n  }\n\n  set exposed(value) {\n    this.data.exposed = value;\n    this.object.attr(\"class\", this.css.default());\n  }\n\n  get cssExposed() {\n    return this.data.exposed ? \"port-exposed\" : \"\";\n  }\n\n  checkAny = (msgPA, msgPB) => {\n    return [msgPA, msgPB].some(msg => portsAny.includes(msg));\n  };\n\n  setPosition(x = this.cx, y = this.cy, r = this.radius) {\n    this.cx = x;\n    this.cy = y;\n    this.radius = r;\n    this.object.attr(\"cx\", this.cx).attr(\"cy\", this.cy).attr(\"r\", this.radius);\n  }\n\n  setClass = value => {\n    this.object.attr(\"class\", value);\n  };\n\n  /**\n   * while linking set port opacity if message is not equal\n   * @param {string} data port data; undefined sets default opacity\n   */\n  setLinking = data => {\n    const message = data?.message ?? this.data.message;\n    const type = data?.type ?? \"\";\n\n    this.linking = message;\n\n    const css = isLinkeable({ message, type }, this.data)\n      ? this.css.default()\n      : this.css.unlinkeable();\n    this.setClass(css);\n  };\n\n  /**\n   * Check if any of the required keys was deleted\n   * Delete node if true\n   */\n  isValid = () => {\n    return this.requiredKeys.every(key => !!this.data[key]);\n  };\n\n  /**\n   * Call a function\n   * @param  {...any} args : First argument should be a function and the other\n   *  arguments will be passed to it\n   * @returns The output of the called function\n   */\n  callFunction = (...args) => {\n    const [fn, ...otherArgs] = args;\n    if (typeof fn === \"function\") return fn(...otherArgs);\n  };\n\n  static parsePortname = name => {\n    const arr = name.split(\"/\");\n    const [p1, p2] = [arr.slice(0, -1).join(\"/\"), arr.slice(-1).join()];\n    const out1 = [\"in\", \"out\"].includes(p2.toLowerCase()) ? null : p2;\n    return [p1, out1].filter(val => val !== null).join(\"/\");\n  };\n}\n\nexport default BasePort;\n","import * as d3 from \"d3\";\n\nclass BaseNodeHeader {\n  constructor(x, y, text) {\n    this.object = null;\n    this.color = \"white\";\n    this.x = x;\n    this.y = y;\n    this.dx = 0;\n    this.dy = 15;\n    this.text = text;\n    this.unselectable = true;\n\n    this.render();\n  }\n\n  destroy = () => {\n    this.object.remove();\n  };\n\n  /**\n   * @private\n   * @returns\n   */\n  render() {\n    const parsedText = this.parseText();\n\n    this.object = d3\n      .create(\"svg:text\")\n      .attr(\"x\", this.x)\n      .attr(\"y\", this.y - parsedText.length * this.dy)\n      .attr(\"fill\", this.color)\n      .attr(\"stroke-width\", 0)\n      .attr(\"class\", this.unselectable ? \"unselectable\" : \"\")\n      .style(\"font-size\", \"18px\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"dominant-baseline\", \"central\");\n\n    this.object\n      .selectAll(\"tspan\")\n      .data(parsedText)\n      .enter()\n      .append(\"tspan\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"dominant-baseline\", \"central\")\n      .attr(\"class\", \"text\")\n      .attr(\"dx\", this.dx)\n      .attr(\"dy\", this.dy)\n      .attr(\"x\", this.x)\n      .text(function (d) {\n        return d;\n      });\n\n    return this;\n  }\n\n  get el() {\n    return this.object.node();\n  }\n\n  parseText() {\n    let text = [];\n    try {\n      text = this.text.split(\"_\");\n    } catch (error) {\n      console.error(error);\n    }\n    return text;\n  }\n}\n\nexport default BaseNodeHeader;\n","import * as d3 from \"d3\";\n\nclass BaseNodeStatus {\n  constructor(cx, cy, color, radius = 12) {\n    this.object = null;\n    this.cx = cx || 45;\n    this.cy = cy || 12;\n    this.radius = radius;\n    this._status = false;\n    this._loading = false;\n    this._loadingTimeout = null;\n    this.color = color || \"grey\";\n    this.opacity = 0.3;\n\n    this.render();\n  }\n\n  destroy = () => {\n    this.object.remove();\n  };\n\n  /**\n   * @private\n   * @returns\n   */\n  render = () => {\n    this.object = d3\n      .create(\"svg:circle\")\n      .attr(\"id\", \"status\")\n      .attr(\"cx\", this.cx)\n      .attr(\"cy\", this.cy)\n      .attr(\"r\", this.radius)\n      .attr(\"class\", \"node-inst-click-area\")\n      .attr(\"stroke\", this.color)\n      .attr(\"fill\", this.color)\n      .style(\"opacity\", this.opacity);\n\n    return this;\n  };\n\n  /**\n   * @private\n   * @returns\n   */\n  statusAnimation = () => {\n    // add yellow loading status and stop animation\n    if (this._loading) {\n      this.object\n        .style(\"fill\", \"yellow\")\n        .attr(\"stroke\", \"yellow\")\n        .style(\"opacity\", 0.7);\n      return this;\n    }\n    // stop animation\n    if (!this._status) {\n      this.object\n        .style(\"fill\", this.color)\n        .attr(\"stroke\", this.color)\n        .style(\"opacity\", this.opacity);\n      return this;\n    }\n\n    //start animation\n    const animate = () => {\n      // do not continue to animate\n      if (this._status === false || this._loading) {\n        return this.statusAnimation();\n      }\n\n      this.object\n        .transition()\n        .ease(d3.easeLinear)\n        .duration(800)\n        .style(\"fill\", \"#9dfab0\")\n        .style(\"opacity\", 1)\n        .attr(\"stroke\", \"#9dfab0\")\n        .transition()\n        .ease(d3.easeQuad)\n        .duration(800)\n        .style(\"fill\", \"#036b18\")\n        .style(\"opacity\", 1)\n        .attr(\"stroke\", \"#036b18\")\n        .on(\"end\", animate);\n    };\n\n    requestAnimationFrame(animate);\n\n    return this;\n  };\n\n  get el() {\n    return this.object.node();\n  }\n\n  get isReady() {\n    return !this._loading;\n  }\n\n  get status() {\n    return this._status;\n  }\n\n  set status(value) {\n    this._loading = false;\n    this._status = value;\n    this.statusAnimation();\n    clearTimeout(this._loadingTimeout);\n  }\n\n  set statusLoading(val) {\n    this._loading = val;\n    this.statusAnimation();\n    // set timeout to stop loading\n    clearTimeout(this._loadingTimeout);\n    this._loadingTimeout = setTimeout(() => {\n      if (this._loading) {\n        this._loading = false;\n        this.statusAnimation();\n      }\n    }, 5000);\n  }\n}\n\nexport default BaseNodeStatus;\n","import * as d3 from \"d3\";\nimport _omit from \"lodash/omit\";\nimport { convertVisualization, convertTypeCss } from \"../Utils\";\n\nimport { flattenObject } from \"../../../Utils/utils\";\n\nimport BaseNodeStruct from \"./BaseNodeStruct\";\nimport BasePort from \"./BasePort\";\nimport BaseNodeHeader from \"./BaseNodeHeader\";\nimport BaseNodeStatus from \"./BaseNodeStatus\";\nimport { EVT_NAMES } from \"../../../events\";\nimport { TYPES } from \"../../../Constants/constants\";\n\nconst STYLE = {\n  stroke: {\n    width: { default: 0, selected: 3 },\n    color: { default: \"black\", selected: \"white\" }\n  }\n};\n\nconst MINI = {\n  width: 18,\n  height: 18,\n  padding: 5\n};\n\n/**\n * class representing a node\n * BaseNode should not be used directly\n * Extend it and call init in the constructor\n */\nclass BaseNode extends BaseNodeStruct {\n  /**\n   *\n   * @param {object} canvas the canvas where the node will be added\n   * @param {object} node node's data\n   * @param {object} events functions to be called on node's events\n   * @param {object} template the template data\n   */\n  constructor({ canvas, node, events, template }) {\n    super(node);\n    this.canvas = canvas;\n    this.events = events;\n    this._template = template;\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                      Properties                                      *\n     *                                                                                      */\n    //========================================================================================\n\n    this.dbClickTimeout = null;\n    this.object = null;\n    this._drag = { handler: null, debounce: null, delta: { x: 0, y: 0 } };\n    this._header = null;\n    this._selected = false;\n    this._status = false; // true -> running: flase -> stopped\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Getters & Setters                                  *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * el - returns svg element\n   *\n   * @returns {object} svg element\n   */\n  get el() {\n    return this.object.node();\n  }\n\n  /**\n   * Returns the name of the node\n   *\n   * @returns {string} name of the node\n   */\n  get name() {\n    return this.data.NodeLabel;\n  }\n\n  /**\n   * Returns the port size\n   *\n   * @returns {number} port size\n   */\n  get portSize() {\n    return this.minSize.w * 0.07;\n  }\n\n  /**\n   * status - returns the status of the node\n   *\n   * @returns {boolean} true if running, false otherwise\n   */\n  get status() {\n    return this._status.status;\n  }\n\n  get readOnly() {\n    return this.canvas.readOnly;\n  }\n\n  /**\n   * template - returns node template data\n   *\n   * @returns {object} node template data\n   */\n  get template() {\n    return this._template;\n  }\n\n  /**\n   * status - set the status of the node\n   *\n   * @param {boolean} value true if running, false otherwise\n   */\n  set status(value) {\n    this._status.status = value;\n  }\n\n  /**\n   * selected - returns if the node is selected\n   *\n   * @returns {boolean} true if the node is selected, false otherwise\n   */\n  get selected() {\n    return this._selected;\n  }\n\n  /**\n   * selected - set node to selected\n   *\n   * @param {boolean} value true if the node is selected, false otherwise\n   */\n  set selected(value) {\n    this._selected = Boolean(value);\n    this.onSelected();\n  }\n\n  /**\n   * headerPos - get the position of the header\n   *\n   * @returns {object} object with the header position {x: val, y: val}\n   */\n  get headerPos() {\n    return {\n      x: this.width / 2 + this.padding.x / 2,\n      y: -10\n    };\n  }\n\n  /**\n   * Returns the node's template name\n   *\n   * @returns {string} the template name\n   */\n  get templateName() {\n    return this.data.Template;\n  }\n\n  /**\n   * visibility - set the node's visibility\n   *\n   * @param {boolean} visible true if the node is visible, false otherwise\n   */\n  set visibility(visible) {\n    this.visible = Boolean(visible);\n    this.object.attr(\"visibility\", this.visible ? \"visible\" : \"hidden\");\n    this._ports.forEach(port => (port.visible = this.visible));\n  }\n\n  /**\n   * Return visualization to DB format\n   */\n  get visualizationToDB() {\n    return {\n      x: { Value: this.data.Visualization[0] },\n      y: { Value: this.data.Visualization[1] }\n    };\n  }\n\n  /**\n   * Get the node ports\n   * @return {Map} : This node's ports\n   */\n  get ports() {\n    return this._ports;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * initialize the node element\n   */\n  init() {\n    this.addPorts()\n      .renderBody()\n      .renderHeader()\n      .renderStatus()\n      .renderPorts()\n      .addEvents();\n\n    return this;\n  }\n\n  /**\n   * @private\n   * renderBody - render the body of the node\n   */\n  renderBody() {\n    const { stroke } = STYLE;\n    const { padding } = this;\n    const maxPadding = Math.max(padding.x, padding.y);\n\n    // object already exists; probably an update request\n    if (this.object) this.object.remove();\n\n    // create the svg element\n    this.object = d3\n      .create(\"svg\")\n      .attr(\n        \"id\",\n        `${this.canvas.containerId}-${this.data.id || this.data.Template}`\n      )\n      .style(\"overflow\", \"visible\")\n      .attr(\"width\", this.width + maxPadding)\n      .attr(\"height\", this.height + maxPadding)\n      .attr(\"x\", this.posX)\n      .attr(\"y\", this.posY);\n\n    // add a rect to the svg element\n    // this is the body of the node\n    this.object\n      .append(\"svg:rect\")\n      .attr(\"x\", padding.x / 2)\n      .attr(\"y\", padding.y)\n      .attr(\"rx\", 6)\n      .attr(\"ry\", 6)\n      .attr(\"width\", this.width)\n      .attr(\"height\", this.height)\n      .attr(\"class\", convertTypeCss(this._template))\n      .attr(\"filter\", `url(#shadow-${this.canvas.containerId})`)\n      .attr(\"stroke\", stroke.color.default)\n      .attr(\"stroke-width\", stroke.width.default);\n\n    return this;\n  }\n\n  /**\n   * @private\n   * updateSize - update the size of the node (used after a template update)\n   */\n  updateSize = () => {\n    const maxPadding = Math.max(this.padding.x, this.padding.y);\n    this.object\n      .attr(\"width\", this.width + maxPadding)\n      .attr(\"height\", this.height + maxPadding);\n    this.object\n      .select(\"rect\")\n      .attr(\"width\", this.width)\n      .attr(\"height\", this.height);\n    return this;\n  };\n\n  /**\n   * @private\n   * addEvents - add events to the svg element\n   */\n  addEvents = () => {\n    // node event listeners\n    this.object.on(\"click\", () => this.eventsOn(this.onClick));\n    this.object.on(\"mousedown\", () => this.eventsOn(this.onMouseDown));\n    this.object.on(\"mouseenter\", () => this.eventsOn(this.onMouseEnter));\n    this.object.on(\"mouseleave\", () => this.eventsOn(this.onMouseLeave));\n    this.object.on(\"dblclick\", () => this.eventsOn(this.onDblClick));\n\n    this.object.on(\"contextmenu\", () => this.eventsOn(this.onContext));\n\n    this.addDrag();\n\n    return this;\n  };\n\n  /**\n   * @private\n   * @returns\n   */\n  addDrag = () => {\n    if (this.readOnly) return this;\n    // assign drag handler to node object\n    this._drag.handler = d3\n      .drag()\n      .on(\"start\", () => this.eventsOn(this.onDragStart))\n      .on(\"end\", () => this.eventsOn(this.onDragEnd))\n      .on(\"drag\", () => this.eventsOn(this.onDrag));\n    this._drag.handler(this.object);\n    return this;\n  };\n\n  /**\n   * @private\n   * renderHeader - render the node header\n   */\n  renderHeader() {\n    // header already exists; probably an update request;\n    if (this._header) this._header.destroy();\n\n    // create the node header instance\n    this._header = new BaseNodeHeader(\n      this.headerPos.x,\n      this.headerPos.y,\n      this.name\n    );\n\n    // append to the svg element\n    this.object.append(() => {\n      return this._header.el;\n    });\n\n    return this;\n  }\n\n  /**\n   * @private\n   * renderStatus - render the status of the node (circle on the body)\n   */\n  renderStatus = () => {\n    // status already exists; probably an update request;\n    if (this._status) this._status.destroy();\n\n    // create the node status instance\n    this._status = new BaseNodeStatus(\n      this.width / 2 + this.padding.x / 2,\n      this.height / 2 + this.padding.y\n    );\n\n    // append to the svg element\n    this.object.append(() => {\n      return this._status.el;\n    });\n\n    return this;\n  };\n\n  /**\n   * @private\n   * @returns\n   */\n  portEvents() {\n    return {\n      onClick: port => this.onPortClick(port),\n      onMouseOver: port => this.onPortMouseOver(port),\n      onMouseOut: port => {\n        try {\n          const elementMouseIsOver = document.elementFromPoint(\n            d3.event.clientX,\n            d3.event.clientY\n          );\n\n          if (\n            elementMouseIsOver.classList.contains(\"portTooltip\") ||\n            elementMouseIsOver.classList.contains(\"MuiTypography-caption\")\n          )\n            return;\n        } catch (error) {\n          console.debug(error);\n        }\n        this.onPortMouseOut(port);\n      },\n      onContext: port => this.onPortContext(port)\n    };\n  }\n\n  /**\n   * @private\n   * addPorts - add node ports\n   */\n  addPorts(portBuilder) {\n    const builder =\n      portBuilder ??\n      ((pNode, pData, pEvents) => new BasePort(pNode, pData, pEvents));\n\n    // port events\n    const portEvents = this.portEvents();\n\n    // node already has ports; probably an update request\n    if (this._ports.size > 0) {\n      this._ports.forEach(port => {\n        port.destroy();\n      });\n      this._ports.clear();\n    }\n\n    // add ports\n    try {\n      // get ports from the node's template\n      const ports = this._template?.PortsInst ?? {};\n\n      Object.keys(ports).forEach(portInstName => {\n        // check In and Out ports\n        [\"In\", \"Out\"].forEach(type => {\n          // get port data\n          const data = ports[portInstName]?.[type] ?? {};\n\n          Object.keys(data).forEach(portName => {\n            // customize port data for the instance\n            const portData = {\n              name: `${portInstName}/${portName}`,\n              type: type,\n              Template: ports[portInstName]?.Template ?? \"\",\n              ...data[portName]\n            };\n\n            // create port instance\n            const port = builder(this, portData, portEvents);\n\n            // check if the create port is valid\n            if (port.isValid()) {\n              // add port instance\n              const fmtPortName = `${portInstName}/${portName}`;\n              this._ports.set(fmtPortName, port);\n            }\n          });\n        });\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    return this;\n  }\n\n  /**\n   * @private\n   * renderPorts - render ports. should be called after adding the ports\n   */\n  renderPorts() {\n    const radius = this.portSize;\n    const position = {\n      In: this.getPortsInitialPos(\"In\"),\n      Out: this.getPortsInitialPos(\"Out\")\n    };\n\n    this._ports.forEach(port => {\n      // append port to the svg element\n      this.object.append(() => {\n        port.setPosition(...position[port.type], radius);\n        return port.el;\n      });\n\n      // increment ports position\n      position[port.type][1] += this.portsSpacing;\n    });\n\n    return this;\n  }\n\n  /**\n   * Remove all svg elements\n   */\n  destroy = () => {\n    this.object.remove();\n  };\n\n  /**\n   * setPosition - update the node's position\n   *\n   * @param {number} x position in x\n   * @param {number} y position in y\n   */\n  setPosition = (x, y) => {\n    // do not update the position if the value is out of boundaries\n    if (!this.canvas.inBoundaries(x, y)) return;\n\n    // update the svg attributes\n    this.object.attr(\"x\", x).attr(\"y\", y);\n\n    // update the visualization data\n    this.data.Visualization[0] = x;\n    this.data.Visualization[1] = y;\n  };\n\n  /**\n   * setPositionDelta - set position by providing delta x and y\n   *\n   * @param {number} dx delta x\n   * @param {number} dy delta y\n   */\n  setPositionDelta = (dx, dy) => {\n    const x = this.posX + (dx || 0);\n    const y = this.posY + (dy || 0);\n    this.setPosition(x, y);\n  };\n\n  /**\n   * eventsOn - call the function if the node's events are enabled\n   *\n   * @param {function} fn function to call if the node's events are enabled\n   */\n  eventsOn = fn => {\n    if (this.visible) fn();\n  };\n\n  /**\n   * @private\n   * Check if event target element is a node port\n   *\n   * @param {node} target element target of the event to be checked\n   */\n  isPort = target => {\n    const targetElementType = target.nodeName;\n    const targetClasses = target.className.baseVal;\n    return targetElementType === \"circle\" && targetClasses.includes(\"port\");\n  };\n\n  /**\n   * @private\n   * On mouse down event\n   *\n   */\n  onMouseDown = () => {\n    // Exit function if click is on port\n    if (this.isPort(d3.event.target)) return;\n    // Continue otherwise\n    d3.event.stopPropagation();\n\n    // shift key pressed\n    const { shiftKey } = d3.event;\n\n    if (!this.selected && !shiftKey) {\n      this.canvas.setMode(\"default\", { event: \"onMouseDown\" });\n    }\n  };\n\n  /**\n   * @private\n   * On mouse enter node event\n   */\n  onMouseEnter = () => {\n    this.canvas.hoveredNode = this;\n  };\n\n  /**\n   * @private\n   * On mouse leave node event\n   */\n  onMouseLeave = () => {\n    this.canvas.hoveredNode = null;\n  };\n\n  /**\n   * @private\n   * onClick - on click event\n   *\n   */\n  onClick = () => {\n    d3.event.stopPropagation();\n\n    // shift key pressed\n    const { shiftKey } = d3.event;\n    this.handleSelectionChange(shiftKey);\n  };\n\n  /**\n   * @private\n   * Double click event\n   *\n   */\n  onDblClick = () => {\n    d3.event.preventDefault();\n    d3.event.stopPropagation();\n\n    // clear click timeout\n    clearTimeout(this.dbClickTimeout);\n\n    // set mode to double click\n    this.canvas.setMode(\"onDblClick\", { node: this }, true);\n  };\n\n  /**\n   * @private\n   * On context event\n   *\n   */\n  onContext = () => {\n    d3.event.preventDefault();\n    d3.event.stopPropagation();\n\n    // set mode to node context menu\n    this.canvas.setMode(\"nodeCtxMenu\", { node: this, event: d3.event }, true);\n  };\n\n  /**\n   * @private\n   * On start dragging node event\n   *\n   */\n  onDragStart = () => {\n    // change the cursor style\n    this.object.style(\"cursor\", \"move\");\n\n    this._drag.delta.x = this.object.attr(\"x\") - d3.event.x;\n    this._drag.delta.y = this.object.attr(\"y\") - d3.event.y;\n  };\n\n  /**\n   * @private\n   * On stop dragging node event\n   */\n  onDragEnd = () => {\n    // change the cursor style\n    this.object.style(\"cursor\", \"default\");\n\n    if (this.canvas.mode.current.id === \"drag\") {\n      this.canvas.mode.previous.id === \"selectNode\"\n        ? this.canvas.setPreviousMode()\n        : this.canvas.setMode(\"default\");\n    }\n  };\n\n  /**\n   * @private\n   * On drag node event\n   *\n   */\n  onDrag = () => {\n    // this will only set the mode once\n    // done here to filter from click events\n    this.canvas.setMode(\"drag\", this);\n    const { delta } = this._drag;\n\n    // set the node position\n    this.setPosition(d3.event.x + delta.x, d3.event.y + delta.y);\n\n    // trigger the onDrag event\n    if (\"onDrag\" in this.events) this.events.onDrag(this, d3.event);\n\n    const _onDrag = this.canvas.mode.current?.onDrag ?? {\n      next: () => {\n        /* empty method */\n      }\n    };\n\n    _onDrag.next(this);\n  };\n\n  handleSelectionChange(shiftKey) {\n    clearTimeout(this.dbClickTimeout);\n    this.dbClickTimeout = setTimeout(() => {\n      // toggle node selection\n      const selection = !this.selected;\n\n      // shift key not pressed, set mode to default\n      if (!shiftKey) this.canvas.setMode(EVT_NAMES.DEFAULT, null);\n\n      // set the node selection\n      this.selected = selection;\n\n      // node selected mode\n      this.canvas.setMode(\n        EVT_NAMES.SELECT_NODE,\n        { nodes: [this], shiftKey },\n        true\n      );\n    }, 100);\n  }\n\n  /**\n   * @private\n   * On update the node position\n   *\n   */\n  updatePosition(data) {\n    // ignore position update if dragging\n    if (this.canvas.mode.current.id === \"drag\") return;\n\n    // keys x and y are received separatly\n    const updatedPos = { ...this.data.Visualization, ...data.Visualization };\n\n    // convert format\n    const visualizationData = {\n      Visualization: convertVisualization(updatedPos)\n    };\n\n    // set object new position\n    this.data = { ...this.data, ...visualizationData };\n\n    // set svg new posistion\n    this.object.attr(\"x\", this.posX).attr(\"y\", this.posY);\n\n    // execute onDrag callbacks to trigger links render\n    if (\"onDrag\" in this.events)\n      this.events.onDrag(this, { x: this.posX, y: this.posY });\n  }\n\n  /**\n   * @private\n   * updateTemplate\n   */\n  updateTemplate = async () => {\n    this.object.select(\"rect\").attr(\"class\", convertTypeCss(this._template));\n\n    await this.update();\n    this.updateSize();\n\n    return this;\n  };\n\n  /**\n   * @private\n   * Update graphical representation\n   */\n  update = () => {\n    this.addPorts().renderHeader().renderStatus().renderPorts();\n    return Promise.resolve(this);\n  };\n\n  /**\n   *\n   * @param {*} data\n   * @returns\n   */\n  updateNode = data => {\n    const fn = {\n      Visualization: _data => this.updatePosition(_data), // Position changes when dragging or when adding a new node\n      default: _data => {\n        this.data = { ...this.data, ...data };\n        this.updatePosition(_data);\n        this.data.name = this.name;\n      }\n    };\n    Object.keys(data).forEach(key => {\n      (fn[key] || fn[\"default\"])(data);\n      if (!this.noReloadRequired.includes(key)) this.init().addToCanvas();\n    });\n    return true;\n  };\n\n  /**\n   * onPortClick - port click event handler\n   *\n   * @param {object} port port object\n   */\n  onPortClick = port => {\n    const currMode = this.canvas.mode.current;\n\n    // skip event if pressing shift while on selectNode mode\n    if (d3.event.shiftKey && currMode.id === \"selectNode\") return;\n\n    const actions = {\n      // start linking mode if on default mode\n      default: () => {\n        this.canvas.setMode(\"linking\", {\n          src: port,\n          link: null,\n          trg: null,\n          toCreate: false\n        });\n      },\n      selectNode: () => {\n        this.canvas.setMode(\"default\");\n        this.canvas.setMode(\"linking\", {\n          src: port,\n          link: null,\n          trg: null,\n          toCreate: false\n        });\n      },\n      // finish linking\n      linking: () => {\n        const { src } = currMode.props;\n        // validate here to keep linking if it is not valid\n        if (!currMode.props.link.isValid(src, port)) return;\n        currMode.props.trg = port;\n        currMode.props.toCreate = true;\n        this.canvas.setMode(\"default\");\n      }\n    };\n\n    const defaultAction = () => {\n      console.debug(\"Default mode required to start linking\");\n    };\n\n    // call an action\n    const actualAction = actions?.[currMode.id] ?? defaultAction;\n\n    actualAction.call();\n  };\n\n  /**\n   * onPortMouseOver - port onmouseover event handler\n   *\n   * @param {object} port port object\n   */\n  onPortMouseOver = port => {\n    this.canvas.events.next({\n      name: \"onMouseOver\",\n      type: \"Port\",\n      event: d3.event,\n      port\n    });\n  };\n\n  /**\n   * onPortMouseOver - port onmouseout event handler\n   *\n   * @param {object} port port object\n   */\n  onPortMouseOut = port => {\n    this.canvas.events.next({\n      name: \"onMouseOut\",\n      type: \"Port\",\n      event: d3.event,\n      port\n    });\n  };\n\n  onPortContext = port => {\n    this.canvas.setMode(\"portCtxMenu\", { port: port, event: d3.event }, true);\n  };\n\n  /**\n   * onSelected - on node selected event handler\n   */\n  onSelected = () => {\n    const { stroke } = STYLE;\n    this.object\n      .select(\"rect\")\n      .attr(\n        \"stroke\",\n        this.selected ? stroke.color.selected : stroke.color.default\n      )\n      .attr(\n        \"stroke-width\",\n        this.selected ? stroke.width.selected : stroke.width.default\n      );\n  };\n\n  /**\n   * onTemplateUpdate - on template update event handler\n   * templates only change when edited while in redis\n   *\n   * @param {string} data node's template name\n   */\n  onTemplateUpdate = async data => {\n    const isNotInnerTemplate = !(\n      this.data.type === TYPES.CONTAINER && this.template?.NodeInst[data.Label]\n    );\n    if (data.Label !== this.templateName && isNotInnerTemplate) return; // not my template and if I'm a flow and it's not a children node\n\n    isNotInnerTemplate &&\n      (this._template = Object.assign(this._template, data));\n    await this.updateTemplate();\n  };\n\n  /**\n   * onGroupsChange - on groups event handler\n   *\n   * @param {object} groups flow groups\n   */\n  onGroupsChange = groups => {\n    const nodeGroups = this.data.NodeLayers ?? [];\n    const hide =\n      nodeGroups.every(group => {\n        const groupItem = groups.get(group);\n        if (groupItem) {\n          return !groupItem.enabled;\n        }\n        return false;\n      }) && nodeGroups.length > 0;\n    this.visibility = !hide;\n  };\n\n  /**\n   * addToCanvas - append node element to canvas\n   *\n   */\n  addToCanvas() {\n    this.canvas.append(() => {\n      return this.el;\n    });\n  }\n\n  /**\n   * deleteKey - set node data key to null\n   *\n   * @param {object} data node's data\n   */\n  deleteKey = data => {\n    const path = flattenObject(data);\n    Object.keys(path).forEach(pkey => {\n      this.data = _omit(this.data, pkey);\n    });\n    return this.isValid();\n  };\n\n  /**\n   * isValid - Check if any of the required keys was deleted\n   * Delete node if true\n   */\n  isValid = () => {\n    return !this.requiredKeys.some(key => {\n      // null: key was already deleted\n      return this.data[key] === null || !(key in this.data);\n    });\n  };\n\n  /**\n   * linking - enable/disable ports linking state\n   *\n   * @param {object} portData port data object, pass undefined to set port to default state\n   */\n  linking = portData => {\n    this._ports.forEach(port => {\n      port.setLinking(portData);\n    });\n  };\n\n  /**\n   * setExposedPort - toggle exposed port value\n   *\n   * @param {string} portName name of the port\n   * @param {boolean} value true to set to exposed, false otherwise\n   */\n  setExposedPort = (portName, value) => {\n    const port = this._ports.get(portName);\n    if (port) port.exposed = value;\n  };\n\n  /**\n   * Update node parameters\n   * @param {Object} params : new params\n   */\n  setParams = params => {\n    this.data.Parameter = params;\n  };\n\n  /**\n   * getExposedName - returns the node's template name\n   *\n   * @returns {string} node's template name\n   */\n  getExposedName() {\n    return this.templateName;\n  }\n\n  /**\n   * getMiniature - Get svg d3 object with node miniature\n   *\n   * @param {string} templateName: Node/Container template name\n   * @param {string} type: \"node\" or \"flow\" or \"start\"\n   * @param {number} offsetX: Starting point of svg \"x\" attribute\n   */\n  static async getMiniature(template, _type = \"node\", offsetX = 30) {\n    const { width, height, padding } = MINI;\n    // create the svg element\n    const { stroke } = STYLE;\n    const object = d3\n      .create(\"svg\")\n      .style(\"overflow\", \"visible\")\n      .attr(\"width\", width + padding)\n      .attr(\"height\", height)\n      .attr(\"x\", offsetX);\n\n    // add a rect to the svg element\n    // this is the body of the node\n    object\n      .append(\"rect\")\n      .attr(\"rx\", 3)\n      .attr(\"ry\", 3)\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"class\", convertTypeCss(template, true))\n      .attr(\"stroke\", stroke.color.default)\n      .attr(\"stroke-width\", stroke.width.default);\n    // Add status\n    // create the node status instance\n    const status = new BaseNodeStatus(width / 2, height / 2, \"grey\", 5);\n    // append to the svg element\n    object.append(() => {\n      return status.el;\n    });\n    // return node\n    return object;\n  }\n}\n\nexport default BaseNode;\n","import { MOVAI_FLOW_TYPES } from \"../../Constants/constants\";\nimport BaseNode from \"./BaseNode/BaseNode\";\n\nconst START_NAME = \"start\";\n\nclass StartNode extends BaseNode {\n  constructor(args) {\n    const node = {\n      id: START_NAME,\n      NodeLabel: START_NAME,\n      Paramater: {},\n      Template: START_NAME,\n      Visualization: {\n        x: { Value: 20 },\n        y: { Value: 20 }\n      }\n    };\n    const template = {\n      Label: START_NAME,\n      PortsInst: {\n        start: {\n          Out: {\n            start: {\n              Message: MOVAI_FLOW_TYPES.LINKS.TRANSITION\n            }\n          },\n          Template: \"MovAI/TransitionFor\",\n          Package: \"movai_msgs\"\n        }\n      }\n    };\n\n    super({ ...args, node, template });\n\n    // Set start node model\n    this.data.model = START_NAME;\n\n    this.init();\n  }\n\n  init = () => {\n    this.addPorts().renderBody().renderHeader().renderPorts();\n  };\n\n  /**\n   * @override Override onSelected from BaseNode\n   */\n  onSelected = () => {\n    // Emtpy on purpose\n  };\n\n  /**\n   * disable all port events except the onClick\n   */\n  portEvents = () => {\n    return {\n      onClick: port => this.onPortClick(port),\n      onMouseOver: () => {\n        // Empty\n      },\n      onMouseOut: () => {\n        // Empty\n      },\n      onContext: () => {\n        // Empty\n      }\n    };\n  };\n\n  get headerPos() {\n    return {\n      x: this.width / 2 + this.padding.x / 2,\n      y: this.height + 15\n    };\n  }\n\n  static model = START_NAME;\n}\n\nexport default StartNode;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"monet\");","import Vec2 from \"../../Utils/Vec2\";\nimport { Maybe } from \"monet\";\n\n//========================================================================================\n/*                                                                                      *\n *                                    PATH FUNCTIONS                                    *\n *                                                                                      */\n//========================================================================================\n\nexport const relaxPath = (src, trg) => {\n  const n = 15;\n  const shift = Vec2.of(13, 3);\n  const { x0, x1, xSc, xTc, srcSize, trgSize } = getBaseVars(src, trg);\n  const lowerCornerSrc = xSc.sub(srcSize.scale(0.5)).add(shift);\n  const upperCornerSrc = lowerCornerSrc.add(srcSize);\n  const srcBox = box(lowerCornerSrc, upperCornerSrc);\n\n  const lowerCornerTrg = xTc.sub(trgSize.scale(0.5)).add(shift);\n  const upperCornerTrg = lowerCornerTrg.add(trgSize);\n  const trgBox = box(lowerCornerTrg, upperCornerTrg);\n\n  let ans = [...Array(n)].map((_, i) => i).map(i => lerp(x0, x1, i / (n - 1)));\n  let t = 50;\n  let dt = 0.05;\n  while (t > 0) {\n    const pathVel = relaxSpeed(ans, srcBox, trgBox);\n    ans = ans.map((p, i) => p.add(pathVel[i].scale(dt)));\n    t--;\n  }\n  return ans.map(z => z.toObject());\n};\n\nexport const orthoPath = (src, trg) => {\n  const sigma = 0.5;\n  const minDistanceToLine = 50;\n  const { x0, x1, xSc, xTc, srcSize, trgSize, isLink } = getBaseVars(src, trg);\n\n  if (isFeedBack(xSc, xTc, isLink)) return simplePotentialV(src, trg);\n\n  let x01 = handleInOut(x0, srcSize, src);\n  let x11 = handleInOut(x1, trgSize, trg);\n\n  if (x01.sub(x11).length() < minDistanceToLine) return linePath(src, trg);\n  const dx0 = x01.sub(x0);\n  const dx01 = x11.sub(x01);\n  const dot0 = dx0.dot(dx01);\n  const proj0 = dx0.scale(dot0 / dx0.dot(dx0));\n  let ortho0 = dx01.sub(proj0).normalize();\n  const pinSrcV = x0.sub(xSc);\n  const projPin0 = ortho0.dot(pinSrcV);\n  const projPinSrcV = ortho0.scale(projPin0);\n  const halveHSrc = srcSize.y / 2;\n  const ratio0 = projPinSrcV.length() / halveHSrc;\n  ortho0 =\n    projPin0 < 0\n      ? ortho0.scale(2 * halveHSrc * (1 - ratio0) * sigma)\n      : ortho0.scale(halveHSrc * (1 - ratio0));\n  const x02 = x01.add(ortho0);\n\n  const dx1 = x11.sub(x1);\n  const dx11 = x01.sub(x11);\n  const dot1 = dx1.dot(dx11);\n  const proj1 = dx1.scale(dot1 / dx1.dot(dx1));\n  let ortho1 = dx11.sub(proj1).normalize();\n  const pinTrgV = x1.sub(xTc);\n  const projPin1 = ortho1.dot(pinTrgV);\n  const projPinTrgV = ortho1.scale(projPin1);\n  const halveHTrg = trgSize.y / 2;\n  const ratio1 = projPinTrgV.length() / halveHTrg;\n  ortho1 =\n    projPin1 < 0\n      ? ortho1.scale(2 * halveHTrg * (1 - ratio1) * sigma)\n      : ortho1.scale(halveHTrg * (1 - ratio1));\n  const x12 = x11.add(ortho1);\n\n  const ans = [x0, x01];\n  const dx2 = x12.sub(x02);\n  const isEntangled =\n    dx2.dot(ortho0) < 0 && dx2.length() < 4 * minDistanceToLine;\n  if (dot0 < 0 && !isEntangled) ans.push(x02);\n  if (dot1 < 0 && !isEntangled) ans.push(x12);\n  ans.push(x11, x1);\n  return ans.map(z => z.toObject());\n};\n\nexport const linePath = (src, trg) => {\n  const x0 = new Vec2(src.x, src.y);\n  const x1 = new Vec2(trg.x, trg.y);\n  return [x0, x1].map(z => z.toObject());\n};\n\nexport const manhattanPath = (src, trg) => {\n  const { x0, x1, xIn, xOut, srcSize, trgSize } = getBaseVars(src, trg);\n  const dx = x1.sub(x0);\n  const dot = dx.dot(Vec2.e2);\n  const angle = Math.abs(Math.acos(dot / dx.length()));\n  const isLine =\n    angle < (7 * Math.PI) / 8 && angle > Math.PI / 8 && dx.dot(Vec2.e1) > 0;\n  const dir = isLine ? Vec2.ZERO : Vec2.e2.scale(Math.sign(dot));\n  return [\n    x0,\n    xOut,\n    xOut.add(dir.scale(srcSize.y)),\n    xIn.add(dir.scale(-trgSize.y)),\n    xIn,\n    x1\n  ].map(z => z.toObject());\n};\n\nexport const simplePotentialV = (src, trg) => {\n  const tooCloseDistance = 50;\n  const iterator = {\n    getInitialState: ({ xOut }) => ({ x: xOut }),\n    updateState: (state, force, dt) => {\n      state.x = state.x.add(force.scale(dt));\n      return state;\n    },\n    isFinalState: (state, { xIn }) =>\n      state.x.sub(xIn).length() > tooCloseDistance\n  };\n  return potential(src, trg, iterator);\n};\n\nexport const simplePotentialA = (src, trg) => {\n  const tooCloseDistance = 50;\n  const iterator = {\n    getInitialState: ({ xOut }) => ({ x: xOut, v: Vec2.e1 }),\n    updateState: (state, force, dt) => {\n      state.v = state.v.add(force.scale(dt));\n      state.x = state.x.add(state.v.scale(dt));\n      return state;\n    },\n    isFinalState: (state, { xIn }) =>\n      state.x.sub(xIn).length() > tooCloseDistance\n  };\n  return potential(src, trg, iterator);\n};\n\n//========================================================================================\n/*                                                                                      *\n *                                         UTILS                                        *\n *                                                                                      */\n//========================================================================================\n\nconst relaxSpeed = (path, srcBox, trgBox) => {\n  let speed = [...Array(path.length)];\n  const boxForce = (p, _box) => {\n    const dist2Box = _box.sdf(p);\n    const grad = _box.grad(p);\n    return grad.scale(200 / dist2Box);\n  };\n  // assumes path length > 3\n  for (let i = 1; i < path.length - 1; i++) {\n    const f = path[i];\n    const df = path[i + 1].sub(f.scale(2)).add(path[i - 1]);\n    const srcF = boxForce(f, srcBox);\n    const trgF = boxForce(f, trgBox);\n    speed[i] = df.add(srcF).add(trgF);\n  }\n  speed[0] = Vec2.ZERO;\n  speed[path.length - 1] = Vec2.ZERO;\n  return speed;\n};\n\nconst potential = (\n  src,\n  trg,\n  { getInitialState, updateState, isFinalState }\n) => {\n  const maxIte = 200;\n  const q = 1000;\n  const dtBound = bound(0.1, 1);\n  const sidePoints = [];\n  const potentialVars = getBaseVars(src, trg);\n  const { x0, x1, xIn, xOut, xSc, srcSize, trgSize } = potentialVars;\n  const d0 = x => x.sub(xSc).length() - srcSize.x / 3;\n  const d1 = x => x.sub(xIn).length() - trgSize.x / 3;\n\n  const forceSrc = x => x.sub(xSc).scale((5 * q) / (d0(x) * d0(x)));\n  const forceTrg = x => x.sub(xIn).scale((10 * -q) / (d1(x) * d1(x)));\n\n  let n = 0;\n  let dt = 0.1;\n  let oldForce = Vec2.ZERO;\n  let state = getInitialState(potentialVars);\n  sidePoints.push(x0.toObject(), xOut.toObject());\n  while (n++ < maxIte && isFinalState(state, potentialVars)) {\n    const force = forceSrc(state.x).add(forceTrg(state.x));\n    dt = dtBound(1 / force.sub(oldForce).length());\n    oldForce = force;\n    state = updateState(state, force, dt);\n    sidePoints.push(state.x.toObject());\n  }\n  sidePoints.push(xIn.toObject(), x1.toObject());\n  return sidePoints;\n};\n\nconst getBaseVars = (src, trg) => {\n  const src_ = defaultNode(src);\n  const trg_ = defaultNode(trg);\n  const srcSize = new Vec2(src_.nodeSize.width, src_.nodeSize.height);\n  const trgSize = new Vec2(trg_.nodeSize.width, trg_.nodeSize.height);\n\n  const xSc = new Vec2(src_.center.xCenter, src_.center.yCenter);\n  const xTc = new Vec2(trg_.center.xCenter, trg_.center.yCenter);\n\n  const x0 = new Vec2(src_.x, src_.y);\n  const x1 = new Vec2(trg_.x, trg_.y);\n\n  const xIn = x1.sub(new Vec2(trgSize.x / 2, 0));\n  const xOut = x0.add(new Vec2(srcSize.x / 2, 0));\n\n  return { x0, x1, xIn, xOut, xSc, xTc, srcSize, trgSize, isLink: trg_.isLink };\n};\n\nconst bound = (min, max) => x => Math.max(min, Math.min(max, x));\n\n// Assumes node.x && node.y !== null\nconst defaultNode = node => ({\n  ...node,\n  center: Maybe.fromNull(node.center).orSome({\n    xCenter: node.x,\n    yCenter: node.y\n  }),\n  nodeSize: Maybe.fromNull(node.nodeSize).orSome({\n    width: 1,\n    height: 1\n  }),\n  isLink: node.center ? false : true\n});\n\nconst lerp = (x, y, t = 0) => {\n  const dx = y.sub(x);\n  return x.add(dx.scale(t));\n};\n\nconst box = (min, max) => {\n  min = min.op(max, Math.min);\n  max = max.op(min, Math.max);\n  const center = min.add(max).scale(1 / 2);\n  const diagonal = max.sub(min);\n  const width = diagonal.x;\n  const height = diagonal.y;\n  const sdf = x => {\n    let v = x.sub(center);\n    v = v.map(z => Math.abs(z));\n    v = v.sub(Vec2.of(width, height).scale(0.5));\n    v = v.map(z => Math.max(z, 0));\n    return v.length();\n  };\n  const grad = (x, epsilon = 1e-2) => {\n    const f = sdf(x);\n    const xh = x.add(Vec2.e1.scale(epsilon));\n    const yh = x.add(Vec2.e2.scale(epsilon));\n    return Vec2.of(sdf(xh), sdf(yh))\n      .sub(Vec2.of(f, f))\n      .scale(1 / epsilon);\n  };\n  return {\n    min,\n    max,\n    center,\n    diagonal,\n    width,\n    height,\n    sdf,\n    grad\n  };\n};\n\nconst handleInOut = (x, size, node) => {\n  let y = x;\n  if (node.data.type === \"In\") {\n    y = x.sub(new Vec2(size.x / 2, 0));\n  } else if (node.data.type === \"Out\") {\n    y = x.add(new Vec2(size.x / 2, 0));\n  }\n  return y;\n};\n\nconst isFeedBack = (xSc, xTc, isLink) => {\n  const length = xTc.sub(xSc).length();\n  return !isLink && length < 50;\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/defineEnumerableProperties\");","import {\n  LINK_DEPENDENCY,\n  MOVAI_FLOW_TYPES\n} from \"../../../../../utils/Constants\";\n\nconst ONLY_FROM = `dependency_${LINK_DEPENDENCY.ONLY_FROM.VALUE}`;\nconst ONLY_TO = `dependency_${LINK_DEPENDENCY.ONLY_TO.VALUE}`;\nconst NO_DEPENDENCIES = `dependency_${LINK_DEPENDENCY.NO_DEPENDENCIES.VALUE}`;\n\nexport const baseLinkStyles = {\n  _default: {\n    stroke: {\n      default: \"white\",\n      warning: \"#ffc107\",\n      overWidth: 5,\n      width: 3\n    }\n  },\n  get [MOVAI_FLOW_TYPES.LINKS.TRANSITION]() {\n    return { stroke: { ...this._default.stroke, default: \"#a74165\" } };\n  },\n  get [MOVAI_FLOW_TYPES.LINKS.NODELET]() {\n    return { ...this._default };\n  },\n  get [ONLY_FROM]() {\n    return { color: LINK_DEPENDENCY.ONLY_FROM.COLOR };\n  },\n  get [ONLY_TO]() {\n    return { color: LINK_DEPENDENCY.ONLY_TO.COLOR };\n  },\n  get [NO_DEPENDENCIES]() {\n    return { color: LINK_DEPENDENCY.NO_DEPENDENCIES.COLOR };\n  }\n};\n","import * as d3 from \"d3\";\nimport {\n  LINK_DEPENDENCY,\n  MOVAI_FLOW_TYPES\n} from \"../../../../../utils/Constants\";\nimport { defaultFunction } from \"../../../../../utils/Utils\";\nimport { isLinkeable } from \"../Nodes/BaseNode/PortValidator\";\nimport { generatePathPoints } from \"./generatePathPoints\";\n\nimport { baseLinkStyles } from \"./styles\";\n\nconst SEPARATOR = {\n  SUBFLOW: \"__\",\n  NODE: \"/\"\n};\n\nclass BaseLinkStruct {\n  constructor(\n    canvas,\n    src,\n    trg,\n    {\n      id,\n      sourceNode,\n      sourcePort,\n      targetNode,\n      targetPort,\n      dependency,\n      error,\n      sourceFullPath,\n      targetFullPath\n    }\n  ) {\n    this.canvas = canvas;\n    this.src = src; // {x, y, nodeSize {height, width}, type}\n    this.trg = trg; // {x, y, nodeSize {height, width}, type}\n    this.error = error; // null or { message, fixError() }\n    this.maxMovingPixels = canvas.maxMovingPixels;\n    this.data = {\n      id,\n      sourceNode,\n      sourcePort,\n      targetNode,\n      targetPort,\n      sourceFullPath,\n      targetFullPath,\n      Dependency: dependency\n    };\n    this._visible = true;\n    this._selected = false;\n  }\n\n  get id() {\n    return this.data.id;\n  }\n\n  get visible() {\n    return this._visible;\n  }\n\n  set visible(value) {\n    this._visible = value;\n  }\n\n  get transparent() {\n    return this._transparent;\n  }\n\n  set transparent(value) {\n    this._transparent = value;\n    this._transparent === true\n      ? setTimeout(() => this.styleTransparent(), 300)\n      : this.styleTransparent();\n  }\n\n  /**\n   * @private\n   */\n  calculatePath = method => {\n    this.pathPoints = generatePathPoints(this.src, this.trg, method);\n    return this;\n  };\n\n  /**\n   * @private\n   * @param {*} pathPoints\n   * @returns\n   */\n  calculateLine = pathPoints => {\n    return d3\n      .line()\n      .curve(d3.curveBasis)\n      .x(function (d2) {\n        return d2.x;\n      })\n      .y(function (d2) {\n        return d2.y;\n      })(pathPoints);\n  };\n}\n\nexport default class BaseLink extends BaseLinkStruct {\n  constructor(\n    canvas,\n    src,\n    trg,\n    data,\n    flowDebugging = false,\n    onLinkErrorMouseOver = () => defaultFunction(\"onLinkErrorMouseOver\")\n  ) {\n    super(canvas, src, trg, data);\n    this.object = null;\n    this.flowDebugging = flowDebugging;\n    this.temporaryDependency = data.Dependency;\n    this.onLinkErrorMouseOver = onLinkErrorMouseOver;\n\n    this.initialize();\n  }\n\n  /**\n   * @private\n   */\n  initialize = () => {\n    this.calculatePath().renderPath().addEvents();\n  };\n\n  destroy = () => {\n    this.object.remove();\n  };\n\n  /**\n   * @private\n   * @returns {BaseLink}\n   */\n  renderPath = () => {\n    const { pathPoints } = this;\n    this.object = d3\n      .create(\"svg\")\n      .attr(\"id\", `path-${this.canvas.containerId}-${this.data.id}`)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", this.maxMovingPixels)\n      .attr(\"height\", this.maxMovingPixels);\n\n    this.object\n      .append(\"svg:defs\")\n      .append(\"filter\")\n      .attr(\"id\", `link-shadow-${this.canvas.containerId}-${this.data.id}`)\n      .append(\"feDropShadow\")\n      .attr(\"dx\", \"1\")\n      .attr(\"dy\", \"1\")\n      .attr(\"stdDeviation\", \"1\");\n\n    this.object\n      .append(\"path\")\n      .attr(\"class\", \"nodeLink\")\n      .attr(\"d\", () => {\n        return this.calculateLine(pathPoints);\n      })\n      .attr(\"stroke\", this.getStrokeColor())\n      .attr(\"stroke-width\", this.style.stroke.width)\n      .attr(\"pointer-events\", \"visibleStroke\")\n      .attr(\"fill-opacity\", \"0\");\n\n    return this;\n  };\n\n  /**\n   * @private\n   * @returns {BaseLink}\n   */\n  addEvents = () => {\n    this.path\n      .on(\"mouseover\", () => this.eventsOn(this.onMouseOver))\n      .on(\"mouseout\", () => this.eventsOn(this.onMouseOut))\n      .on(\"click\", () => this.eventsOn(this.onClick))\n      .on(\"contextmenu\", () => this.eventsOn(this.onContextMenu));\n    return this;\n  };\n\n  /**\n   * @private\n   * @returns {BaseLink}\n   */\n  refreshPath = () => {\n    const { pathPoints } = this;\n    this.object.select(\"path.nodeLink\").attr(\"d\", () => {\n      return this.calculateLine(pathPoints);\n    });\n    return this;\n  };\n\n  /**\n   * @private\n   * @param {*} fn\n   * @param {*} availableInReadOnly\n   */\n  eventsOn = (fn, availableInReadOnly = true) => {\n    d3.event.preventDefault();\n    d3.event.stopPropagation();\n\n    const { visible, readOnly } = this;\n    if (visible && (availableInReadOnly || !readOnly)) fn();\n  };\n\n  /**\n   * @private\n   * Fade out other links (keeping only this link active)\n   */\n  fadeOtherLinks = () => {\n    this.canvas.events.next({ name: \"onMouseOver\", type: \"Link\", data: this });\n  };\n\n  /**\n   * @private\n   * Remove fade from other links (let all links active)\n   */\n  removeLinksFade = () => {\n    this.canvas.events.next({ name: \"onMouseOut\", type: \"Link\", data: this });\n  };\n\n  /**\n   * @private\n   */\n  styleMouseOver = () => {\n    this.changeStrokeColor()\n      .path.attr(\"stroke-width\", this.style.stroke.overWidth)\n      .attr(\"marker-mid\", `url(#${this.canvas.containerId}-markerselected)`);\n  };\n\n  /**\n   * @private\n   */\n  styleMouseOut = () => {\n    this.changeStrokeColor()\n      .path.attr(\"stroke-width\", this.style.stroke.width)\n      .attr(\"marker-mid\", null);\n  };\n\n  /**\n   * @private\n   * Style to fade link out\n   */\n  styleTransparent() {\n    const opacity = this.transparent ? 0.2 : 1;\n    this.path.attr(\"opacity\", opacity);\n  }\n\n  /**\n   * @private\n   */\n  onMouseOver = () => {\n    if (this.canvas.mode.current.id === \"default\") {\n      this.styleMouseOver();\n    }\n    // Fade out other links\n    if (!this.canvas.selectedLink && !this.canvas.mode.linking.activelyLinking)\n      this.fadeOtherLinks();\n    // show error tooltip (if any)\n    if (this.error) {\n      const message = this.error.message;\n      const position = { x: d3.event.offsetX, y: d3.event.offsetY };\n      this.onLinkErrorMouseOver(\n        {\n          link: { ...this.data, message, position },\n          mouseover: true\n        },\n        \"Link\"\n      );\n    }\n  };\n\n  /**\n   * @private\n   */\n  onMouseOut = () => {\n    if (!this._isSelected) {\n      this.styleMouseOut();\n    }\n    // Remove fade out from other links\n    if (!this.canvas.selectedLink && !this.canvas.mode.linking.activelyLinking)\n      this.removeLinksFade();\n    // hide tooltip\n    if (this.error)\n      this.onLinkErrorMouseOver({ link: this.data, mouseover: false }, \"Link\");\n  };\n\n  /**\n   * @private\n   * @returns\n   */\n  onClick = () => {\n    if (d3.event.shiftKey) return;\n\n    this.canvas.events.next({ name: \"onClick\", type: \"Link\", data: this });\n    this.onSelected(!this._isSelected);\n  };\n\n  /**\n   * @private\n   */\n  onContextMenu = () => {\n    this.canvas.setMode(\n      \"linkCtxMenu\",\n      {\n        event: d3.event,\n        linkId: this.data.id, //this.data has the linkId\n        ...this.data,\n        linkType: this.src.data?.message ?? \"_default\"\n      },\n      true\n    );\n  };\n\n  get el() {\n    return this.object.node();\n  }\n\n  get path() {\n    return this.object.select(\"path\");\n  }\n\n  get style() {\n    const type = this.src.data?.message;\n    return baseLinkStyles[type] ?? baseLinkStyles._default;\n  }\n\n  get readOnly() {\n    return this.canvas.readOnly;\n  }\n\n  /**\n   * Set link visibility\n   * @param {boolean} visible\n   */\n  set visibility(visible) {\n    this.visible = Boolean(visible);\n    this.object.attr(\"visibility\", this.visible ? \"visible\" : \"hidden\");\n  }\n\n  setTemporaryDependency(dependecy) {\n    this.temporaryDependency = dependecy;\n    return this;\n  }\n\n  getStrokeColor() {\n    const type = `dependency_${\n      this.temporaryDependency ?? this.data.Dependency\n    }`;\n    const strokeColor = this.style.stroke.default;\n\n    if (this.flowDebugging && baseLinkStyles[type])\n      return baseLinkStyles[type].color;\n\n    return strokeColor;\n  }\n\n  onSelected = selected => {\n    this._isSelected = selected;\n    if (selected) this.styleMouseOver();\n    else {\n      this.styleMouseOut();\n      this.removeLinksFade();\n    }\n  };\n\n  update = (src, trg) => {\n    this.src = src || this.src;\n    this.trg = trg || this.trg;\n    this.calculatePath().refreshPath();\n  };\n\n  updateData = data => {\n    this.data = { ...this.data, ...data };\n  };\n\n  updateError = error => {\n    this.error = error;\n    this.styleMouseOut();\n  };\n\n  changeStrokeColor = () => {\n    this.path.attr(\n      \"stroke\",\n      this.error ? this.style.stroke.warning : this.getStrokeColor()\n    );\n    return this;\n  };\n\n  /**\n   * validate if src and trg are valid instance to create a link\n   * @param {object} src - port instance\n   * @param {object} trg - port instance\n   */\n  isValid = (src, trg, links) => {\n    return isLinkeable(src.data, trg.data) && !this.linkExists(src, trg, links);\n  };\n\n  portsAny = (src, trg) => {\n    return [src, trg].some(port => port.acceptsAny);\n  };\n\n  /**\n   * Given 2 ports, returns the source and the target\n   * @param {obj} portA port instance\n   * @param {obj} portB port instance\n   *\n   * @returns {array} [<src port instance>, <trg port instance>]\n   */\n  getSrcTrg = (portA, portB) => {\n    return [\"Out\", \"In\"].map(type => {\n      return [portA, portB].find(port => port.type === type);\n    });\n  };\n\n  /**\n   * Check if a link between the same ports already exists\n   * @param {obj} portA port instance a\n   * @param {obj} portB port instance b\n   * @param {Map} links  {linkId, <link instance>}\n   *\n   * @returns {bool} link exists\n   */\n  linkExists = (portA, portB, links) => {\n    if (!links) return false;\n    const [src, trg] = this.getSrcTrg(portA, portB);\n    const _links = links.values();\n\n    let nextLink = _links.next();\n    while (!nextLink.done) {\n      const link = nextLink.value.data;\n\n      const fromCond = [\n        `${link.sourceNode}/${link.sourcePort}`,\n        `${src.node.data.id}/${src.data.name}`\n      ];\n      const toCond = [\n        `${link.targetNode}/${link.targetPort}`,\n        `${trg.node.data.id}/${trg.data.name}`\n      ];\n\n      if ([fromCond, toCond].every(cond => cond[0] === cond[1])) {\n        return true;\n      }\n\n      nextLink = _links.next();\n    }\n\n    return false;\n  };\n\n  /**\n   * Given 2 ports, constructs the object to save the link\n   * @param {obj} portA port instance a\n   * @param {obj} portB port instance b\n   */\n  toSave(portA, portB) {\n    // find which port is the source and the target\n    const values = this.getSrcTrg(portA, portB);\n\n    return values.map(item => {\n      const node = item.node.data.id;\n      const type = item.node._template?.Type ?? \"\";\n      const port = item.data.name;\n      const separator =\n        type === MOVAI_FLOW_TYPES.NODES.MOVAI_FLOW\n          ? SEPARATOR.SUBFLOW\n          : SEPARATOR.NODE;\n\n      return [node, port].join(separator);\n    });\n  }\n\n  static parseLink(linksData) {\n    const {\n      id,\n      From,\n      To,\n      Dependency = LINK_DEPENDENCY.ALL_DEPENDENCIES.VALUE\n    } = linksData;\n    const [sourceNode, sourcePort, sourceFullPath] = BaseLink.getNodePort(From);\n    const [targetNode, targetPort, targetFullPath] = BaseLink.getNodePort(To);\n\n    return {\n      id,\n      sourceNode,\n      sourcePort,\n      sourceFullPath,\n      targetNode,\n      targetPort,\n      targetFullPath,\n      dependency: Dependency\n    };\n  }\n\n  /**\n   * get the node and port from a part of the link (From or To)\n   * @param {string} link From or To\n   *\n   * @returns {array} [node, port]\n   */\n  static getNodePort = plink => {\n    // source and target nodes can have the following format\n    // nodes : <node name>\n    // flows : <container1>__<nodeInContainer> or <Container2>__<Container1>__<nodeNameInContainer1>\n\n    const [_node, ...rPort] = plink.split(SEPARATOR.NODE);\n    const nodes = _node.split(SEPARATOR.SUBFLOW);\n    const [node, ...lPort] = nodes;\n\n    const subFlow = values => {\n      return values.length\n        ? values.join(SEPARATOR.SUBFLOW).concat(SEPARATOR.NODE)\n        : \"\";\n    };\n\n    const fnPort = (x, y) => subFlow(x).concat(y.join(SEPARATOR.NODE));\n\n    // [node, port]\n    return [node, fnPort(lPort, rPort), nodes];\n  };\n}\n","import { orthoPath } from \"./Paths\";\n\nexport const generatePathPoints = (src, trg, method = orthoPath) => {\n  try {\n    return method(src, trg);\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/esm/wrapNativeSuper\");","export class InvalidLink extends Error {\n  constructor(link) {\n    const message = `Link ${link.id} is invalid`;\n    super(message);\n    this.link = link;\n  }\n}\n\nexport class MisMatchMessageLink extends Error {\n  constructor(link, dataPort, fixError) {\n    const sourceMessage = dataPort.source.data.message;\n    const targetMessage = dataPort.target.data.message;\n    const message = `Link has mismatch:\\n${sourceMessage} => ${targetMessage}`;\n    super(message);\n    this.link = link;\n    this.fixError = fixError;\n  }\n}\n","import BaseNode from \"./BaseNode/BaseNode\";\n\nclass ClassicNode extends BaseNode {\n  constructor(args) {\n    super({ ...args });\n\n    this.init();\n  }\n}\n\nexport default ClassicNode;\n","import BaseNode from \"./BaseNode\";\nimport { convertVisualization } from \"../Utils\";\nimport { TYPES } from \"../../../Constants/constants\";\n\n/**\n * BaseContainerNode: Class containing all base properties and methods\n *  used for ContainerNode and TreeContainerNode\n */\nclass BaseContainerNode extends BaseNode {\n  constructor({ canvas, node, events, template }) {\n    super({\n      canvas,\n      node,\n      events,\n      template\n    });\n    // container node's data\n    this.data = {\n      id: node.id,\n      ContainerLabel: node.ContainerLabel || \"\",\n      ContainerFlow: node.ContainerFlow || \"\",\n      name: node.ContainerLabel, // standard way to get NodeLabel, StateLabel, ContainerLabel\n      Visualization: convertVisualization(node.Visualization) || [50, 50],\n      Parameter: node.Parameter || {},\n      type: TYPES.CONTAINER,\n      model: \"Flow\"\n    };\n    this.requiredKeys = [\"ContainerFlow\", \"ContainerLabel\", \"Visualization\"];\n  }\n\n  /**\n   * name - returns the container's label\n   *\n   * @returns {string} the container's label\n   */\n  get name() {\n    return this.data.ContainerLabel;\n  }\n\n  /**\n   * templateName - returns the container's associated flow name\n   *\n   * @returns {string} the flow name\n   */\n  get templateName() {\n    return this.data.ContainerFlow;\n  }\n\n  /**\n   * getExposedName - returns the node's template name\n   *\n   * @returns {string} container exposed name has the prefix __\n   */\n  getExposedName() {\n    return `__${this.templateName}`;\n  }\n}\n\nexport default BaseContainerNode;\n","import BasePort from \"./BaseNode/BasePort\";\nimport BaseContainerNode from \"./BaseNode/BaseContainerNode\";\n\n/**\n * class representing a container\n */\nclass ContainerNode extends BaseContainerNode {\n  /**\n   *\n   * @param {object} canvas the canvas where the node will be added\n   * @param {object} node node's data\n   * @param {object} events events to be triggered inside the node\n   */\n  constructor(args) {\n    const { factory, ...otherArgs } = args;\n    super(otherArgs);\n\n    this.factory = factory;\n  }\n\n  /**\n   * @override\n   * Remove init method of the base class\n   */\n  init() {\n    return this;\n  }\n\n  /**\n   * Async initialization of the sub-flow.\n   * The sub-flow initialization needs to be async because it\n   * depends on the flow it references.\n   * @returns {ContainerNode} : The instance\n   */\n  aInit = async () => {\n    await this.addPorts();\n    this.renderBody()\n      .renderHeader()\n      .renderStatus()\n      .renderPorts()\n      .addEvents()\n      .postInit();\n    return this;\n  };\n\n  /**\n   * Hook to run any post init action when extending the class\n   */\n  postInit = () => {\n    return this;\n  };\n\n  /**\n   * addPorts - add node ports\n   */\n  addPorts = async () => {\n    // add port events\n    const events = this.portEvents();\n\n    /**\n     * Simple extract fuction to aliviate the cognitive complexity\n     * @param {Any} cond : Used to check if it's a valid value\n     * @param {Any} def : Used to return if cond is not valid\n     * @return {Any} : Either the value if it's valid, or the default\n     */\n    function failSafe(cond, def) {\n      return cond ?? def;\n    }\n\n    // node already has ports; probably an update request\n    if (this._ports.size > 0) {\n      this._ports.forEach(port => {\n        port.destroy();\n      });\n      this._ports.clear();\n    }\n\n    try {\n      // ExposedPorts {<node template>: {<node name>: <[ports]>}, }\n      const expTemplates = failSafe(this._template?.ExposedPorts, {});\n\n      const flattenData = [];\n      // flatten data\n      Object.entries(expTemplates).forEach(([templateName, templateValue]) => {\n        Object.entries(templateValue).forEach(([nodeName, nodeVal]) => {\n          nodeVal.forEach(async portInstName => {\n            flattenData.push({ templateName, nodeName, portInstName });\n          });\n        });\n      });\n\n      await Promise.allSettled(\n        flattenData.map(async value => {\n          const { templateName, nodeName, portInstName } = value;\n\n          // check if templateName is a node template or is a reference to a sub flow\n          const isSubFlow = this.isFlow(templateName);\n          let joinStr = \"/\";\n          let docPath = this._template.NodeInst[nodeName]?.Template;\n\n          if (isSubFlow) {\n            joinStr = \"__\";\n            docPath = this._template.Container[nodeName]?.ContainerFlow;\n          }\n\n          // get the port data\n\n          const portsInst = await this.getPort(\n            portInstName,\n            docPath,\n            isSubFlow\n          );\n\n          if (!portsInst) {\n            console.error(\n              `Could not find port ${portInstName} in node instance \"${nodeName}\" of sub flow \"${this.data.ContainerFlow}\"`\n            );\n            return;\n          }\n\n          Object.keys(portsInst).forEach(type => {\n            if (![\"in\", \"out\"].includes(type.toLocaleLowerCase())) return;\n\n            const portObj = failSafe(portsInst?.[type], {});\n\n            Object.keys(portObj).forEach(port => {\n              if (portInstName.search(`${portsInst.PortsLabel}/${port}`) < 0)\n                return;\n\n              const data = failSafe(portsInst?.[type], {});\n\n              Object.keys(data).forEach(portName => {\n                const portData = {\n                  name: `${nodeName}${joinStr}${portInstName}`,\n                  type: type,\n                  Template: failSafe(portsInst?.Template, \"\"),\n                  origin: nodeName,\n                  ...data[portName]\n                };\n\n                // create port instance\n                const pInst = new BasePort(this, portData, events);\n\n                // add port instance\n                const fmtPortName = `${nodeName}${joinStr}${portInstName}`;\n\n                this._ports.set(fmtPortName, pInst);\n              });\n            });\n          });\n        })\n      ).catch(error => {\n        console.error(error);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    return this;\n  };\n\n  /**\n   * @private\n   * isFlow - check if the \"template name\" is actually a flow instead of a node template\n   * In the exposed ports, flows are marked with the prefix \"__\" , ex.: __demo1, to differentiate\n   * from node templates\n   *\n   * @param {string} name the name to test\n   *\n   * @returns {object} PortsInst\n   */\n  isFlow = name => {\n    return name?.startsWith(\"__\") || false;\n  };\n\n  /**\n   * @private\n   * getPort - tries to recursively get the port instance data\n   * @param {string} portName port name  ex.:\n   *  <port name>/<port type> or <node inst name>/<port name>/<port type>\n   *  or <flow name>__<node inst name>/<port name>/<port type>\n   * @param {string} docPath the path of the document\n   * @param {boolean} isSubFlow true if the doc is a sub-flow; false if it is a node template\n   *\n   * @returns {object} PortsInst\n   */\n  getPort = async (portName, docPath, isSubFlow) => {\n    try {\n      const portParts = portName.split(\"/\");\n      let _docPath = docPath;\n      let _portName = portParts.slice(0, -1).join(\"/\");\n\n      if (isSubFlow) {\n        _docPath = await this.getNodeInstTemplate(docPath, portParts[0]);\n        _portName = portParts.slice(1, -1).join(\"/\");\n      }\n\n      return this.getNodePort(_docPath, _portName);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  /**\n   * @override update method from BaseNode\n   * @returns {ContainerNode} instance\n   */\n  update = async () => {\n    await this.addPorts();\n    this.renderHeader().renderStatus().renderPorts();\n    return this;\n  };\n\n  /**\n   * Returns true if the name represents a NodeInst and false\n   * if it represents a Container (aka sub flow)\n   * A container will always have '__' for ex.: name1__name2__nodeInst1\n   *\n   * @param {String} nodeName node instance name\n   */\n  isNodeInst = nodeName => {\n    return nodeName.split(\"__\").length <= 1;\n  };\n\n  getNodeInstTemplate = async (flowName, nodeName) => {\n    try {\n      const { factory, docManager } = this.factory;\n\n      const _factory = new factory(docManager, factory.OUTPUT.CONTAINER);\n      const flow = await _factory.getTemplate(flowName);\n\n      if (this.isNodeInst(nodeName)) {\n        const nodeInst = flow.NodeInst[nodeName];\n\n        if (!nodeInst)\n          throw new Error(\n            `Node instance \"${nodeName}\" does not exist in flow \"${flowName}\".`\n          );\n\n        // return the nodeInst Template\n        return nodeInst.Template;\n      } else {\n        // it is a container, we need to go down to the subflow\n        // to search for the nodeInst\n        const [containerName, ...subNodeName] = nodeName.split(\"__\");\n\n        const subFlowName = flow.Container[containerName].ContainerFlow;\n\n        return this.getNodeInstTemplate(subFlowName, subNodeName.join(\"__\"));\n      }\n    } catch (error) {\n      const errorMsg = `Could not find the template of the node instance \"${nodeName}\"`;\n      console.error(`${errorMsg}; \\n${error}`);\n    }\n  };\n\n  getNodePort = async (nodeName, portName) => {\n    const { factory, docManager } = this.factory;\n\n    const _factory = new factory(docManager, factory.OUTPUT.NODE);\n    const node = await _factory.getTemplate(nodeName);\n\n    const port = node.PortsInst[portName] || null;\n\n    // hack bc most of the ports do not have PortsLabel and currently PortsLabel value is equal to the name\n    if (port) port[\"PortsLabel\"] = portName;\n\n    return port;\n  };\n}\n\nexport default ContainerNode;\n","import ContainerNode from \"./ContainerNode\";\n\nclass TemporaryContainerNode extends ContainerNode {\n  postInit = () => {\n    this.object.attr(\"opacity\", \"0.5\");\n  };\n}\n\nexport default TemporaryContainerNode;\n","import { defaultFunction } from \"../../../../../utils/Utils\";\nimport BaseNode from \"./BaseNode/BaseNode\";\n\nclass TemporaryNode extends BaseNode {\n  constructor({ canvas, node, template, opacity }) {\n    const customNode = {\n      id: \"\",\n      NodeLabel: node.Template,\n      Paramater: {},\n      Visualization: {\n        x: { Value: 50 },\n        y: { Value: 50 }\n      },\n      ...node\n    };\n    super({ canvas, node: customNode, events: {}, template });\n\n    this.init().postInit(opacity);\n  }\n\n  postInit = (opacity = \"0.5\") => {\n    this.object.attr(\"opacity\", opacity);\n  };\n\n  /**\n   * @override\n   */\n  onClick = () => defaultFunction(\"onClick\");\n}\n\nexport default TemporaryNode;\n","import * as d3 from \"d3\";\nimport BaseNodeHeader from \"../BaseNodeHeader\";\n\nconst TEMPLATE_LABEL = {\n  container: \"Flow\",\n  node: \"Node\"\n};\n\nclass TreeNodeHeader extends BaseNodeHeader {\n  constructor(x, y, text, template, type, templateType = \"node\") {\n    super(x, y, text);\n    this.dy = 18;\n    this.type = type;\n    this.template = `${TEMPLATE_LABEL[templateType]}: ${template}`;\n    // Update rendered header\n    this.render();\n  }\n\n  /**\n   * @private\n   * @override render - render node header\n   *  Place node name and template name besides the node rect\n   */\n  render() {\n    const parsedText = this.parseText();\n\n    this.object = d3\n      .create(\"svg:text\")\n      .attr(\"x\", this.x)\n      .attr(\"y\", this.y)\n      .attr(\"stroke-width\", 0)\n      .attr(\"fill\", this.color)\n      .attr(\"class\", this.unselectable ? \"unselectable\" : \"\")\n      .style(\"font-size\", \"16px\")\n      .style(\"dominant-baseline\", \"central\");\n\n    this.object\n      .selectAll(\"tspan\")\n      .data(parsedText)\n      .enter()\n      .append(\"tspan\")\n      .style(\"dominant-baseline\", \"central\")\n      .attr(\"class\", \"text\")\n      .attr(\"dx\", this.dx)\n      .attr(\"dy\", this.dy)\n      .attr(\"x\", this.x)\n      .text(function (d) {\n        return d;\n      });\n\n    return this;\n  }\n\n  /**\n   * @override parseText - Parse text\n   *  Add two lines: Node name and Node template\n   */\n  parseText() {\n    const ret = [this.text];\n\n    if (this.type) ret.push(this.type);\n    return ret;\n  }\n}\n\nexport default TreeNodeHeader;\n","import * as d3 from \"d3\";\n\nconst STROKE_WIDTH = \"2\";\nconst COLOR = \"#CDCDCD\";\nconst FILL_CLIP_RULE = \"evenodd\";\n\n/**\n * InputPort: Input port icon\n *  based on Figma icon\n */\nexport class InputPort {\n  /**\n   * getIcon: Get svg element icon\n   *\n   * @returns {DOMElement} svg DOM element\n   */\n  static getIcon = (scaleTo = \"0.8\") => {\n    const object = containerBuilder(32, 32).attr(\"y\", \"-5\");\n\n    object\n      .append(\"path\")\n      .attr(\"fill\", COLOR)\n      .attr(\"stroke\", COLOR)\n      .attr(\"fill-rule\", FILL_CLIP_RULE)\n      .attr(\"clip-rule\", FILL_CLIP_RULE)\n      .attr(\"transform\", `scale(${scaleTo})`)\n      .attr(\n        \"d\",\n        \"M27.175 16C27.175 19.5613 24.288 22.4483 20.7267 22.4483C17.5187 22.4483 14.8579 20.1058 14.3615 17.038H17.9925C18.4151 18.1861 19.5187 19.005 20.8134 19.005C22.4731 19.005 23.8185 17.6596 23.8185 16C23.8185 14.3404 22.4731 12.995 20.8134 12.995C19.4902 12.995 18.3668 13.8502 17.9657 15.038H14.3496C14.8141 11.933 17.4923 9.55168 20.7267 9.55168C24.288 9.55168 27.175 12.4387 27.175 16ZM12.3325 15.038C12.81 10.8251 16.3861 7.55168 20.7267 7.55168C25.3925 7.55168 29.175 11.3341 29.175 16C29.175 20.6659 25.3925 24.4483 20.7267 24.4483C16.4122 24.4483 12.8531 21.2142 12.3415 17.038H8.66468C8.25263 18.206 7.13908 19.0431 5.83004 19.0431C4.17041 19.0431 2.825 17.6977 2.825 16.038C2.825 14.3784 4.17041 13.033 5.83004 13.033C7.13908 13.033 8.25263 13.87 8.66468 15.038H12.3325Z\"\n      );\n\n    // return svg icon\n    return object.node();\n  };\n}\n\n/**\n * OutputPort: Input port icon\n *  based on Figma icon\n */\nexport class OutputPort {\n  /**\n   * getIcon: Get svg element icon\n   *\n   * @returns {DOMElement} svg DOM element\n   */\n  static getIcon = (scaleTo = \"0.8\") => {\n    const object = containerBuilder(32, 32).attr(\"y\", \"-5\");\n\n    object\n      .append(\"path\")\n      .attr(\"fill\", COLOR)\n      .attr(\"stroke\", COLOR)\n      .attr(\"fill-rule\", FILL_CLIP_RULE)\n      .attr(\"clip-rule\", FILL_CLIP_RULE)\n      .attr(\"transform\", `scale(${scaleTo})`)\n      .attr(\n        \"d\",\n        \"M4.82501 16C4.82501 19.5613 7.71202 22.4483 11.2733 22.4483C14.4813 22.4483 17.1421 20.1058 17.6385 17.038H14.1925C13.7698 18.1861 12.6663 19.005 11.3715 19.005C9.71189 19.005 8.36649 17.6596 8.36649 16C8.36649 14.3404 9.71189 12.995 11.3715 12.995C12.6947 12.995 13.8182 13.8502 14.2193 15.038H17.6504C17.1859 11.933 14.5077 9.55168 11.2733 9.55168C7.71202 9.55168 4.82501 12.4387 4.82501 16ZM19.6675 15.038C19.19 10.8251 15.6139 7.55168 11.2733 7.55168C6.60745 7.55168 2.82501 11.3341 2.82501 16C2.82501 20.6659 6.60745 24.4483 11.2733 24.4483C15.5878 24.4483 19.1469 21.2142 19.6585 17.038H23.3353C23.7474 18.206 24.8609 19.0431 26.17 19.0431C27.8296 19.0431 29.175 17.6977 29.175 16.038C29.175 14.3784 27.8296 13.033 26.17 13.033C24.8609 13.033 23.7474 13.87 23.3353 15.038H19.6675Z\"\n      );\n\n    // return svg icon\n    return object.node();\n  };\n}\n\n/**\n * Expanded: Expanded icon used in collapsable header\n */\nexport class Expanded {\n  /**\n   * getIcon: Get svg element icon\n   *\n   * @returns {DOMElement} svg DOM element\n   */\n  static getIcon() {\n    const object = containerBuilder(22, 22);\n    // Add circle\n    object.append(() => {\n      return circleBuilder(12, 12, 9, COLOR);\n    });\n    // Add path\n    object\n      .append(\"path\")\n      .attr(\"fill\", \"#424242\")\n      .attr(\"stroke\", \"#424242\")\n      .attr(\"fill-rule\", FILL_CLIP_RULE)\n      .attr(\"clip-rule\", FILL_CLIP_RULE)\n      .attr(\"d\", \"M16.59 8.59L12 13.17L7.41 8.59L6 10L12 16L18 10L16.59 8.59Z\");\n    // return svg icon\n    return object.node();\n  }\n}\n\n/**\n * Collapsed: Collapsed icon used in collapsable header\n */\nexport class Collapsed {\n  /**\n   * getIcon: Get svg element icon\n   *\n   * @returns {DOMElement} svg DOM element\n   */\n  static getIcon() {\n    const object = containerBuilder(22, 22);\n    // Add circle\n    object.append(() => {\n      return circleBuilder(12, 12, 9, COLOR);\n    });\n    // Add path\n    object\n      .append(\"path\")\n      .attr(\"fill\", \"#424242\")\n      .attr(\"stroke\", \"#424242\")\n      .attr(\"fill-rule\", FILL_CLIP_RULE)\n      .attr(\"clip-rule\", FILL_CLIP_RULE)\n      .attr(\"d\", \"M10 6L8.59 7.41L13.17 12L8.59 16.59L10 18L16 12L10 6Z\");\n    // return svg icon\n    return object.node();\n  }\n}\n\n//========================================================================================\n/*                                                                                      *\n *                                         Utils                                        *\n *                                                                                      */\n//========================================================================================\n\n/**\n * containerBuilder: Build svg container\n *\n * @returns {d3} d3 object\n */\nconst containerBuilder = (width, height) => {\n  return d3\n    .create(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", `0 0 ${width} ${height}`)\n    .attr(\"fill\", \"none\");\n};\n\n/**\n * circleBuilder: Build svg circle\n *\n * @returns {DOMElement} svg DOM element\n */\nconst circleBuilder = (cx, cy, r, color) => {\n  const circle = d3\n    .create(\"svg\")\n    .append(\"circle\")\n    .attr(\"cx\", cx)\n    .attr(\"cy\", cy)\n    .attr(\"r\", r)\n    .attr(\"stroke\", color)\n    .attr(\"fill\", color)\n    .attr(\"stroke-width\", STROKE_WIDTH);\n\n  return circle.node();\n};\n","import * as d3 from \"d3\";\nimport { InputPort, OutputPort } from \"./PortIcons\";\nimport BaseNode from \"../BaseNode\";\nimport { TYPES } from \"../../../../Constants/constants\";\n\nclass TreeNodePortLink {\n  constructor(link, type, node) {\n    this.parentNode = node;\n    this.target = {\n      port: link.targetPort,\n      node: link.targetNode,\n      templatePath: link.targetTemplatePath\n    };\n    this.source = {\n      port: link.sourcePort,\n      node: link.sourceNode,\n      templatePath: link.sourceTemplatePath\n    };\n    this.type = type;\n    this.object = d3.create(\"svg\").style(\"pointer-events\", \"none\");\n    this.render();\n  }\n\n  /**\n   * @private\n   * render - render the port links information\n   */\n  render() {\n    let xPosition = 0;\n    // Add port icon\n    this.object.append(() => {\n      const portIconBuilder = this.type === \"Out\" ? InputPort : OutputPort;\n      const icon = portIconBuilder.getIcon();\n      xPosition += icon.width.baseVal.value;\n      return icon;\n    });\n    // Add node miniature\n    const data = this.type === \"Out\" ? this.target : this.source;\n    const templates = this.getTemplates(data);\n    const [nodeName, nodePort] = this.parseNodePort(data);\n    templates.forEach(item => {\n      BaseNode.getMiniature(item.name, item.type, xPosition).then(miniature => {\n        this.object.append(() => {\n          const mini = miniature.node();\n          mini.style.pointerEvents = \"all\";\n          // dblclick event\n          mini.ondblclick = evt => {\n            // stop event propagation\n            evt.stopPropagation();\n            evt.preventDefault();\n            // trigger onDblClick canvas mode\n            this.parentNode.onDblClickMini(item);\n          };\n          // ignore click event\n          mini.onclick = evt => {\n            // stop event propagation\n            evt.stopPropagation();\n            evt.preventDefault();\n          };\n          return mini;\n        });\n      });\n      // increment starting x position\n      xPosition += 25;\n    });\n    // Add node name\n    this.textBuilder(nodeName, xPosition, 4);\n    // Add port name\n    this.textBuilder(nodePort, xPosition, 14);\n  }\n\n  /**\n   * el: Main svg element node\n   *\n   * @returns {DOMElement} svg DOM element\n   */\n  get el() {\n    return this.object.node();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                         Utils                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * textBuilder - Create text element\n   *\n   * @param {string} text: Text content in element\n   * @param {number} x: X position\n   * @param {number} y: Y position\n   */\n  textBuilder(text, x = 55, y = 4) {\n    this.object\n      .append(\"text\")\n      .attr(\"class\", \"text unselectable\")\n      .attr(\"stroke-width\", 0)\n      .attr(\"x\", x)\n      .attr(\"y\", y)\n      .style(\"font-size\", \"10px\")\n      .style(\"dominant-baseline\", \"central\")\n      .text(text);\n  }\n\n  /**\n   * @private\n   * parseNodePort - Parse node name and linked port\n   *\n   * @param {Object} data:\n   * {\n   *  port: string,\n   *  node: string\n   * }\n   */\n  parseNodePort(data) {\n    const pathLength = data.templatePath.length;\n    const portArray = data.port.split(\"/\");\n    const port = portArray.slice(pathLength - 1).join(\"/\");\n    const node = pathLength > 1 ? portArray[0] : data.node;\n    return [node, port];\n  }\n\n  /**\n   * @private\n   * getTemplates - Get template list from template path array\n   *\n   * @param {Object} data:\n   * {\n   *  templatePath: Array [flow, sub-flow, node]\n   * }\n   */\n  getTemplates(data) {\n    const pathLength = data.templatePath.length - 1;\n    return data.templatePath.map((node, index) => {\n      let type = \"flow\";\n      let name = node;\n      if (index === pathLength) type = node === \"start\" ? node : \"node\";\n      const info = {\n        flow: { model: \"Flow\", nodeType: TYPES.CONTAINER },\n        node: { model: \"Node\", nodeType: TYPES.NODE },\n        start: {}\n      };\n      return { name, type, ...info[type], data };\n    });\n  }\n}\n\nexport default TreeNodePortLink;\n","import * as d3 from \"d3\";\nimport BasePort from \"../BasePort\";\nimport TreeNodePortLink from \"./TreeNodePortLink\";\nimport { InputPort, OutputPort } from \"./PortIcons\";\n\nclass TreeNodePort extends BasePort {\n  constructor(node, data, events) {\n    super(node, data, events);\n    // Add links container object\n    this._linksObject = d3\n      .create(\"svg\")\n      .attr(\"class\", \"links-container\")\n      .attr(\"x\", \"25\")\n      .attr(\"y\", \"18\");\n    this.object.append(() => {\n      return this._linksObject.node();\n    });\n  }\n\n  /**\n   * @override _render - render node port information\n   *  - Includes input/output icon, name and links information\n   */\n  render() {\n    this.object = d3\n      .create(\"svg\")\n      .attr(\"width\", \"800\")\n      .attr(\"class\", \"children-container\")\n      .attr(\"fill\", this.color);\n\n    // Add port icon\n    this.object.append(() => {\n      const portIconBuilder = this.data.type === \"In\" ? InputPort : OutputPort;\n      return portIconBuilder.getIcon();\n    });\n\n    // Add port name\n    this.object\n      .append(\"text\")\n      .attr(\"class\", \"text unselectable\")\n      .attr(\"stroke-width\", 0)\n      .attr(\"x\", 32)\n      .attr(\"y\", 7)\n      .style(\"font-size\", \"15px\")\n      .style(\"dominant-baseline\", \"central\")\n      .text(this.data.name);\n\n    return this;\n  }\n\n  /**\n   * @override addEvents - Add port events\n   *  - Limit events to mouseenter/mouseout\n   */\n  addEvents() {\n    this.object.on(\"mouseenter\", this.onMouseOver);\n    this.object.on(\"mouseout\", this.onMouseOut);\n    return this;\n  }\n\n  /**\n   * @override setPosition - Set port position\n   *  - Update only y position (x position should never change)\n   *\n   * @param {number} y: Y position\n   */\n  setPosition(y = this.cy) {\n    this.object.attr(\"y\", y);\n    return this;\n  }\n\n  /**\n   * addLink - Add link information to port\n   *\n   * @param {Object} link: Parsed link information\n   */\n  addLink(link) {\n    const linkObj = new TreeNodePortLink(link, this.data.type, this.node);\n    this.links.set(link.id, linkObj);\n    this._linksObject.append(() => {\n      return linkObj.el;\n    });\n    return this;\n  }\n\n  /**\n   * Remove link from port\n   *\n   * @param {Object} link : Link info\n   */\n  removeLink(link) {\n    this.links.delete(link.id);\n    this._linksObject.selectAll(\"*\").remove();\n  }\n\n  /**\n   * updateLinksPosition - Update links y position\n   */\n  updateLinksPosition() {\n    let linksHeightSum = 0;\n    this.links.forEach(link => {\n      link.object.attr(\"y\", linksHeightSum);\n      linksHeightSum += link.el.getBBox().height + 5;\n    });\n    return this;\n  }\n}\n\nexport default TreeNodePort;\n","import * as d3 from \"d3\";\nimport { defaultFunction } from \"../../../../../../../utils/Utils\";\nimport { Expanded, Collapsed } from \"./PortIcons\";\n\nclass CollapsableItem {\n  constructor({\n    text,\n    isExpanded = true,\n    parent = null,\n    onToggleCollapsePorts = () => defaultFunction(\"onToggleCollapsePorts\")\n  }) {\n    this.text = text;\n    this.parent = parent;\n    this.children = new Map();\n    this.isExpanded = isExpanded;\n    this.onToggleCollapsePorts = onToggleCollapsePorts;\n    this._timerToUpdate = null;\n    // SVG objects\n    this.object = null;\n    this._header = null;\n    this._childrenContainer = null;\n    // Render header\n    this.render();\n  }\n\n  /**\n   * @private\n   * render: render collapsable item with header and children container\n   */\n  render() {\n    // Reset collapsable item\n    if (this.object) this.destroy();\n    // Create collapsable item\n    this.object = d3\n      .create(\"svg\")\n      .attr(\"x\", \"25\")\n      .attr(\"y\", \"65\")\n      .attr(\"class\", \"children-container\");\n    // Add header\n    this.renderHeader();\n    // Add children container object\n    this.renderChildren();\n  }\n\n  /**\n   * @private\n   * renderHeader: render header used to expand/collapse children\n   */\n  renderHeader() {\n    // Reset header\n    if (this._header) this._header.remove();\n    this._header = d3\n      .create(\"svg\")\n      .attr(\"fill\", \"white\")\n      .style(\"cursor\", \"pointer\");\n    // Add expand/collapse icon\n    this._header.append(() => {\n      if (this.isExpanded) return Expanded.getIcon();\n      else return Collapsed.getIcon();\n    });\n    // Add text\n    this._header\n      .append(\"svg:text\")\n      .attr(\"x\", \"25\")\n      .attr(\"y\", \"13\")\n      .attr(\"class\", \"text unselectable\")\n      .attr(\"stroke-width\", 0)\n      .style(\"font-size\", \"15px\")\n      .style(\"dominant-baseline\", \"central\")\n      .text(this.text);\n    // Add click event\n    this._header.on(\"click\", () => {\n      // Toggle collapsed/expanded state\n      this.isExpanded = !this.isExpanded;\n      this.onToggleCollapsePorts();\n      // Update header to toggle expand/collapse icon\n      this.renderHeader();\n      // Show/Hide children\n      if (this.isExpanded) this.renderChildren();\n      else this.collapse();\n      // Update position\n      this.updatePosition();\n    });\n    // Add header to main object\n    this.object.append(() => this._header.node());\n  }\n\n  /**\n   * @private\n   * renderChildren: render children container\n   */\n  renderChildren() {\n    // Reset children container\n    if (this._childrenContainer) this._childrenContainer.remove();\n    this._childrenContainer = d3\n      .create(\"svg\")\n      .attr(\"x\", \"25\")\n      .attr(\"y\", \"40\")\n      .attr(\"class\", \"children-container\");\n    if (this.isExpanded) {\n      // Add children\n      this.children.forEach(child => {\n        this._childrenContainer.append(() => {\n          return child.el;\n        });\n      });\n    }\n    // Add children container to main object\n    this.object.append(() => this._childrenContainer.node());\n    this.updateBelongLines(this.children);\n  }\n\n  /**\n   * @private\n   * collapse: Collapse children (removing children container)\n   */\n  collapse() {\n    // Remove belong line\n    this.children.forEach(child => {\n      if (child.removeBelongLine) child.removeBelongLine();\n    });\n    // Remove children container\n    this._childrenContainer.remove();\n  }\n\n  /**\n   * @private\n   * updatePosition: Ask parent (TreeContainerNode) to update its children position\n   */\n  updatePosition() {\n    if (this.parent) this.parent.updateChildrenPosition();\n  }\n\n  /**\n   * @private\n   * updateBelongLines: Update belong lines that connects each nodes with its Container parent\n   */\n  updateBelongLines(children) {\n    // Update belong lines\n    if (!children) return;\n    children.forEach(child => {\n      if (child.updateBelongLines) child.updateBelongLines();\n      this.updateBelongLines(child.children);\n    });\n  }\n\n  /**\n   * el: Main svg element node\n   *\n   * @returns {DOMElement} svg DOM element\n   */\n  get el() {\n    return this.object.node();\n  }\n\n  /**\n   * destroy: Remove main svg object\n   */\n  destroy() {\n    this.object.remove();\n  }\n\n  /**\n   * addChild: Add child to children container\n   *\n   * @param {TreeNode} child: The child node is an instance of one of the following:\n   *  TreeContainerNode/TreeClassicNode/TreeStateNode\n   */\n  addChild(child) {\n    const index = this.children.size + 1;\n    this.children.set(index, child);\n    if (this.isExpanded) {\n      this._childrenContainer.append(() => {\n        return child.el;\n      });\n    }\n  }\n}\n\nexport default CollapsableItem;\n","import * as d3 from \"d3\";\nimport _debounce from \"lodash/debounce\";\nimport BaseNode from \"../BaseNode\";\nimport TreeNodeHeader from \"./TreeNodeHeader\";\nimport TreeNodePort from \"./TreeNodePort\";\nimport CollapsableItem from \"./CollapsableItem\";\nimport { belongLineBuilder } from \"../../Utils\";\nimport BaseNodeStatus from \"../BaseNodeStatus\";\n\nclass TreeNode extends BaseNode {\n  constructor({ canvas, node, events, _type, template, parent }) {\n    super({ canvas, node, events, _type, template });\n    this.parent = parent;\n    this.children = [];\n    this._links = new Map();\n    this._displayPorts = false;\n    this._collapsablePorts = null;\n    this._belongLine = null;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Private methods                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * @override init: initialize the node element\n   */\n  init() {\n    this.renderBody()\n      .renderHeader()\n      .renderStatus()\n      .addPorts((node, data, events) => new TreeNodePort(node, data, events))\n      .renderPortsHeader()\n      .addEvents();\n\n    return this;\n  }\n\n  /**\n   * @private\n   * addEvents - add events to the svg element\n   */\n  addEvents = () => {\n    // node event listeners\n    this.object.on(\"click\", () => {\n      if (!this.parent) return;\n      this.eventsOn(this.onClick);\n    });\n    this.object.on(\"mousedown\", () => this.eventsOn(this.onMouseDown));\n    this.object.on(\"dblclick\", () => this.eventsOn(this.onDblClick));\n\n    return this;\n  };\n\n  /**\n   * @override renderHeader - render the node header\n   */\n  renderHeader() {\n    // header already exists; probably an update request;\n    if (this._header) this._header.destroy();\n\n    // create the node header instance\n    this._header = new TreeNodeHeader(\n      this.headerPos.x,\n      this.headerPos.y,\n      this.name,\n      this.templateName,\n      this._type\n    );\n\n    // append to the svg element\n    this.object.append(() => {\n      return this._header.el;\n    });\n\n    return this;\n  }\n\n  /**\n   * renderPortsHeader - render the ports collapsable header\n   */\n  renderPortsHeader() {\n    if (this._collapsablePorts) this._collapsablePorts.destroy();\n\n    if (this._ports.size) {\n      // Render ports header\n      this._collapsablePorts = new CollapsableItem({\n        text: \"PORTS\",\n        isExpanded: this._displayPorts,\n        parent: this.parent,\n        onToggleCollapsePorts: this.onToggleCollapsePorts\n      });\n      // Add ports header to node\n      this.object.append(() => {\n        return this._collapsablePorts.el;\n      });\n      // Order ports in/out\n      this._ports = new Map(\n        [...this._ports.entries()].sort(([_aKey, a], [_bKey, b]) => {\n          return a.data.type.localeCompare(b.data.type);\n        })\n      );\n      // Add ports to header container\n      this._ports.forEach(port => {\n        this._collapsablePorts.addChild(port);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * renderStatus - render the status of the node (circle on the body)\n   */\n  renderStatus = () => {\n    const currentStatus = this.status;\n    // status already exists; probably an update request;\n    if (this._status) this._status.destroy();\n\n    // create the node status instance with fixed position\n    this._status = new BaseNodeStatus(37.5, 28);\n\n    // append to the svg element\n    this.object.append(() => {\n      return this._status.el;\n    });\n\n    // Reset status to its original value\n    this.status = currentStatus;\n\n    return this;\n  };\n\n  /**\n   * @override updatePosition: Update x and y position of main svg object\n   */\n  updatePosition(x = 0, y = 0) {\n    this.object.attr(\"x\", x).attr(\"y\", y);\n  }\n\n  /**\n   * @override update - update graphical representation\n   */\n  update = (addLinks = false) => {\n    this.addPorts((node, data, events) => new TreeNodePort(node, data, events))\n      .renderPortsHeader()\n      .renderStatus();\n\n    if (addLinks) this.updateLinks();\n    return this;\n  };\n\n  /**\n   * getAbsolutePosition: Get fixed absolute node position regardless of transformation\n   *\n   * @param {TreeNode} node: Node instance to get position\n   */\n  getAbsolutePosition(node) {\n    let nodePosX = parseFloat(node.object.attr(\"x\"));\n    let nodePosY = parseFloat(node.object.attr(\"y\"));\n    if (node.parent) {\n      const { x, y } = this.getAbsolutePosition(node.parent);\n      const nodeContainer = node.el.parentElement;\n      const parentContainer = nodeContainer.parentElement;\n      nodePosX +=\n        x + nodeContainer.x.baseVal.value + parentContainer.x.baseVal.value;\n      nodePosY +=\n        y + nodeContainer.y.baseVal.value + parentContainer.y.baseVal.value;\n    }\n    return { x: nodePosX, y: nodePosY };\n  }\n\n  /**\n   * @private\n   * Get x and y lines to draw belong lines\n   * @param {Object} offset: {x, y}\n   * @param {Object} childPos: {x, y}\n   * @param {Object} parentPos: {x, y}\n   * @returns {Array} Containing x and y lines with x1,y1,x2,y2 points to be drawn\n   */\n  getBelongLinePoints(offset, childPos, parentPos) {\n    const lineY = {\n      x1: parentPos.x - offset.x + this.width / 2 + this.padding.x / 2,\n      y1: parentPos.y - offset.y + this.height + this.padding.y,\n      x2: parentPos.x - offset.x + this.width / 2 + this.padding.x / 2,\n      y2: childPos.y - offset.y + this.width / 2\n    };\n    const lineX = {\n      x1: lineY.x2,\n      y1: lineY.y2,\n      x2: lineY.x2 + this.padding.x / 2,\n      y2: lineY.y2\n    };\n    return [lineX, lineY];\n  }\n\n  /**\n   * getRootNode: Get root node (initial flow node)\n   *  - Iterate recursively on the tree to find the node without parent (root node)\n   *\n   * @param {TreeNode} node: Can be any node in the tree\n   */\n  getRootNode(node = this) {\n    if (!node.parent) return node;\n    return this.getRootNode(node.parent);\n  }\n\n  /**\n   * @private\n   * Find TreeNode that is rendered right before this node\n   * @returns {TreeNode} Tree node object right before this node\n   */\n  getPreviousBrother() {\n    const thisIndex = this.parent.children.findIndex(\n      n => n.data.id === this.data.id\n    );\n    const previousBrother = thisIndex - 1;\n    return this.parent.children[previousBrother] ?? this.parent;\n  }\n\n  /**\n   * @private\n   * Get position to be used as reference to draw belong lines\n   * @param {*} parentPos : Object containing x/y position of parent node\n   * @param {*} previousBrotherPos : Object containing x/y position of previous sibling node\n   * @returns {Object} Position {x : number, y: number}\n   */\n  getReferenceOriginPos = (parentPos, previousBrotherPos) => {\n    // To avoid lines drawn on top of others\n    previousBrotherPos.x -= this.width / 2;\n    previousBrotherPos.y += this.padding.x - this.padding.y - this.height;\n    // Get reference position based on node type\n    const position = {\n      Container: {\n        x: previousBrotherPos.x,\n        y: parentPos.y\n      },\n      NodeInst: {\n        x: parentPos.x,\n        y: previousBrotherPos.y\n      },\n      State: {\n        x: parentPos.x,\n        y: previousBrotherPos.y\n      }\n    };\n    // Return position\n    return position[this.data.type];\n  };\n\n  /**\n   * @override eventsOn - call the function if the node's events are enabled\n   *  - Exclude events on external elements that aren't inside the main node rect\n   *\n   * @param {function} fn function to call if the node's events are enabled\n   */\n  eventsOn = fn => {\n    // Exit function if click is not on clickable area to select/unselect\n    const targetClasses = d3.event?.target?.className?.baseVal;\n    if (!targetClasses?.includes(\"node-inst-click-area\")) return;\n    // Execute function if node is visible\n    if (this.visible) fn();\n  };\n\n  onToggleCollapsePorts = () => {\n    this._displayPorts = !this._displayPorts;\n  };\n\n  /**\n   * Reload node to update cache\n   */\n  updateLinks = _debounce(() => {\n    this._links.forEach(link => {\n      this.addLink(link);\n    });\n  }, 500);\n\n  /**\n   * Get source and target ports of link\n   * @param {Object} link : Link info\n   * @returns Source/Target ports objects\n   */\n  getLinkPorts = link => {\n    const sourceCount = link.sourceFullPath.length - 1;\n    const targetCount = link.targetFullPath.length - 1;\n    const finalSourcePort = this.formatPort(link, \"sourcePort\", sourceCount);\n    const finalTargetPort = this.formatPort(link, \"targetPort\", targetCount);\n    const sourcePort = this._ports.get(finalSourcePort);\n    const targetPort = this._ports.get(finalTargetPort);\n    return { sourcePort, targetPort };\n  };\n\n  /**\n   * Removes all parent's name from target/source ports\n   *\n   * @param {Object} link : Link information\n   * @param {String} direction : \"sourcePort\" or \"targetPort\"\n   * @param {Integer} count : Quantity of parents involved\n   * @returns {String} Target/Source port without its parents\n   */\n  formatPort = (link, direction, count) => {\n    return link[direction].split(\"/\").splice(count).join(\"/\");\n  };\n\n  /**\n   * Check if the link information actually belongs to the node\n   *\n   * @param {Object} link : Link information\n   * @param {String} direction : \"sourceNode\" or \"targetNode\"\n   * @returns {Boolean} True if valid, false otherwise\n   */\n  checkLink = (link, direction) => {\n    return (\n      link[direction] === this.data.id ||\n      link[direction] === this.parent?.data?.id\n    );\n  };\n\n  /**\n   * Checks if node is being rendered in canvas by checking if parent node is expanded recursively\n   * @param {TreeNode} node : TreeNode object\n   * @returns {Boolean} True if node is being rendered in canvas and False otherwise\n   */\n  isParentExpanded = (node = this) => {\n    let isExpanded = node.parent?.collapsableItem?.isExpanded;\n    if (node?.parent?.parent && isExpanded) {\n      isExpanded = this.isParentExpanded(node.parent);\n    }\n    return isExpanded;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                Getters & Setters                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @override headerPos - get the position of the header\n   * @returns {object} object with the header position {x: val, y: val}\n   */\n  get headerPos() {\n    return {\n      x: this.width + this.padding.x,\n      y: 0\n    };\n  }\n\n  /**\n   * Set loading status of node (transition status between active/stopped)\n   */\n  set statusLoading(val) {\n    this._status.statusLoading = val;\n  }\n\n  /**\n   * Return node status : True if not loading and False otherwise\n   * @returns {Boolean} Inform if node is ready to be manually set active/stopped\n   */\n  get isReady() {\n    return this._status.isReady;\n  }\n\n  /**\n   * Return node links\n   * @returns {Map} All links in node\n   */\n  get links() {\n    return this._links;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Public methods                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * onTemplateUpdate - on template update event handler\n   * templates only change when edited while in redis\n   *\n   * @param {string} templateName node's template name\n   */\n  onTemplateUpdate = templateName => {\n    if (templateName !== this.templateName) return; //not my template\n    this._template = undefined;\n    this.update(true);\n  };\n\n  /**\n   * Set canvas mode onDblClick to open template of miniature\n   *\n   * @param {Object} mini : Miniature node object\n   */\n  onDblClickMini = mini => {\n    // doesn't trigger dblclick if model is empty\n    if (!mini.model) return;\n    // get data to trigger dblclick\n    const dummyNode = {\n      _template: { url: mini.name, name: mini.name },\n      data: { model: mini.model, type: mini.nodeType }\n    };\n    // set mode to double click\n    this.canvas.setMode(\"onDblClick\", { node: dummyNode }, true);\n  };\n\n  /**\n   * Gets relative path from main flow to node\n   *\n   * @param {Array} name : Relative path from main flow\n   * @returns {String} Eg: subflow1__subflow2__nodeName\n   */\n  getNodePath(name = []) {\n    if (this.parent) {\n      name.unshift(this.name);\n      return this.parent.getNodePath(name);\n    } else {\n      return name.join(\"__\");\n    }\n  }\n\n  /**\n   * @override addToCanvas - append node element to canvas\n   */\n  addToCanvas() {\n    // render children (meaning this is a node)\n    if (this.parent) {\n      this.parent.renderChild(this);\n    } else {\n      // render itself (meaning this is a container)\n      this.canvas.append(() => {\n        this.object.attr(\"x\", 50).attr(\"y\", 50);\n        return this.el;\n      });\n    }\n  }\n\n  /**\n   * addLink - Add link information to correspondent port (source/target)\n   *\n   * @param {Object} link: parsed link information\n   */\n  addLink(link) {\n    const { sourcePort, targetPort } = this.getLinkPorts(link);\n    if (sourcePort && this.checkLink(link, \"sourceNode\")) {\n      sourcePort.addLink(link);\n      this.parent.childrenLinks.set(link.id, link);\n    }\n    if (targetPort && this.checkLink(link, \"targetNode\")) {\n      targetPort.addLink(link);\n      this.parent.childrenLinks.set(link.id, link);\n    }\n    // Add to local link map\n    this._links.set(link.id, link);\n  }\n\n  /**\n   * Remove link info from node port\n   *\n   * @param {Object} link : Link info\n   */\n  removeLink(link) {\n    const { sourcePort, targetPort } = this.getLinkPorts(link);\n    if (sourcePort) sourcePort.removeLink(link);\n    if (targetPort) targetPort.removeLink(link);\n    // Remove from local link map\n    this._links.delete(link.id);\n    // Update links\n    this.updateLinks();\n  }\n\n  /**\n   * updatePortsPosition - Update ports position\n   */\n  updatePortsPosition() {\n    // Render ports info\n    let portsHeightSum = 0;\n    this._ports.forEach(port => {\n      port.updateLinksPosition().setPosition(portsHeightSum);\n      portsHeightSum += port.el.getBBox().height + 5;\n    });\n  }\n\n  /**\n   * updateBelongLines - Update belong lines (either remove or re-draw)\n   */\n  updateBelongLines() {\n    if (!this.parent) return;\n    if (this.isParentExpanded()) {\n      this.drawBelongLine();\n    } else {\n      this.removeBelongLine();\n    }\n  }\n\n  /**\n   * removeBelongLine - Remove belong lines if node is collapsed\n   */\n  removeBelongLine() {\n    if (this._belongLine) this._belongLine.remove();\n    this.children.forEach(child => {\n      child.removeBelongLine();\n    });\n  }\n\n  /**\n   * drawBelongLine - Draw belong lines to connect node to its parent\n   */\n  drawBelongLine() {\n    if (!this.parent) return;\n    if (this._belongLine) this._belongLine.remove();\n    const rootNode = this.getRootNode();\n    const previousBrother = this.getPreviousBrother();\n    const previousBrotherPos = this.getAbsolutePosition(previousBrother);\n    const childPos = this.getAbsolutePosition(this);\n    const offset = this.getAbsolutePosition(rootNode);\n    const parentPos = this.getAbsolutePosition(this.parent);\n    const refPos = this.getReferenceOriginPos(parentPos, previousBrotherPos);\n    // Build line\n    const [lineX, lineY] = this.getBelongLinePoints(offset, childPos, refPos);\n    // Create lines container\n    this._belongLine = d3\n      .create(\"svg\")\n      .attr(\"x\", \"50\")\n      .attr(\"y\", \"50\")\n      .attr(\"class\", \"belong-lines\");\n    // Draw lines in container\n    this._belongLine.append(() => {\n      return belongLineBuilder(lineY);\n    });\n    this._belongLine.append(() => {\n      return belongLineBuilder(lineX);\n    });\n    // Append belong lines container to links svg container\n    this.canvas.links.append(() => {\n      return this._belongLine.node();\n    });\n  }\n}\n\nexport default TreeNode;\n","import TreeNode from \"../BaseNode/TreeView/TreeNode\";\n\nclass TreeClassicNode extends TreeNode {\n  constructor({ canvas, node, events, template, parent }) {\n    super({ canvas, node, events, _type: \"node\", template, parent });\n\n    this.init();\n  }\n}\n\nexport default TreeClassicNode;\n","import BaseNode from \"../BaseNode\";\nimport TreeNodeHeader from \"../TreeView/TreeNodeHeader\";\n\nclass PreviewNode extends BaseNode {\n  constructor(canvas, node, events, _type, template, parent) {\n    super(canvas, node, events, _type, template);\n    this._template = template || this._template;\n    this.parent = parent;\n    this.children = new Map();\n    this._links = new Map();\n    this._displayPorts = false;\n    this._collapsablePorts = null;\n    this._belongLine = null;\n    // Mount node svg\n    this.init();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Private methods                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * @override init: initialize the node element\n   */\n  init() {\n    this.renderBody().renderHeader().renderStatus();\n\n    return this;\n  }\n\n  /**\n   * @override renderHeader - render the node header\n   */\n  renderHeader() {\n    // header already exists; probably an update request;\n    if (this._header) this._header.destroy();\n\n    // create the node header instance\n    this._header = new TreeNodeHeader(\n      this.headerPos.x,\n      this.headerPos.y,\n      this.name || this.templateName,\n      this.templateName,\n      this.template.Type,\n      this._type\n    );\n\n    // append to the svg element\n    this.object.append(() => {\n      return this._header.el;\n    });\n\n    return this;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                Getters & Setters                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @override headerPos - get the position of the header\n   * @returns {object} object with the header position {x: val, y: val}\n   */\n  get headerPos() {\n    return {\n      x: this.width + this.padding.x,\n      y: 0\n    };\n  }\n}\n\nexport default PreviewNode;\n","import PreviewNode from \"../BaseNode/Preview/PreviewNode\";\n\nclass PreviewClassicNode extends PreviewNode {\n  constructor(canvas, node, events, template, parent) {\n    super(canvas, node, events, \"node\", template, parent);\n\n    this.init();\n  }\n}\n\nexport default PreviewClassicNode;\n","import { TYPES } from \"../../../Constants/constants\";\nimport PreviewNode from \"../BaseNode/Preview/PreviewNode\";\nimport { getBaseTemplate } from \"../Utils\";\n\nclass PreviewContainerNode extends PreviewNode {\n  constructor(canvas, node, events, template, parent) {\n    const containerTemplate = template || getBaseTemplate(TYPES.CONTAINER);\n    super(canvas, node, events, TYPES.CONTAINER, containerTemplate, parent);\n\n    this.init();\n  }\n}\n\nexport default PreviewContainerNode;\n","import TreeNode from \"../BaseNode/TreeView/TreeNode\";\nimport BaseContainerNode from \"../BaseNode/BaseContainerNode\";\nimport CollapsableItem from \"../BaseNode/TreeView/CollapsableItem\";\nimport { TYPES } from \"../../../Constants/constants\";\n\nconst RENDERING_MODE = {\n  tree: 0,\n  spread: 1\n};\n\nclass TreeContainerNode extends TreeNode {\n  constructor({ canvas, node, events, template, parent }) {\n    super({ canvas, node, events, _type: TYPES.CONTAINER, template, parent });\n    this.childrenLinks = new Map();\n    this._collapsableItem = null;\n    this._displayChildren = true;\n    this._timerToUpdateHeader = null;\n    this._renderingMode = RENDERING_MODE.spread;\n    // Inherit attributes/methods from BaseContainerNode\n    this.base = new BaseContainerNode({ canvas, node, events, template });\n    this.data = this.base.data;\n    this._template = this.base._template;\n    this.getExposedName = this.base.getExposedName;\n    this._addPorts = () => this;\n\n    // initialize the container\n    this.init();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                Getters & Setters                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * name - returns the container's label\n   *\n   * @returns {string} the container's label\n   */\n  get name() {\n    return this.base.name;\n  }\n\n  /**\n   * @override\n   * templateName - returns the container's associated flow name\n   *\n   * @returns {string} the flow name\n   */\n  get templateName() {\n    return this.base.templateName;\n  }\n\n  /**\n   * collapsableItem - returns collapsable item\n   *\n   * @returns {CollapsableItem} Nodes children collapsable container\n   */\n  get collapsableItem() {\n    return this._collapsableItem;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * renderNodesHeader: Render children nodes collapsable header\n   * @private\n   * @returns {TreeContainerNode} instance\n   */\n  renderNodesHeader() {\n    if (this._collapsableItem) return;\n    // Render header\n    this._collapsableItem = new CollapsableItem({\n      text: \"NODES\",\n      isExpanded: this._displayChildren,\n      parent: this.parent\n    });\n    // Add header to main object\n    this.object.append(() => {\n      return this._collapsableItem.el;\n    });\n    // Return instance\n    return this;\n  }\n\n  /**\n   * updateChildrenBelongLines: Update all nodes belong lines (remove/re-draw)\n   * @private\n   * @param {Map<string,TreeNode>} children : Map of children\n   */\n  updateChildrenBelongLines(children = this.children) {\n    children.forEach(child => {\n      child.updateBelongLines();\n      this.updateChildrenBelongLines(child.children);\n    });\n  }\n\n  /**\n   * @override getBelongLinePoints\n   * @param {Object} offset: {x, y}\n   * @param {Object} childPos: {x, y}\n   * @param {Object} parentPos: {x, y}\n   * @returns {Array} Containing x and y lines with x1,y1,x2,y2 points to be drawn\n   */\n  getBelongLinePoints(offset, childPos, parentPos) {\n    if (this._renderingMode === RENDERING_MODE.tree)\n      return super.getBelongLinePoints(offset, childPos, parentPos);\n    const lineX = {\n      x1: parentPos.x - offset.x + this.width + this.padding.x / 2,\n      y1: parentPos.y - offset.y + this.height / 2 + this.padding.y / 2,\n      x2: childPos.x - offset.x + this.width / 2 + this.padding.x / 2,\n      y2: parentPos.y - offset.y + this.height / 2 + this.padding.y / 2\n    };\n    const lineY = {\n      x1: lineX.x2,\n      y1: lineX.y2,\n      x2: lineX.x2,\n      y2: childPos.y - offset.y + this.padding.y\n    };\n    return [lineX, lineY];\n  }\n\n  /**\n   * Position children based on the rendering mode\n   * @private\n   * @param {String} mode: one of RENDERING_MODE values\n   */\n  positionChildren(mode) {\n    const positioner = {\n      [RENDERING_MODE.tree]: () => {\n        let childrenHeightSum = 0;\n        this.children.forEach(node => {\n          node.updatePortsPosition();\n          node.object.attr(\"y\", childrenHeightSum);\n          childrenHeightSum += node.el.getBBox().height + 20;\n        });\n      },\n      [RENDERING_MODE.spread]: () => {\n        let childrenHeightSum = 0;\n        let maxWidthNode = 0;\n        this.children.forEach(node => {\n          node.updatePortsPosition();\n          const nodeWidth = node.el.getBBox().width;\n          const nodeHeight = node.el.getBBox().height;\n          if (node.data.type !== TYPES.CONTAINER) {\n            if (maxWidthNode < nodeWidth) maxWidthNode = nodeWidth;\n            node.object.attr(\"y\", childrenHeightSum);\n          } else {\n            node.object.attr(\"x\", maxWidthNode);\n            maxWidthNode += nodeWidth + 20;\n          }\n          childrenHeightSum += nodeHeight + 20;\n        });\n      }\n    };\n    return positioner[mode]();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Public methods                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * renderChild: Add node to children container d3 object in collapsable item\n   *\n   * @param {TreeNode} child: Node child\n   */\n  renderChild(child) {\n    // Unset width/height\n    this.object.attr(\"width\", null).attr(\"height\", null);\n    // Align and Render child\n    child.updatePosition(-15);\n    this._collapsableItem.addChild(child);\n  }\n\n  /**\n   * Re-position child nodes in parent\n   *\n   * @param {boolean} is2updateParent: Flag to indicate if it should re-position nodes from parent\n   */\n  updateChildrenPosition(is2updateParent = true) {\n    this.positionChildren(this._renderingMode);\n    if (this.parent && is2updateParent) this.parent.updateChildrenPosition();\n    if (!this.parent) this.updateChildrenBelongLines();\n  }\n\n  /**\n   * Add node as its child\n   *\n   * @param {TreeNode} node: Child node\n   *  (TreeClassicNode/TreeContainerNode/TreeStateNode)\n   */\n  addChild(node) {\n    // Add node to child list\n    this.children.push(node);\n    // Render nodes collapsable header\n    this.renderNodesHeader();\n  }\n}\n\nexport default TreeContainerNode;\n","import { PLUGINS, MOVAI_FLOW_TYPES } from \"../../../../../utils/Constants\";\nimport ClassicNode from \"./ClassicNode\";\nimport ContainerNode from \"./ContainerNode\";\nimport TemporaryContainerNode from \"./TemporaryContainerNode\";\nimport TemporaryNode from \"./TemporaryNode\";\nimport TreeClassicNode from \"./TreeView/TreeClassicNode\";\nimport PreviewClassicNode from \"./Preview/PreviewClassicNode\";\nimport PreviewContainerNode from \"./Preview/PreviewContainerNode\";\nimport TreeContainerNode from \"./TreeView/TreeContainerNode\";\n\n/**\n * Factory class to produce Nodes and Containers (aka Sub-Flows)\n */\nclass Factory {\n  constructor(docManager, output) {\n    this.docManager = docManager;\n    this.output = output;\n  }\n\n  /**\n   * Returns a template object\n   * @param {string} name : The name of the template\n   * @returns {object} : The template data\n   */\n  async getTemplate(name) {\n    const { scope } = this.output;\n    const obj = await this.docManager(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.READ,\n      {\n        scope,\n        name\n      }\n    );\n    const finalObject = obj.serializeToDB();\n\n    if (!obj.isNew)\n      finalObject.Type = finalObject.Type ?? MOVAI_FLOW_TYPES.NODES.MOVAI_FLOW;\n\n    return finalObject;\n  }\n\n  /**\n   * Creates Nodes/Containers\n   * @param {function} docManager : A function to load documents\n   * @param {object} output : One of Factory.OUTPUT\n   * @param {object} args : Arguments to forward to the output instance\n   * @returns\n   */\n  static async create(docManager, output, args) {\n    const { node } = args;\n    const name = node.Template ?? node.ContainerFlow;\n\n    const fact = new Factory(docManager, output);\n    const template = await fact.getTemplate(name);\n\n    // Injecting the factory so that sub-flows can load other sub-flows and node templates\n    const obj = new output.cls({\n      ...args,\n      template,\n      factory: { factory: Factory, docManager }\n    });\n\n    if (\n      [Factory.OUTPUT.CONTAINER.cls, Factory.OUTPUT.TMP_CONTAINER.cls].includes(\n        output.cls\n      )\n    ) {\n      await obj.aInit();\n    }\n\n    return obj;\n  }\n\n  static OUTPUT = {\n    PREV_NODE: { cls: PreviewClassicNode, scope: \"Node\" },\n    PREV_FLOW: { cls: PreviewContainerNode, scope: \"Flow\" },\n    NODE: { cls: ClassicNode, scope: \"Node\" },\n    TMP_NODE: { cls: TemporaryNode, scope: \"Node\" },\n    TREE_NODE: { cls: TreeClassicNode, scope: \"Node\" },\n    CONTAINER: { cls: ContainerNode, scope: \"Flow\" },\n    TMP_CONTAINER: { cls: TemporaryContainerNode, scope: \"Flow\" },\n    TREE_CONTAINER: { cls: TreeContainerNode, scope: \"Flow\" }\n  };\n}\n\nexport default Factory;\n","import { flattenObject } from \"../../Utils/utils\";\n\nconst SEPARATOR = \",\";\n\n/**\n * Transform path and exposed value in object\n * @param {string} obj : \"<template name>,<node name>,<port name>\"\n * @param {bool} value : Port is exposed\n *\n * @returns {object} {node: <node name>, port: <port name>, value: <exposed>}\n */\nconst format = (obj, value) => {\n  const [, node, port] = obj.split(SEPARATOR);\n  return { node, port, value };\n};\n\n/**\n * Returns an array with the state flattened\n * @param {object} state :\n * @returns {array}\n */\nconst normalize = state => {\n  return Object.entries(flattenObject(state, \"\", SEPARATOR)).map(\n    ([key, value]) => {\n      // remove index added by flatten method\n      return [...key.split(SEPARATOR).slice(0, -1), value].join(SEPARATOR);\n    }\n  );\n};\n\n/**\n * Returns an array with the symmetric difference\n * @param {array} arr1 : Array to diff\n * @param {array} arr2 : Array to diff\n * @returns {array}\n */\nconst arrDiff = (arr1, arr2) => {\n  return arr1\n    .filter(v => !arr2.includes(v))\n    .concat(arr2.filter(v => !arr1.includes(v)));\n};\n\n/**\n * shouldUpdateExposedPorts - compare exposed ports states and update only what changed\n * @param {object} prevState exposed ports previous state\n * @param {object} newState exposed ports new state\n * @param {boolean} updateAll update all ports\n */\nconst shouldUpdateExposedPorts = (prevState, newState, updateAll) => {\n  const _prevState = normalize(prevState);\n  const _newState = normalize(newState);\n  const state = updateAll\n    ? [...new Set([..._prevState, ..._newState])]\n    : arrDiff(_prevState, _newState);\n\n  return state.map(key => format(key, _newState.includes(key)));\n};\n\nexport { shouldUpdateExposedPorts };\n","/**\n * Rules for a valid flow\n *\n * 1 - The flow should have at least one link from the start node\n * 2 - @TODO Check cross-talk\n *\n */\n\nimport i18n from \"../../../../../i18n/i18n\";\nimport MESSAGES from \"../../../../../utils/Messages\";\nimport {\n  ROS_VALID_NAMES,\n  ALERT_SEVERITIES\n} from \"../../../../../utils/Constants\";\nimport { defaultFunction } from \"../../../../../utils/Utils\";\nimport { MisMatchMessageLink } from \"../../Components/Links/Errors\";\nimport { isLinkeable } from \"../../Components/Nodes/BaseNode/PortValidator\";\nimport { TYPES } from \"../../Constants/constants\";\n\nexport const WARNING_TYPES = {\n  START_LINK: \"startLink\",\n  LINK_MISMATCH: \"linkMismatchMessage\",\n  INVALID_PARAMETERS: \"invalidParameters\",\n  INVALID_EXPOSED_PORTS: \"invalidExposedPorts\",\n  INVALID_LINKS: \"invalidLinks\"\n};\n\nconst WARNINGS = {\n  [WARNING_TYPES.START_LINK]: {\n    message: i18n.t(\"StartLinkNotFound\"),\n    type: ALERT_SEVERITIES.WARNING,\n    isRuntime: true,\n    isPersistent: false,\n    warningType: WARNING_TYPES.START_LINK\n  },\n  [WARNING_TYPES.LINK_MISMATCH]: {\n    message: i18n.t(\"MessageMismatchedLinks\"),\n    type: ALERT_SEVERITIES.WARNING,\n    isRuntime: false,\n    isPersistent: true,\n    warningType: WARNING_TYPES.LINK_MISMATCH\n  },\n  [WARNING_TYPES.INVALID_PARAMETERS]: {\n    message: i18n.t(\"InvalidSubFlowParameters\"),\n    type: ALERT_SEVERITIES.WARNING,\n    isRuntime: false,\n    isPersistent: true,\n    warningType: WARNING_TYPES.INVALID_PARAMETERS\n  },\n  [WARNING_TYPES.INVALID_EXPOSED_PORTS]: {\n    message: i18n.t(\"InvalidExposedPorts\"),\n    type: ALERT_SEVERITIES.WARNING,\n    isRuntime: false,\n    isPersistent: true,\n    warningType: WARNING_TYPES.INVALID_EXPOSED_PORTS\n  },\n  [WARNING_TYPES.INVALID_LINKS]: {\n    message: i18n.t(\"InvalidLinksFoundTitle\"),\n    type: ALERT_SEVERITIES.WARNING,\n    isRuntime: false,\n    isPersistent: true,\n    warningType: WARNING_TYPES.INVALID_LINKS\n  }\n};\n\nexport default class GraphValidator {\n  constructor(graph) {\n    this.graph = graph;\n  }\n\n  setWarningActions(warningType, action) {\n    if (WARNINGS[warningType]) WARNINGS[warningType].onClick = action;\n  }\n\n  removeWarningAction(warningType) {\n    if (WARNINGS[warningType]) delete WARNINGS[warningType].onClick;\n  }\n\n  /**\n   * @private check if links to the start node\n   * @param {object} link object\n   *\n   * @returns {bool}\n   */\n  isLinkFromStart = link => {\n    return link.data.sourceNode === \"start\";\n  };\n\n  /**\n   * @private\n   * Validate links in graph\n   *  Rule nr. 1 : Missing start link\n   *  Rule nr. 2 : Links between ports with different message types\n   *  Rule nr. 3 : Links that don't have start or end port\n   * @returns {Array} warnings objects\n   */\n  validateLinks = () => {\n    const warnings = [];\n    const links = this.graph.links;\n    const nodes = this.graph.nodes;\n    let linksStart = false;\n    let linksMismatches = false;\n\n    this.addDeletedLinks();\n\n    links.forEach((link, _, _links) => {\n      const linkData = link.data;\n      linksStart = linksStart || this.isLinkFromStart(link);\n\n      // Validate ports here\n      const noPortsError = GraphValidator.validatePorts(linkData, nodes);\n\n      if (Boolean(noPortsError)) {\n        this.graph.deleteLinks([linkData.id]);\n        this.graph.invalidLinks.push(linkData);\n        return;\n      }\n\n      // Validate links message mismatch\n      const error = GraphValidator.validateLinkMismatch(linkData, nodes);\n      link.updateError(error);\n      if (!linksMismatches)\n        linksMismatches = link.error instanceof MisMatchMessageLink;\n    });\n\n    // Check rule nr. 1 : Missing start link\n    if (!linksStart) warnings.push(WARNINGS[WARNING_TYPES.START_LINK]);\n    // Check rule nr. 2 : Links between ports with different message types\n    if (linksMismatches) warnings.push(WARNINGS[WARNING_TYPES.LINK_MISMATCH]);\n    // Check rule nr. 3 : Links that don't have start or end port\n    if (this.graph.invalidLinks.length)\n      warnings.push({\n        ...WARNINGS[WARNING_TYPES.INVALID_LINKS],\n        data: this.graph.invalidLinks,\n        callback: this.graph.clearInvalidLinks\n      });\n\n    return warnings;\n  };\n\n  addDeletedLinks = () => {\n    this.graph.invalidLinks.forEach(invalidLink => {\n      this.graph.addLink({\n        ...invalidLink,\n        From: `${invalidLink.sourceNode}/${invalidLink.sourcePort}`,\n        To: `${invalidLink.targetNode}/${invalidLink.targetPort}`\n      });\n    });\n  };\n\n  /**\n   * @private\n   * Validate if the flow contains any invalid Exposed Ports\n   * - Invalid Exposed Ports: Exposed Ports that exist on the Instance but no set on the Template\n   *\n   * @returns {Array} List of nodes that have invalid Exposed Ports\n   */\n  validateExposedPorts = () => {\n    const warnings = [];\n    const invalidExposedPorts = [];\n    const exposedPorts = Object.values(this.graph.exposedPorts);\n\n    exposedPorts.forEach(instExposedPorts => {\n      Object.entries(instExposedPorts).forEach(\n        ([instName, nodeExposedPorts]) => {\n          const invalidPorts = [];\n          const thisNode = this.graph.nodes.get(instName)?.obj;\n          if (!thisNode) return;\n          nodeExposedPorts.forEach(exposedPort => {\n            if (!thisNode.ports.has(exposedPort)) {\n              invalidPorts.push(exposedPort);\n            }\n          });\n\n          invalidPorts.length &&\n            invalidExposedPorts.push({\n              nodeInst: thisNode,\n              invalidPorts\n            });\n        }\n      );\n    });\n\n    invalidExposedPorts.length &&\n      warnings.push({\n        ...WARNINGS[WARNING_TYPES.INVALID_EXPOSED_PORTS],\n        data: invalidExposedPorts\n      });\n\n    return warnings;\n  };\n\n  /**\n   * @private\n   * Validate if the flow contains any sub-flow with invalid params\n   *  - Invalid params: params set on instance and not set on template\n   *\n   * @returns {Array} List of container id that has invalid params\n   */\n  validateContainerParams = () => {\n    const invalidContainers = [];\n    const invalidParamsWarning = [];\n    const containers = new Map(\n      [...this.graph.nodes].filter(\n        ([_, node]) => node.obj.data.type === TYPES.CONTAINER\n      )\n    );\n    containers.forEach(container => {\n      const containerNode = container.obj;\n      const instanceParams = containerNode?.data?.Parameter ?? {};\n      const templateParams = containerNode?._template?.Parameter ?? {};\n      const invalidParams = [];\n\n      for (const param in instanceParams) {\n        if (!Object.hasOwnProperty.call(templateParams, param)) {\n          invalidParams.push(param);\n        }\n      }\n      invalidParams.length &&\n        invalidContainers.push({\n          id: containerNode.data.id,\n          name: containerNode.data.name,\n          containerNode,\n          invalidParams\n        });\n    });\n\n    invalidContainers.length &&\n      invalidParamsWarning.push({\n        ...WARNINGS[WARNING_TYPES.INVALID_PARAMETERS],\n        data: invalidContainers\n      });\n\n    // return containers id\n    return invalidParamsWarning;\n  };\n\n  /**\n   * run validation rules\n   *\n   * @returns {Object}\n   *  warnings: array with warning messages\n   *  invalidContainers: array with containers id with invalid params\n   */\n  validateFlow = () => {\n    // Gather all warnings\n    const invalidLinks = this.validateLinks();\n    const invalidExposedPorts = this.validateExposedPorts();\n    const invalidParams = this.validateContainerParams();\n    // Merge warnings and return them\n    const warnings = [\n      ...invalidLinks,\n      ...invalidExposedPorts,\n      ...invalidParams\n    ];\n    return { warnings };\n  };\n\n  /**\n   * Validates the given name to add a new instance\n   * 1 - should be unique\n   * 2 - should pass regex test\n   * @param {name} string : New name for this instance\n   * @param {instType} string : Type of instance (Node/Sub-flow)\n   * @returns {object} {result <bool>, error <string>}\n   */\n  validateNodeName = (newName, instType) => {\n    try {\n      const re = ROS_VALID_NAMES;\n      if (!newName)\n        throw new Error(\n          i18n.t(MESSAGES.ERROR_MESSAGES.INSTANCE_NAME_IS_MANDATORY, {\n            instance: instType\n          })\n        );\n      if (!re.test(newName))\n        throw new Error(\n          i18n.t(MESSAGES.ERROR_MESSAGES.INVALID_INSTANCE_NAME, {\n            instance: instType\n          })\n        );\n      if (this.graph.nodes.has(newName))\n        throw new Error(\n          i18n.t(MESSAGES.ERROR_MESSAGES.MULTIPLE_ENTRIES_WITH_SAME_NAME)\n        );\n\n      return { result: true, error: \"\" };\n    } catch (err) {\n      return {\n        result: false,\n        error: err.message\n      };\n    }\n  };\n\n  /**\n   * Extract the Ports Position of Nodes from link\n   * @param {object} link : link object to get the node ports position\n   * @param {array} nodes : Array of nodes to get ports position\n   * @returns\n   */\n  static extractLinkPortsPos = (link, nodes) => {\n    const [sourceNode, targetNode] = [\"sourceNode\", \"targetNode\"].map(key => {\n      const node = nodes.get(link[key]);\n      if (!node) throw new Error(`Node ${link[key]} not found`);\n      return node;\n    });\n\n    const sourcePortPos = sourceNode.obj.getPortPos(link.sourcePort);\n    const targetPortPos = targetNode.obj.getPortPos(link.targetPort);\n\n    return { sourcePortPos, targetPortPos };\n  };\n\n  /**\n   * Validate ports : check if both ports exist for a link to co-exist\n   * @param {object} link : link object to use to validate ports\n   * @param {array} nodes : Array of nodes to get ports position and validate them\n   */\n  static validatePorts = (link, nodes) => {\n    const { sourcePortPos, targetPortPos } = GraphValidator.extractLinkPortsPos(\n      link,\n      nodes\n    );\n\n    if (!sourcePortPos || !targetPortPos) {\n      return \"Ports not found\";\n    }\n  };\n\n  /**\n   * validateLinkMismatch : check if link has message type mismatch\n   * @param {*} link : parsed link object\n   * @param {*} nodes : graph nodes\n   * @returns null or error MisMatchMessageLink object\n   */\n  static validateLinkMismatch = (link, nodes) => {\n    const { sourcePortPos, targetPortPos } = GraphValidator.extractLinkPortsPos(\n      link,\n      nodes\n    );\n\n    // Check if it still has source/target ports\n    if (!sourcePortPos || !targetPortPos) return;\n\n    // Check if link is invalid to define error\n    const error = !isLinkeable(sourcePortPos.data, targetPortPos.data)\n      ? new MisMatchMessageLink(\n          link,\n          { source: sourcePortPos, target: targetPortPos },\n          () => defaultFunction(\"\")\n        )\n      : null;\n\n    link.error = error;\n    // Return error\n    return error;\n  };\n}\n","import { Subject } from \"rxjs\";\nimport _isEqual from \"lodash/isEqual\";\nimport Workspace from \"../../../../../utils/Workspace\";\nimport { PLUGINS } from \"../../../../../utils/Constants\";\nimport StartNode from \"../../Components/Nodes/StartNode\";\nimport BaseLink from \"../../Components/Links/BaseLink\";\nimport { InvalidLink } from \"../../Components/Links/Errors\";\nimport { FLOW_VIEW_MODE, NODE_TYPES } from \"../../Constants/constants\";\nimport Factory from \"../../Components/Nodes/Factory\";\nimport { shouldUpdateExposedPorts } from \"./Utils\";\nimport GraphValidator from \"./GraphValidator\";\n\nconst NODE_DATA = {\n  NODE: {\n    LABEL: \"NodeLabel\",\n    TYPE: NODE_TYPES.NODE\n  },\n  CONTAINER: {\n    LABEL: \"ContainerLabel\",\n    TYPE: NODE_TYPES.CONTAINER\n  }\n};\n\nexport default class GraphBase {\n  constructor({ mInterface, canvas, id, docManager }) {\n    this.mInterface = mInterface;\n    this.canvas = canvas;\n    this.id = id;\n    this.docManager = docManager;\n\n    this.initialize();\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                      Properties                                      *\n     *                                                                                      */\n    //========================================================================================\n\n    this.nodes = new Map(); // <node name> : {obj: <node instance>, links: []}\n    this.links = new Map(); // linkId : <link instance>\n    this.exposedPorts = {};\n    this.selectedNodes = [];\n    this.selectedLink = null;\n    this.tempNode = null;\n    this.warnings = [];\n    this.warningsVisibility = true;\n    this.validator = new GraphValidator(this);\n    this.onFlowValidated = new Subject();\n    this.onLinksValidated = new Subject();\n    this.invalidLinks = [];\n    this.flowDebugging = new Workspace().getFlowIsDebugging();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Getters / Setters                                  *\n   *                                                                                      */\n  //========================================================================================\n\n  get isFlowDebugging() {\n    return this.flowDebugging;\n  }\n\n  set isFlowDebugging(isDebugging) {\n    this.flowDebugging = isDebugging;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Initialization                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   */\n  initialize = () => {\n    this.addSubscribers().addEvents();\n  };\n\n  /**\n   * @private\n   */\n  addSubscribers = () => {\n    // Canvas subscribers\n    this.mode.default.onEnter.subscribe({\n      next: () => this.reset()\n    });\n    this.mode.addNode.onEnter.subscribe({\n      next: () => this.reset()\n    });\n    // Subscribe to node/containers template update\n    this.docManager(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.SUBSCRIBE_TO_CHANGES,\n      this.id,\n      this.onTemplateUpdate\n    );\n\n    return this;\n  };\n\n  updateAllPositions = () => {\n    /* Empty on Purpose */\n  };\n\n  /**\n   * @private\n   */\n  addEvents = () => {\n    this.canvas.el.addEventListener(\"onEnterDefault\", this.reset);\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  update() {\n    for (const node of this.nodes.values()) {\n      node.obj.addToCanvas();\n    }\n    this.validateFlow();\n  }\n\n  /**\n   * @private\n   */\n  clear = () => {\n    // Clear nodes\n    this.nodes.forEach(node => node.obj.destroy());\n    this.nodes.clear();\n    // Clear links\n    this.links.forEach(link => link.destroy());\n    this.links.clear();\n  };\n\n  /**\n   * Called before destroying graph\n   */\n  destroy = () => {\n    // Unsubscribe to changes from docManager\n    this.docManager(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.UNSUBSCRIBE_TO_CHANGES,\n      this.id\n    );\n  };\n\n  /**\n   * @private\n   */\n  async loadNodes(nodes = {}, nodeType = NODE_TYPES.NODE, startNode = true) {\n    const pNodes = Object.entries(nodes).map(([id, value]) => {\n      return this.addNode({ ...value, id }, nodeType);\n    });\n\n    await Promise.all(pNodes);\n\n    if (startNode) this.addStartNode();\n    return this;\n  }\n\n  /**\n   * @private\n   */\n  loadLinks(links = {}) {\n    Object.entries(links).forEach(([id, value]) => {\n      this.addLink({ id, ...value });\n    });\n    return this;\n  }\n\n  /**\n   * @private Clear invalid links property\n   */\n  clearInvalidLinks = () => {\n    this.invalidLinks = [];\n    return this;\n  };\n\n  /**\n   * @private Clear invalid links property\n   */\n  clearInvalidExposedPorts = invalidExposedPorts => {\n    // We'll cycle all Nodes with exposedPorts\n    Object.values(this.exposedPorts).forEach(ep => {\n      // And then cycle all Nodes with Invalid Ports\n      invalidExposedPorts.forEach(iep => {\n        // If this Exposed Port Node exists in the list of Nodes with Invalid Ports\n        if (ep[iep.nodeInst.data.id]) {\n          // We'll filter all invalidPorts from this Node and assign it back to it\n          // thus removing all invalidPOrts from this Node\n          ep[iep.nodeInst.data.id] = ep[iep.nodeInst.data.id].filter(\n            port => !iep.invalidPorts.includes(port)\n          );\n        }\n      });\n    });\n    // Then we return the graph to be able to do chained functions\n    // Such as validateFlow() after removing these exposed ports\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  loadExposedPorts = (exposedPorts, updateAll) => {\n    const updates = shouldUpdateExposedPorts(\n      this.exposedPorts,\n      exposedPorts,\n      updateAll\n    );\n\n    updates.forEach(obj => {\n      const node = this.nodes.get(obj.node);\n      node\n        ? node.obj.setExposedPort(obj.port, obj.value)\n        : console.error(`Exposed port: node ${obj.node} not found`);\n    });\n    this.exposedPorts = exposedPorts;\n    return this;\n  };\n\n  get mode() {\n    return this.mInterface.mode;\n  }\n\n  get viewMode() {\n    return FLOW_VIEW_MODE.default;\n  }\n\n  onNodeDrag = (draggedNode, d) => {\n    const allNodes = this.nodes;\n    const allLinks = this.links;\n    let nodes = [...this.selectedNodes];\n\n    if (draggedNode) {\n      const gnode = this.nodes.get(draggedNode.data.id);\n      nodes = new Set([gnode.obj].concat(nodes));\n    }\n\n    if (this.canvas.inBoundaries(d.x, d.y)) {\n      this.selectedNodes.forEach(node => {\n        node.setPositionDelta(d.dx, d.dy);\n      });\n    }\n\n    function update() {\n      nodes.forEach(node => {\n        const nodeLinks = allNodes.get(node.data.id)?.links || [];\n        nodeLinks.forEach(linkId => {\n          const _link = allLinks.get(linkId);\n          const sourceNode = allNodes.get(_link.data.sourceNode);\n          const targetNode = allNodes.get(_link.data.targetNode);\n          if (sourceNode && targetNode) {\n            _link.update(\n              sourceNode.obj.getPortPos(_link.data.sourcePort),\n              targetNode.obj.getPortPos(_link.data.targetPort)\n            );\n          }\n        });\n      });\n    }\n    requestAnimationFrame(update);\n  };\n\n  /**\n   * On flow update data\n   * @param {*} data\n   */\n  onFlowUpdate = data => {\n    if (this.updateTemplates) {\n      this.updateTemplates();\n      return;\n    }\n    // Add missing nodes and update existing\n    this.updateNodes(data.NodeInst, NODE_TYPES.NODE);\n    this.updateNodes(data.Container, NODE_TYPES.CONTAINER);\n    // Get nodes to remove on update\n    const flowNodes = { ...data.NodeInst, ...data.Container };\n    [...this.nodes.keys()].forEach(nodeId => {\n      if (!flowNodes.hasOwnProperty(nodeId) && nodeId !== \"start\") {\n        this.deleteNode(nodeId);\n      }\n    });\n    // Update links\n    this.updateLinks(data.Links || {});\n    // Update exposed ports\n    this.loadExposedPorts(data.ExposedPorts || {}, true);\n    // Let's re-validate the flow\n    this.validateFlow();\n  };\n\n  /**\n   *\n   * @param {*} data\n   */\n  onTemplateUpdate = data => {\n    if (data.Label === this.id) this.onFlowUpdate(data);\n    else {\n      const nodesArray = [...this.nodes.values()];\n      const templateUpdatePromises = nodesArray.map(node =>\n        node.obj.onTemplateUpdate(data)\n      );\n\n      Promise.all(templateUpdatePromises).then(() => {\n        this.loadExposedPorts(this.exposedPorts, true);\n        this.validateFlow();\n      });\n    }\n  };\n\n  /**\n   * Event triggered on mouse over link\n   *  Fade out all other links\n   * @param {BaseLink} link : hovered link\n   */\n  onMouseOverLink = link => {\n    this.links.forEach(\n      value => (value.transparent = value.id !== link.data.id)\n    );\n  };\n\n  /**\n   * Event triggered on mouse leave link\n   *  Remove transparency from all links (let all active)\n   */\n  onMouseOutLink = () => {\n    this.links.forEach(value => (value.transparent = false));\n  };\n\n  /**\n   * Load Flow Data\n   * @param {*} flow : Data from DB\n   * @returns {Promise} Promise to be resolved after all nodes, containers and links are loaded\n   */\n  async loadData(flow) {\n    await this.loadNodes(flow.NodeInst);\n    await this.loadNodes(flow.Container, NODE_TYPES.CONTAINER, false);\n\n    this.loadLinks(flow.Links)\n      .loadExposedPorts(flow.ExposedPorts || {})\n      .update();\n  }\n\n  /**\n   * Validate flow : get warnings\n   */\n  validateFlow = () => {\n    const { warnings } = this.validator.validateFlow();\n\n    this.onFlowValidated.next({ warnings: warnings });\n    this.warnings = warnings;\n  };\n\n  /**\n   * Bulk operation to update all nodes\n   * @param {object} nodes\n   * @param {string<NODE_TYPES>} nodeType\n   */\n  updateNodes = (nodes, nodeType) => {\n    Object.values(nodes).forEach(node => {\n      this.updateNode(node, nodeType);\n    });\n  };\n\n  /**\n   * updateNode is called when the subscriber gets changes\n   *  if noId is not yet part of the graph means we are\n   *  getting a new node\n   *\n   * @param {string} nodeId node's unique id\n   * @param {obj} data node's data that has changed\n   */\n  updateNode = async (data, nodeType = NODE_TYPES.NODE) => {\n    const nodeId = data[NODE_DATA[nodeType].LABEL];\n    const node = this.nodes.get(nodeId);\n\n    if (node) {\n      // node already exists\n      const currentNodeData = {\n        ...data,\n        ...node.obj.data,\n        Visualization: node.obj.visualizationToDB\n      };\n      const updatedNodeData = { ...node.obj.data, ...data };\n      if (!_isEqual(currentNodeData, updatedNodeData)) {\n        node.obj.updateNode(updatedNodeData);\n      }\n    } else {\n      // node is not yet part of the graph\n      try {\n        await this.addNode({ id: nodeId, ...data }, nodeType);\n        this.update();\n      } catch (error) {\n        console.log(\"debug failed to add node\", error);\n      }\n    }\n  };\n\n  /**\n   * Deletes a node and the connected links\n   * @param {string} nodeId : The node id\n   * @returns {boolean} : True on success, false otherwise\n   */\n  deleteNode = nodeId => {\n    const node = this.nodes.get(nodeId);\n\n    // Delete the links connected with the node\n    this.deleteLinks(node.links);\n\n    // Delete the node\n    node.obj.destroy();\n    return this.nodes.delete(nodeId);\n  };\n\n  /**\n   * Update exposed ports in canvas\n   * @param {*} exposedPorts\n   */\n  updateExposedPorts = exposedPorts => {\n    this.loadExposedPorts(exposedPorts, true);\n  };\n\n  /**\n   * Update links : Remove deleted and add missing\n   * @param {*} links\n   */\n  updateLinks = links => {\n    // Remove deleted links\n    const linksToRemove = [...this.links.keys()].filter(\n      link => !links.hasOwnProperty(link)\n    );\n    this.deleteLinks(linksToRemove);\n    // Add missing links\n    this.loadLinks(links);\n  };\n\n  /**\n   * Add Start Node\n   */\n  addStartNode = () => {\n    const { canvas } = this;\n    const inst = new StartNode({ canvas });\n    const value = { obj: inst, links: [] };\n    this.nodes.set(inst.data.id, value);\n  };\n\n  /**\n   * Adds a new node\n   * @param {object} node : Object describing the node\n   * @param {string} nodeType : One of the types in NODE_TYPES\n   */\n  async addNode(node, nodeType = NODE_TYPES.NODE) {\n    const events = { onDrag: this.onNodeDrag };\n\n    try {\n      const inst = await Factory.create(\n        this.docManager,\n        Factory.OUTPUT[nodeType],\n        { canvas: this.canvas, node, events }\n      );\n\n      this.nodes.set(node.id, { obj: inst, links: [] });\n\n      return inst;\n    } catch (error) {\n      console.warn(\"Error creating node\", error);\n    }\n  }\n\n  addLink = data => {\n    // link already exists, update\n    const link = this.links.get(data.id);\n    if (link) {\n      link.updateData({ Dependency: data.Dependency });\n      return;\n    }\n\n    try {\n      const parsedLink = BaseLink.parseLink(data);\n      const { sourcePortPos, targetPortPos } =\n        GraphValidator.extractLinkPortsPos(parsedLink, this.nodes);\n\n      if (!sourcePortPos || !targetPortPos) {\n        throw new InvalidLink(parsedLink);\n      }\n\n      // create link instance\n      const obj = new BaseLink(\n        this.canvas,\n        sourcePortPos,\n        targetPortPos,\n        parsedLink,\n        this.flowDebugging,\n        this.toggleTooltip\n      );\n\n      // add link to map\n      this.links.set(parsedLink.id, obj);\n\n      // add link to nodes map\n      const linkNodes = [parsedLink.sourceNode, parsedLink.targetNode];\n      this.nodes.forEach((value, key) => {\n        if (linkNodes.includes(key)) {\n          value.links.push(parsedLink.id);\n        }\n      });\n\n      // render link\n      this.canvas.append(() => {\n        return obj.el;\n      }, \"links\");\n\n      this.invalidLinks = this.invalidLinks.filter(l => l.id !== parsedLink.id);\n    } catch (error) {\n      if (\n        error instanceof InvalidLink &&\n        !this.invalidLinks.find(l => l.id === error.link.id)\n      ) {\n        this.invalidLinks.push(error.link);\n      }\n      console.error(error.message);\n    }\n  };\n\n  /**\n   * Deletes the links and remove references in nodes\n   * @param {array} linksToDelete : Array of link ids to delete\n   */\n  deleteLinks = linksToDelete => {\n    // delete the links\n    linksToDelete.forEach(linkId => {\n      this.links.get(linkId)?.destroy();\n      this.links.delete(linkId);\n    });\n\n    // delete the reference to the links\n    this.nodes.forEach(node => {\n      node.links = node.links.filter(linkId => !linksToDelete.includes(linkId));\n    });\n  };\n\n  /**\n   * Show/Hide flow tooltip\n   * @param {*} data : onChangeMouseOver data event\n   */\n  toggleTooltip = (data, type) => {\n    this.canvas.events.next({\n      name: \"onChangeMouseOver\",\n      type: type,\n      data\n    });\n  };\n\n  /**\n   * Set all temporary warnings as permanents\n   */\n  setPermanentWarnings = () => {\n    this.warnings = this.warnings.map(wn => ({ ...wn, isPersistent: true }));\n    this.onFlowValidated.next({ warnings: this.warnings });\n  };\n\n  /**\n   * Update container (sub-flow) parameters\n   * @param {String} containerId : Container ID\n   * @param {Object} params : new container parameter\n   */\n  updateContainerParams = (containerId, params) => {\n    const container = this.nodes.get(containerId);\n    container?.obj?.setParams(params);\n  };\n\n  updateWarningsVisibility = isVisible => {\n    this.warningsVisibility = isVisible;\n  };\n\n  nodeStatusUpdated(nodes) {\n    Object.keys(nodes).forEach(nodeName => {\n      const status = nodes[nodeName];\n      const node = this.nodes.get(nodeName);\n      if (node)\n        node.obj.status = [1, true, \"true\"].includes(status) ? true : false;\n    });\n  }\n\n  reset() {\n    // Reset all selected nodes\n    this.nodes.forEach(node => {\n      node.obj.selected = false;\n    });\n    // Reset selected link\n    if (this.selectedLink) {\n      this.selectedLink.onSelected(false);\n      this.selectedLink = null;\n    }\n  }\n\n  reStrokeLinks = () => {\n    this.links?.forEach(linkData => {\n      linkData.flowDebugging = this.flowDebugging;\n      linkData.changeStrokeColor();\n    });\n    return this;\n  };\n}\n","import { Subject } from \"rxjs\";\n\n/**\n * BaseMode is the default mode strutucte\n * @param {string} id name of the mode\n */\n\nconst BaseMode = function (id) {\n  return {\n    id: id,\n    onEnter: new Subject(),\n    onExit: new Subject(),\n    props: null\n  };\n};\n\nconst _AddNodeMode = function () {\n  return {\n    onClick: new Subject()\n  };\n};\n\n/**\n * AddNodeMode is a custom mode extended from BaseMode and _AddNodeMode\n * @param {string} id name of the mode\n */\nconst AddNodeMode = function (id) {\n  return Object.assign(BaseMode(id), _AddNodeMode());\n};\n\nconst _DragMode = function () {\n  return {\n    onDrag: new Subject()\n  };\n};\n\nconst DragMode = function (id) {\n  return Object.assign(BaseMode(id), _DragMode());\n};\n\nconst _LinkingMode = function () {\n  return {\n    onClick: new Subject(),\n    onMouseMove: new Subject()\n  };\n};\n\nconst LinkingMode = function (id) {\n  return Object.assign(BaseMode(id), _LinkingMode());\n};\n\nexport { BaseMode, AddNodeMode, DragMode, LinkingMode };\n","import { BaseMode, AddNodeMode, DragMode, LinkingMode } from \"./Modes\";\n\n/**\n * InterfaceModes manages the application modes (or states)\n * By default each mode as onEnter and onExit event\n * Mode events are rxjs Subjects meaning they can be easly subscribed.\n * Ex.:\n * mode.AddNode.onEnter.subscribe({\n *  next: (value)=>{}\n * })\n */\n\nexport default class InterfaceModes {\n  constructor(mInterface) {\n    this.mInterface = mInterface;\n\n    this.initialize();\n    this.mode = this._loading;\n    this.previousMode = null;\n  }\n\n  /**\n   * @private\n   */\n  initialize = () => {\n    // loading mode\n    this._loading = BaseMode(\"loading\");\n\n    // default mode\n    this._default = BaseMode(\"default\");\n\n    // drag mode\n    this._drag = DragMode(\"drag\");\n\n    // add node mode\n    this._addNode = AddNodeMode(\"addNode\");\n\n    // add flow mode\n    this._addFlow = AddNodeMode(\"addFlow\");\n\n    // add state mode\n    this._addState = AddNodeMode(\"addState\");\n\n    // linking mode\n    this._linking = LinkingMode(\"linking\");\n\n    // select node mode\n    this._selectNode = BaseMode(\"selectNode\");\n\n    // node context menu\n    this._nodeCtxMenu = BaseMode(\"nodeCtxMenu\");\n\n    // canvas context menu\n    this._canvasCtxMenu = BaseMode(\"canvasCtxMenu\");\n\n    // link context menu\n    this._linkCtxMenu = BaseMode(\"linkCtxMenu\");\n\n    // port context menu\n    this._portCtxMenu = BaseMode(\"portCtxMenu\");\n\n    // dbclick event\n    this._onDblClick = BaseMode(\"onDblClick\");\n\n    // port mouseover/mouseout events\n    this._onPortMouseOver = BaseMode(\"onPortMouseOver\");\n\n    // link error mouseover/mouseout events\n    this._onLinkErrorMouseOver = BaseMode(\"onLinkErrorMouseOver\");\n\n    // toggle warnings events\n    this._onToggleWarnings = BaseMode(\"onToggleWarnings\");\n  };\n\n  get current() {\n    return this.mode;\n  }\n\n  get previous() {\n    return this.previousMode;\n  }\n\n  get canvas() {\n    return this.mInterface.canvas;\n  }\n\n  get graph() {\n    return this.mInterface.graph;\n  }\n\n  // getters for interface modes\n\n  get loading() {\n    return this._loading;\n  }\n\n  get default() {\n    return this._default;\n  }\n\n  get drag() {\n    return this._drag;\n  }\n\n  get addNode() {\n    return this._addNode;\n  }\n\n  get addFlow() {\n    return this._addFlow;\n  }\n\n  get addState() {\n    return this._addState;\n  }\n\n  get linking() {\n    return this._linking;\n  }\n\n  get selectNode() {\n    return this._selectNode;\n  }\n\n  get nodeCtxMenu() {\n    return this._nodeCtxMenu;\n  }\n\n  get canvasCtxMenu() {\n    return this._canvasCtxMenu;\n  }\n\n  get linkCtxMenu() {\n    return this._linkCtxMenu;\n  }\n\n  get portCtxMenu() {\n    return this._portCtxMenu;\n  }\n\n  get onDblClick() {\n    return this._onDblClick;\n  }\n\n  get onPortMouseOver() {\n    return this._onPortMouseOver;\n  }\n\n  get onLinkErrorMouseOver() {\n    return this._onLinkErrorMouseOver;\n  }\n\n  get onToggleWarnings() {\n    return this._onToggleWarnings;\n  }\n\n  /**\n   * @param {string} modeId : The mode id\n   * @param {any} props : The event data\n   * @param {bool} force : Force mode to run onEnter/onExit\n   */\n  setMode = (modeId, props, force) => {\n    // invalid mode\n    const nextMode = this[modeId];\n    if (!nextMode) throw new Error(\"Invalid mode\", modeId);\n\n    if (this.mode.id === modeId && !force) return;\n\n    // trigger onExit\n    this.previousMode = this.mode;\n    this.previousMode.onExit.next(this.previousMode.props);\n\n    // trigger onEnter\n    this.mode = nextMode;\n    nextMode.props = props;\n    nextMode.onEnter.next(props);\n  };\n\n  setPrevious = () => {\n    this.mode.onExit.next(this.mode.props);\n    this.mode = this.previousMode;\n  };\n}\n","import { Subject } from \"rxjs\";\n\nclass Events {\n  onAddLink = new Subject();\n}\n\nexport default Events;\n","import BaseLink from \"./BaseLink\";\n\nexport default class TemporaryLink extends BaseLink {\n  constructor(canvas, src, trg, _) {\n    const _data = {\n      id: \"\",\n      sourceNode: \"\",\n      sourcePort: \"\",\n      targetNode: \"\",\n      targetPort: \"\",\n      dependency: \"\"\n    };\n    super(canvas, src, trg, _data);\n    this.path.attr(\"stroke-dasharray\", \"3,3\");\n    this.addEvents();\n  }\n\n  /**\n   * @private\n   * @override\n   * disable default click event\n   */\n  addEvents = () => {\n    this.path.on(\"click\", null);\n    return this;\n  };\n}\n","import * as d3 from \"d3\";\nimport { Subject } from \"rxjs\";\nimport FlowModel from \"../../../model/Flow\";\nimport { defaultFunction } from \"../../../../../utils/Utils\";\nimport Factory from \"../../Components/Nodes/Factory\";\nimport {\n  FLOW_VIEW_MODE,\n  CANVAS_LIMITS,\n  MAX_MOVING_PIXELS\n} from \"../../Constants/constants\";\nimport TemporaryLink from \"../Links/TemporaryLink\";\n\nclass Canvas {\n  constructor({ classes, containerId, docManager, height, mInterface, width }) {\n    this.classes = classes;\n    this.containerId = containerId;\n    this.docManager = docManager;\n    this.height = height;\n    this.maxMovingPixels = MAX_MOVING_PIXELS;\n    this.mInterface = mInterface;\n    this.width = width;\n\n    this.initialize();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Properties                                      *\n   *                                                                                      */\n  //========================================================================================\n  maxMeasures = null;\n  minScale = null; // The 2 is because we want both sides\n  pixMin = 0;\n  pixMax = null;\n  nodeSize = null;\n  zoomBehavior = null;\n  brushBehavior = null;\n  currentZoom = null;\n  mouse = [0, 0];\n  svg = null;\n  docFrag = null;\n  canvas = null;\n  links = null;\n  brushCanvas = null;\n\n  // subject for canvas events; any element inside the canvas can trigger this subject\n  // the subscriber should filter relevant events by name and type\n  events = new Subject();\n\n  // brush variables\n  _hoveredNode = null;\n  isBrushing = false;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Getters & Setters                                  *\n   *                                                                                      */\n  //========================================================================================\n\n  get mode() {\n    return this.mInterface.mode;\n  }\n\n  get previousMode() {\n    return this.mInterface.mode.previousMode;\n  }\n\n  get el() {\n    return this.svg;\n  }\n\n  /**\n   * get mouse position\n   */\n  get mousePos() {\n    return this._mouse;\n  }\n\n  /**\n   * Return mouse position in object with x and y\n   */\n  get mousePosition() {\n    return { x: this._mouse[0], y: this._mouse[1] };\n  }\n\n  /**\n   * set mouse position\n   * @param {array} value [x,y] position in canvas\n   */\n  set mousePos(value) {\n    this._mouse = value;\n  }\n\n  set hoveredNode(value) {\n    this._hoveredNode = value;\n    if (!value && d3.event.shiftKey) {\n      this.addBrushCanvas();\n    }\n  }\n\n  get isMouseOverNode() {\n    return this._hoveredNode !== null;\n  }\n\n  /**\n   * Get selected link\n   */\n  get selectedLink() {\n    return this.mInterface.selectedLink;\n  }\n\n  getSvg = () => {\n    return d3.select(this.svg) || this.initSvg();\n  };\n\n  setMode = (mode, props, force = false) => {\n    this.mInterface.setMode(mode, props, force);\n  };\n\n  setPreviousMode = () => {\n    this.mInterface.setPreviousMode();\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Initialization                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  initialize = () => {\n    this.maxMeasures = Math.max(this.width, this.height);\n    this.minScale = 0.2;\n    this.nodeSize =\n      0.005 * this.maxMovingPixels < 40 ? 40 : 0.005 * this.maxMovingPixels;\n    this.pixMax = this.maxMovingPixels;\n\n    this.zoomBehavior = this.createZoomBehavior();\n    this.brushBehavior = this.createBrushBehavior();\n\n    this.init();\n  };\n\n  init = () => {\n    this.initSvg()\n      .addDefs()\n      .addCanvas()\n      .addEvents()\n      .addLinksCanvas()\n      .addSubscribers();\n  };\n\n  appendDocumentFragment = () => {\n    const el_container = document.getElementById(this.containerId);\n    d3.select(`#${this.containerId} svg`).remove();\n    el_container.appendChild(this.svg);\n  };\n\n  initSvg = () => {\n    const { classes } = this;\n\n    const docFragment = document.createDocumentFragment();\n\n    d3.select(docFragment)\n      .append(\"svg\")\n      .attr(\"width\", \"99.8%\")\n      .attr(\"height\", \"99.8%\")\n      .attr(\"id\", `interface-${this.containerId}`)\n      .attr(\"focusable\", true)\n      .attr(\"tabindex\", \"-1\")\n      .style(\"outline\", \"none\")\n      //.style(\"background-color\", classes.flowEditor.interfaceColor)\n      .attr(\n        \"class\",\n        `${FlowModel.CLASSNAME} ${classes.flowEditor.interfaceColor}`\n      )\n      .call(this.zoomBehavior);\n\n    this.svg = docFragment.firstChild;\n    this.docFrag = docFragment;\n\n    return this;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  createZoomBehavior = () => {\n    const { cameraUpdate, minScale, pixMin, pixMax } = this;\n\n    return d3\n      .zoom()\n      .filter(() => !d3.event.shiftKey)\n      .scaleExtent([minScale, 4])\n      .translateExtent([\n        [pixMin, pixMin],\n        [pixMax, pixMax]\n      ])\n      .on(\"zoom\", cameraUpdate);\n  };\n\n  cameraUpdate = () => {\n    const lowScale =\n      d3.event.transform.k <= this.minScale\n        ? this.minScale\n        : d3.event.transform.k * 0.9;\n    const maxScale = d3.event.transform.k >= 4 ? 4 : d3.event.transform.k * 1.1;\n\n    this.zoomBehavior.scaleExtent([lowScale, maxScale]);\n    this.canvas.attr(\"transform\", d3.event.transform);\n    this.links.attr(\"transform\", d3.event.transform);\n    this.currentZoom = d3.event.transform;\n  };\n\n  createBrushBehavior = () => {\n    const { pixMin, pixMax, endBrush } = this;\n\n    return d3\n      .brush()\n      .extent([\n        [pixMin, pixMin],\n        [pixMax, pixMax]\n      ])\n      .filter(() => d3.event.shiftKey)\n      .keyModifiers(false)\n      .on(\"end\", endBrush);\n  };\n\n  endBrush = () => {\n    if (!d3.event.selection) return;\n\n    this.brushCanvas.call(this.brushBehavior.move, null);\n    this.selectNodes(d3.event.selection);\n    setTimeout(() => this.delBrushCanvas());\n  };\n\n  selectNodes(quad) {\n    const { k, x, y } = this.mInterface.canvas.currentZoom || {\n      k: 1,\n      x: 0,\n      y: 0\n    };\n    const minCorner = quad[0].map(\n      (v, i) => (v + Math.abs(i === 0 ? x : y)) / k\n    );\n    const maxCorner = quad[1].map(\n      (v, i) => (v + Math.abs(i === 0 ? x : y)) / k\n    );\n    const nodes = Array.from(this.mInterface?.graph?.nodes.values());\n    const nodesInsideQuad = [];\n    nodes.forEach(node => {\n      const { xCenter, yCenter } = node.obj.center;\n      const center = [xCenter, yCenter];\n      const greaterThanMinCorner = center.every(\n        (xValue, i) => xValue > minCorner[i]\n      );\n      const lessThanMaxCorner = center.every(\n        (xValue, i) => xValue < maxCorner[i]\n      );\n      if (greaterThanMinCorner && lessThanMaxCorner) {\n        node.obj.selected = true;\n        nodesInsideQuad.push(node.obj);\n      }\n    });\n    const selectedSet = new Set(\n      [...this.mInterface.selectedNodes].concat(nodesInsideQuad)\n    );\n    if (selectedSet.size > 0) {\n      this.setMode(\n        \"selectNode\",\n        {\n          nodes: Array.from(selectedSet),\n          shiftKey: true\n        },\n        true\n      );\n    }\n  }\n\n  getEditionCursor = mode => {\n    const cursor = {\n      [FLOW_VIEW_MODE.default]: \"default\",\n      [FLOW_VIEW_MODE.treeView]: \"not-allowed\"\n    };\n    return cursor[mode];\n  };\n\n  reload = () => {\n    const { classes } = this;\n    this.getSvg().attr(\"class\", `${classes.flowEditor.interfaceColor}`);\n  };\n\n  /**\n   * @private\n   */\n  addDefs = () => {\n    const defs = this.getSvg().append(\"svg:defs\");\n    const { containerId } = this;\n    defs\n      .selectAll(\"marker\")\n      .data([\n        { type: \"selected\", color: \"red\" },\n        { type: \"normal\", color: \"white\" }\n      ])\n      .enter()\n      .append(\"svg:marker\")\n      .attr(\"id\", function (d) {\n        return `${containerId}-marker${d.type}`;\n      })\n      .attr(\"markerHeight\", 5)\n      .attr(\"markerWidth\", 5)\n      .attr(\"markerUnits\", \"strokeWidth\")\n      .attr(\"orient\", \"auto\")\n      .attr(\"refX\", 0)\n      .attr(\"refY\", 0)\n      .attr(\"viewBox\", \"-5 -5 10 10\")\n      .append(\"svg:path\")\n      .attr(\"d\", \"M 0,0 m -5,-5 L 5,0 L -5,5 Z\")\n      .attr(\"fill\", function (d) {\n        return d.color;\n      });\n\n    defs\n      .append(\"filter\")\n      .attr(\"id\", `shadow-${containerId}`)\n      .append(\"feDropShadow\")\n      .attr(\"dx\", \"1.5\")\n      .attr(\"dy\", \"1.5\")\n      .attr(\"stdDeviation\", \"1\");\n\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  addCanvas = () => {\n    this.canvas = d3\n      .select(this.svg)\n      .append(\"g\")\n      .attr(\"id\", `canvasContainer-${this.containerId}`)\n      .attr(\"width\", this.maxMovingPixels)\n      .attr(\"height\", this.maxMovingPixels)\n      .attr(\"stroke\", \"black\")\n      .style(\"pointer-events\", \"all\")\n      .on(\"click\", _ => defaultFunction());\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  addLinksCanvas = () => {\n    this.links = d3\n      .select(this.svg)\n      .append(\"g\")\n      .attr(\"id\", `linksContainer-${this.containerId}`)\n      .attr(\"width\", this.maxMovingPixels)\n      .attr(\"height\", this.maxMovingPixels)\n      .attr(\"stroke\", \"black\")\n      .style(\"pointer-events\", \"all\")\n      .on(\"click\", _ => defaultFunction());\n\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  addBrushCanvas = () => {\n    this.isBrushing = true;\n    this.brushCanvas = d3\n      .select(this.svg)\n      .append(\"g\")\n      .attr(\"class\", \"brush\")\n      .call(this.brushBehavior);\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  delBrushCanvas = () => {\n    this.isBrushing = false;\n    d3.selectAll(\".brush\").remove();\n  };\n\n  /**\n   * @private\n   */\n  addEvents = () => {\n    const svg = this.getSvg();\n    const events = [\n      {\n        event: \"contextmenu\",\n        fn: () => this.onContext()\n      },\n      {\n        event: \"click\",\n        fn: () => this.onClick()\n      },\n      {\n        event: \"mousemove\",\n        fn: () => this.onMouseMove()\n      },\n      {\n        event: \"keydown\",\n        fn: () => this.onKeyDown()\n      },\n      {\n        event: \"keyup\",\n        fn: () => this.onKeyUp()\n      }\n    ];\n\n    events.forEach(item => {\n      svg.on(item.event, item.fn);\n    });\n\n    return this;\n  };\n\n  /**\n   * @private\n   */\n  addSubscribers = () => {\n    this.mode.addNode.onEnter.subscribe(node => this.onAddNodeEnter(node));\n    this.mode.addNode.onExit.subscribe(() => this.onAddNodeExit());\n    this.mode.addFlow.onEnter.subscribe(flow => this.onAddFlowEnter(flow));\n    this.mode.addFlow.onExit.subscribe(() => this.onAddFlowExit());\n    this.mode.addState.onEnter.subscribe(state => this.onAddStateEnter(state));\n    this.mode.addState.onExit.subscribe(() => this.onAddStateExit());\n    this.mode.linking.onEnter.subscribe(data => this.onLinkingEnter(data));\n    this.mode.linking.onExit.subscribe(() => this.onLinkingExit());\n    this.mode.default.onEnter.subscribe(() => this.delBrushCanvas());\n\n    return this;\n  };\n\n  /**\n   * Check if node position is in canvas boundaries\n   * @param {number} x : Position in X axis\n   * @param {number} y : Position in Y axis\n   * @returns {boolean} False if x or y is not in boundaries and True otherwise\n   */\n  inBoundaries = (x, y) => {\n    // Returns true if invalid\n    const fn = (val, min, max) => {\n      return val < min || val > max;\n    };\n    // Returns false if x or y is not in boundaries\n    return ![\n      [x, ...CANVAS_LIMITS[0]],\n      [y, ...CANVAS_LIMITS[1]]\n    ].some(values => fn(...values));\n  };\n\n  /**\n   * Check if node is in canvas boundaries\n   *  Returns always valid positions in canvas\n   * @param {number} x : Position in X axis\n   * @param {number} y : Position in Y axis\n   * @returns {array<posX, posY>} Valid position\n   */\n  getPositionInBoundaries = (x, y) => {\n    const [minX, maxX] = CANVAS_LIMITS[0];\n    const [minY, maxY] = CANVAS_LIMITS[1];\n    // Returns at least min value\n    // And at most max value\n    const fn = (val, min, max) => {\n      if (val < min) return min;\n      if (val > max) return max;\n      return val;\n    };\n    // Returns parsed position\n    return [fn(x, minX, maxX), fn(y, minY, maxY)];\n  };\n\n  append = (element, type = \"canvas\") => {\n    if (type === \"links\") {\n      this.links.append(element);\n      // send links to back\n      this.links.lower();\n    } else {\n      this.canvas.append(element);\n    }\n  };\n\n  dispatchEvent = (name, value) => {\n    const event = new CustomEvent(name, value);\n    this.el.dispatchEvent(event);\n  };\n\n  /**\n   * @private\n   */\n  onContext = () => {\n    d3.event.preventDefault();\n    d3.event.stopPropagation();\n\n    const transform = d3.zoomTransform(this.el);\n    let newPosition = [...this.mousePos];\n\n    if (transform.k !== 1) {\n      newPosition = transform.invert(newPosition);\n    }\n\n    this.setMode(\n      \"canvasCtxMenu\",\n      { event: d3.event, position: { x: newPosition[0], y: newPosition[1] } },\n      true\n    );\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   */\n  onClick = () => {\n    // get current mode onClick state if exists\n    // if mode does not have onClick then executes the\n    // next function in the default object\n\n    // skip event if pressing shift while on selectNode mode\n    if (d3.event.shiftKey && this.mode.current.id === \"selectNode\") return;\n\n    const fn = this.mode.current.onClick ?? {\n      next: () => {\n        this.setMode(\"default\", null, true);\n      }\n    };\n    fn.next();\n  };\n\n  /**\n   * @private\n   */\n  onMouseMove = () => {\n    this.mousePos = d3.mouse(this.el);\n    const fn = [\n      { id: \"addNode\", fn: () => this.onAddNodeMouseMove() },\n      { id: \"addFlow\", fn: () => this.onAddNodeMouseMove() },\n      { id: \"addState\", fn: () => this.onAddNodeMouseMove() },\n      { id: \"linking\", fn: () => this.onLinkingMouseMove() }\n    ];\n    fn.filter(obj => obj.id === this.mode.current.id).forEach(obj => obj.fn());\n  };\n\n  /**\n   * @private\n   */\n  onKeyDown = () => {\n    if (d3.event.shiftKey && !this.isMouseOverNode) {\n      this.addBrushCanvas();\n    }\n  };\n\n  /**\n   * @private\n   */\n  onKeyUp = () => {\n    if (d3.event.key === \"Shift\" && this.isBrushing) {\n      this.delBrushCanvas();\n    }\n  };\n\n  onAddNodeEnter = props => {\n    const { templateId } = props;\n    const modeEvent = this.mode.addNode;\n    const node = { Template: templateId };\n    const factoryOutput = Factory.OUTPUT.TMP_NODE;\n\n    this.addNodeEnter({ modeEvent, node, factoryOutput });\n  };\n\n  onAddNodeExit = () => {\n    const { node } = this.mode.addNode.props;\n    this.getSvg().style(\"cursor\", \"default\");\n    if (node) {\n      // remove temporary node from canvas\n      node.destroy();\n    }\n  };\n\n  onAddFlowEnter = props => {\n    const { templateId } = props;\n    const modeEvent = this.mode.addFlow;\n    const node = {\n      id: templateId,\n      ContainerFlow: templateId,\n      ContainerLabel: templateId\n    };\n    const factoryOutput = Factory.OUTPUT.TMP_CONTAINER;\n\n    this.addNodeEnter({ modeEvent, node, factoryOutput });\n  };\n\n  addNodeEnter = props => {\n    const { modeEvent, node, factoryOutput } = props;\n    this.el.focus();\n\n    const mode = this.mInterface.graph.viewMode;\n    const editionCursor = this.getEditionCursor(mode);\n    this.getSvg().style(\"cursor\", editionCursor);\n\n    // Add temp node\n    Factory.create(this.docManager, factoryOutput, {\n      canvas: this,\n      node,\n      events: {}\n    }).then(obj => {\n      modeEvent.props.node = obj;\n\n      this.append(() => {\n        return obj.el;\n      });\n    });\n  };\n\n  onAddFlowExit = () => {\n    const { node } = this.mode.addFlow.props;\n    this.getSvg().style(\"cursor\", \"default\");\n    if (node) {\n      // remove temporary node from canvas\n      node.destroy();\n    }\n  };\n\n  /**\n   * update the node position on mouse move\n   */\n  onAddNodeMouseMove = () => {\n    const transform = d3.zoomTransform(this.el);\n\n    // apply offset to prevent mouse from being positioned on top of the name\n    const offset = { x: 0, y: -5 };\n    let newPosition = [...this.mousePos];\n\n    // apply transform on the newPosition\n    if (transform.k !== 1 || transform.x !== 0 || transform.y !== 0) {\n      newPosition = transform.invert(newPosition);\n    }\n    // set new position on the temporary node\n    this.mode.current.props?.node?.setPosition(\n      newPosition[0] + offset.x,\n      newPosition[1] + offset.y\n    );\n  };\n\n  onLinkingEnter = () => {\n    const { src } = this.mode.linking.props;\n\n    this.mode.linking.props.link = new TemporaryLink(\n      this,\n      src.position,\n      src.position\n    );\n    this.append(() => {\n      return this.mode.linking.props.link.el;\n    }, \"links\");\n    this.mode.linking.activelyLinking = true;\n    this.mode.linking.props.link.fadeOtherLinks();\n  };\n\n  onLinkingExit = () => {\n    const { link } = this.mode.linking.props;\n    if (link) link.destroy();\n    this.mode.linking.activelyLinking = false;\n    this.mode.linking.props.link.removeLinksFade();\n  };\n\n  onLinkingMouseMove = () => {\n    const transform = d3.zoomTransform(this.el);\n    let newPosition = [...this.mousePos];\n    newPosition = transform.invert(newPosition);\n    const trg = {\n      x: newPosition[0],\n      y: newPosition[1],\n      nodeSize: { height: 50, width: 50 },\n      data: {}\n    };\n    this.mode.linking.props.link.update(null, trg);\n  };\n\n  onResetZoom = () => {\n    this.getSvg()\n      .transition()\n      .duration(750)\n      .call(this.zoomBehavior.transform, d3.zoomIdentity);\n  };\n\n  zoomToCoordinates = (xCoordinate, yCoordinate) => {\n    const { width, height } = this.el.getBoundingClientRect();\n    this.getSvg()\n      .transition()\n      .duration(750)\n      .call(\n        this.zoomBehavior.transform,\n        d3.zoomIdentity\n          .translate(\n            width * 0.5 - 2 * xCoordinate,\n            height * 0.5 - 2 * yCoordinate\n          )\n          .scale(2)\n      );\n  };\n}\n\nexport default Canvas;\n","import lodash from \"lodash\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { filter } from \"rxjs/operators\";\nimport { NODE_TYPES, TYPES } from \"../../Constants/constants\";\nimport Graph from \"../../Core/Graph/GraphBase\";\nimport { EVT_NAMES } from \"../../events\";\nimport StartNode from \"../Nodes/StartNode\";\nimport InterfaceModes from \"./InterfaceModes\";\nimport Events from \"./Events\";\nimport Canvas from \"./canvas\";\n\nconst NODE_PROPS = {\n  Node: {\n    LABEL: \"NodeLabel\",\n    MODEL_ADD_METHOD: \"addNode\",\n    MODEL_DEL_METHOD: \"deleteNode\",\n    TYPE: NODE_TYPES.NODE\n  },\n  Flow: {\n    LABEL: \"ContainerLabel\",\n    MODEL_ADD_METHOD: \"addSubFlow\",\n    MODEL_DEL_METHOD: \"deleteSubFlow\",\n    TYPE: NODE_TYPES.CONTAINER\n  }\n};\n\nexport default class MainInterface {\n  constructor({\n    id,\n    containerId,\n    modelView,\n    width,\n    height,\n    data,\n    classes,\n    call,\n    graphCls\n  }) {\n    //========================================================================================\n    /*                                                                                      *\n     *                                      Properties                                      *\n     *                                                                                      */\n    //========================================================================================\n    this.id = id;\n    this.containerId = containerId;\n    this.width = width;\n    this.height = height;\n    this.modelView = modelView;\n    this.data = data;\n    this.graphCls = graphCls ?? Graph;\n    this.classes = classes;\n    this.docManager = call;\n    this.stateSub = new BehaviorSubject(0);\n    this.events = new Events();\n    this.mode = new InterfaceModes(this);\n    this.api = null;\n    this.canvas = null;\n    this.graph = null;\n    this.shortcuts = null;\n\n    this.initialize();\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Initialization                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  initialize = () => {\n    const { classes, containerId, docManager, height, id, width } = this;\n\n    // Set initial mode as loading\n    this.setMode(EVT_NAMES.LOADING);\n\n    this.canvas = new Canvas({\n      mInterface: this,\n      containerId,\n      width,\n      height,\n      classes,\n      docManager\n    });\n\n    this.graph = new this.graphCls({\n      id,\n      mInterface: this,\n      canvas: this.canvas,\n      docManager\n    });\n\n    // Load document and add subscribers\n    this.addSubscribers()\n      .loadDoc()\n      .then(() => {\n        this.canvas.el.focus();\n        this.setMode(EVT_NAMES.DEFAULT);\n      });\n  };\n\n  /**\n   * @private\n   * Loads the document in the graph\n   * @returns {MainInterface} : The instance\n   */\n  loadDoc = async () => {\n    await this.graph.loadData(this.modelView.current.serializeToDB());\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Setters and Getters                                 *\n   *                                                                                      */\n  //========================================================================================\n\n  get selectedNodes() {\n    return this.graph.selectedNodes;\n  }\n\n  set selectedNodes(nodes) {\n    this.graph.selectedNodes = nodes;\n    if (this.selectedLink) this.selectedLink.onSelected(false);\n  }\n\n  get selectedLink() {\n    return this.graph.selectedLink;\n  }\n\n  set selectedLink(link) {\n    if (this.graph.selectedLink) this.graph.selectedLink.onSelected(false);\n    this.graph.selectedLink = link;\n  }\n\n  setMode = (mode, props, force) => {\n    this.mode.setMode(mode, props, force);\n  };\n\n  setPreviousMode = () => {\n    this.mode.setPrevious();\n  };\n\n  nodeStatusUpdated = (nodeStatus, robotStatus) => {\n    this.graph.nodeStatusUpdated(nodeStatus, robotStatus);\n  };\n\n  addLink = () => {\n    const { src, trg, link, toCreate } = this.mode.linking.props;\n\n    if (toCreate && link.isValid(src, trg, this.graph.links)) {\n      // create new link\n      const newLink = this.modelView.current.addLink(link.toSave(src, trg));\n\n      // render new link localy\n      this.graph.addLink(newLink);\n      this.graph.validateFlow();\n\n      this.events.onAddLink.next(newLink);\n    }\n  };\n\n  deleteLink = linkId => {\n    this.modelView.current.deleteLink(linkId);\n    this.graph.deleteLinks([linkId]);\n    this.graph.validateFlow();\n  };\n\n  addNode = name => {\n    const node = {\n      ...this.mode.current.props.node.data,\n      NodeLabel: name,\n      name: name,\n      id: name\n    };\n    this.modelView.current.addNode(node);\n    this.graph.addNode(node, NODE_TYPES.NODE).then(() => {\n      this.graph.update();\n      this.setMode(EVT_NAMES.DEFAULT);\n    });\n\n    return this;\n  };\n\n  addFlow = name => {\n    const node = {\n      ...this.mode.current.props.node.data,\n      ContainerLabel: name,\n      name: name,\n      id: name\n    };\n    this.modelView.current.addSubFlow(node);\n    this.graph.addNode(node, NODE_TYPES.CONTAINER).then(() => {\n      this.graph.update();\n      this.setMode(EVT_NAMES.DEFAULT);\n    });\n\n    return this;\n  };\n\n  /**\n   * Paste node/sub-flow\n   *  Add it to model data and to canvas\n   * @param {string} name : Copy new name\n   * @param {*} nodeData : Node original data\n   * @param {{x: number, y: number}} position : Position to paste node\n   */\n  pasteNode = (name, nodeData, position) => {\n    // Gather information from model\n    const NODE_PROP_DATA = NODE_PROPS[nodeData.model];\n    // Set node in canvas boundaries\n    const nodePos = this.canvas.getPositionInBoundaries(position.x, position.y);\n    // Build node data\n    const node = {\n      ...nodeData,\n      Visualization: nodePos,\n      [NODE_PROP_DATA.LABEL]: name,\n      Label: name,\n      name: name,\n      id: name\n    };\n    // Add node to model data\n    this.modelView.current[NODE_PROP_DATA.MODEL_ADD_METHOD](node);\n    // Add node to canvas\n    this.graph.addNode(node, NODE_PROP_DATA.TYPE).then(() => {\n      this.graph.update();\n      this.setMode(EVT_NAMES.DEFAULT);\n    });\n  };\n\n  /**\n   * Delete Nodes/Sub-Flows\n   * @param {*} node : Node data\n   */\n  deleteNode = node => {\n    // Gather information from model\n    const NODE_PROP_DATA = NODE_PROPS[node.model];\n    // Delete from model data\n    this.modelView.current[NODE_PROP_DATA.MODEL_DEL_METHOD](node.id);\n    // Delete from canvas\n    this.graph.deleteNode(node.id);\n    // Remove from selected nodes\n    this.selectedNodes = this.selectedNodes.filter(\n      el => el.data.id !== node.id\n    );\n  };\n\n  toggleExposedPort = port => {\n    const templateName = port.node.getExposedName();\n    const nodeName = port.node.name;\n    const portName = port.name;\n\n    this.graph.updateExposedPorts(\n      this.modelView.current.toggleExposedPort(templateName, nodeName, portName)\n    );\n  };\n\n  searchNode = node => {\n    return node.name && this.graph.nodes.get(node.name)?.obj;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                      Subscribers                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private\n   * Initializes the subscribers\n   * @returns {MainInterface} : The instance\n   */\n  addSubscribers = () => {\n    this.mode.default.onEnter.subscribe(this.onDefault);\n\n    // drag mode -> onExit event\n    this.mode.drag.onExit.subscribe(this.onDragEnd);\n\n    // Node click and double click events\n    this.mode.selectNode.onEnter.subscribe(this.onSelectNode);\n\n    this.mode.onDblClick.onEnter.subscribe(() => {\n      this.setMode(EVT_NAMES.DEFAULT);\n    });\n\n    // Linking mode events\n    this.mode.linking.onEnter.subscribe(this.onLinkingEnter);\n    this.mode.linking.onExit.subscribe(this.onLinkingExit);\n\n    // Canvas events (not modes)\n    // toggle warnings\n    this.canvas.events\n      .pipe(filter(event => event.name === EVT_NAMES.ON_TOGGLE_WARNINGS))\n      .subscribe(this.onToggleWarnings);\n\n    return this;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Helper Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  hideLinks = (node, visitedLinks) => {\n    node.links.forEach(linkId => {\n      const link = this.graph.links.get(linkId);\n      if (\n        // link was not yet visited or is visible\n        !visitedLinks.has(linkId) ||\n        link.visible\n      ) {\n        link.visibility = node.obj.visible;\n      }\n      visitedLinks.add(linkId);\n    });\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Event Handlers                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  onDefault = () => {\n    this.selectedNodes.length = 0;\n  };\n\n  onDragEnd = draggedNode => {\n    const selectedNodesSet = new Set([draggedNode].concat(this.selectedNodes));\n    const nodes = Array.from(selectedNodesSet).filter(obj => obj);\n\n    nodes.forEach(node => {\n      const { id } = node.data;\n      const [x, y] = node.data.Visualization;\n\n      const items =\n        node.data.type === TYPES.CONTAINER\n          ? this.modelView.current.getSubFlows()\n          : this.modelView.current.getNodeInstances();\n\n      items.getItem(id).setPosition(x, y);\n    });\n  };\n\n  onLinking = data => {\n    this.graph.nodes.forEach(node => node.obj.linking(data));\n  };\n\n  onLinkingEnter = () => {\n    const { data } = this.mode.current.props.src;\n    this.onLinking(data);\n  };\n\n  onLinkingExit = () => {\n    this.onLinking();\n    this.addLink();\n  };\n\n  onSelectNode = data => {\n    const { nodes, shiftKey } = data;\n    const { selectedNodes } = this;\n    const filterNodes = nodes.filter(n => n.data.model !== StartNode.model);\n\n    this.selectedLink = null;\n\n    if (!shiftKey) selectedNodes.length = 0;\n\n    filterNodes.forEach(node => {\n      node.selected\n        ? selectedNodes.push(node)\n        : lodash.pull(selectedNodes, node);\n    });\n  };\n\n  onToggleWarnings = event => {\n    // show/hide warnings\n    this.graph.updateWarningsVisibility(event.data);\n  };\n\n  onStateChange = fn => {\n    return this.stateSub.subscribe(fn);\n  };\n\n  onGroupsChange = groups => {\n    const visitedLinks = new Set();\n    this.graph.nodes.forEach(node => {\n      node.obj.onGroupsChange(groups);\n      this.hideLinks(node, visitedLinks);\n    });\n  };\n\n  onGroupChange = (groupId, visibility) => {\n    const visitedLinks = new Set();\n    this.graph.nodes.forEach(node => {\n      if (node.obj.data.NodeLayers?.includes(groupId)) {\n        node.obj.visibility = !visibility;\n        this.hideLinks(node, visitedLinks);\n      }\n    });\n  };\n\n  /**\n   * Resets all Node status (Turns of the center)\n   */\n  resetAllNodeStatus = () => {\n    this.graph.resetStatus && this.graph.resetStatus();\n  };\n\n  onResetZoom = () => {\n    this.canvas.onResetZoom();\n  };\n\n  onMoveNode = event => {\n    const currentZoom = this.canvas.currentZoom?.k ?? 1;\n    const step = 2 / currentZoom + 1;\n    const delta = {\n      ArrowRight: [1 * step, 0],\n      ArrowLeft: [-1 * step, 0],\n      ArrowUp: [0, -1 * step],\n      ArrowDown: [0, 1 * step]\n    };\n    const [dx, dy] = delta[event.code];\n    const [x, y] = [50, 50]; // skip boundaries validation used when dragging a node\n    this.graph.onNodeDrag(null, { x, y, dx, dy });\n    this.onDragEnd();\n  };\n\n  onFocusNode = node => {\n    const { xCenter, yCenter } = node.center;\n    this.setMode(EVT_NAMES.DEFAULT, null, true);\n    node.selected = true;\n    if (node.data.id !== \"start\") {\n      this.setMode(\n        EVT_NAMES.SELECT_NODE,\n        { nodes: [node], shiftKey: false },\n        true\n      );\n    }\n    this.canvas.zoomToCoordinates(xCenter, yCenter);\n  };\n\n  destroy = () => {\n    // Nothing to do\n  };\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const baseFlowStyles = makeStyles(theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer - 1,\n    color: theme.backdrop.color,\n    backgroundColor: theme.backdrop.background,\n    position: \"absolute\",\n    height: \"100%\",\n    width: \"100%\",\n    opacity: 0\n  },\n  flowContainer: {\n    height: \"calc(100% - 75px)\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\"\n  },\n  flowCanvas: {\n    width: \"100%\",\n    height: \"100%\",\n    flexGrow: 1\n  },\n  flowEditor: {\n    interfaceColor: theme.palette.background.primary\n  }\n}));\n","import React, { useCallback, useEffect, useMemo, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport { PLUGINS, SCOPES } from \"../../../../utils/Constants\";\nimport { generateContainerId } from \"../Constants/constants\";\nimport { EVT_NAMES } from \"../events\";\nimport Loader from \"../../../_shared/Loader/Loader\";\nimport Warnings from \"../Components/Warnings/Warnings\";\nimport DependencyInfo from \"../Components/Debugging/DependencyInfo\";\nimport useMainInterface from \"./hooks/useMainInterface\";\n\nimport { baseFlowStyles } from \"./styles\";\n\nconst BaseFlow = props => {\n  const {\n    call,\n    instance,\n    id,\n    name,\n    type,\n    model,\n    dataFromDB,\n    off,\n    on,\n    warnings,\n    warningsVisibility,\n    onReady,\n    flowDebugging,\n    viewMode,\n    graphClass,\n    loading\n  } = props;\n  const readOnly = false;\n\n  // Other hooks\n  const classes = baseFlowStyles();\n  const containerId = useMemo(\n    () => `${viewMode}-${generateContainerId(id)}`,\n    [viewMode, id]\n  );\n\n  const { mainInterface } = useMainInterface({\n    classes,\n    instance,\n    name,\n    data: dataFromDB,\n    graphCls: graphClass,\n    type,\n    width: \"400px\",\n    height: \"200px\",\n    containerId,\n    model,\n    readOnly,\n    call\n  });\n\n  const getMainInterface = useCallback(\n    () => mainInterface.current,\n    [mainInterface]\n  );\n\n  // Enter in add node/sub-flow mode\n  useEffect(() => {\n    on(PLUGINS.FLOW_EXPLORER.NAME, PLUGINS.FLOW_EXPLORER.ON.ADD_NODE, node => {\n      // event emitter is latching thus we need to skip\n      // it while flow is loading\n      const currMode = getMainInterface()?.mode.current.id ?? EVT_NAMES.LOADING;\n      if (currMode === EVT_NAMES.LOADING) return;\n\n      const scopes = {\n        [SCOPES.NODE]: EVT_NAMES.ADD_NODE,\n        [SCOPES.FLOW]: EVT_NAMES.ADD_FLOW\n      };\n      const templateId = node.name;\n      const isSubFlow = node.scope === SCOPES.FLOW;\n      // If user tries to add the flow as a sub-flow to itself,\n      //  it's considered a forbidden operation\n      if (dataFromDB.Label === templateId && isSubFlow) return;\n      // Add interface mode to add node/sub-flow\n      getMainInterface()?.setMode(scopes[node.scope], { templateId }, true);\n    });\n\n    return () =>\n      off(PLUGINS.FLOW_EXPLORER.NAME, PLUGINS.FLOW_EXPLORER.ON.ADD_NODE);\n  }, [getMainInterface, off, on, dataFromDB]);\n\n  useEffect(() => {\n    const mInt = getMainInterface();\n    if (!mInt) return;\n\n    // Dispatch on ready event\n    onReady(mInt);\n    return () => {\n      getMainInterface().graph.destroy();\n    };\n  }, [graphClass, dataFromDB, onReady, getMainInterface]);\n\n  return (\n    <div id={`${viewMode}-${id}`} className={classes.flowContainer}>\n      {loading && (\n        <Backdrop className={classes.backdrop} open={loading}>\n          <Loader />\n        </Backdrop>\n      )}\n      <div className={classes.flowCanvas} id={containerId} tagindex=\"0\">\n        {warnings.length > 0 && (\n          <Warnings warnings={warnings} isVisible={warningsVisibility} />\n        )}\n      </div>\n      {flowDebugging && <DependencyInfo />}\n    </div>\n  );\n};\n\nBaseFlow.propTypes = {\n  call: PropTypes.func.isRequired,\n  instance: PropTypes.object,\n  id: PropTypes.string,\n  name: PropTypes.string,\n  type: PropTypes.string,\n  model: PropTypes.string,\n  dataFromDB: PropTypes.object\n};\n\nBaseFlow.defaultProps = {\n  onReady: () => console.warning(\"On ready prop not received\")\n};\n\nexport default memo(BaseFlow);\n","import { useEffect, useRef } from \"react\";\nimport MainInterface from \"../../Components/interface/MainInterface\";\n\nconst useMainInterface = props => {\n  //========================================================================================\n  /*                                                                                      *\n   *                                         Hooks                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  const mainInterface = useRef();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Component Lifecycle                                 *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    if (!props.data || props.containerId === mainInterface.current?.containerId)\n      return;\n\n    const {\n      classes,\n      instance,\n      name,\n      data,\n      type,\n      width,\n      height,\n      containerId,\n      model,\n      readOnly,\n      call,\n      graphCls\n    } = props;\n\n    mainInterface.current = new MainInterface({\n      id: name,\n      modelView: instance,\n      type,\n      width,\n      height,\n      containerId,\n      model,\n      readOnly,\n      data,\n      classes,\n      call,\n      graphCls\n    });\n  }, [props]);\n\n  return { mainInterface };\n};\n\nexport default useMainInterface;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Visibility\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst common = {\n  itemValue: {\n    padding: \"15px 15px 15px 25px\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n    fontSize: \"14px\"\n  },\n  disabled: {\n    color: \"gray\"\n  }\n};\n\nconst groupItem = {\n  ...common,\n  groupRow: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  groupItem: {\n    flexGrow: 1,\n    padding: \"10px 25px\"\n  }\n};\n\nconst parameters = {\n  parametersContainer: {\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n    padding: \"0px 6px 0px 6px\",\n    flexGrow: 1,\n    minHeight: 0\n  }\n};\n\nconst infoContainer = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"space-between\",\n  \"& > p\": {\n    margin: \"0\"\n  }\n};\n\nconst menuStyles = makeStyles(_theme => ({\n  ...common,\n  ...parameters,\n  description: {\n    whiteSpace: \"normal !important\",\n    textAlign: \"justify\"\n  },\n  link: {\n    fontSize: \"1rem\"\n  }\n}));\n\nexport const groupItemStyles = makeStyles(_theme => groupItem);\nexport const nodeGroupStyles = makeStyles(_theme => ({\n  ...groupItem,\n  ...parameters\n}));\n\nexport const propertiesStyles = makeStyles(_theme => ({\n  gridAlign: {\n    textAlign: \"left\",\n    marginBottom: \"15px\"\n  }\n}));\n\nexport const menuDetailsStyles = makeStyles(_theme => ({\n  header: {\n    textAlign: \"center\"\n  }\n}));\n\nexport const nodeMenuStyles = makeStyles(_theme => ({\n  root: {\n    width: \"100%\"\n  },\n  gridContainer: {\n    padding: \"10px 20px 20px\"\n  }\n}));\n\nexport const linkMenuStyles = makeStyles(_theme => ({\n  listHolder: {\n    width: \"100%\",\n    \"& p\": {\n      textOverflow: \"ellipsis\",\n      maxWidth: \"calc(100% - 50px)\",\n      overflow: \"hidden\"\n    }\n  },\n  dependencyContainer: {\n    padding: \"5px 25px\"\n  },\n  directionContainer: {\n    padding: \"0 10px\"\n  },\n  selectHolder: {\n    \"& > div\": {\n      ...infoContainer\n    }\n  },\n  infoContainer: {\n    ...infoContainer\n  },\n  colorChip: {\n    width: \"40px\",\n    height: \"4px\"\n  }\n}));\n\nexport const portStyles = makeStyles(_theme => ({\n  ...common,\n  portIcon: {\n    paddingLeft: \"30px\"\n  },\n  portRow: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    padding: \"0 16px\"\n  },\n  portName: {\n    textAlign: \"end\",\n    fontSize: \"0.875rem\",\n    marginTop: \"6px\",\n    paddingRight: \"6px\"\n  },\n  portCallbackLink: {\n    textAlign: \"end\",\n    fontSize: \"0.875rem\",\n    padding: \"6px\",\n    alignSelf: \"flex-end\"\n  },\n  detailsSection: {\n    paddingLeft: \"20px\",\n    fontSize: \"1rem\",\n    paddingTop: \"15px\"\n  },\n  detailsContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: \"10px\",\n    overflowY: \"auto\",\n    overflowX: \"hidden\",\n    \"& .content\": { fontSize: \"0.95rem\", paddingLeft: \"8px\" }\n  },\n  detailRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  }\n}));\n\nexport const keyValueSectionStyles = makeStyles(_theme => ({\n  ...common,\n  ...parameters\n}));\n\nexport const tableKeyValueStyles = makeStyles(_theme => ({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  searchHolder: {\n    padding: \"5px 10px 15px\"\n  }\n}));\n\nexport const rowKeyValueStyles = makeStyles(_theme => ({\n  rowContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  keyContainer: {\n    flexGrow: 1,\n    paddingLeft: \"8px\",\n    fontSize: \"0.875rem\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    maxWidth: \"60%\"\n  },\n  valueContainer: {\n    textAlign: \"center\",\n    flexGrow: 1,\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    padding: \"0px 12px 0px 12px\",\n    maxWidth: \"40%\",\n    width: \"40%\"\n  },\n  valueDefault: {\n    color: \"grey\",\n    padding: \"0 5px\"\n  },\n  valueNone: {\n    color: \"grey\",\n    textDecoration: \"line-through\"\n  }\n}));\n\nexport default menuStyles;\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport { Typography } from \"@material-ui/core\";\nimport {\n  DATA_TYPES,\n  DEFAULT_VALUE,\n  DISABLED_VALUE\n} from \"../../../../../../utils/Constants\";\n\nimport { rowKeyValueStyles } from \"../styles\";\n\nconst RowKeyValue = ({\n  item,\n  allowEdit,\n  allowDelete,\n  type,\n  handleParameterEditModal,\n  handleParameterDeleteModal\n}) => {\n  const classes = rowKeyValueStyles();\n  const viewOnly = !allowEdit;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render strings with quotes and other types as it is\n   * @param {*} value\n   * @param {String} type\n   * @returns {String} rendered value\n   */\n  const getValue = (value, valueType) => {\n    return valueType === DATA_TYPES.STRING ? JSON.stringify(value) : value;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle Key Value Edit Dialog\n   */\n  const handleKeyValueEditModal = useCallback(() => {\n    handleParameterEditModal(item, type, viewOnly);\n  }, [item, type, handleParameterEditModal, viewOnly]);\n\n  /**\n   * Handle Key Value Delete Dialog\n   */\n  const handleKeyValueDeleteModal = useCallback(() => {\n    handleParameterDeleteModal(item, type);\n  }, [item, type, handleParameterDeleteModal]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render the Parameter row\n   * @param {object} item : Item to be rendered\n   * @returns {JSXElement}\n   */\n  const renderParamRow = useCallback(\n    row => {\n      if (row.value === DEFAULT_VALUE || row.value === null) {\n        return (\n          <Typography\n            component=\"div\"\n            className={`${classes.valueDefault} ${classes.valueContainer}`}\n          >\n            {getValue(row.defaultValue, row.type)}\n          </Typography>\n        );\n      } else if (row.value === DISABLED_VALUE) {\n        return (\n          <Typography\n            component=\"div\"\n            className={`${classes.valueNone} ${classes.valueContainer}`}\n          >\n            {getValue(row.defaultValue, row.type)}\n          </Typography>\n        );\n      } else {\n        return (\n          <Typography component=\"div\" className={classes.valueContainer}>\n            {getValue(row.value, row.type)}\n          </Typography>\n        );\n      }\n    },\n    [classes.valueDefault, classes.valueContainer, classes.valueNone]\n  );\n\n  return (\n    <Typography component=\"div\" className={classes.rowContainer}>\n      <Typography\n        component=\"div\"\n        className={`${classes.keyContainer} ${\n          item.value === DISABLED_VALUE ? classes.valueNone : \"\"\n        }`}\n      >\n        {item.key}\n      </Typography>\n      {renderParamRow(item)}\n      {(allowEdit || viewOnly) && (\n        <IconButton\n          data-testid=\"input_edit\"\n          onClick={handleKeyValueEditModal}\n          size=\"small\"\n        >\n          {viewOnly ? <VisibilityIcon /> : <Edit />}\n        </IconButton>\n      )}\n      {allowDelete && (\n        <IconButton\n          data-testid=\"input_delete\"\n          onClick={handleKeyValueDeleteModal}\n          size=\"small\"\n        >\n          <DeleteIcon />\n        </IconButton>\n      )}\n    </Typography>\n  );\n};\n\nRowKeyValue.propTypes = {\n  item: PropTypes.object.isRequired,\n  type: PropTypes.string.isRequired,\n  handleParameterEditModal: PropTypes.func,\n  handleParameterDeleteModal: PropTypes.func,\n  allowDelete: PropTypes.bool,\n  allowEdit: PropTypes.bool\n};\n\nRowKeyValue.defaultProps = {\n  allowDelete: false,\n  allowEdit: false\n};\n\nexport default RowKeyValue;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Typography } from \"@material-ui/core\";\nimport Search, { filter } from \"../../../../../_shared/Search/Search\";\nimport RowKeyValue from \"./RowKeyValue\";\n\nimport { tableKeyValueStyles } from \"../styles\";\n\n/**\n * List to show key and input with the value\n * @param {array} list { key: \"bla\", value: \"bla\", defaultValue: \"place\" }\n */\nconst TableKeyValue = props => {\n  const { list, allowSearch, allowEdit, allowDelete } = props;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const classes = tableKeyValueStyles();\n\n  return (\n    <Typography component=\"div\" className={classes.root}>\n      {allowSearch && (\n        <div className={classes.searchHolder}>\n          <Search onSearch={value => setSearchValue(value)}></Search>\n        </div>\n      )}\n      {filter(searchValue, list)\n        .sort((a, b) => a.key.localeCompare(b.key))\n        .map((item, index) => (\n          <RowKeyValue\n            data-testid=\"section_key-value-row\"\n            {...props}\n            key={index}\n            item={item}\n            allowEdit={!item.invalid && allowEdit}\n            allowDelete={item.invalid || allowDelete}\n          />\n        ))}\n    </Typography>\n  );\n};\n\nTableKeyValue.propTypes = {\n  list: PropTypes.array.isRequired, //[{ key: \"bla\", value: \"bla\", defaultValue: \"place\" }]\n  allowSearch: PropTypes.bool,\n  allowDelete: PropTypes.bool\n};\n\nTableKeyValue.defaultProps = {\n  allowSearch: false,\n  allowDelete: false\n};\n\nexport default TableKeyValue;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/VisibilityOff\");","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { Typography, IconButton, Tooltip } from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport { groupItemStyles } from \"../styles\";\n\nconst GroupItem = ({\n  item: { id, name, enabled },\n  editable,\n  model,\n  editGroupName,\n  handleGroupVisibility\n}) => {\n  const classes = groupItemStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handler to Toggle Group visibility\n   */\n  const handleGroupActive = useCallback(() => {\n    handleGroupVisibility(id, enabled);\n    model.current.toggleGroupVisibility(id, !enabled);\n  }, [model, enabled, id, handleGroupVisibility]);\n\n  /**\n   * Handler to Edit this Group (right now we're only able to edit the name)\n   */\n  const handleGroupEdit = useCallback(() => {\n    editGroupName(\n      newName => model.current.editGroup(id, { name: newName }),\n      name\n    );\n  }, [model, name, id, editGroupName]);\n\n  /**\n   * Handler to Delete this Group\n   */\n  const handleGroupDelete = useCallback(() => {\n    model.current.deleteGroup(id);\n  }, [model, id]);\n\n  return (\n    <Typography component=\"div\" className={classes.groupRow}>\n      <Tooltip title={name}>\n        <Typography\n          component=\"div\"\n          className={`${classes.itemValue} ${classes.groupItem}`}\n        >\n          {name}\n        </Typography>\n      </Tooltip>\n      <IconButton\n        data-testid=\"input_toggle-visibility\"\n        onClick={handleGroupActive}\n      >\n        {enabled && (\n          <VisibilityIcon fontSize=\"small\" color=\"primary\"></VisibilityIcon>\n        )}\n        {!enabled && (\n          <VisibilityOffIcon\n            fontSize=\"small\"\n            color=\"disabled\"\n          ></VisibilityOffIcon>\n        )}\n      </IconButton>\n      {editable && (\n        <Tooltip title={t(\"EditGroup\")}>\n          <IconButton data-testid=\"input_edit\" onClick={handleGroupEdit}>\n            <EditIcon fontSize=\"small\" />\n          </IconButton>\n        </Tooltip>\n      )}\n      {editable && (\n        <Tooltip title={t(\"DeleteGroup\")}>\n          <IconButton data-testid=\"input_delete\" onClick={handleGroupDelete}>\n            <DeleteIcon fontSize=\"small\" />\n          </IconButton>\n        </Tooltip>\n      )}\n    </Typography>\n  );\n};\n\nGroupItem.propTypes = {\n  model: PropTypes.object.isRequired,\n  item: PropTypes.object.isRequired,\n  editGroupName: PropTypes.func.isRequired,\n  editable: PropTypes.bool\n};\n\nexport default GroupItem;\n","import React, { useCallback, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Collapse,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport Add from \"@material-ui/icons/Add\";\nimport { Utils } from \"@mov-ai/mov-fe-lib-core\";\nimport Model from \"../../../model/Flow\";\nimport useDataSubscriber from \"../../../../../plugins/DocManager/useDataSubscriber\";\nimport {\n  DEFAULT_KEY_VALUE_DATA,\n  DATA_TYPES,\n  PLUGINS\n} from \"../../../../../utils/Constants\";\nimport { validateDocumentName } from \"../../../../../utils/Utils\";\nimport { ERROR_MESSAGES } from \"../../../../../utils/Messages\";\nimport ParameterEditorDialog from \"../../../../_shared/KeyValueTable/ParametersEditorDialog\";\nimport DetailsMenu from \"../../../../_shared/DetailsMenu/DetailsMenu\";\nimport TableKeyValue from \"./sub-components/TableKeyValue\";\nimport GroupItem from \"./sub-components/GroupItem\";\nimport menuStyles from \"./styles\";\n\nconst ACTIVE_ITEM = {\n  description: 1,\n  parameters: 2,\n  groups: 3\n};\n\nconst Menu = ({\n  name,\n  model,\n  details: detailsProp,\n  editable,\n  call,\n  handleGroupVisibility\n}) => {\n  // State hook\n  const [activeItem, setActiveItem] = useState(0);\n  const { data } = useDataSubscriber({\n    instance: model,\n    propsData: detailsProp,\n    keysToDisconsider: Model.KEYS_TO_DISCONSIDER\n  });\n  // Other hooks\n  const classes = menuStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   *\n   * @param {*} value\n   * @param {*} type\n   * @param {*} is2ParseString\n   * @returns\n   */\n  const renderValue = useCallback((value, type, is2StringifyString) => {\n    const renderValueByType = {\n      string: () => (is2StringifyString ? JSON.stringify(value) : value),\n      boolean: () => value.toString()\n    };\n    return type in renderValueByType ? renderValueByType[type]() : value;\n  }, []);\n\n  /**\n   * @private Get parameters to render in menu\n   */\n  const getParameters = useCallback(() => {\n    const output = [];\n    const parameters = data?.parameters || {};\n    Object.keys(parameters).forEach(param => {\n      const value = data.parameters?.[param]?.value || \"\";\n      const type = data.parameters?.[param]?.type || DATA_TYPES.ANY;\n      output.push({\n        key: param,\n        value: renderValue(value, type, true)\n      });\n    });\n    return output;\n  }, [data?.parameters, renderValue]);\n\n  /**\n   * @private Use this to change a group name\n   * @param {String} prevName : previous name (used to discern if is new or edit)\n   * @param {Function} submitCallback : Callback to be called on Submit\n   */\n  const openGroupModal = useCallback(\n    (submitCallback, prevName = \"\") => {\n      const args = {\n        size: \"sm\",\n        title: prevName ? t(\"EditGroup\") : t(\"AddGroup\"),\n        inputLabel: t(\"GroupName\"),\n        value: prevName,\n        onValidation: value => {\n          try {\n            const validation = validateDocumentName(value);\n            return { result: validation, error: \"\" };\n          } catch (err) {\n            return {\n              result: false,\n              error: err.message\n            };\n          }\n        },\n        onSubmit: submitCallback\n      };\n\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.FORM_DIALOG, args);\n    },\n    [call, t]\n  );\n\n  /**\n   * @summary: Validate document name against invalid characters. It accept ROS valid names\n   * and can't accept two consecutive underscores.\n   * @param {String} oldName : Old Name\n   * @param {Object} newData : New data\n   * @returns {Promise} {result: <boolean>, [error: <string> OR data: <object>]}\n   **/\n  const validateParamName = useCallback(\n    (oldName, newData) => {\n      const { name: newName } = newData;\n\n      try {\n        if (!newName) throw new Error(ERROR_MESSAGES.NAME_IS_MANDATORY);\n        else if (!Utils.validateEntityName(newName, []))\n          throw new Error(ERROR_MESSAGES.INVALID_NAME);\n\n        // Validate against repeated names\n        if (oldName !== newName && model.current.getParameter(newName)) {\n          throw new Error(ERROR_MESSAGES.MULTIPLE_ENTRIES_WITH_SAME_NAME);\n        }\n      } catch (error) {\n        return Promise.resolve({ result: false, error: error.message });\n      }\n\n      return Promise.resolve({ result: true, data: { oldName, newData } });\n    },\n    [model]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @param {Object} data : Data to Save\n   */\n  const handleSubmitParameter = useCallback(\n    (oldName, newData) => {\n      if (oldName === \"\") {\n        model.current.addParameter(newData.name, newData);\n      } else {\n        model.current.updateKeyValueItem(\"parameters\", newData, oldName);\n      }\n    },\n    [model]\n  );\n\n  /**\n   * Open dialog to edit/add new Parameter\n   * @param {string} dataId : Unique identifier of item (undefined when not created yet)\n   * @param {ReactComponent} DialogComponent : Dialog component to render\n   */\n  const handleParameterDialog = useCallback(\n    dataId => {\n      const obj = model.current.getParameter(dataId) || DEFAULT_KEY_VALUE_DATA;\n\n      const args = {\n        onSubmit: formData => handleSubmitParameter(obj.name, formData),\n        nameValidation: newData => validateParamName(obj.name, newData),\n        renderType: true,\n        title: t(\"Parameter\"),\n        data: obj,\n        call\n      };\n\n      call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.CUSTOM_DIALOG,\n        args,\n        ParameterEditorDialog\n      );\n    },\n    [model, call, validateParamName, handleSubmitParameter, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Handle expand/collapse action\n   *  If item is collapsed : Expand item and collapse other\n   *  If item is expanded  : Collapse item and let all others collapsed as well\n   * @param {Event} evt\n   */\n  const handleExpandClick = useCallback(evt => {\n    const newActiveItem = parseInt(evt.currentTarget.dataset.menuId);\n\n    setActiveItem(prevState => {\n      return prevState === newActiveItem ? 0 : newActiveItem;\n    });\n  }, []);\n\n  /**\n   * Open dialog to edit flow description\n   */\n  const handleEditDescriptionClick = useCallback(() => {\n    const args = {\n      size: \"md\",\n      multiline: true,\n      title: t(\"EditDescription\"),\n      inputLabel: t(\"Description\"),\n      value: model.current.getDescription(),\n      onSubmit: description => model.current.setDescription(description)\n    };\n\n    call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.FORM_DIALOG, args);\n  }, [model, call, t]);\n\n  /**\n   * Handle Add new Parameter\n   */\n  const handleAddParameterClick = useCallback(() => {\n    handleParameterDialog();\n  }, [handleParameterDialog]);\n\n  /**\n   * Handle Edit Parameter\n   * @param {string} key : parameter id to edit\n   */\n  const handleParamEdit = useCallback(\n    ({ key }) => {\n      handleParameterDialog(key);\n    },\n    [handleParameterDialog]\n  );\n\n  /**\n   * Handle Delete Parameter\n   * @param {string} key : parameter id to delete\n   * @param {string} value : parameter value, to construct the confirm phrase\n   */\n  const handleParamDelete = useCallback(\n    ({ key, value }) => {\n      const args = {\n        submitText: t(\"Delete\"),\n        title: t(\"ConfirmDeleteParam\", { paramName: key }),\n        onSubmit: () => model.current.deleteParameter(key),\n        message: t(\"ParameterDeleteConfirmationMessage\", {\n          paramName: key,\n          value\n        })\n      };\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CONFIRMATION, args);\n    },\n    [model, call, t]\n  );\n\n  /**\n   * Handle Add group click\n   */\n  const handleAddGroupClick = useCallback(() => {\n    openGroupModal(groupName => model.current.addGroup(groupName));\n  }, [openGroupModal, model]);\n\n  /**\n   * Handle Description Edit\n   * @param {*} e\n   */\n  const handleDescriptionClick = e => {\n    e.stopPropagation();\n    handleEditDescriptionClick();\n  };\n\n  /**\n   * Handle Add Parameter\n   * @param {*} e\n   */\n  const handleAddParameter = e => {\n    e.stopPropagation();\n    handleAddParameterClick();\n  };\n\n  /**\n   * Handle Add Group\n   * @param {*} e\n   */\n  const handleAddGroup = e => {\n    e.stopPropagation();\n    handleAddGroupClick();\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Description\n   * @returns {ReactElement} Description to render in collapsible content\n   */\n  const renderDescription = useCallback(() => {\n    return data.description ? (\n      <Typography className={`${classes.itemValue} ${classes.description}`}>\n        {data.description}\n      </Typography>\n    ) : (\n      <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n        N/A\n      </Typography>\n    );\n  }, [classes, data.description]);\n\n  /**\n   * Render parameters\n   * @returns {ReactElement} Parameters to render in collapsible content\n   */\n  const renderParameters = useCallback(() => {\n    const params = getParameters();\n    return params.length ? (\n      <Typography component=\"div\" className={classes.parametersContainer}>\n        <TableKeyValue\n          list={params}\n          allowDelete={editable}\n          allowEdit={editable}\n          handleParameterDeleteModal={handleParamDelete}\n          handleParameterEditModal={handleParamEdit}\n          type=\"params\"\n          allowSearch\n        />\n      </Typography>\n    ) : (\n      <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n        {t(\"NoParameters\")}\n      </Typography>\n    );\n  }, [classes, editable, getParameters, handleParamDelete, handleParamEdit, t]);\n\n  /**\n   * Render groups\n   * @returns {ReactElement} Groups to render in collapsible content\n   */\n  const renderGroups = useCallback(() => {\n    const groups = Object.values(data.groups || {});\n    return groups.length ? (\n      groups.map(group => (\n        <GroupItem\n          data-testid=\"section_group-item\"\n          key={group.id}\n          item={group}\n          model={model}\n          editGroupName={openGroupModal}\n          editable={editable}\n          handleGroupVisibility={handleGroupVisibility}\n        />\n      ))\n    ) : (\n      <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n        {t(\"NoGroups\")}\n      </Typography>\n    );\n  }, [\n    classes,\n    data.groups,\n    model,\n    editable,\n    openGroupModal,\n    handleGroupVisibility,\n    t\n  ]);\n\n  return (\n    <Typography data-testid=\"section_flow-details-menu\" component=\"div\">\n      <DetailsMenu name={name} details={data.details || {}}></DetailsMenu>\n      <List>\n        {/* ============ DESCRIPTION ============ */}\n        <ListItem\n          data-testid=\"input_description-expand\"\n          button\n          data-menu-id={ACTIVE_ITEM.description}\n          onClick={handleExpandClick}\n        >\n          <ListItemText primary={t(\"Description\")} />\n          <IconButton\n            data-testid=\"input_description-edit\"\n            disabled={!editable}\n            onClick={handleDescriptionClick}\n          >\n            <EditIcon />\n          </IconButton>\n          {activeItem === ACTIVE_ITEM.description ? (\n            <ExpandLess />\n          ) : (\n            <ExpandMore />\n          )}\n        </ListItem>\n        <Collapse in={activeItem === ACTIVE_ITEM.description} unmountOnExit>\n          {renderDescription()}\n          <Divider />\n        </Collapse>\n        {/* ============ PARAMETERS ============ */}\n        <ListItem\n          data-testid=\"input_parameters-expand\"\n          button\n          data-menu-id={ACTIVE_ITEM.parameters}\n          onClick={handleExpandClick}\n        >\n          <ListItemText primary={t(\"Parameters\")} />\n          <IconButton\n            data-testid=\"input_parameters-add\"\n            disabled={!editable}\n            onClick={handleAddParameter}\n          >\n            <Add />\n          </IconButton>\n          {activeItem === ACTIVE_ITEM.parameters ? (\n            <ExpandLess />\n          ) : (\n            <ExpandMore />\n          )}\n        </ListItem>\n        <Collapse\n          data-testid=\"section_parameters-table\"\n          in={activeItem === ACTIVE_ITEM.parameters}\n          unmountOnExit\n        >\n          {renderParameters()}\n          <Divider />\n        </Collapse>\n        {/* ============ GROUPS ============ */}\n        <ListItem\n          data-testid=\"input_groups-expand\"\n          button\n          data-menu-id={ACTIVE_ITEM.groups}\n          onClick={handleExpandClick}\n        >\n          <ListItemText primary={t(\"Groups\")} />\n          <IconButton\n            data-testid=\"input_groups-add\"\n            disabled={!editable}\n            onClick={handleAddGroup}\n          >\n            <Add />\n          </IconButton>\n          {activeItem === ACTIVE_ITEM.groups ? <ExpandLess /> : <ExpandMore />}\n        </ListItem>\n        <Collapse\n          data-testid=\"section_groups-table\"\n          in={activeItem === ACTIVE_ITEM.groups}\n          unmountOnExit\n        >\n          {renderGroups()}\n          <Divider />\n        </Collapse>\n      </List>\n    </Typography>\n  );\n};\n\nMenu.propTypes = {\n  name: PropTypes.string.isRequired,\n  model: PropTypes.object.isRequired,\n  details: PropTypes.object.isRequired,\n  call: PropTypes.func.isRequired,\n  handleGroupVisibility: PropTypes.func.isRequired,\n  editable: PropTypes.bool\n};\n\nexport default Menu;\n","import React, { useCallback } from \"react\";\nimport { Link } from \"@material-ui/core\";\nimport menuStyles from \"../styles\";\n\n/**\n * Node Link Component\n * @param {*} props: Component props\n * @returns {ReactElement}\n */\nconst NodeLink = props => {\n  const { scope, name, openDoc, children } = props;\n  const classes = menuStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On click link : open document\n   * @param {Event} event : Click event\n   */\n  const onClickLink = useCallback(\n    event => {\n      openDoc({\n        name,\n        scope,\n        ctrlKey: event.ctrlKey\n      });\n    },\n    [openDoc, name, scope]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Link\n      data-testid=\"input_link\"\n      component=\"button\"\n      className={classes.link}\n      onClick={onClickLink}\n    >\n      {children}\n    </Link>\n  );\n};\n\nexport default NodeLink;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { ListItem, ListItemText, Typography } from \"@material-ui/core\";\nimport { defaultFunction } from \"../../../../../../utils/Utils\";\nimport NodeLink from \"./NodeLink\";\n\nimport { menuDetailsStyles } from \"../styles\";\n\nconst MenuDetails = props => {\n  // Props\n  const { id, template, model, type, openDoc, label } = props;\n  // Other hooks\n  const classes = menuDetailsStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <>\n      <h2 className={classes.header}>{id}</h2>\n      <ListItem divider>\n        <ListItemText primary={t(label)} />\n        <NodeLink\n          data-testid=\"section_node-link\"\n          name={template}\n          scope={model}\n          openDoc={openDoc}\n        >\n          {template}\n        </NodeLink>\n      </ListItem>\n      <ListItem divider>\n        <ListItemText primary={t(\"Scope-Colon\")} />\n        <Typography>{model}</Typography>\n      </ListItem>\n      <ListItem divider>\n        <ListItemText primary={t(\"Type-Colon\")} />\n        <Typography>{type}</Typography>\n      </ListItem>\n    </>\n  );\n};\n\nMenuDetails.propTypes = {\n  id: PropTypes.string,\n  template: PropTypes.string,\n  label: PropTypes.string,\n  model: PropTypes.string,\n  type: PropTypes.string,\n  openDoc: PropTypes.func\n};\n\nMenuDetails.defaultProps = {\n  id: \"\",\n  template: \"-\",\n  model: \"-\",\n  type: \"-\",\n  label: \"NameColon\",\n  openDoc: () => defaultFunction(\"openDoc\")\n};\n\nexport default MenuDetails;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { Divider, Link, Tooltip, Typography } from \"@material-ui/core\";\nimport { SCOPES } from \"../../../../../../utils/Constants\";\nimport { portStyles } from \"../styles\";\n\nconst PortsDetails = props => {\n  // Props\n  const { openDoc, templateData, protectedDocs } = props;\n  // State Hooks\n  const [inputPorts, setInputPorts] = useState([]);\n  const [outputPorts, setOutputPorts] = useState([]);\n  // Other Hooks\n  const classes = portStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Get node input/output ports\n   * @param {*} ports\n   * @returns {array} Input and Output ports\n   */\n  const getPorts = useCallback(ports => {\n    const _inputPorts = [];\n    const _outputPorts = [];\n    Object.keys(ports).forEach(portName => {\n      const port = ports[portName];\n      const inputs = Object.values(port.portIn);\n      const outputs = Object.values(port.portOut);\n      const callbacks = inputs.map(el => el.callback).filter(cb => cb);\n      // Add input ports\n      inputs.some(() =>\n        _inputPorts.push({\n          name: portName,\n          value: callbacks\n        })\n      );\n      // Add output ports\n      outputs.some(() => _outputPorts.push({ name: portName }));\n    });\n    // Set input/output ports\n    setInputPorts(_inputPorts);\n    setOutputPorts(_outputPorts);\n  }, []);\n\n  /**\n   * Check if callback is protected and return callback link (if possible)\n   * @param {string} callback : Callback name\n   * @param {number} index : iteration index\n   * @returns {Element} Callback element to be rendered\n   */\n  const getCallbackLink = useCallback(\n    (callback, index) => {\n      const isProtected = protectedDocs.includes(callback);\n      return isProtected ? (\n        <Typography\n          key={`${callback}_${index}`}\n          className={`${classes.portCallbackLink} ${classes.disabled}`}\n        >\n          {callback}\n        </Typography>\n      ) : (\n        <Tooltip\n          key={`${callback}_${index}`}\n          placement={\"bottom-start\"}\n          className={classes.portCallbackLink}\n          title={t(\"OpenCallbackName\", { callbackName: callback })}\n        >\n          <span>\n            <Link\n              data-testid=\"input_open-callback\"\n              component=\"button\"\n              onClick={event => {\n                openDoc({\n                  scope: SCOPES.CALLBACK,\n                  name: callback,\n                  ctrlKey: event.ctrlKey\n                });\n              }}\n            >\n              {callback}\n            </Link>\n          </span>\n        </Tooltip>\n      );\n    },\n    [protectedDocs, classes, openDoc, t]\n  );\n\n  /**\n   * @private Render ports data\n   * @param {{name: string, value: array}} portsData\n   * @returns {ReactElement} Ports data\n   */\n  const getInternalData = useCallback(\n    portsData => {\n      return portsData.map((port, portIndex) => {\n        return (\n          <Typography\n            data-testid=\"section_port\"\n            key={`${port.name}_${portIndex}`}\n            component=\"div\"\n            className={classes.portRow}\n          >\n            <Typography component=\"div\" className={classes.portName}>\n              {port.name}\n            </Typography>\n            {port.value?.map(getCallbackLink)}\n            <Divider />\n          </Typography>\n        );\n      });\n    },\n    [classes, getCallbackLink]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    getPorts(templateData);\n  }, [getPorts, templateData]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <>\n      <Typography component=\"div\" className={classes.detailsSection}>\n        {t(\"Ports-Colon\")}\n      </Typography>\n      <Typography component=\"div\" className={classes.detailsContent}>\n        <Typography component=\"div\">\n          {/* ======== Input ports ======== */}\n          {inputPorts.length > 0 && (\n            <>\n              <div className={classes.detailRow}>\n                <div className={`icon-in ${classes.portIcon}`}></div>\n                <div className=\"content\">{t(\"Inputs\")}</div>\n              </div>\n              {getInternalData(inputPorts)}\n            </>\n          )}\n          {/* ======== Output ports ======== */}\n          {outputPorts.length > 0 && (\n            <>\n              <div className={classes.detailRow}>\n                <div className={`icon-out ${classes.portIcon}`}></div>\n                <div className=\"content\">{t(\"Outputs\")}</div>\n              </div>\n              {getInternalData(outputPorts)}\n            </>\n          )}\n        </Typography>\n      </Typography>\n    </>\n  );\n};\n\nPortsDetails.propTypes = {\n  openDoc: PropTypes.func.isRequired,\n  templateData: PropTypes.object,\n  protectedDocs: PropTypes.array\n};\n\nPortsDetails.defaultProps = {\n  templateData: {},\n  protectedDocs: []\n};\n\nexport default PortsDetails;\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select\n} from \"@material-ui/core\";\n\nimport { propertiesStyles } from \"../../styles\";\n\nconst PropertyItem = ({\n  name,\n  title,\n  options,\n  value,\n  templateValue,\n  editable,\n  onChangeProperties\n}) => {\n  // Other hooks\n  const { t } = useTranslation();\n  const classes = propertiesStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle On Change Event\n   * @param {object} evt : Event\n   */\n  const handleOnChange = useCallback(\n    evt => {\n      const prop = evt.currentTarget.dataset.prop;\n      onChangeProperties(prop, evt.target.value);\n    },\n    [onChangeProperties]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Get default text for properties template value\n   * @param {boolean} isDefault : If option is default value\n   * @returns {string} string to concatenate with label\n   */\n  const getDefaultText = useCallback(\n    isDefault => (isDefault ? `(${t(\"Default\")})` : \"\"),\n    [t]\n  );\n\n  return (\n    <Grid item xs={12} className={classes.gridAlign}>\n      <FormControl fullWidth={true}>\n        <InputLabel>{title}</InputLabel>\n        <Select value={value} onChange={handleOnChange} disabled={!editable}>\n          {options.map((option, optIndex) => {\n            return (\n              <MenuItem\n                key={\"properties-options-\" + optIndex}\n                value={option.value}\n                data-prop={name}\n              >\n                {`${option.text} ${getDefaultText(\n                  option.value === templateValue\n                )}`}\n              </MenuItem>\n            );\n          })}\n        </Select>\n      </FormControl>\n    </Grid>\n  );\n};\n\nPropertyItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  value: PropTypes.any.isRequired,\n  onChangeProperties: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  options: PropTypes.array,\n  templateValue: PropTypes.any,\n  editable: PropTypes.bool\n};\n\nexport default PropertyItem;\n","import React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\n\nimport PropertyItem from \"./PropertyItem\";\n\nconst PropertiesSection = ({\n  editable,\n  onChangeProperties,\n  templateData,\n  nodeInstance\n}) => {\n  const { t } = useTranslation();\n  const properties = useMemo(\n    () => ({\n      persistent: {\n        title: t(\"Persistent\"),\n        options: [\n          { text: t(\"IsPersistent\"), value: true },\n          { text: t(\"NotPersistent\"), value: false }\n        ]\n      },\n      remappable: {\n        title: t(\"Remappable\"),\n        options: [\n          { text: t(\"IsRemappable\"), value: true },\n          { text: t(\"NotRemappable\"), value: false }\n        ]\n      },\n      launch: {\n        title: t(\"Launch\"),\n        options: [\n          { text: t(\"ToLaunch\"), value: true },\n          { text: t(\"NotToLaunch\"), value: false }\n        ]\n      }\n    }),\n    [t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return Object.entries(properties).map(([key, item]) => (\n    <PropertyItem\n      key={\"properties-item-\" + key}\n      title={item.title}\n      options={item.options}\n      name={key}\n      value={nodeInstance[key]}\n      templateValue={templateData[key]}\n      editable={editable}\n      onChangeProperties={onChangeProperties}\n    />\n  ));\n};\n\nPropertiesSection.propTypes = {\n  templateData: PropTypes.object.isRequired,\n  nodeInstance: PropTypes.object.isRequired,\n  onChangeProperties: PropTypes.func.isRequired,\n  editable: PropTypes.bool\n};\n\nPropertiesSection.defaultProps = {\n  editable: false\n};\n\nexport default PropertiesSection;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { Typography } from \"@material-ui/core\";\nimport TableKeyValue from \"../TableKeyValue\";\nimport { EMPTY_MESSAGE } from \"../../../../../../../utils/Constants\";\n\nimport { keyValueSectionStyles } from \"../../styles\";\n\nconst KeyValuesSection = props => {\n  const {\n    editable,\n    deletable,\n    handleTableKeyEdit,\n    handleTableKeyDelete,\n    instanceValues,\n    templateValues,\n    varName\n  } = props;\n  // State hooks\n  const [keyValues, setKeyValues] = useState([]);\n  // Other hooks\n  const classes = keyValueSectionStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Get values for Env. Variables and Command Lines\n   * @returns {array} Formatted values to render in right menu\n   */\n  const getTableValues = useCallback(() => {\n    const output = [];\n    const allValues = [\n      ...new Set([\n        ...Object.keys(templateValues),\n        ...Object.keys(instanceValues)\n      ])\n    ];\n    allValues.forEach(key => {\n      const value = instanceValues[key]?.value;\n      const type = templateValues[key]?.type;\n      const defaultValue = templateValues[key]?.value;\n      const description = templateValues[key]?.description || \"\";\n      const invalid = key in instanceValues && !(key in templateValues);\n      output.push({\n        key,\n        value,\n        description,\n        defaultValue,\n        invalid,\n        type\n      });\n    });\n\n    // Set state\n    setKeyValues(output);\n  }, [instanceValues, templateValues]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    getTableValues();\n  }, [getTableValues]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return keyValues.length > 0 ? (\n    <Typography component=\"div\" className={classes.parametersContainer}>\n      <TableKeyValue\n        list={keyValues}\n        allowEdit={editable}\n        allowDelete={deletable}\n        handleParameterEditModal={handleTableKeyEdit}\n        handleParameterDeleteModal={handleTableKeyDelete}\n        type={varName}\n        allowSearch\n      />\n    </Typography>\n  ) : (\n    <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n      {t(EMPTY_MESSAGE[varName.toUpperCase()])}\n    </Typography>\n  );\n};\n\nKeyValuesSection.propTypes = {\n  varName: PropTypes.string.isRequired,\n  handleTableKeyEdit: PropTypes.func.isRequired,\n  instanceValues: PropTypes.object.isRequired,\n  handleTableKeyDelete: PropTypes.func,\n  templateValues: PropTypes.object,\n  editable: PropTypes.bool,\n  deletable: PropTypes.bool\n};\n\nKeyValuesSection.defaultProps = {\n  editable: false,\n  deletable: false\n};\n\nexport default KeyValuesSection;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Layers\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/LayersClear\");","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { IconButton, Tooltip, Typography } from \"@material-ui/core\";\nimport LayersIcon from \"@material-ui/icons/Layers\";\nimport LayersClearIcon from \"@material-ui/icons/LayersClear\";\n\nimport { nodeGroupStyles } from \"../../styles\";\n\nconst NodeGroupSection = props => {\n  const { nodeGroups, flowGroups, handleBelongGroup } = props;\n  // State hooks\n  const [groups, setGroups] = useState([]);\n  // Other hooks\n  const classes = nodeGroupStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    setGroups(Object.values(flowGroups));\n  }, [flowGroups]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return groups.length ? (\n    <Typography component=\"div\" className={classes.parametersContainer}>\n      {groups.map(group => {\n        const key = group.id;\n        const groupName = group.name;\n        const checked = nodeGroups.includes(key);\n        return (\n          <Typography component=\"div\" className={classes.groupRow} key={key}>\n            <Tooltip title={groupName}>\n              <Typography\n                component=\"div\"\n                className={`${classes.itemValue} ${classes.groupItem}`}\n              >\n                {groupName}\n              </Typography>\n            </Tooltip>\n            <IconButton\n              data-testid=\"input_belong-group\"\n              onClick={() => handleBelongGroup(key, !checked)}\n            >\n              {checked && <LayersIcon fontSize=\"small\" color=\"primary\" />}\n              {!checked && (\n                <LayersClearIcon fontSize=\"small\" color=\"disabled\" />\n              )}\n            </IconButton>\n          </Typography>\n        );\n      })}\n    </Typography>\n  ) : (\n    <Typography className={`${classes.itemValue} ${classes.disabled}`}>\n      {t(\"NoGroups\")}\n    </Typography>\n  );\n};\n\nNodeGroupSection.propTypes = {\n  handleBelongGroup: PropTypes.func.isRequired,\n  nodeGroups: PropTypes.array,\n  flowGroups: PropTypes.object\n};\n\nNodeGroupSection.defaultProps = {\n  nodeGroups: [],\n  flowGroups: {}\n};\n\nexport default NodeGroupSection;\n","import React, { useCallback, useEffect, useState, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Collapse,\n  Divider,\n  Grid,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport {\n  DATA_TYPES,\n  TABLE_KEYS_NAMES,\n  DIALOG_TITLE,\n  PLUGINS,\n  SCOPES,\n  DEFAULT_VALUE\n} from \"../../../../../utils/Constants\";\nimport ParameterEditorDialog from \"../../../../_shared/KeyValueTable/ParametersEditorDialog\";\nimport MenuDetails from \"./sub-components/MenuDetails\";\nimport PortsDetails from \"./sub-components/PortsDetails\";\nimport PropertiesSection from \"./sub-components/collapsibleSections/PropertiesSection\";\nimport KeyValuesSection from \"./sub-components/collapsibleSections/KeyValuesSection\";\nimport NodeGroupSection from \"./sub-components/collapsibleSections/NodeGroupSection\";\n\nimport { nodeMenuStyles } from \"./styles\";\n\n//========================================================================================\n/*                                                                                      *\n *                                       Constants                                      *\n *                                                                                      */\n//========================================================================================\n\nconst ACTIVE_ITEM = {\n  PROPERTIES: 1,\n  PARAMETERS: 2,\n  ENVVARS: 3,\n  CMDLINE: 4,\n  GROUP: 5\n};\n\n/**\n * Node Menu Component\n * @param {*} props : Component props\n * @returns {ReaactElement} Node Menu\n */\nconst NodeMenu = memo(\n  ({ nodeInst, call, openDoc, editable, flowModel, groupsVisibilities }) => {\n    const data = nodeInst.data;\n    // State hooks\n    const [templateData, setTemplateData] = useState({});\n    const [activeItem, setActiveItem] = useState(0);\n    const [nodeData, setNodeData] = useState({});\n    const [protectedDocs, setProtectedDocs] = useState([]);\n    // Other hooks\n    const classes = nodeMenuStyles();\n    const { t } = useTranslation();\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                       Handlers                                       *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * @private Handle expand/collapse action\n     *  If item is collapsed : Expand item and collapse other\n     *  If item is expanded  : Collapse item and let all others collapsed as well\n     * @param {Event} evt\n     */\n    const handleExpandClick = useCallback(evt => {\n      const newActiveItem = parseInt(evt.currentTarget.dataset.menuId);\n\n      setActiveItem(prevState => {\n        return prevState === newActiveItem ? 0 : newActiveItem;\n      });\n    }, []);\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                    Private Methods                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * @private Get the node instance item\n     * @param {string} id : Node instance Item Id\n     * @returns {NodeInstance}\n     */\n    const getNodeData = useCallback(async () => {\n      const nodeInstanceItem = flowModel.current.getNodeInstanceItem(data.id);\n      if (nodeInstanceItem) {\n        return nodeInstanceItem;\n      }\n\n      const subFlowInst = await call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.READ,\n        {\n          scope: \"Flow\",\n          name: nodeInst.parent.data.ContainerFlow\n        }\n      );\n\n      return subFlowInst.getNodeInstanceItem(data.id);\n    }, [data.id, nodeInst, flowModel, call]);\n\n    const setNodeDataInst = nodeInstance => {\n      setNodeData(nodeInstance.serialize());\n    };\n\n    /**\n     * @private Submit parameter change\n     * @param {Object} formData : Data to Save\n     */\n    const handleSubmitParameter = useCallback(\n      async formData => {\n        const varName = formData.varName;\n        const nodeInstance = await getNodeData();\n\n        if (nodeInstance.getKeyValue(varName, formData.name)) {\n          if (formData.value === DEFAULT_VALUE) {\n            nodeInstance.deleteKeyValue(varName, formData.name);\n          } else {\n            nodeInstance.updateKeyValueItem(varName, formData);\n          }\n        } else {\n          nodeInstance.addKeyValue(varName, formData);\n        }\n\n        setNodeDataInst(nodeInstance);\n      },\n      [getNodeData]\n    );\n\n    /**\n     * @private Handle Delete invalid parameters\n     * @param {string} paramName : Parameter name\n     * @param {string} varName : keyValue type (parameters, envVars or cmdLine)\n     */\n    const handleDeleteParameter = useCallback(\n      async (keyName, varName) => {\n        const nodeInstance = await getNodeData();\n        nodeInstance.deleteKeyValue(varName, keyName);\n        setNodeDataInst(nodeInstance);\n      },\n      [getNodeData]\n    );\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                    React Lifecycle                                   *\n     *                                                                                      */\n    //========================================================================================\n\n    useEffect(() => {\n      // Get node data\n      const fetchData = async () => {\n        // get the data from the api\n        const nodeInstance = await getNodeData();\n\n        // set state with the result\n        setNodeDataInst(nodeInstance);\n      };\n\n      fetchData();\n\n      // Get protected callbacks\n      call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.GET_STORE,\n        SCOPES.CALLBACK\n      ).then(store => {\n        setProtectedDocs(store.protectedDocs);\n      });\n    }, [getNodeData, call]);\n\n    useEffect(() => {\n      const name = data?.Template;\n      if (!data?.Template) return;\n      // Read node template\n      call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.READ, {\n        name,\n        scope: data.model\n      }).then(doc => {\n        setTemplateData(doc.serialize());\n      });\n    }, [data, call]);\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                     Handle Events                                    *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * Handle Change Properties\n     * @param {string} prop : property name to update\n     * @param {boolean} value : property value to update\n     */\n    const onChangeProperties = useCallback(\n      async (prop, value) => {\n        const nodeInstance = await getNodeData();\n        nodeInstance.updateKeyValueProp(prop, value);\n\n        setNodeDataInst(nodeInstance);\n      },\n      [getNodeData]\n    );\n\n    /**\n     * Open dialog to edit/add new Parameter\n     * @param {object} objData : data to construct the object\n     * @param {string} param : varName (\"parameters\", \"envVars\" or \"cmdLine\")\n     * @param {boolean} viewOnly : Disable all inputs if True\n     */\n    const handleKeyValueDialog = useCallback(\n      (objData, param, viewOnly) => {\n        const paramType = t(DIALOG_TITLE[param.toUpperCase()]);\n        const obj = {\n          ...objData,\n          varName: param,\n          type: objData.type ?? DATA_TYPES.ANY,\n          name: objData.key,\n          paramType\n        };\n\n        const args = {\n          onSubmit: handleSubmitParameter,\n          title: t(\"EditParamType\", { paramType }),\n          data: obj,\n          showDefault: !viewOnly,\n          showValueOptions: true,\n          showDescription: !viewOnly,\n          disableName: true,\n          disableType: true,\n          disableDescription: true,\n          preventRenderType: param !== TABLE_KEYS_NAMES.PARAMETERS,\n          disabled: viewOnly,\n          call\n        };\n\n        call(\n          PLUGINS.DIALOG.NAME,\n          PLUGINS.DIALOG.CALL.CUSTOM_DIALOG,\n          args,\n          ParameterEditorDialog\n        );\n      },\n      [call, handleSubmitParameter, t]\n    );\n\n    /**\n     * Show confirmation dialog before deleting parameter\n     * @param {{key: string}} item : Object containing a key holding the param name\n     * @param {string} varName : keyValue type (parameters, envVars or cmdLine)\n     */\n    const handleKeyValueDelete = useCallback(\n      (item, varName) => {\n        const paramName = item.key;\n        call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CONFIRMATION, {\n          submitText: t(\"Delete\"),\n          title: t(\"DeleteDocConfirmationTitle\"),\n          onSubmit: () => handleDeleteParameter(paramName, varName),\n          message: t(\"DeleteKeyConfirmationMessage\", { key: paramName })\n        });\n      },\n      [call, handleDeleteParameter, t]\n    );\n\n    /**\n     * Handle toggle belong to a group\n     * @param {string} groupId : The id of the group to add / remove\n     * @param {boolean} checked : The flag controling if we should add or remove\n     */\n    const handleBelongGroup = useCallback(\n      async (groupId, checked) => {\n        const nodeInstance = await getNodeData();\n        if (checked) nodeInstance.addGroup(groupId);\n        else nodeInstance.removeGroup(groupId);\n\n        groupsVisibilities();\n        setNodeDataInst(nodeInstance);\n      },\n      [groupsVisibilities, getNodeData]\n    );\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                        Render                                        *\n     *                                                                                      */\n    //========================================================================================\n\n    /**\n     * Simple extract method to lower complex cognitivity\n     * @param {string} thisItem : to check if this is the active item\n     */\n    const renderExpandIcon = useCallback(\n      thisItem => {\n        return activeItem === thisItem ? <ExpandLess /> : <ExpandMore />;\n      },\n      [activeItem]\n    );\n\n    return (\n      <Typography\n        data-testid=\"section_flow-node-menu\"\n        component=\"div\"\n        className={classes.root}\n      >\n        <MenuDetails\n          id={data.id}\n          model={data.model}\n          template={data.Template}\n          label=\"TemplateName-Colon\"\n          type={templateData.type}\n          openDoc={openDoc}\n        />\n        <PortsDetails\n          openDoc={openDoc}\n          templateData={templateData.ports}\n          protectedDocs={protectedDocs}\n        />\n        {nodeData && (\n          /* =========================== PROPERTIES =========================== */\n          <>\n            <ListItem\n              data-testid=\"input_properties-expand\"\n              button\n              data-menu-id={ACTIVE_ITEM.PROPERTIES}\n              onClick={handleExpandClick}\n            >\n              <ListItemText primary={t(\"Properties\")} />\n              {renderExpandIcon(ACTIVE_ITEM.PROPERTIES)}\n            </ListItem>\n            <Collapse in={activeItem === ACTIVE_ITEM.PROPERTIES} unmountOnExit>\n              <Grid container className={classes.gridContainer}>\n                <PropertiesSection\n                  editable={editable}\n                  templateData={templateData}\n                  nodeInstance={nodeData}\n                  onChangeProperties={onChangeProperties}\n                />\n              </Grid>\n              <Divider />\n            </Collapse>\n            {/* =========================== PARAMETERS =========================== */}\n            <ListItem\n              data-testid=\"input_parameters-expand\"\n              button\n              data-menu-id={ACTIVE_ITEM.PARAMETERS}\n              onClick={handleExpandClick}\n            >\n              <ListItemText primary={t(\"Parameters\")} />\n              {renderExpandIcon(ACTIVE_ITEM.PARAMETERS)}\n            </ListItem>\n            <Collapse in={activeItem === ACTIVE_ITEM.PARAMETERS} unmountOnExit>\n              <KeyValuesSection\n                editable={editable}\n                varName={TABLE_KEYS_NAMES.PARAMETERS}\n                instanceValues={nodeData[TABLE_KEYS_NAMES.PARAMETERS] || {}}\n                templateValues={templateData.parameters}\n                handleTableKeyEdit={handleKeyValueDialog}\n                handleTableKeyDelete={handleKeyValueDelete}\n              />\n              <Divider />\n            </Collapse>\n            {/* =========================== ENV. VARIABLES =========================== */}\n            <ListItem\n              data-testid=\"input_env-var-expand\"\n              button\n              data-menu-id={ACTIVE_ITEM.ENVVARS}\n              onClick={handleExpandClick}\n            >\n              <ListItemText primary={t(\"EnvVars\")} />\n              {renderExpandIcon(ACTIVE_ITEM.ENVVARS)}\n            </ListItem>\n            <Collapse in={activeItem === ACTIVE_ITEM.ENVVARS} unmountOnExit>\n              <KeyValuesSection\n                editable={editable}\n                varName={TABLE_KEYS_NAMES.ENVVARS}\n                instanceValues={nodeData[TABLE_KEYS_NAMES.ENVVARS] || {}}\n                templateValues={templateData.envVars}\n                handleTableKeyEdit={handleKeyValueDialog}\n                handleTableKeyDelete={handleKeyValueDelete}\n              />\n              <Divider />\n            </Collapse>\n            {/* =========================== COMMAND LINES =========================== */}\n            <ListItem\n              data-testid=\"input_cmd-line-expand\"\n              button\n              data-menu-id={ACTIVE_ITEM.CMDLINE}\n              onClick={handleExpandClick}\n            >\n              <ListItemText primary={t(\"CommandLine\")} />\n              {renderExpandIcon(ACTIVE_ITEM.CMDLINE)}\n            </ListItem>\n            <Collapse in={activeItem === ACTIVE_ITEM.CMDLINE} unmountOnExit>\n              <KeyValuesSection\n                editable={editable}\n                varName={TABLE_KEYS_NAMES.CMDLINE}\n                instanceValues={nodeData[TABLE_KEYS_NAMES.CMDLINE] || {}}\n                templateValues={templateData.commands}\n                handleTableKeyEdit={handleKeyValueDialog}\n                handleTableKeyDelete={handleKeyValueDelete}\n              />\n              <Divider />\n            </Collapse>\n            {/* =========================== GROUP =========================== */}\n            <ListItem\n              data-testid=\"input_group-expand\"\n              button\n              data-menu-id={ACTIVE_ITEM.GROUP}\n              onClick={handleExpandClick}\n            >\n              <ListItemText primary={t(\"Group\")} />\n              {renderExpandIcon(ACTIVE_ITEM.GROUP)}\n            </ListItem>\n            <Collapse in={activeItem === ACTIVE_ITEM.GROUP} unmountOnExit>\n              <NodeGroupSection\n                data-testid=\"section_node-group-section\"\n                flowGroups={flowModel.current.getGroups().serialize()}\n                nodeGroups={nodeData.groups}\n                handleBelongGroup={handleBelongGroup}\n              />\n              <Divider />\n            </Collapse>\n          </>\n        )}\n      </Typography>\n    );\n  }\n);\n\nNodeMenu.propTypes = {\n  nodeInst: PropTypes.object.isRequired,\n  flowModel: PropTypes.object.isRequired,\n  call: PropTypes.func.isRequired,\n  openDoc: PropTypes.func.isRequired,\n  groupsVisibilities: PropTypes.func.isRequired,\n  editable: PropTypes.bool\n};\n\nNodeMenu.defaultProps = {\n  editable: true\n};\n\nexport default NodeMenu;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Grain\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/FormControl\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Select\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/MenuItem\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/AppBar\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Toolbar\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/PlayArrow\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Stop\");","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const buttonStyles = makeStyles(_theme => ({\n  buttonPill: {\n    borderRadius: \"99px\"\n  }\n}));\n\nexport const flowTopBarStyles = makeStyles(theme => ({\n  flowLink: {\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  },\n  defaultRobot: {\n    fontWeight: \"bold\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 170,\n    maxWidth: 350,\n    \"& i\": {\n      marginRight: 15\n    }\n  },\n  whichFlowText: {\n    marginLeft: theme.spacing(5),\n    fontSize: \"15px\",\n    flexGrow: 1\n  },\n  searchFlowArea: {\n    marginRight: theme.spacing(3)\n  },\n  searchInputText: {\n    width: \"200px\"\n  },\n  searchPopup: {\n    width: \"fit-content\"\n  },\n  visualizationToggle: {\n    marginRight: \"10px\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  treeIcon: {\n    fontSize: \"1.2rem\"\n  }\n}));\n","import React, { useCallback } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport PropTypes from \"prop-types\";\nimport {\n  TextField,\n  InputAdornment,\n  IconButton,\n  Popper\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { flowTopBarStyles } from \"./styles\";\nimport { NodeInstance } from \"../../../model/subModels\";\nimport { useTranslation } from \"react-i18next\";\n\nconst FlowSearch = props => {\n  const { options, onChange, onEnabled, onDisabled, visible } = props;\n  const classes = flowTopBarStyles();\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  const handleSearchNode = useCallback(\n    (_e, node) => {\n      return onChange(node);\n    },\n    [onChange]\n  );\n\n  const handleSearchToggle = useCallback(() => {\n    const searchWillBeVisible = !visible;\n    if (searchWillBeVisible) {\n      return onEnabled();\n    }\n    onDisabled();\n  }, [visible, onEnabled, onDisabled]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Renderers                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  const renderSearchPopup = useCallback(\n    _popperProps => (\n      <Popper\n        {..._popperProps}\n        className={classes.searchPopup}\n        placement=\"bottom-start\"\n      />\n    ),\n    [classes.searchPopup]\n  );\n\n  const renderSearchInput = useCallback(\n    params => {\n      return (\n        <TextField\n          {...params}\n          variant=\"standard\"\n          placeholder={t(\"SearchNode\")}\n          className={classes.searchInputText}\n          autoFocus\n          InputProps={{\n            ...params.InputProps,\n            startAdornment: (\n              <>\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n                {params.InputProps.startAdornment}\n              </>\n            )\n          }}\n        />\n      );\n    },\n    [classes.searchInputText, t]\n  );\n\n  if (!visible) {\n    return (\n      <IconButton\n        testId=\"input_search-icon\"\n        onClick={handleSearchToggle}\n        size=\"small\"\n        variant=\"contained\"\n      >\n        <SearchIcon color=\"action\" />\n      </IconButton>\n    );\n  }\n\n  return (\n    <Autocomplete\n      data-testid=\"input_search-flow-text\"\n      options={options}\n      getOptionLabel={option => option.name}\n      onChange={handleSearchNode}\n      onBlur={handleSearchToggle}\n      onFocus={onEnabled}\n      groupBy={option =>\n        option instanceof NodeInstance ? t(\"Node\") : t(\"SubFlow\")\n      }\n      PopperComponent={renderSearchPopup}\n      renderInput={renderSearchInput}\n    />\n  );\n};\n\nFlowSearch.propTypes = {\n  visible: PropTypes.bool,\n  options: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func,\n  onEnabled: PropTypes.func,\n  onDisabled: PropTypes.func\n};\n\nexport default FlowSearch;\n","import React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useState,\n  useMemo,\n  useRef\n} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Typography,\n  Tooltip,\n  Button,\n  CircularProgress\n} from \"@material-ui/core\";\nimport GrainIcon from \"@material-ui/icons/Grain\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport StopIcon from \"@material-ui/icons/Stop\";\nimport { RobotManager } from \"@mov-ai/mov-fe-lib-core\";\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\nimport Workspace from \"../../../../../utils/Workspace\";\nimport {\n  SCOPES,\n  PLUGINS,\n  GLOBAL_WORKSPACE,\n  ALERT_SEVERITIES\n} from \"../../../../../utils/Constants\";\nimport { ERROR_MESSAGES } from \"../../../../../utils/Messages\";\nimport { defaultFunction } from \"../../../../../utils/Utils\";\nimport { FLOW_VIEW_MODE, ROBOT_BLACKLIST } from \"../../Constants/constants\";\nimport useNodeStatusUpdate from \"./hooks/useNodeStatusUpdate\";\n\nimport { buttonStyles, flowTopBarStyles } from \"./styles\";\nimport FlowSearch from \"./FlowSearch\";\n\nconst BACKEND_CALLBACK_NAME = \"backend.FlowTopBar\";\nconst FEEDBACK_TIMEOUT = 10000;\n\nconst ButtonTopBar = forwardRef((props, ref) => {\n  const { disabled, onClick, children, testId = \"input_top-bar\" } = props;\n  const classes = buttonStyles();\n  return (\n    <Button\n      data-testid={testId}\n      ref={ref}\n      size=\"small\"\n      color=\"primary\"\n      variant=\"contained\"\n      disabled={disabled}\n      className={classes.buttonPill}\n      onClick={onClick}\n    >\n      {children}\n    </Button>\n  );\n});\n\nconst FlowTopBar = props => {\n  // Props\n  const {\n    call,\n    alert,\n    scope,\n    loading,\n    mainInterface,\n    id,\n    name,\n    onRobotChange,\n    onViewModeChange,\n    viewMode,\n    searchProps,\n    confirmationAlert\n  } = props;\n  // State hooks\n  const [actionLoading, setActionLoading] = useState(false);\n  const [robotSelected, setRobotSelected] = useState(\"\");\n  const [robotList, setRobotList] = useState({});\n  // Other hooks\n  const classes = flowTopBarStyles();\n  const { t } = useTranslation();\n  const { robotSubscribe, robotUnsubscribe, getFlowPath, robotStatus } =\n    useNodeStatusUpdate(props, robotSelected, viewMode);\n  // Refs\n  const buttonDOMRef = useRef();\n  const helperRef = useRef();\n  const commandRobotTimeoutRef = useRef();\n  const isMounted = useRef();\n  const flowInstanceRef = useRef();\n  // Managers Memos\n  const robotManager = useMemo(() => new RobotManager(), []);\n  const workspaceManager = useMemo(() => new Workspace(), []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Change robot subscriber (on change of selected robot)\n   * @param {String} robotId : New selected robot\n   */\n  const changeRobotSubscriber = useCallback(\n    robotId => {\n      robotUnsubscribe();\n      robotSubscribe(robotId);\n    },\n    [robotSubscribe, robotUnsubscribe]\n  );\n\n  /**\n   * @private Get store helper to use cloud functions\n   */\n  const initStoreHelper = useCallback(() => {\n    return call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.GET_STORE,\n      scope\n    ).then(store => {\n      helperRef.current = store.helper;\n      return store.helper;\n    });\n  }, [call, scope]);\n\n  /**\n   * @private Get store helper to use cloud functions\n   */\n  const initFlowInstance = useCallback(() => {\n    return call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.READ, {\n      scope,\n      name\n    }).then(document => {\n      flowInstanceRef.current = document;\n      return document;\n    });\n  }, [call, scope, name]);\n\n  /**\n   * @private Init selected robot\n   * @param {string} robotId : Robot ID\n   */\n  const initSelectedRobot = useCallback(\n    robotId => {\n      setRobotSelected(robotId);\n      robotSubscribe(robotId);\n      onRobotChange(robotId);\n    },\n    [onRobotChange, robotSubscribe]\n  );\n\n  /**\n   * Get running default robot\n   * @param {String} currentRobot : current selected robot id\n   */\n  const getRunningRobot = useCallback(\n    (currentRobot, robots) => {\n      // If there's a currently selected robot in local storage\n      if (currentRobot) initSelectedRobot(currentRobot);\n      // Call callback to get default robot\n      const helper = helperRef.current;\n      helper\n        .getDefaultRobot()\n        .then(robotId => {\n          // Update default robot in state and set as selected if there's none\n          if (robotId) {\n            setRobotList(prevState => {\n              return {\n                ...prevState,\n                [robotId]: { ...prevState[robotId], isDefault: true }\n              };\n            });\n            // Update Flow selected robot if none is selected yet\n            let robotToSelect = currentRobot;\n            if (!currentRobot || !(currentRobot in robots)) {\n              workspaceManager.setSelectedRobot(robotId);\n              initSelectedRobot(robotId);\n              robotToSelect = robotId;\n            }\n            // Set selected robot\n            setRobotSelected(robotToSelect);\n          }\n        })\n        .catch(err => {\n          console.warn(\"getRunningRobot error\", err);\n          alert({\n            message: t(ERROR_MESSAGES.ERROR_RUNNING_SPECIFIC_CALLBACK, {\n              callbackName: BACKEND_CALLBACK_NAME\n            }),\n            severity: ALERT_SEVERITIES.ERROR\n          });\n        });\n    },\n    [initSelectedRobot, workspaceManager, alert, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On Load Robot List\n   * @param {object} robots : All robots load from robotManager\n   */\n  const onLoadRobotList = useCallback(\n    robots => {\n      const currentSelected = workspaceManager.getSelectedRobot();\n      // Remove blacklisted robots\n      Object.keys(robots).forEach(robotId => {\n        if (ROBOT_BLACKLIST.includes(robots[robotId].RobotName))\n          delete robots[robotId];\n      });\n      // Update state hooks\n      setRobotList(robots);\n      // Get running Robot\n      getRunningRobot(currentSelected, robots);\n    },\n    [getRunningRobot, workspaceManager]\n  );\n\n  /**\n   * On component mount\n   */\n  useEffect(() => {\n    // Load store loader and robot list\n    initStoreHelper().then(() => {\n      robotManager.getAll(onLoadRobotList);\n    });\n    // Load flow instance\n    initFlowInstance();\n    // Set isMounted\n    isMounted.current = true;\n\n    /**\n     * On component unmount\n     */\n    return () => {\n      robotUnsubscribe();\n      // Unmount\n      isMounted.current = false;\n    };\n  }, [\n    initFlowInstance,\n    initStoreHelper,\n    onLoadRobotList,\n    robotManager,\n    robotUnsubscribe\n  ]);\n\n  /**\n   * Finish actionLoading when there's an update on activeFlow\n   */\n  useEffect(() => {\n    setActionLoading(false);\n    clearTimeout(commandRobotTimeoutRef.current);\n  }, [robotStatus.activeFlow, setActionLoading]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Helper                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Check if can start flow\n   * @param {string} action : One of values: \"START\" or \"STOP\"\n   * @returns {boolean} True if can run flow and False otherwise\n   */\n  const canRunFlow = useCallback(\n    action => {\n      const graph = mainInterface.current?.graph;\n      // let's validate flow before continuing\n      graph?.validateFlow();\n\n      const warnings = graph.warnings || [];\n      const warningsVisibility = graph.warningsVisibility;\n      const runtimeWarnings = warnings.filter(wn => wn.isRuntime);\n      runtimeWarnings.forEach(warning => {\n        graph.setPermanentWarnings(warning);\n        if (!warningsVisibility)\n          alert({\n            message: runtimeWarnings[0].message,\n            severity: runtimeWarnings[0].type\n          });\n      });\n      return !(runtimeWarnings.length && action === \"START\");\n    },\n    [alert, mainInterface]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Events                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle change of selected robot\n   * @param {Event} event : Change native event\n   */\n  const handleChangeRobot = useCallback(\n    event => {\n      setRobotSelected(prevState => {\n        const robotId = event.target.value;\n        if (robotId !== prevState) {\n          // Set in local storage\n          workspaceManager.setSelectedRobot(robotId);\n          // Change subscriber and update state\n          changeRobotSubscriber(robotId);\n          onRobotChange(robotId);\n          return robotId;\n        }\n        return prevState;\n      });\n    },\n    [changeRobotSubscriber, onRobotChange, workspaceManager]\n  );\n\n  /**\n   * Send action to start robot\n   * @param {*} action\n   * @returns To avoid starting flow if flow is not eligible to start\n   */\n  const sendActionToRobot = useCallback(\n    (action, flowPath) => {\n      const canStart = canRunFlow(action);\n      if (!canStart) return;\n      setActionLoading(true);\n      // Send action to robot\n      helperRef.current\n        .sendToRobot({\n          action,\n          flowPath: flowPath || getFlowPath(),\n          robotId: robotSelected\n        })\n        .then(res => {\n          if (!res) return;\n          commandRobotTimeoutRef.current = setTimeout(() => {\n            // If flow reloads (creation of a new) the old is unmounted\n            if (!isMounted.current) return;\n            // Set actionLoading false and show error message\n            setActionLoading(false);\n            alert({\n              message: t(\"FailedFlowAction\", {\n                action: t(action.toLowerCase())\n              }),\n              severity: ALERT_SEVERITIES.ERROR\n            });\n          }, FEEDBACK_TIMEOUT);\n        })\n        .catch(err => {\n          console.warn(\"Error sending action to robot\", err);\n          alert({\n            message: t(ERROR_MESSAGES.ERROR_RUNNING_SPECIFIC_CALLBACK, {\n              callbackName: BACKEND_CALLBACK_NAME\n            }),\n            severity: ALERT_SEVERITIES.ERROR\n          });\n        });\n      if (buttonDOMRef.current) buttonDOMRef.current.blur();\n    },\n    [alert, canRunFlow, getFlowPath, robotSelected, setActionLoading, t]\n  );\n\n  /**\n   * Handle Start flow button click\n   */\n  const handleStartFlow = useCallback(\n    saveResponse => {\n      // Start Flow if there's no active flow\n      const flowUrl = saveResponse?.model?.getUrl();\n      if (robotStatus.activeFlow === \"\") {\n        sendActionToRobot(\"START\", flowUrl);\n      } else {\n        // Confirmation alert if Another flow is running!\n        const title = t(\"AnotherFlowRunningConfirmationTitle\");\n        const message = t(\"AnotherFlowRunningConfirmationMessage\", {\n          robotName: robotList[robotSelected].RobotName,\n          activeFlow: robotStatus.activeFlow,\n          id: id\n        });\n        confirmationAlert({\n          title,\n          message,\n          submitText: t(\"Run\"),\n          onSubmit: () => sendActionToRobot(\"START\", flowUrl)\n        });\n      }\n    },\n    [\n      robotStatus.activeFlow,\n      sendActionToRobot,\n      t,\n      robotList,\n      robotSelected,\n      id,\n      confirmationAlert\n    ]\n  );\n\n  /**\n   * Handle Stop flow button click\n   */\n  const handleStopFlow = useCallback(() => {\n    sendActionToRobot(\"STOP\");\n  }, [sendActionToRobot]);\n\n  /**\n   * Handle Save before starting a flow\n   */\n  const handleSaveBeforeStart = useCallback(() => {\n    const isDirty = flowInstanceRef.current?.getDirty();\n    if (isDirty) {\n      call(\n        PLUGINS.DOC_MANAGER.NAME,\n        PLUGINS.DOC_MANAGER.CALL.SAVE,\n        {\n          scope,\n          name\n        },\n        handleStartFlow\n      );\n    } else {\n      handleStartFlow();\n    }\n  }, [call, handleStartFlow, name, scope]);\n\n  /**\n   * Handle view mode change : default view to tree view\n   * @param {Event} event : Event change\n   * @param {string} newViewMode : New value\n   * @returns\n   */\n  const handleViewModeChange = useCallback(\n    (_event, newViewMode) => {\n      onViewModeChange(newViewMode);\n    },\n    [onViewModeChange]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render Start button content\n   * @returns {ReactElement} CircularProgress to indicate actionLoading or play icon with tooltip\n   */\n  const renderStartButton = useCallback(() => {\n    // Render circular progress if actionLoading\n    return actionLoading ? (\n      <CircularProgress size={25} color=\"inherit\" />\n    ) : (\n      <Tooltip title={t(\"StartFlow\")}>\n        <>\n          <PlayArrowIcon /> {t(\"SaveAndRun\")}\n        </>\n      </Tooltip>\n    );\n  }, [actionLoading, t]);\n\n  /**\n   * Render Stop button content\n   * @returns {ReactElement} CircularProgress to indicate actionLoading or Stop icon with tooltip\n   */\n  const renderStopButton = useCallback(() => {\n    // Render circular progress if actionLoading\n    return actionLoading ? (\n      <CircularProgress size={25} color=\"inherit\" />\n    ) : (\n      <Tooltip title={t(\"StopFlow\")}>\n        <StopIcon />\n      </Tooltip>\n    );\n  }, [actionLoading, t]);\n\n  return (\n    <AppBar\n      data-testid=\"section-flow-top-bar\"\n      position=\"static\"\n      color=\"inherit\"\n    >\n      <Toolbar variant=\"dense\">\n        <Typography component=\"div\" className={classes.grow}>\n          <FormControl className={classes.formControl}>\n            <Select\n              inputProps={{ \"data-testid\": \"input_change-robot\" }}\n              id=\"robot-selector\"\n              value={robotSelected}\n              startAdornment={<i className=\"icon-Happy\"></i>}\n              onChange={handleChangeRobot}\n            >\n              {Object.keys(robotList).map((robotId, robotIndex) => {\n                const isDefaultRobot = robotList[robotId].isDefault;\n                return (\n                  <MenuItem\n                    key={`robotList-${robotIndex}`}\n                    value={robotId}\n                    className={isDefaultRobot ? classes.defaultRobot : \"\"}\n                  >\n                    {robotList[robotId].RobotName}\n                  </MenuItem>\n                );\n              })}\n            </Select>\n          </FormControl>\n          {getFlowPath() === robotStatus.activeFlow ? (\n            <ButtonTopBar\n              testId=\"input_stop-flow\"\n              ref={buttonDOMRef}\n              disabled={actionLoading}\n              onClick={handleStopFlow}\n            >\n              {renderStopButton()}\n            </ButtonTopBar>\n          ) : (\n            <ButtonTopBar\n              testId=\"input_save-before-start\"\n              ref={buttonDOMRef}\n              disabled={!robotStatus.isOnline || actionLoading}\n              onClick={handleSaveBeforeStart}\n            >\n              {renderStartButton()}\n            </ButtonTopBar>\n          )}\n        </Typography>\n        <Typography\n          data-testid=\"section_view-search\"\n          component=\"div\"\n          className={classes.searchFlowArea}\n        >\n          <FlowSearch {...searchProps} />\n        </Typography>\n        <Typography\n          data-testid=\"section_view-mode-toggle\"\n          component=\"div\"\n          className={classes.visualizationToggle}\n        >\n          <ToggleButtonGroup\n            exclusive\n            size=\"small\"\n            value={viewMode}\n            onChange={handleViewModeChange}\n          >\n            <ToggleButton\n              data-testid=\"input_default-flow\"\n              value={FLOW_VIEW_MODE.default}\n              disabled={loading}\n            >\n              <Tooltip title={t(\"DefaultFlowView\")}>\n                <GrainIcon fontSize=\"small\" />\n              </Tooltip>\n            </ToggleButton>\n            <ToggleButton\n              data-testid=\"input_tree-view-flow\"\n              value={FLOW_VIEW_MODE.treeView}\n              disabled={loading}\n            >\n              <Tooltip title={t(\"TreeView\")}>\n                <i className={`icon-tree ${classes.treeIcon}`}></i>\n              </Tooltip>\n            </ToggleButton>\n          </ToggleButtonGroup>\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nFlowTopBar.propTypes = {\n  id: PropTypes.string,\n  nodeStatusUpdated: PropTypes.func,\n  onViewModeChange: PropTypes.func,\n  onStartStopFlow: PropTypes.func,\n  onRobotChange: PropTypes.func,\n  openFlow: PropTypes.func,\n  workspace: PropTypes.string,\n  type: PropTypes.string,\n  version: PropTypes.string,\n  searchProps: PropTypes.shape({\n    visible: PropTypes.bool,\n    options: PropTypes.arrayOf(PropTypes.string),\n    onChange: PropTypes.func,\n    onEnabled: PropTypes.func,\n    onDisabled: PropTypes.func\n  })\n};\n\nFlowTopBar.defaultProps = {\n  openFlow: () => defaultFunction(\"openFlow\"),\n  onRobotChange: () => defaultFunction(\"onRobotChange\"),\n  onViewModeChange: () => defaultFunction(\"onViewModeChange\"),\n  onStartStopFlow: () => defaultFunction(\"onStartStopFlow\"),\n  nodeStatusUpdated: () => defaultFunction(\"nodeStatusUpdated\"),\n  workspace: GLOBAL_WORKSPACE,\n  type: SCOPES.FLOW,\n  version: \"__UNVERSIONED__\"\n};\n\nexport default FlowTopBar;\n","import { useState, useRef, useMemo, useEffect, useCallback } from \"react\";\nimport { RobotManager } from \"@mov-ai/mov-fe-lib-core\";\nimport { FLOW_VIEW_MODE } from \"../../../Constants/constants\";\nimport { compareDocumentPaths } from \"../../../Utils/utils\";\nimport _isEqual from \"lodash/isEqual\";\n\nconst DEBOUNCE_TIME = 600; // ms\nconst ROBOT_OFFLINE_TIME = 8; // sec\n\nconst useNodeStatusUpdate = (props, robotSelected, viewMode) => {\n  // Props\n  const {\n    id,\n    version,\n    alert,\n    nodeStatusUpdated,\n    nodeCompleteStatusUpdated,\n    onStartStopFlow\n  } = props;\n  // State hooks\n  const [robotStatus, setRobotStatus] = useState({\n    activeFlow: \"\",\n    isOnline: true\n  });\n  // Manager\n  const robotManager = useMemo(() => new RobotManager(), []);\n  // Refs\n  const selectedRobotRef = useRef(robotSelected);\n  const debounceDeltaRef = useRef(Date.now());\n  const nodeStatusViewModeRef = useRef(FLOW_VIEW_MODE.default);\n  const nodeStatusRef = useRef({});\n  const allNodeStatusRef = useRef({});\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Check if robot is online based on last timestamp\n   * @param {*} timestamp\n   * @returns {boolean} True if robot is online and False otherwise\n   */\n  const isRobotOnline = useCallback(timestamp => {\n    return Date.now() * 0.001 - timestamp <= ROBOT_OFFLINE_TIME;\n  }, []);\n\n  /**\n   * @private Get running nodes\n   * @param {*} robotStatusData\n   * @returns\n   */\n  const getNodesRunning = useCallback(robotStatusData => {\n    const nodesLchd = robotStatusData.nodes_lchd || [];\n    const nodesPersistent = robotStatusData.persistent_nodes_lchd\n      ? robotStatusData.persistent_nodes_lchd\n      : [];\n    return nodesLchd.concat(nodesPersistent);\n  }, []);\n\n  /**\n   * @private Get nodes to update\n   * @param {*} prevNodesStatus\n   * @param {*} runningNodes\n   * @param {*} splitContainer\n   * @returns Nodes to update\n   */\n  const getNodesToUpdate = useCallback(\n    (prevNodesStatus, runningNodes, splitContainer = true) => {\n      // {<node name> :< status>, ...} where status can be 1 (running) or 0 (stopped and to be removed in the next ui update)\n      const nextNodesStatus = {};\n\n      // remove nodes with status = 0 and set status to 0 of the remaining ones (previously 1)\n      Object.entries(prevNodesStatus)\n        .filter(obj => obj[1] === 1) // remove already stopped nodes\n        .forEach(obj => (nextNodesStatus[obj[0]] = 0)); // set all nodes to stopped\n\n      runningNodes\n        .map(el => {\n          // nodes running in subFlows are named as <subFlow inst name>__<node name>\n          // ex.: node running as ctest__test => subFlow is ctest and the node name is test\n          const [node] = el.split(/__/);\n          return splitContainer ? node : el;\n        })\n        .forEach(node => (nextNodesStatus[node] = 1)); // set node state to running\n\n      return nextNodesStatus;\n    },\n    []\n  );\n\n  /**\n   * @private Show online Alert\n   * @param {*} isOnline\n   */\n  const onlineAlert = useCallback(\n    isOnline => {\n      const msg = isOnline\n        ? { text: \"Robot is online\", type: \"info\" }\n        : { text: \"Robot is offline\", type: \"warning\" };\n      if (isOnline !== robotStatus.isOnline) {\n        alert({ message: msg.text, severity: msg.type });\n      }\n    },\n    [alert, robotStatus.isOnline]\n  );\n\n  /**\n   * @private Reset node status\n   */\n  const resetNodeStatus = useCallback(() => {\n    const emptyNodeStatus = {};\n    const emptyAllNodeStatus = {};\n    // Reset node_status\n    Object.keys(nodeStatusRef.current).forEach(node => {\n      emptyNodeStatus[node] = 0;\n    });\n    // Reset all_nodes_status\n    Object.keys(allNodeStatusRef.current).forEach(node => {\n      emptyAllNodeStatus[node] = 0;\n    });\n    // Update local variables\n    nodeStatusRef.current = emptyNodeStatus;\n    allNodeStatusRef.current = emptyAllNodeStatus;\n    // Send updates to canvas\n    nodeStatusUpdated(emptyNodeStatus);\n    nodeCompleteStatusUpdated(emptyAllNodeStatus);\n  }, [nodeCompleteStatusUpdated, nodeStatusUpdated]);\n\n  /**\n   * Format flow path\n   * @returns\n   */\n  const getFlowPath = useCallback(() => {\n    const _version = [\"-\", \"\"].includes(version) ? \"__UNVERSIONED__\" : version;\n\n    return `${id}/${_version}`;\n  }, [id, version]);\n\n  /**\n   * Check if flow is running\n   * @param {string} flowName : Flow to validate if is running\n   * @returns {boolean} True if flowName is running and False otherwise\n   */\n  const isFlowRunning = useCallback(\n    flowName => {\n      return getFlowPath() === flowName;\n    },\n    [getFlowPath]\n  );\n\n  /**\n   * @private Update node Status\n   * @param {*} key\n   * @param {*} targetValue\n   * @param {*} data\n   * @param {*} forceUpdate\n   * @returns\n   */\n  const updateNodeStatus = useCallback(\n    (key, targetValue, data, forceUpdate) => {\n      if (\n        Date.now() - debounceDeltaRef.current <= DEBOUNCE_TIME &&\n        !forceUpdate\n      )\n        return;\n\n      let isOnline = true;\n      let activeFlow = \"\";\n\n      // get robot status\n      const robotStatusData = data[key].Robot?.[targetValue]?.Status;\n\n      if (robotStatusData) {\n        isOnline = isRobotOnline(robotStatusData.timestamp);\n        activeFlow = robotStatusData.active_flow;\n\n        const running = isOnline && isFlowRunning(robotStatusData.active_flow);\n        const runningNodes = running ? getNodesRunning(robotStatusData) : [];\n        const nodeStatus = getNodesToUpdate(\n          nodeStatusRef.current,\n          runningNodes\n        );\n        const allNodesStatus = getNodesToUpdate(\n          allNodeStatusRef.current,\n          runningNodes,\n          false\n        );\n\n        if (\n          (!_isEqual(allNodeStatusRef.current, allNodesStatus) &&\n            isFlowRunning(activeFlow)) ||\n          nodeStatusViewModeRef.current !== viewMode\n        ) {\n          nodeStatusRef.current = nodeStatus;\n          allNodeStatusRef.current = allNodesStatus;\n          nodeStatusViewModeRef.current = viewMode;\n          nodeStatusUpdated(allNodesStatus, { isOnline, activeFlow });\n        }\n\n        activeFlow = isOnline ? robotStatusData.active_flow : \"\";\n        onStartStopFlow(activeFlow);\n      }\n      // Robot doesn't have \"Status\" key in Redis\n      else {\n        if (isOnline) {\n          alert({\n            message: \"Robot has no 'Status' information\",\n            severity: \"warning\"\n          });\n        }\n      }\n\n      onlineAlert(isOnline);\n      setRobotStatus({ isOnline, activeFlow });\n      debounceDeltaRef.current = Date.now();\n    },\n    [\n      alert,\n      getNodesRunning,\n      getNodesToUpdate,\n      isFlowRunning,\n      isRobotOnline,\n      nodeStatusUpdated,\n      onStartStopFlow,\n      onlineAlert,\n      viewMode\n    ]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Exposed Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Subscribe to changes in robot status\n   * @param {*} robotId\n   */\n  const robotSubscribe = useCallback(\n    robotId => {\n      const robot = robotManager.getRobot(robotId);\n      const robotStatusData = robot.data?.Status;\n      // Set robot status from robot manager data (if any)\n      if (robotStatusData) {\n        onStartStopFlow(robotStatusData.active_flow);\n        setRobotStatus(prevState => {\n          return {\n            ...prevState,\n            activeFlow: robotStatusData.active_flow\n          };\n        });\n      }\n      // Subscribe to status change\n      robot.subscribe({\n        property: \"Status\",\n        onLoad: data => {\n          updateNodeStatus(\"value\", robotId, data);\n        },\n        onUpdate: updateData => {\n          if (updateData.event === \"hset\") {\n            if (robotId !== selectedRobotRef.current) return;\n            updateNodeStatus(\"key\", robotId, updateData);\n          }\n        }\n      });\n    },\n    [onStartStopFlow, robotManager, updateNodeStatus]\n  );\n\n  /**\n   * Unsubscribe to changes in robot status\n   */\n  const robotUnsubscribe = useCallback(() => {\n    if (selectedRobotRef.current) {\n      resetNodeStatus();\n      robotManager\n        .getRobot(selectedRobotRef.current)\n        .unsubscribe({ property: \"Status\" });\n    }\n  }, [resetNodeStatus, robotManager]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Hook Lifecycle                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Update selected robot ref\n   */\n  useEffect(() => {\n    selectedRobotRef.current = robotSelected;\n  }, [robotSelected]);\n\n  /**\n   * Reset node status when flow stop running\n   */\n  useEffect(() => {\n    const isSameFlow = compareDocumentPaths(robotStatus.activeFlow, id);\n    if (!isSameFlow) resetNodeStatus();\n  }, [robotStatus.activeFlow, id, resetNodeStatus]);\n\n  return {\n    robotSubscribe,\n    robotUnsubscribe,\n    getFlowPath,\n    robotStatus\n  };\n};\n\nexport default useNodeStatusUpdate;\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Typography,\n  Tooltip,\n  FormControlLabel,\n  Switch\n} from \"@material-ui/core\";\nimport { RobotManager, Document } from \"@mov-ai/mov-fe-lib-core\";\nimport { defaultFunction } from \"../../../../../utils/Utils\";\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles(styles);\n\nconst FlowBottomBar = props => {\n  // State(s)\n  const [barStatus, setBarStatus] = useState(\"default\");\n  const [allRobots, setRobots] = useState({});\n  const [selectedRobotName, setSelectedRobotName] = useState(\"\");\n\n  // Translation hook\n  const { t } = useTranslation();\n\n  // Prop(s)\n  const {\n    onToggleWarnings,\n    robotSelected,\n    runningFlow,\n    warnings,\n    warningVisibility,\n    flowDebugging = false,\n    toggleFlowDebug\n  } = props;\n\n  // Hook(s)\n  const classes = useStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  const updateRobots = useCallback(changedRobots => {\n    setRobots(prevState => {\n      const newState = {};\n      Object.keys(changedRobots).forEach(id => {\n        newState[id] = changedRobots[id];\n      });\n      return { ...prevState, ...newState };\n    });\n  }, []);\n\n  const parseFlowName = flowName => {\n    return flowName.replace(\"/__UNVERSIONED__\", \"\");\n  };\n\n  const handleOpenFlow = event => {\n    const doc = new Document({ path: runningFlow });\n    const { workspace, type, name, version } = doc;\n\n    props.openFlow({\n      id: name,\n      scope: type,\n      workspace,\n      name,\n      version,\n      ctrlKey: event.ctrlKey\n    });\n  };\n\n  /**\n   * Toggle warnings visibility in canvas\n   */\n  const toggleVisibility = useCallback(() => {\n    if (!warnings.length) return;\n    // Toggle warnings if there's any\n    onToggleWarnings(!warningVisibility);\n  }, [warnings, onToggleWarnings, warningVisibility]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    const robotManager = new RobotManager();\n    robotManager.getAll(robots => setRobots(robots));\n    const subscriberId = robotManager.subscribeToChanges(updateRobots);\n    // Unsubscribe to changes on component unmount\n    return () => {\n      robotManager.unsubscribeToChanges(subscriberId);\n    };\n  }, [updateRobots]);\n\n  useEffect(() => {\n    const status = runningFlow ? \"active\" : \"default\";\n    setBarStatus(status);\n    // Set selected robot name\n    if (robotSelected && status === \"active\") {\n      const robotName = allRobots[robotSelected]?.RobotName || \"\";\n      setSelectedRobotName(robotName);\n    }\n  }, [robotSelected, allRobots, runningFlow]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Typography\n      data-testid=\"section_flow-bottom-bar\"\n      component=\"div\"\n      className={`${classes.bar} ${classes[barStatus]}`}\n    >\n      <Typography\n        component=\"div\"\n        className={classes.debugToggle}\n        data-testid=\"section_flow-toggle-debug\"\n      >\n        <Tooltip title={t(\"ToggleFlowDebugDescription\")}>\n          <FormControlLabel\n            control={\n              <Switch\n                inputProps={{ \"data-testid\": \"input_toggle-debug\" }}\n                checked={flowDebugging}\n                onChange={toggleFlowDebug}\n                name=\"toggleFlowDebug\"\n                color=\"primary\"\n              />\n            }\n            label={t(\"ToggleFlowDebug\")}\n          />\n        </Tooltip>\n      </Typography>\n      <Typography component=\"div\">\n        {runningFlow && (\n          <Tooltip\n            classes={{ tooltip: classes.tooltip }}\n            title={`The selected robot is running: ${parseFlowName(\n              runningFlow\n            )}`}\n          >\n            <Typography\n              data-testid=\"input_open-flow\"\n              component=\"div\"\n              className={classes.action}\n              onClick={evt => handleOpenFlow(evt)}\n            >\n              <i className=\"icon-Happy\"></i>\n              {selectedRobotName} : {parseFlowName(runningFlow)}\n            </Typography>\n          </Tooltip>\n        )}\n        <Tooltip title=\"Show warnings\" classes={{ tooltip: classes.tooltip }}>\n          <Typography\n            data-testid=\"input_show-warnings\"\n            component=\"div\"\n            className={`${classes.action} ${classes.alignRight} ${\n              warningVisibility ? classes.actionActive : \"\"\n            }`}\n            onClick={toggleVisibility}\n          >\n            <WarningIcon fontSize=\"small\" /> {warnings.length}\n          </Typography>\n        </Tooltip>\n      </Typography>\n    </Typography>\n  );\n};\n\nFlowBottomBar.propTypes = {\n  openFlow: PropTypes.func,\n  toggleFlowDebug: PropTypes.func,\n  robotSelected: PropTypes.string,\n  runningFlow: PropTypes.string,\n  flowDebugging: PropTypes.bool\n};\n\nFlowBottomBar.defaultProps = {\n  openFlow: () => defaultFunction(\"openFlow\"),\n  robotSelected: \"\",\n  runningFlow: \"\"\n};\n\nexport default FlowBottomBar;\n","const styles = theme => ({\n  bar: {\n    height: \"25px\",\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  grow: {\n    flexGrow: 1\n  },\n  active: {\n    background: theme.palette.primary.light,\n    color: \"black\"\n  },\n  default: {\n    color: \"white\",\n    background: theme.palette.background.primary,\n    borderTop: \"solid 1px black\"\n  },\n  tooltip: {\n    fontSize: \"1em\"\n  },\n  action: {\n    cursor: \"pointer\",\n    width: \"fit-content\",\n    display: \"inline-block\",\n    padding: \"0 15px\",\n    borderRight: `solid 1px ${theme.palette.background.secondary}`,\n    \"& i\": { marginRight: 10, fontSize: \"14px\" },\n    \"&:hover\": {\n      filter: `drop-shadow(2px 4px 6px white)`\n    }\n  },\n  actionActive: {\n    filter: `drop-shadow(2px 4px 6px gray)`\n  },\n  alignRight: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: \"100%\",\n    borderLeft: `solid 1px ${theme.palette.background.secondary}`\n  },\n  debugToggle: {\n    \"&>label\": {\n      margin: \"0px\",\n      height: \"27px\",\n      \"&>span\": {\n        fontSize: \"12px\"\n      }\n    }\n  }\n});\n\nexport default styles;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/ToggleOn\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/Menu\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/ListItemIcon\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/core/ListItemText\");","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { defaultFunction } from \"../../../../../../utils/Utils\";\n\nconst ContextMenu = props => {\n  const { anchorPosition, menuList, onClose, readOnly } = props;\n\n  /**\n   * Caputure context menu click event and dispatch it for the rightful element\n   * @param {Event} event : contextmenu event\n   */\n  const onContextMenu = useCallback(event => {\n    const { clientX, clientY } = event;\n    // Get all elements from clicked point\n    const allElementsFromPoint = document.elementsFromPoint(clientX, clientY);\n    // Create new contextmenu event based on the original mouse clicked position\n    const ev = new MouseEvent(\"contextmenu\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX,\n      clientY\n    });\n    // first element is the same event.target\n    // second element is the pop-up menu overlay\n    // third element is the next in line that should receive the event\n    allElementsFromPoint[2]?.dispatchEvent(ev);\n  }, []);\n\n  return (\n    <Menu\n      onContextMenu={onContextMenu}\n      data-testid=\"section_context-menu\"\n      anchorReference=\"anchorPosition\"\n      anchorPosition={anchorPosition}\n      open={Boolean(anchorPosition)}\n      onClose={onClose}\n    >\n      {menuList.map((item, index) => {\n        return (\n          <MenuItem\n            data-testid=\"input_context-option\"\n            onClick={item.onClick}\n            disabled={readOnly}\n            key={index}\n          >\n            {item.icon && <ListItemIcon>{item.icon}</ListItemIcon>}\n            <ListItemText>{item.label || item.element}</ListItemText>\n          </MenuItem>\n        );\n      })}\n    </Menu>\n  );\n};\n\nContextMenu.propTypes = {\n  anchorPosition: PropTypes.object,\n  menuList: PropTypes.arrayOf(\n    PropTypes.shape({\n      icon: PropTypes.element,\n      element: PropTypes.element,\n      label: PropTypes.string,\n      onClick: PropTypes.func\n    })\n  ),\n  onClose: PropTypes.func,\n  readOnly: PropTypes.bool\n};\nContextMenu.defaultProps = {\n  menuList: [],\n  readOnly: false,\n  onClose: () => defaultFunction(\"onClose\")\n};\n\nexport default ContextMenu;\n","import { TYPES } from \"../../../Constants/constants\";\n\nconst MODES = {\n  NODE: TYPES.NODE,\n  SUBFLOW: TYPES.CONTAINER,\n  LINK: \"Link\",\n  PORT: \"Port\",\n  CANVAS: \"Canvas\"\n};\n\nexport default MODES;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport ToggleOnIcon from \"@material-ui/icons/ToggleOn\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport { ContextMenu, MODE } from \".\";\n\nconst FlowContextMenu = props => {\n  const { t } = useTranslation();\n  const {\n    mode,\n    anchorPosition,\n    onClose,\n    onNodeCopy,\n    onCanvasPaste,\n    onNodeDelete,\n    onLinkDelete,\n    onSubFlowDelete,\n    onPortToggle\n  } = props;\n\n  const handleOptionsClick = fn => {\n    fn();\n    onClose();\n  };\n\n  const getNodeOptions = [\n    {\n      label: t(\"Copy\"),\n      icon: <FileCopyIcon />,\n      onClick: () => handleOptionsClick(onNodeCopy)\n    },\n    {\n      label: t(\"Delete\"),\n      icon: <DeleteOutlineIcon />,\n      onClick: () => handleOptionsClick(onNodeDelete)\n    }\n  ];\n  const getSubFlowOptions = [\n    {\n      label: t(\"Copy\"),\n      icon: <FileCopyIcon />,\n      onClick: () => handleOptionsClick(onNodeCopy)\n    },\n    {\n      label: t(\"Delete\"),\n      icon: <DeleteOutlineIcon />,\n      onClick: () => handleOptionsClick(onSubFlowDelete)\n    }\n  ];\n  const getLinkOptions = [\n    {\n      label: t(\"Delete\"),\n      icon: <DeleteOutlineIcon />,\n      onClick: () => handleOptionsClick(onLinkDelete)\n    }\n  ];\n\n  const getPortOptions = [\n    {\n      label: t(\"ToggleExposed\"),\n      icon: <ToggleOnIcon />,\n      onClick: () => handleOptionsClick(onPortToggle)\n    }\n  ];\n\n  const getCanvasOptions = [\n    {\n      label: t(\"Paste\"),\n      onClick: () => handleOptionsClick(onCanvasPaste)\n    }\n  ];\n\n  const getItems = () => {\n    const renderMap = {\n      [MODE.NODE]: getNodeOptions,\n      [MODE.LINK]: getLinkOptions,\n      [MODE.SUBFLOW]: getSubFlowOptions,\n      [MODE.PORT]: getPortOptions,\n      [MODE.CANVAS]: getCanvasOptions\n    };\n\n    return renderMap[mode];\n  };\n\n  return (\n    <ContextMenu\n      anchorPosition={anchorPosition}\n      menuList={getItems()}\n      onClose={onClose}\n    />\n  );\n};\n\nFlowContextMenu.defaultProps = {\n  mode: MODE.NODE,\n  anchorPosition: null\n};\n\nFlowContextMenu.propTypes = {\n  mode: PropTypes.string,\n  anchorPosition: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n  onNodeCopy: PropTypes.func.isRequired,\n  onCanvasPaste: PropTypes.func.isRequired,\n  onNodeDelete: PropTypes.func.isRequired,\n  onLinkDelete: PropTypes.func.isRequired,\n  onSubFlowDelete: PropTypes.func.isRequired,\n  onPortToggle: PropTypes.func.isRequired\n};\n\nexport default FlowContextMenu;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport { Collapse, Divider, ListItem, ListItemText } from \"@material-ui/core\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport {\n  DATA_TYPES,\n  PLUGINS,\n  TABLE_KEYS_NAMES,\n  DIALOG_TITLE,\n  DEFAULT_VALUE\n} from \"../../../../../utils/Constants\";\nimport ParameterEditorDialog from \"../../../../_shared/KeyValueTable/ParametersEditorDialog\";\nimport KeyValuesSection from \"./sub-components/collapsibleSections/KeyValuesSection\";\nimport MenuDetails from \"./sub-components/MenuDetails\";\n\nconst ContainerMenu = props => {\n  // Props\n  const { nodeInst, call, openDoc, flowModel, editable } = props;\n  // State hooks\n  const [templateData, setTemplateData] = useState({});\n  const [flowData, setFlowData] = useState({});\n  const [expanded, setExpanded] = useState(false);\n  // Other hooks\n  const { t } = useTranslation();\n  const data = nodeInst.data;\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Get the node instance item\n   * @param {string} id : Node instance Item Id\n   * @returns {NodeInstance}\n   */\n  const getFlowData = useCallback(async () => {\n    const containerInstance = flowModel.current.getSubFlowItem(data.id);\n    if (containerInstance) {\n      return containerInstance;\n    }\n\n    const subFlowInst = await call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.READ,\n      {\n        scope: \"Flow\",\n        name: nodeInst.parent.data.ContainerFlow\n      }\n    );\n\n    return subFlowInst.getSubFlowItem(data.id);\n  }, [data.id, nodeInst, flowModel, call]);\n\n  const setFlowDataInst = containerInstance => {\n    setFlowData(containerInstance.serialize());\n  };\n\n  /**\n   * @param {Object} formData : Data to Save\n   */\n  const handleSubmitParameter = useCallback(\n    async formData => {\n      const varName = formData.varName;\n      const containerInstance = await getFlowData();\n\n      if (containerInstance.getKeyValue(varName, formData.name)) {\n        if (formData.value === DEFAULT_VALUE) {\n          containerInstance.deleteKeyValue(varName, formData.name);\n        } else {\n          containerInstance.updateKeyValueItem(varName, formData);\n        }\n      } else {\n        containerInstance.addKeyValue(varName, formData);\n      }\n      setFlowDataInst(containerInstance);\n    },\n    [getFlowData]\n  );\n\n  /**\n   * @private Handle Delete invalid parameters\n   * @param {string} paramName : Parameter name\n   * @param {string} varName : keyValue type (parameters, envVars or cmdLine)\n   */\n  const handleDeleteParameter = useCallback(\n    async (paramName, varName) => {\n      const containerInstance = await getFlowData();\n      containerInstance.deleteKeyValue(varName, paramName);\n      setFlowDataInst(containerInstance);\n    },\n    [getFlowData]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Toggle expanded state of Parameter collapsible section\n   */\n  const toggleExpanded = useCallback(() => {\n    setExpanded(prevState => !prevState);\n  }, []);\n\n  /**\n   * Open dialog to edit/add new Parameter\n   * @param {string} dataId : Unique identifier of item (undefined when not created yet)\n   * @param {string} varName : keyValue type (parameters, envVars or cmdLine)\n   * @param {boolean} viewOnly : Disable all inputs if True\n   */\n  const handleKeyValueDialog = useCallback(\n    (keyValueData, varName, viewOnly) => {\n      const paramType = t(DIALOG_TITLE[varName.toUpperCase()]);\n      const obj = {\n        ...keyValueData,\n        varName: varName,\n        type: keyValueData.type ?? DATA_TYPES.ANY,\n        name: keyValueData.key,\n        paramType\n      };\n\n      const args = {\n        onSubmit: handleSubmitParameter,\n        title: t(\"EditParamType\", { paramType }),\n        data: obj,\n        showDefault: !viewOnly,\n        showValueOptions: true,\n        showDescription: !viewOnly,\n        disableName: true,\n        disableType: true,\n        disableDescription: true,\n        preventRenderType: varName !== TABLE_KEYS_NAMES.PARAMETERS,\n        disabled: viewOnly,\n        call\n      };\n\n      call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.CUSTOM_DIALOG,\n        args,\n        ParameterEditorDialog\n      );\n    },\n    [call, handleSubmitParameter, t]\n  );\n\n  /**\n   * Show confirmation dialog before deleting parameter\n   * @param {{key: string}} item : Object containing a key holding the param name\n   * @param {string} varName : keyValue type (parameters, envVars or cmdLine)\n   */\n  const handleKeyValueDelete = useCallback(\n    (item, varName) => {\n      const paramName = item.key;\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CONFIRMATION, {\n        submitText: t(\"Delete\"),\n        title: t(\"DeleteDocConfirmationTitle\"),\n        onSubmit: () => handleDeleteParameter(paramName, varName),\n        message: t(\"DeleteKeyConfirmationMessage\", { key: paramName })\n      });\n    },\n    [call, handleDeleteParameter, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  // Component Did Mount\n  useEffect(() => {\n    // Get node data\n    const fetchData = async () => {\n      // get the data from the api\n      const containerInstance = await getFlowData();\n\n      // set state with the result\n      setFlowDataInst(containerInstance);\n    };\n\n    fetchData();\n  }, [getFlowData]);\n\n  useEffect(() => {\n    const name = data?.ContainerFlow;\n    if (!name) return;\n    // Read node template\n    call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.READ, {\n      name,\n      scope: data.model\n    }).then(doc => {\n      setTemplateData(doc.serialize());\n    });\n  }, [data, call]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_flow-container-menu\">\n      <MenuDetails\n        id={data.id}\n        model={data.model}\n        template={data.ContainerFlow}\n        label=\"TemplateName-Colon\"\n        type={\"Sub-Flow\"}\n        openDoc={openDoc}\n      />\n      {/* =========================== PARAMETERS =========================== */}\n      <ListItem\n        data-testid=\"input_toggle-expanded-parameters\"\n        button\n        onClick={toggleExpanded}\n      >\n        <ListItemText primary={t(\"Parameters\")} />\n        {expanded ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={expanded} unmountOnExit>\n        <KeyValuesSection\n          editable={editable}\n          varName={TABLE_KEYS_NAMES.PARAMETERS}\n          instanceValues={flowData[TABLE_KEYS_NAMES.PARAMETERS] || {}}\n          templateValues={templateData.parameters}\n          handleTableKeyEdit={handleKeyValueDialog}\n          handleTableKeyDelete={handleKeyValueDelete}\n        />\n        <Divider />\n      </Collapse>\n    </div>\n  );\n};\n\nContainerMenu.propTypes = {\n  flowModel: PropTypes.object.isRequired,\n  call: PropTypes.func.isRequired,\n  openDoc: PropTypes.func.isRequired,\n  nodeInst: PropTypes.object.isRequired,\n  editable: PropTypes.bool\n};\n\nContainerMenu.defaultProps = {\n  editable: false\n};\n\nexport default ContainerMenu;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const explorerStyles = makeStyles(_theme => ({\n  flowExplorerHolder: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  typography: {\n    overflow: \"hidden\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    flex: \"1 1 auto\"\n  },\n  header: {\n    marginBottom: \"6px\"\n  }\n}));\n\nexport const previewStyles = makeStyles(theme => ({\n  previewHolder: {\n    padding: \"20px\",\n    height: \"60px\",\n    borderBottom: `1px dashed ${theme.icon.color}`\n  }\n}));\n","import React, { useEffect, useRef, useCallback } from \"react\";\nimport * as d3 from \"d3\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport Factory from \"../Nodes/Factory\";\nimport { generateContainerId } from \"../../Constants/constants\";\nimport { previewStyles } from \"./styles\";\n\nconst Preview = props => {\n  const { flowId, node, call } = props;\n  const classes = previewStyles();\n  const { t } = useTranslation();\n  const containerId = useRef(`preview_${generateContainerId(flowId)}`);\n  const svg = useRef(null);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Component Methods                                  *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Render the Node and add it to the svg\n   */\n  const renderNodePreview = useCallback(\n    (name, scope) => {\n      if (!name || !scope) return;\n      const factoryOutput = {\n        Node: Factory.OUTPUT.PREV_NODE,\n        Flow: Factory.OUTPUT.PREV_FLOW\n      };\n      // Add temp node\n      Factory.create(call, factoryOutput[scope], {\n        canvas: {\n          containerId: containerId.current,\n          setMode: () => {\n            /* empty */\n          }\n        },\n        node: {\n          Template: name\n        },\n        events: {}\n      }).then(obj => {\n        if (svg.current) {\n          svg.current.innerHTML = \"\";\n          d3.select(obj.el)\n            .append(\"svg:defs\")\n            .append(\"filter\")\n            .attr(\"id\", `shadow-${containerId.current}`)\n            .append(\"feDropShadow\")\n            .attr(\"dx\", \"1.5\")\n            .attr(\"dy\", \"1.5\")\n            .attr(\"stdDeviation\", \"1\");\n          svg.current.appendChild(obj.el);\n        }\n      });\n    },\n    [call]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Renders Node Preview when node.name changes\n   */\n  useEffect(() => {\n    renderNodePreview(node.name, node.scope);\n  }, [node.name, node.scope, renderNodePreview]);\n\n  return (\n    <div className={classes.previewHolder}>\n      {!node.children && node.name ? (\n        <div id={containerId.current} ref={svg}></div>\n      ) : (\n        <p>{t(\"PreviewHelperText\")}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Preview;\n\nPreview.propTypes = {\n  flowId: PropTypes.string,\n  node: PropTypes.object,\n  call: PropTypes.func\n};\n","import React, { useCallback, useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Typography } from \"@material-ui/core\";\nimport ListItemsTreeWithSearch, {\n  toggleExpandRow\n} from \"./../../../../../plugins/views/Explorer/components/ListItemTree/ListItemsTreeWithSearch\";\nimport { withViewPlugin } from \"../../../../../engine/ReactPlugin/ViewReactPlugin\";\nimport { PLUGINS } from \"../../../../../utils/Constants\";\nimport Preview from \"./Preview\";\n\nimport { explorerStyles } from \"./styles\";\n\nconst Explorer = props => {\n  const { flowId, call, on, emit, mainInterface } = props;\n  const classes = explorerStyles();\n  const [data, setData] = useState([]);\n  const [selectedNode, setSelectedNode] = useState({});\n  const shouldUpdatePreview = useRef(true);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    if (!mainInterface) return;\n    mainInterface.mode.default.onEnter.subscribe(() => {\n      shouldUpdatePreview.current = true;\n      setSelectedNode({});\n    });\n  }, [mainInterface]);\n\n  /**\n   * Expand tree or open document depending on the node deepness\n   *  0 : collapse others and expand tree node\n   *  1 : open document node\n   * @param {{id: String, deepness: String, url: String, name: String, scope: String}} node : Clicked node\n   */\n  const requestScopeVersions = useCallback(\n    node => {\n      if (node.children?.length) {\n        setData(toggleExpandRow(node, data));\n      } else {\n        shouldUpdatePreview.current = false;\n        setSelectedNode(node);\n        emit(PLUGINS.FLOW_EXPLORER.ON.ADD_NODE, node);\n      }\n    },\n    [data, emit]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle Mouse Enter on Node\n   * @param {NodeObject} node\n   */\n  const handleMouseEnterNode = useCallback(node => {\n    if (shouldUpdatePreview.current) {\n      setSelectedNode(node);\n    }\n  }, []);\n\n  /**\n   * Handle Mouse Leave on Node\n   * @param {NodeObject} node\n   */\n  const handleMouseLeaveNode = useCallback(_node => {\n    if (shouldUpdatePreview.current) {\n      setSelectedNode({});\n    }\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React callbacks                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Load documents\n   * @param {DocManager} docManager\n   */\n  const loadDocs = useCallback(docManager => {\n    return setData(_node =>\n      [docManager.getStore(\"Node\"), docManager.getStore(\"Flow\")].map(\n        (store, id) => {\n          const { name, title } = store;\n          const filteredChildren = store.getDocs().filter(d => !d.isNew);\n          return {\n            id,\n            name,\n            title,\n            children: filteredChildren.map((doc, childId) => {\n              return {\n                id: childId,\n                name: doc.getName(),\n                title: doc.getName(),\n                scope: doc.getScope(),\n                url: doc.getUrl()\n              };\n            })\n          };\n        }\n      )\n    );\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   React lifecycles                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  useEffect(() => {\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.LOAD_DOCS, loadDocs);\n  }, [on, loadDocs]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Render                                         *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Typography\n      className={classes.flowExplorerHolder}\n      data-testid=\"section_flow-explorer-menu\"\n      component=\"div\"\n    >\n      <Typography component=\"div\">\n        <Preview node={selectedNode} flowId={flowId} call={call} />\n      </Typography>\n      <Typography component=\"div\" className={classes.typography}>\n        {data && (\n          <ListItemsTreeWithSearch\n            data={data}\n            onClickNode={requestScopeVersions}\n            onMouseEnter={handleMouseEnterNode}\n            onMouseLeave={handleMouseLeaveNode}\n          ></ListItemsTreeWithSearch>\n        )}\n      </Typography>\n    </Typography>\n  );\n};\n\nexport default withViewPlugin(Explorer);\n\nExplorer.propTypes = {\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired\n};\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Collapse,\n  Divider,\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  List,\n  ListItem,\n  ListItemText,\n  MenuItem,\n  Select,\n  Typography,\n  Tooltip\n} from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  LINK_DEPENDENCY,\n  MOVAI_FLOW_TYPES\n} from \"../../../../../utils/Constants\";\nimport BasePort from \"../Nodes/BaseNode/BasePort\";\n\nimport { linkMenuStyles } from \"./styles\";\n\nconst LinkMenu = props => {\n  // Props\n  const { link, editable, sourceMessage, flowModel } = props;\n  const linkData = link.data;\n\n  // State Hooks\n  const [dependencyLevel, setDependencyLevel] = useState(0);\n\n  // Other Hooks\n  const { t } = useTranslation();\n  const classes = linkMenuStyles();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Helper                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Use method from BasePort class to format port name\n   * @param {string} name : Port Name\n   * @returns {string} Formatted port name\n   */\n  const parsePortName = useCallback(name => {\n    return BasePort.parsePortname(name);\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handle change event on dependency select box\n   * @param {Event} evt : Change event\n   */\n  const onChangeDependency = useCallback(\n    evt => {\n      const value = evt.target.value;\n      flowModel.current.setLinkDependency(link.data.id, value);\n      setDependencyLevel(value);\n      // Let's change the link color temporarily\n      link.setTemporaryDependency(value).changeStrokeColor();\n    },\n    [flowModel, link]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  // On component mount or change Link prop\n  useEffect(() => {\n    const dependency = flowModel.current.getLinkDependency(linkData.id);\n    setDependencyLevel(dependency);\n  }, [linkData, flowModel]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_flow-link-menu\">\n      <h2>{t(\"Link\")}</h2>\n      <List className={classes.listHolder} component=\"nav\">\n        <ListItem>\n          <ListItemText primary={t(\"From\")} />\n        </ListItem>\n        <Collapse in>\n          <Divider />\n          <Typography component=\"div\" className={classes.directionContainer}>\n            <ListItem>\n              <ListItemText primary={t(\"Node-Colon\")} />\n              <Tooltip title={linkData.sourceNode}>\n                <Typography>{linkData.sourceNode}</Typography>\n              </Tooltip>\n            </ListItem>\n            <Divider />\n            <ListItem>\n              <ListItemText primary={t(\"Port-Colon\")} />\n              <Tooltip title={parsePortName(linkData.sourcePort)}>\n                <Typography>{parsePortName(linkData.sourcePort)}</Typography>\n              </Tooltip>\n            </ListItem>\n          </Typography>\n        </Collapse>\n        <Divider />\n        <ListItem>\n          <ListItemText primary={t(\"To\")} />\n        </ListItem>\n        <Collapse in>\n          <Divider />\n          <Typography component=\"div\" className={classes.directionContainer}>\n            <ListItem>\n              <ListItemText primary={t(\"Node-Colon\")} />\n              <Tooltip title={linkData.targetNode}>\n                <Typography>{linkData.targetNode}</Typography>\n              </Tooltip>\n            </ListItem>\n            <Divider />\n            <ListItem>\n              <ListItemText primary={t(\"Port-Colon\")} />\n              <Tooltip title={parsePortName(linkData.targetPort)}>\n                <Typography>{parsePortName(linkData.targetPort)}</Typography>\n              </Tooltip>\n            </ListItem>\n          </Typography>\n        </Collapse>\n        {sourceMessage !== MOVAI_FLOW_TYPES.LINKS.TRANSITION && (\n          <>\n            <Divider />\n            <ListItem>\n              <ListItemText primary={t(\"LinkDependencies\")} />\n            </ListItem>\n            <Collapse in>\n              <Typography\n                component=\"div\"\n                className={classes.dependencyContainer}\n              >\n                <FormControl fullWidth={true}>\n                  <InputLabel>{t(\"DependenciesLevel\")}</InputLabel>\n                  <Select\n                    value={dependencyLevel}\n                    onChange={onChangeDependency}\n                    disabled={!editable}\n                    className={classes.selectHolder}\n                  >\n                    {Object.values(LINK_DEPENDENCY).map(dep => {\n                      return (\n                        <MenuItem\n                          key={dep.VALUE}\n                          value={dep.VALUE}\n                          className={classes.infoContainer}\n                        >\n                          <p>{t(dep.LABEL)}</p>\n                          <div\n                            className={classes.colorChip}\n                            style={{ backgroundColor: dep.COLOR }}\n                          ></div>\n                        </MenuItem>\n                      );\n                    })}\n                  </Select>\n                  <FormHelperText>\n                    {t(\"LinkDependenciesHelperText\")}\n                  </FormHelperText>\n                </FormControl>\n              </Typography>\n            </Collapse>\n          </>\n        )}\n      </List>\n    </div>\n  );\n};\n\nLinkMenu.propTypes = {\n  flowModel: PropTypes.object.isRequired,\n  link: PropTypes.object.isRequired,\n  editable: PropTypes.bool,\n  sourceMessage: PropTypes.string\n};\n\nLinkMenu.defaultProps = {\n  editable: true,\n  sourceMessage: \"\"\n};\n\nexport default LinkMenu;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const portTooltipContentStyles = makeStyles(() => ({\n  root: {\n    marginTop: 4,\n    marginBottom: 4\n  },\n  listItem: {\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  item: {\n    lineHeight: 1.2\n  }\n}));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport { portTooltipContentStyles } from \"./styles\";\n\nconst ITEMS_INDEX = \"tooltip-fragment-row\";\n\nconst PortTooltipContent = props => {\n  const { t } = useTranslation();\n  const { name, message, template, callback } = props;\n  const classes = portTooltipContentStyles();\n  const text = {\n    name: t(\"Name\"),\n    message: t(\"Message\"),\n    protocol: t(\"Protocol\"),\n    callback: t(\"Callback\")\n  };\n\n  const itemTextProps = {\n    variant: \"caption\",\n    className: classes.item\n  };\n\n  const data = [\n    { primary: text.name, secondary: name },\n    { primary: text.message, secondary: message },\n    { primary: text.protocol, secondary: template }\n  ];\n\n  if (callback) {\n    data.push({ primary: text.callback, secondary: callback });\n  }\n\n  return data.map(item => {\n    return (\n      <ListItem\n        className={classes.listItem}\n        key={`${ITEMS_INDEX}-${item.primary}`}\n      >\n        <ListItemText\n          {...item}\n          primaryTypographyProps={itemTextProps}\n          secondaryTypographyProps={itemTextProps}\n          className={classes.root}\n        ></ListItemText>\n      </ListItem>\n    );\n  });\n};\n\nPortTooltipContent.propTypes = {\n  name: PropTypes.string,\n  message: PropTypes.string,\n  template: PropTypes.string,\n  callback: PropTypes.string\n};\n\nPortTooltipContent.defaultProps = {\n  name: \"\",\n  message: \"\",\n  template: \"\",\n  callback: null\n};\n\nexport default PortTooltipContent;\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useTranslation } from \"react-i18next\";\nimport { Divider } from \"@material-ui/core\";\nimport PortTooltipContent from \"./PortTooltipContent\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Paper from \"@material-ui/core/Paper\";\n\nconst ITEMS_INDEX = \"tooltip-fragment-row\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    padding: \"5px\",\n    position: \"absolute\"\n  },\n  item: {\n    lineHeight: \"22px\",\n    fontSize: \"1rem\"\n  }\n}));\n\nconst PortTooltip = props => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const { anchorPosition, port } = props;\n  const title = t(\"Port\");\n\n  const itemTextProps = {\n    color: \"primary\",\n    className: classes.item\n  };\n\n  const getItems = useCallback(() => {\n    const { name, message, template, callback } = port.data;\n\n    return (\n      <PortTooltipContent\n        name={name}\n        message={message}\n        template={template}\n        callback={callback}\n      />\n    );\n  }, [port]);\n\n  return (\n    <Paper\n      style={{ ...anchorPosition }}\n      className={classes.root}\n      elevation={14}\n    >\n      <List\n        dense={true}\n        subheader={\n          <>\n            <ListItem key={`${ITEMS_INDEX}-subheader`}>\n              <ListItemText\n                primary={title}\n                primaryTypographyProps={itemTextProps}\n              />\n            </ListItem>\n            <Divider />\n          </>\n        }\n      >\n        {getItems()}\n      </List>\n    </Paper>\n  );\n};\n\nPortTooltip.propTypes = {\n  anchorPosition: PropTypes.shape({\n    left: PropTypes.number,\n    top: PropTypes.number\n  }).isRequired,\n  port: PropTypes.object.isRequired\n};\n\nPortTooltip.defaultProps = {};\n\nexport default PortTooltip;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { invalidLinksWarningStyles } from \"./styles\";\n\nconst InvalidLinksWarning = props => {\n  const { invalidLinks } = props;\n\n  // Style hooks\n  const classes = invalidLinksWarningStyles();\n  // Translation hooks\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Builds the tooltip title\n   * @param {String} node\n   * @param {String} port\n   * @returns {JSX} build title\n   */\n  const buildTooltipTitle = (node, port) => {\n    return (\n      <p>\n        <strong>{t(\"Node-Colon\")}</strong> {node}\n        <br />\n        <strong>{t(\"Port-Colon\")}</strong> {port}\n      </p>\n    );\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div testid=\"section_invalid-links-warning\">\n      <div className={classes.invalidLinksHeader}>\n        <Typography variant=\"h6\">{t(\"SourcePort\")}</Typography>\n        <Typography variant=\"h6\">{t(\"TargetPort\")}</Typography>\n      </div>\n      <div className={classes.invalidLinksMessageHolder}>\n        {invalidLinks.map(linkInfo => (\n          <div key={linkInfo.id} className={classes.invalidLinkHolder}>\n            <Tooltip\n              title={buildTooltipTitle(\n                linkInfo.sourceNode,\n                linkInfo.sourcePort\n              )}\n            >\n              <div>\n                <p>\n                  <strong>{linkInfo.sourceNode}</strong>:\n                </p>\n                {linkInfo.sourcePort}\n              </div>\n            </Tooltip>\n            <Tooltip\n              title={buildTooltipTitle(\n                linkInfo.targetNode,\n                linkInfo.targetPort\n              )}\n            >\n              <div>\n                <p>\n                  <strong>{linkInfo.targetNode}</strong>:\n                </p>\n                {linkInfo.targetPort}\n              </div>\n            </Tooltip>\n          </div>\n        ))}\n      </div>\n      <p className={classes.fixMessage}>{t(\"InvalidLinksFoundMessage\")}</p>\n    </div>\n  );\n};\n\nInvalidLinksWarning.propTypes = {\n  invalidLinks: PropTypes.array.isRequired\n};\n\nexport default InvalidLinksWarning;\n","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport { buildDocPath } from \"../../../../../../utils/Utils\";\nimport { SCOPES, PLUGINS } from \"../../../../../../utils/Constants\";\n\nimport { parameterLineStyles } from \"../styles\";\n\nconst ParameterLine = props => {\n  const { subFlowInfo, call, closeModal } = props;\n\n  // Style hooks\n  const classes = parameterLineStyles();\n  // Translation hooks\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Builds the tooltip title\n   * @param {String} node\n   * @param {String} port\n   * @returns {JSX} build title\n   */\n  const buildTooltipTitle = (template, node, params) => {\n    return (\n      <>\n        <strong>{t(\"FlowTemplate-Colon\")}</strong> {template}\n        <br />\n        <strong>{t(\"SubFlow-Colon\")}</strong> {node}\n        <br />\n        <strong>{t(\"Parameters-Colon\")}</strong>\n        <ul className={classes.paramsList}>\n          {params.map(param => (\n            <li key={`${node}_${param}`}>{param}</li>\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Public Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  const handleOpenDocument = useCallback(() => {\n    const name = subFlowInfo.containerNode.templateName;\n    const scope = SCOPES.FLOW;\n    const id = buildDocPath({ name, scope });\n\n    closeModal();\n\n    const template = {\n      id,\n      name,\n      scope\n    };\n\n    call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, template);\n  }, [subFlowInfo.containerNode.templateName, closeModal, call]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Tooltip\n      title={buildTooltipTitle(\n        subFlowInfo.containerNode.templateName,\n        subFlowInfo.name,\n        subFlowInfo.invalidParams\n      )}\n    >\n      <div\n        data-testid=\"section_invalid-parameter\"\n        className={classes.invalidParameterHolder}\n      >\n        <div>\n          <strong>{subFlowInfo.name}</strong>\n          <ul className={classes.paramsList}>\n            {subFlowInfo.invalidParams.map(param => (\n              <li key={`${subFlowInfo.id}_${param}`}>\n                <strong>{param}</strong>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div>\n          <Button\n            data-testid=\"input_open-template\"\n            className={classes.linkButton}\n            onClick={handleOpenDocument}\n          >\n            <Tooltip\n              title={t(\"CloseModalOpenTemplate\", {\n                templateName: subFlowInfo.containerNode.templateName\n              })}\n            >\n              <strong>{subFlowInfo.containerNode.templateName}</strong>\n            </Tooltip>\n          </Button>\n        </div>\n      </div>\n    </Tooltip>\n  );\n};\n\nParameterLine.propTypes = {\n  subFlowInfo: PropTypes.object.isRequired,\n  call: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired\n};\n\nexport default ParameterLine;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ParameterLine from \"./components/ParameterLine\";\n\nimport { invalidParametersWarningStyles } from \"./styles\";\n\nconst InvalidParametersWarning = props => {\n  const { invalidContainerParams, call, closeModal } = props;\n\n  // Style hooks\n  const classes = invalidParametersWarningStyles();\n  // Translation hooks\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div testid=\"section_invalid-parameters-warning\">\n      <p>{t(\"InvalidContainersParamMessagePre\")}</p>\n      <div className={classes.invalidParametersHeader}>\n        <Typography variant=\"h6\">{t(\"InvalidSubFlowParameters\")}</Typography>\n        <Typography variant=\"h6\">{t(\"FlowTemplate\")}</Typography>\n      </div>\n      <div className={classes.invalidParametersMessageHolder}>\n        {invalidContainerParams.map(subFlowInfo => (\n          <ParameterLine\n            key={subFlowInfo.id}\n            call={call}\n            closeModal={closeModal}\n            subFlowInfo={subFlowInfo}\n          />\n        ))}\n      </div>\n      <p className={classes.postMessage}>\n        {t(\"InvalidContainersParamMessagePost\")}\n      </p>\n    </div>\n  );\n};\n\nInvalidParametersWarning.propTypes = {\n  invalidContainerParams: PropTypes.array.isRequired\n};\n\nexport default InvalidParametersWarning;\n","import React, { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Button from \"@material-ui/core/Button\";\nimport { buildDocPath } from \"../../../../../../utils/Utils\";\nimport { PLUGINS } from \"../../../../../../utils/Constants\";\n\nimport { parameterLineStyles } from \"../styles\";\n\nconst ExposedPortLine = props => {\n  const { exposedPortInfo, call, closeModal } = props;\n\n  // Style hooks\n  const classes = parameterLineStyles();\n  // Translation hooks\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Builds the tooltip title\n   * @param {String} node\n   * @param {String} port\n   * @returns {JSX} build title\n   */\n  const buildTooltipTitle = (template, node, params) => {\n    return (\n      <>\n        <strong>{t(\"NodeTemplate-Colon\")}</strong> {template}\n        <br />\n        <strong>{t(\"NodeInstance-Colon\")}</strong> {node}\n        <br />\n        <strong>{t(\"InvalidExposedPorts-Colon\")}</strong>\n        <ul>\n          {params.map(param => (\n            <li key={`${node}_${param}`}>{param}</li>\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Public Methods                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  const handleOpenDocument = useCallback(() => {\n    const name = exposedPortInfo.nodeInst.templateName;\n    const scope = exposedPortInfo.nodeInst.data.model;\n    const id = buildDocPath({ name, scope });\n\n    closeModal();\n\n    const template = {\n      id,\n      name,\n      scope\n    };\n    call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, template);\n  }, [exposedPortInfo, call, closeModal]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <Tooltip\n      title={buildTooltipTitle(\n        exposedPortInfo.nodeInst.templateName,\n        exposedPortInfo.nodeInst.data.id,\n        exposedPortInfo.invalidPorts\n      )}\n    >\n      <div\n        data-testid=\"section_invalid-parameter\"\n        className={classes.invalidParameterHolder}\n      >\n        <div>\n          <strong>{exposedPortInfo.nodeInst.data.name}</strong>\n          <ul>\n            {exposedPortInfo.invalidPorts.map(port => (\n              <li key={`${exposedPortInfo.nodeInst.data.id}_${port}`}>\n                <strong>{port}</strong>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div>\n          <Button\n            data-testid=\"input_open-template\"\n            className={classes.linkButton}\n            onClick={handleOpenDocument}\n          >\n            <Tooltip\n              title={t(\"CloseModalOpenTemplate\", {\n                templateName: exposedPortInfo.nodeInst.templateName\n              })}\n            >\n              <strong>{exposedPortInfo.nodeInst.templateName}</strong>\n            </Tooltip>\n          </Button>\n        </div>\n      </div>\n    </Tooltip>\n  );\n};\n\nExposedPortLine.propTypes = {\n  exposedPortInfo: PropTypes.object.isRequired,\n  call: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired\n};\n\nexport default ExposedPortLine;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nimport ExposedPortLine from \"./components/ExposedPortLine\";\n\nimport { invalidExposedPortsWarningStyles } from \"./styles\";\n\nconst InvalidExposedPortsWarning = props => {\n  const { invalidExposedPorts, call, closeModal } = props;\n\n  // Style hooks\n  const classes = invalidExposedPortsWarningStyles();\n  // Translation hooks\n  const { t } = useTranslation();\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div\n      className={classes.root}\n      data-testid=\"section_invalid-exposed-ports-warning\"\n    >\n      <p>{t(\"InvalidExposedPortsMessagePre\")}</p>\n      <div className={classes.invalidExposedPortsHeader}>\n        <h5>{t(\"InvalidExposedPorts\")}</h5>\n        <h5>{t(\"NodeTemplate\")}</h5>\n      </div>\n      <div className={classes.invalidExposedPortsMessageHolder}>\n        {invalidExposedPorts.map(exposedPortInfo => (\n          <ExposedPortLine\n            key={exposedPortInfo.nodeInst.data.id}\n            closeModal={closeModal}\n            exposedPortInfo={exposedPortInfo}\n            call={call}\n          />\n        ))}\n      </div>\n      <p className={classes.postMessage}>\n        {t(\"InvalidExposedPortsMessagePost\")}\n      </p>\n    </div>\n  );\n};\n\nInvalidExposedPortsWarning.propTypes = {\n  invalidExposedPorts: PropTypes.array.isRequired\n};\n\nexport default InvalidExposedPortsWarning;\n","import StartNode from \"../../Components/Nodes/StartNode\";\nimport BaseLink from \"../../Components/Links/BaseLink\";\nimport Factory from \"../../Components/Nodes/Factory\";\nimport { FLOW_VIEW_MODE, NODE_TYPES, TYPES } from \"../../Constants/constants\";\nimport { InvalidLink } from \"../../Components/Links/Errors\";\nimport GraphBase from \"./GraphBase\";\nimport GraphValidator from \"./GraphValidator\";\n\nexport default class GraphTreeView extends GraphBase {\n  constructor({ mInterface, canvas, id, docManager }) {\n    super({ mInterface, canvas, id, docManager });\n\n    //========================================================================================\n    /*                                                                                      *\n     *                                      Properties                                      *\n     *                                                                                      */\n    //========================================================================================\n\n    this.tree = { root: null };\n    this.subFlows = [];\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Getters & Setters                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * rootNode - returns root node\n   *\n   * @returns {TreeContainerNode} Root node\n   */\n  get rootNode() {\n    return this.tree.root;\n  }\n\n  /**\n   * Get Flow visualization mode\n   * @returns {String} \"treeView\"\n   */\n  get viewMode() {\n    return FLOW_VIEW_MODE.treeView;\n  }\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                   Public methods                                     *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @override loadData: Load initial flow data\n   *  - Just create root node and the root node is responsible to add its nodes/sub-flows\n   *\n   * @param {Object} flow\n   */\n  async loadData(flow) {\n    // Add root container node\n    const rootNodeData = {\n      id: flow.Label,\n      ContainerLabel: flow.Label,\n      ContainerFlow: flow.url ?? flow.Label,\n      NodeInst: flow.NodeInst,\n      State: flow.state,\n      Container: flow.Container\n    };\n    // Move belong lines behind nodes in flow\n    this.canvas.canvas.raise();\n    // Add root node to canvas\n    try {\n      // Let's add the start node to the list (so links know where to start)\n      this.addStartNode();\n      await this._addRootNode(rootNodeData);\n      this.rootNode.addToCanvas();\n    } catch (e) {\n      console.warn(\"Error trying to add root node\", e);\n    }\n\n    try {\n      await this.loadNodes(flow);\n    } catch (e) {\n      console.warn(\"Error trying to load all nodes\", e);\n    }\n\n    try {\n      this._loadLinks(flow.Links, this.rootNode);\n      this.onFlowValidated.next({ warnings: [] });\n    } catch (error) {\n      console.warn(\"Error has ocurred loading links\", flow, error);\n    }\n\n    return this;\n  }\n\n  /**\n   * @override loadNodes : Load nodes of requested flow/sub-flow\n   *  - Always receive parent node\n   *\n   * @param {Object} flow : Flow data\n   * @param {TreeContainerNode} parent : Parent node\n   */\n  async loadNodes(flow, parent = this.rootNode) {\n    try {\n      await this._loadNodes(flow.NodeInst, NODE_TYPES.TREE_NODE, parent);\n      await this._loadNodes(flow.Container, NODE_TYPES.TREE_CONTAINER, parent);\n\n      if (flow.Container) {\n        const subFlows = Object.values(flow.Container);\n\n        for (const subFlow of subFlows) {\n          const subFlowInst = this.nodes.get(subFlow.ContainerLabel).obj;\n          const subFlowTemplate = subFlowInst.template;\n\n          await this.loadNodes(subFlowTemplate, subFlowInst);\n        }\n\n        // Add parent children to canvas\n        this.update(parent);\n        parent !== this.rootNode && this.subFlows.push(parent);\n      }\n    } catch (error) {\n      console.warn(\"Error has ocurred loading children\", flow, error);\n    }\n  }\n\n  updateAllPositions = async () => {\n    for (const parent of this.subFlows) {\n      await parent.updateChildrenPosition();\n    }\n  };\n\n  /**\n   * @override addNode: Add a new node supporting async loading\n   *  - Use TreeClassicNode/TreeContainerNode/TreeStateNode to create node instances\n   *\n   * @param {Object} node : data\n   * @param {string} _type : one of NodeInst, Container, State used to get the respective class\n   * @param {TreeContainerNode} parent : Container node parent\n   *\n   * @returns {TreeNode} Node instance based on _type\n   */\n  async addNode(node, nodeType, parent) {\n    try {\n      const inst = await Factory.create(\n        this.docManager,\n        Factory.OUTPUT[nodeType],\n        { canvas: this.canvas, node, parent }\n      );\n\n      this.nodes.set(node.id, { obj: inst, links: [] });\n\n      parent.addChild(inst);\n\n      return inst;\n    } catch (error) {\n      console.warn(\"Error creating node\", error);\n    }\n  }\n\n  /**\n   * @override reset: Reset all nodes in tree\n   *  - Iterate through all nodes in tree to reset all of them\n   *\n   * @param {TreeNode} node: Node to be unselected\n   */\n  reset(node = this.rootNode) {\n    if (!node) return;\n    node.selected = false;\n    node.children.forEach(child => {\n      this.reset(child);\n    });\n  }\n\n  /**\n   * Reset status of all nodes\n   * @param {TreeNode} node\n   */\n  resetStatus(node = this.rootNode) {\n    if (!node) return;\n    node.status = false;\n    node.children.forEach(child => {\n      this.resetStatus(child);\n    });\n  }\n\n  /**\n   * @override nodeStatusUpdated: Update node running status\n   *\n   * @param {Object} nodes\n   * @param {*} robotStatus\n   */\n  nodeStatusUpdated(nodes, _) {\n    Object.keys(nodes).forEach(nodeName => {\n      const status = nodes[nodeName];\n      this._updateNodeStatus(nodeName, status);\n    });\n  }\n\n  /**\n   * @override onTemplateUpdate\n   *\n   * @param {string} name Template name\n   */\n  onTemplateUpdate = name => {\n    this.updateTemplates(name);\n  };\n\n  /**\n   * @override addLink from GraphBase class\n   * @param {Object} link : Link info\n   * @param {String} nodeId : Parent node ID\n   */\n  addLink = (link, parent) => {\n    // link already exists, update\n    const _link = this.links.get(link.name);\n\n    if (_link) {\n      link.updateData({ Dependency: link.Dependency });\n      return;\n    }\n\n    try {\n      const parsedLink = BaseLink.parseLink(link);\n\n      const { sourcePortPos, targetPortPos } =\n        GraphValidator.extractLinkPortsPos(parsedLink, this.nodes);\n\n      if (!sourcePortPos || !targetPortPos) {\n        throw new InvalidLink(parsedLink);\n      }\n\n      // create link instance\n      const obj = new BaseLink(\n        this.canvas,\n        sourcePortPos,\n        targetPortPos,\n        parsedLink,\n        this.flowDebugging,\n        this.toggleTooltip\n      );\n\n      parent.children.forEach(child => {\n        this._addLinkToNode(child, obj);\n      });\n      // add links to target children\n      if (obj.data.targetFullPath.length > 1) {\n        this._addLinksToChildren(parent, obj);\n      }\n      // update local link list\n      this.links.set(link.name, obj);\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  /**\n   * @override updateNode is called when the subscriber gets changes\n   *  if nodeId is not yet part of the graph means we are\n   *  getting a new node\n   *\n   * @param {string} nodeId node's unique id\n   * @param {obj} data node's data that has changed\n   */\n  updateNode = (_event, _nodeId, _data, _type = TYPES.NODE) => {\n    // TODO: Handle changes in nodes from main flow\n    return;\n  };\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                 Private methods                                      *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Iterate through the nodes in tree to update its running status\n   *\n   * @param {String} nodeName : Node instance name\n   * @param {Boolean} status : True -> Running / False -> Not Running\n   * @param {TreeContainerNode} parent : Flow to look for the node\n   */\n  _updateNodeStatus = (nodeName, status, parent = this.rootNode) => {\n    if (!parent) return;\n\n    // is this a subflow node?\n    if (nodeName.indexOf(\"__\") >= 0) {\n      const nodePath = nodeName.split(\"__\");\n      const nodeParent = parent.children.find(n => n.data.id === nodePath[0]);\n      const newNodeName = nodePath.splice(1).join(\"__\");\n      // let's call this function again with the newNodeName (child) and the parent is the node\n      return this._updateNodeStatus(newNodeName, status, nodeParent);\n    }\n\n    const node = parent.children.find(n => n.data.id === nodeName);\n\n    node.status = [1, true, \"true\"].includes(status);\n  };\n\n  /**\n   * @private\n   * updateTemplates: Update templates of template\n   *\n   * @param {String} templateName\n   * @param {TreeNode} node\n   */\n  updateTemplates = (templateName, node = this.rootNode) => {\n    // Update template with name\n    if (node.templateName === templateName) node.onTemplateUpdate(templateName);\n    // Check all children\n    node.children.forEach(child => {\n      this.updateTemplates(templateName, child);\n    });\n  };\n\n  /**\n   * @override _loadLinks : parse each link and add it to port\n   *\n   * @param {Object} links\n   * @param {TreeContainerNode} parent\n   *\n   * @returns {GraphTreeView} instance\n   */\n  _loadLinks(links, parent) {\n    const _links = links || {};\n    Object.keys(_links).forEach(linkId => {\n      const linksData = { id: linkId, name: linkId, ..._links[linkId] };\n      this.addLink(linksData, parent);\n    });\n    return this;\n  }\n\n  /**\n   * Add links information to children inside other containers\n   *\n   * @param {TreeNode} node : Node to search for target/source\n   * @param {Object} link : link information\n   * @param {Integer} level : Iteration level\n   */\n  _addLinksToChildren(node, link, level = 0) {\n    const parentId = link.data.targetFullPath[level];\n    const container = node.children.get(parentId);\n    if (container?.children) {\n      container.children.forEach(child => {\n        this._addLinkToNode(child, link);\n      });\n      if (link.data.targetFullPath[level + 1])\n        this._addLinksToChildren(container, link, level + 1);\n    }\n  }\n\n  /**\n   * Add link information to node\n   *\n   * @param {TreeNode} child : child node\n   * @param {Object} link : link information\n   */\n  _addLinkToNode(child, link) {\n    const childId = child.data.id;\n    const linkData = link.data;\n\n    if (\n      linkData.targetFullPath.includes(childId) ||\n      linkData.sourceFullPath.includes(childId)\n    ) {\n      linkData.sourceTemplatePath = linkData.sourceFullPath.map(\n        nodeName => this.nodes.get(nodeName)?.obj?.templateName || nodeName\n      );\n      linkData.targetTemplatePath = linkData.targetFullPath.map(\n        nodeName => this.nodes.get(nodeName)?.obj?.templateName || nodeName\n      );\n      child.addLink(linkData);\n    }\n  }\n\n  /**\n   * @override _loadNodes: Gather information about all nodes passed\n   *  - Use TreeClassicNode/TreeContainerNode/TreeStateNode to create node instances\n   *\n   * @param {Object} nodes : List of nodes/containers\n   * @param {String} _type : One of NodeInst, Container, State used to get the respective class\n   * @param {TreeContainerNode} parent : Parent node\n   *\n   * @returns {TreeNode} Node instance based on _type\n   */\n  async _loadNodes(nodes, _type, parent) {\n    const _nodes = nodes || {};\n    const keys = Object.keys(_nodes);\n\n    for (const nodeKey of keys) {\n      const _node = { ..._nodes[nodeKey], id: nodeKey };\n\n      try {\n        await this.addNode(_node, _type, parent);\n      } catch (error) {\n        console.warn(\"Error has ocurred loading node\", _node, error);\n      }\n    }\n    // Return graph instance\n    return this;\n  }\n\n  /**\n   * _addRootNode : Create first root node\n   *\n   * @param {Object} node : data about root node\n   */\n  async _addRootNode(node) {\n    try {\n      const inst = await Factory.create(\n        this.docManager,\n        Factory.OUTPUT[NODE_TYPES.TREE_CONTAINER],\n        { canvas: this.canvas, node }\n      );\n\n      this.nodes.set(node.id, { obj: inst, links: [] });\n\n      this.tree.root = inst;\n    } catch (error) {\n      console.warn(\"Error creating node\", error);\n    }\n  }\n\n  /**\n   * Add Start Node\n   */\n  addStartNode = () => {\n    const { canvas } = this;\n    const inst = new StartNode({ canvas });\n    const value = { obj: inst, links: [] };\n    this.nodes.set(inst.data.id, value);\n  };\n\n  /**\n   * @private\n   * @override update : Add to canvas all children of parent node\n   *\n   * @param {TreeContainerNode} parent\n   */\n  update(parent) {\n    // Render parent children\n    parent.children.forEach(node => {\n      node.addToCanvas();\n    });\n  }\n\n  reStrokeLinks = () => {\n    /* empty on purpose */\n  };\n}\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./Flow.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./Flow.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const flowStyles = makeStyles(_theme => ({\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n    flexGrow: 1\n  }\n}));\n","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useRef\n} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { filter } from \"rxjs/operators\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport Add from \"@material-ui/icons/Add\";\nimport CompareArrowsIcon from \"@material-ui/icons/CompareArrows\";\nimport { usePluginMethods } from \"../../../engine/ReactPlugin/ViewReactPlugin\";\nimport { withEditorPlugin } from \"../../../engine/ReactPlugin/EditorReactPlugin\";\nimport {\n  FLOW_EXPLORER_PROFILE,\n  PLUGINS,\n  ALERT_SEVERITIES\n} from \"../../../utils/Constants\";\nimport { SUCCESS_MESSAGES } from \"../../../utils/Messages\";\nimport Workspace from \"../../../utils/Workspace\";\nimport { KEYBINDINGS } from \"../../../tools/AppShortcuts/shortcuts\";\nimport Clipboard, { KEYS } from \"./Utils/Clipboard\";\nimport Vec2 from \"./Utils/Vec2\";\nimport BaseFlow from \"./Views/BaseFlow\";\nimport { WARNING_TYPES } from \"./Core/Graph/GraphValidator\";\nimport Menu from \"./Components/Menus/Menu\";\nimport NodeMenu from \"./Components/Menus/NodeMenu\";\nimport FlowTopBar from \"./Components/FlowTopBar/FlowTopBar\";\nimport FlowBottomBar from \"./Components/FlowBottomBar/FlowBottomBar\";\nimport FlowContextMenu from \"./Components/Menus/ContextMenu/FlowContextMenu\";\nimport { MODE as FLOW_CONTEXT_MODE } from \"./Components/Menus/ContextMenu\";\nimport ContainerMenu from \"./Components/Menus/ContainerMenu\";\nimport Explorer from \"./Components/Explorer/Explorer\";\nimport LinkMenu from \"./Components/Menus/LinkMenu\";\nimport PortTooltip from \"./Components/Tooltips/PortTooltip\";\nimport InvalidLinksWarning from \"./Components/Warnings/InvalidLinksWarning\";\nimport InvalidParametersWarning from \"./Components/Warnings/InvalidParametersWarning\";\nimport InvalidExposedPortsWarning from \"./Components/Warnings/InvalidExposedPortsWarning\";\nimport { EVT_NAMES, EVT_TYPES } from \"./events\";\nimport { FLOW_VIEW_MODE, TYPES } from \"./Constants/constants\";\nimport GraphBase from \"./Core/Graph/GraphBase\";\nimport GraphTreeView from \"./Core/Graph/GraphTreeView\";\n\nimport \"./Resources/css/Flow.css\";\nimport { flowStyles } from \"./styles\";\nlet activeBookmark = null;\n\nconst Flow = (props, ref) => {\n  // Props\n  const {\n    id,\n    call,\n    scope,\n    name,\n    instance,\n    data,\n    alert,\n    addKeyBind,\n    removeKeyBind,\n    activateKeyBind,\n    deactivateKeyBind,\n    confirmationAlert,\n    on,\n    off\n  } = props;\n  // Global consts\n  const MENUS = useRef(\n    Object.freeze({\n      DETAIL: {\n        NAME: \"detail-menu\",\n        TITLE: \"FlowDetailsMenuTitle\"\n      },\n      NODE: {\n        NAME: \"node-menu\",\n        TITLE: \"NodeInstanceMenuTitle\"\n      },\n      LINK: {\n        NAME: \"link-menu\",\n        TITLE: \"LinkInstanceMenuTitle\"\n      }\n    })\n  );\n\n  // State Hooks\n  const [loading, setLoading] = useState(true);\n  const [dataFromDB, setDataFromDB] = useState();\n  const [robotSelected, setRobotSelected] = useState(\"\");\n  const [runningFlow, setRunningFlow] = useState(\"\");\n  const [warnings, setWarnings] = useState([]);\n  const [flowDebugging, setFlowDebugging] = useState();\n  const [warningsVisibility, setWarningsVisibility] = useState(false);\n  const [viewMode, setViewMode] = useState(FLOW_VIEW_MODE.default);\n  const [tooltipConfig, setTooltipConfig] = useState(null);\n  const [contextMenuOptions, setContextMenuOptions] = useState({\n    open: false,\n    position: { x: 0, y: 0 }\n  });\n  const [searchVisible, setSearchVisible] = useState(false);\n\n  // Other Hooks\n  const classes = flowStyles();\n  const { t } = useTranslation();\n  const clipboard = useMemo(() => new Clipboard(), []);\n  // Refs\n  const mainInterfaceRef = useRef();\n  const debounceSelection = useRef();\n  const selectedNodeRef = useRef();\n  const selectedLinkRef = useRef();\n  const isEditableComponentRef = useRef(true);\n  const workspaceManager = useMemo(() => new Workspace(), []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    Private Methods                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Returns flow base class from viewMode defaults to GraphBase\n   * @returns {Class} flow base class based on the viewMode\n   */\n  const getBaseFlowClass = () => {\n    const flowClasses = {\n      [FLOW_VIEW_MODE.default]: GraphBase,\n      [FLOW_VIEW_MODE.treeView]: GraphTreeView\n    };\n    return flowClasses[viewMode] ?? GraphBase;\n  };\n\n  /**\n   * Used to handle group visibility\n   */\n  const handleGroupVisibility = useCallback((groupId, visibility) => {\n    getMainInterface().onGroupChange(groupId, visibility);\n  }, []);\n\n  /**\n   * Handle group visibilities\n   */\n  const groupsVisibilities = useCallback(() => {\n    if (!instance.current) return;\n    getMainInterface().onGroupsChange(instance.current.getGroups()?.data);\n  }, [instance]);\n\n  /**\n   * Updates the status of flow debugging variable on graph\n   * And then re strokes the links (to add or remove the debug colors)\n   */\n  const updateLinkStroke = useCallback(() => {\n    if (getMainInterface()) {\n      getMainInterface().graph.isFlowDebugging = flowDebugging;\n      getMainInterface().graph.reStrokeLinks();\n    }\n  }, [flowDebugging]);\n\n  /**\n   * Should update everything related to flowDebugging here\n   */\n  useEffect(() => {\n    updateLinkStroke();\n  }, [flowDebugging, updateLinkStroke]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Helper                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Get main interface instance\n   */\n  const getMainInterface = () => {\n    return mainInterfaceRef.current;\n  };\n\n  /**\n   * Set mode\n   * @param {string} mode : Interface mode\n   */\n  const setMode = useCallback(mode => {\n    getMainInterface().setMode(mode);\n  }, []);\n\n  /**\n   * Get the current node (from context menu) and all other selected nodes\n   * @returns {array} Selected nodes\n   */\n  const getSelectedNodes = useCallback(() => {\n    const { args: node } = contextMenuOptions || {};\n    const selectedNodesSet = new Set(\n      [node].concat(getMainInterface().selectedNodes)\n    );\n    return Array.from(selectedNodesSet).filter(el => el);\n  }, [contextMenuOptions]);\n\n  /**\n   * Open document in new tab\n   * @param {*} docData\n   */\n  const openDoc = useCallback(\n    docData => {\n      call(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.CALL.READ, {\n        scope: docData.scope,\n        name: docData.name\n      }).then(doc => {\n        call(PLUGINS.TABS.NAME, PLUGINS.TABS.CALL.OPEN_EDITOR, {\n          id: doc.getUrl(),\n          name: doc.getName(),\n          scope: doc.getScope()\n        });\n      });\n    },\n    [call]\n  );\n\n  /**\n   * @private Used to remove invalid links\n   * @param {*} callback\n   */\n  const deleteInvalidLinks = useCallback(\n    (links, callback) => {\n      links.forEach(link => instance.current.deleteLink(link.id));\n\n      getMainInterface().graph.clearInvalidLinks().validateFlow();\n\n      callback && callback();\n    },\n    [instance]\n  );\n\n  /**\n   * @private Used to remove invalid links\n   * @param {*} callback\n   */\n  const deleteInvalidExposedPorts = useCallback(\n    invalidExposedPorts => {\n      const exposedPorts = instance.current.exposedPorts.data;\n\n      invalidExposedPorts.forEach(port => {\n        const portData = port.nodeInst.data;\n        const portTemplate =\n          portData.type === TYPES.CONTAINER\n            ? `__${portData.ContainerFlow}`\n            : portData.Template;\n\n        if (\n          exposedPorts.has(portTemplate) &&\n          exposedPorts.get(portTemplate)[portData.id]\n        ) {\n          port.invalidPorts.forEach(invalidPort =>\n            instance.current.exposedPorts.toggleExposedPort(\n              portTemplate,\n              portData.id,\n              invalidPort\n            )\n          );\n        }\n      });\n\n      getMainInterface()\n        .graph.clearInvalidExposedPorts(invalidExposedPorts)\n        .validateFlow();\n    },\n    [instance]\n  );\n\n  /**\n   * On Links validation\n   * @param {{invalidLinks: Array, callback: Function}} eventData\n   */\n  const invalidLinksAlert = useCallback(\n    warning => {\n      const { data: invalidLinks, callback } = warning;\n\n      if (invalidLinks.length) {\n        call(\n          PLUGINS.DIALOG.NAME,\n          PLUGINS.DIALOG.CALL.CUSTOM,\n          {\n            submitText: t(\"Fix\"),\n            title: t(\"InvalidLinksFoundTitle\"),\n            onSubmit: () => deleteInvalidLinks(invalidLinks, callback),\n            invalidLinks\n          },\n          InvalidLinksWarning\n        );\n      }\n    },\n    [call, t, deleteInvalidLinks]\n  );\n\n  /**\n   * On Links validation\n   * @param {{invalidLinks: Array, callback: Function}} eventData\n   */\n  const invalidExposedPortsAlert = useCallback(\n    warning => {\n      const { data: invalidExposedPorts } = warning;\n\n      if (invalidExposedPorts.length) {\n        call(\n          PLUGINS.DIALOG.NAME,\n          PLUGINS.DIALOG.CALL.CUSTOM,\n          {\n            submitText: t(\"Fix\"),\n            title: t(\"InvalidExposedPortsFound\"),\n            onSubmit: () => deleteInvalidExposedPorts(invalidExposedPorts),\n            call,\n            invalidExposedPorts\n          },\n          InvalidExposedPortsWarning\n        );\n      }\n    },\n    [call, t, deleteInvalidExposedPorts]\n  );\n\n  /**\n   * @private Show alert dialog for containers with invalid parameters\n   * @param {*} invalidContainersParam\n   */\n  const invalidContainersParamAlert = useCallback(\n    warning => {\n      const invalidContainers = warning?.data;\n      // Don't show dialog if no invalid params found\n      if (!invalidContainers?.length) return;\n\n      // Show alert dialog\n      call(\n        PLUGINS.DIALOG.NAME,\n        PLUGINS.DIALOG.CALL.CUSTOM,\n        {\n          title: t(\"InvalidContainersParamTitle\"),\n          invalidContainerParams: invalidContainers,\n          call\n        },\n        InvalidParametersWarning\n      );\n    },\n    [t, call]\n  );\n\n  /**\n   * Open Dialog to Enter Paste Node name\n   * @param {*} position : x and y position in canvas\n   * @param {*} nodeToCopy : Node data\n   * @returns {Promise} Resolved only after submit or cancel dialog\n   */\n  const pasteNodeDialog = useCallback(\n    (position, nodeToCopy) => {\n      const node = nodeToCopy.node;\n      return new Promise(resolve => {\n        const args = {\n          title: t(\"PasteNodeModel\", { nodeModel: node.model }),\n          value: `${node.id}_copy`,\n          onClose: resolve,\n          onValidation: newName =>\n            getMainInterface().graph.validator.validateNodeName(\n              newName,\n              t(node.model)\n            ),\n          onSubmit: newName =>\n            getMainInterface().pasteNode(newName, node, position)\n        };\n        // Open Dialog\n        call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.FORM_DIALOG, args);\n      });\n    },\n    [call, t]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                               Right menu initialization                              *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * @private Get Menu component based on node model (Flow or Node)\n   * @param {Stringimport(\"lodash\").NullableChain} model : One of each \"Flow\" or \"Node\"\n   * @returns {ReactComponent} Reference to menu component\n   */\n  const getMenuComponent = useCallback((model = \"\") => {\n    const componentByModel = {\n      Node: NodeMenu,\n      Flow: ContainerMenu\n    };\n    return model in componentByModel ? componentByModel[model] : null;\n  }, []);\n\n  /**\n   * Get node menu if any\n   */\n  const getNodeMenuToAdd = useCallback(\n    node => {\n      const MenuComponent = getMenuComponent(node?.data?.model);\n      if (!node || !MenuComponent) return;\n      return {\n        icon: <i className=\"icon-Nodes\" />,\n        name: MENUS.current.NODE.NAME,\n        title: t(MENUS.current.NODE.TITLE),\n        view: (\n          <MenuComponent\n            id={id}\n            call={call}\n            nodeInst={node}\n            flowModel={instance}\n            openDoc={openDoc}\n            editable={true}\n            groupsVisibilities={groupsVisibilities}\n          />\n        )\n      };\n    },\n    [\n      MENUS,\n      call,\n      id,\n      instance,\n      openDoc,\n      getMenuComponent,\n      groupsVisibilities,\n      t\n    ]\n  );\n\n  /**\n   * Add node menu if any\n   */\n  const addNodeMenu = useCallback(\n    (node, nodeSelection) => {\n      const MenuComponent = getMenuComponent(node?.data?.model);\n      if (!node || !MenuComponent) return;\n      call(\n        PLUGINS.RIGHT_DRAWER.NAME,\n        PLUGINS.RIGHT_DRAWER.CALL.ADD_BOOKMARK,\n        getNodeMenuToAdd(node),\n        activeBookmark,\n        nodeSelection,\n        true\n      );\n    },\n    [call, getMenuComponent, getNodeMenuToAdd]\n  );\n\n  /**\n   * Get link right menu if any\n   * @param {Link} link : Link to be rendered in menu\n   */\n  const getLinkMenuToAdd = useCallback(\n    link => {\n      if (!link) return;\n      return {\n        icon: <CompareArrowsIcon />,\n        name: MENUS.current.LINK.NAME,\n        title: t(MENUS.current.LINK.TITLE),\n        view: (\n          <LinkMenu\n            id={id}\n            call={call}\n            link={link}\n            flowModel={instance}\n            sourceMessage={link?.src?.data?.message}\n          />\n        )\n      };\n    },\n    [MENUS, call, id, instance, t]\n  );\n\n  /**\n   * Add link right menu if any\n   * @param {Link} link : Link to be rendered in menu\n   */\n  const addLinkMenu = useCallback(\n    (link, linkSelection) => {\n      if (!link) return;\n      call(\n        PLUGINS.RIGHT_DRAWER.NAME,\n        PLUGINS.RIGHT_DRAWER.CALL.ADD_BOOKMARK,\n        getLinkMenuToAdd(link),\n        activeBookmark,\n        linkSelection,\n        true\n      );\n    },\n    [call, getLinkMenuToAdd]\n  );\n\n  const renderRightMenu = useCallback(() => {\n    const details = props.data?.details || {};\n    const bookmarks = {\n      [MENUS.current.DETAIL.NAME]: {\n        icon: <InfoIcon></InfoIcon>,\n        name: MENUS.current.DETAIL.NAME,\n        title: t(MENUS.current.DETAIL.TITLE),\n        view: (\n          <Menu\n            id={id}\n            call={call}\n            name={name}\n            details={details}\n            model={instance}\n            handleGroupVisibility={handleGroupVisibility}\n            editable={true}\n          ></Menu>\n        )\n      }\n    };\n\n    if (isEditableComponentRef.current) {\n      const explorerView = new Explorer(FLOW_EXPLORER_PROFILE);\n\n      bookmarks[FLOW_EXPLORER_PROFILE.name] = {\n        icon: <Add />,\n        name: FLOW_EXPLORER_PROFILE.name,\n        title: t(FLOW_EXPLORER_PROFILE.title),\n        view: explorerView.render({\n          flowId: id,\n          mainInterface: getMainInterface()\n        })\n      };\n    }\n\n    // Add node menu if any is selected\n    if (selectedNodeRef.current) {\n      bookmarks[MENUS.current.NODE.NAME] = getNodeMenuToAdd(\n        selectedNodeRef.current\n      );\n    }\n\n    // Add link menu if any is selected\n    if (selectedLinkRef.current) {\n      bookmarks[MENUS.current.LINK.NAME] = getLinkMenuToAdd(\n        selectedLinkRef.current\n      );\n    }\n\n    // add bookmark\n    call(\n      PLUGINS.RIGHT_DRAWER.NAME,\n      PLUGINS.RIGHT_DRAWER.CALL.SET_BOOKMARK,\n      bookmarks,\n      activeBookmark\n    );\n  }, [\n    MENUS,\n    id,\n    name,\n    instance,\n    props.data,\n    call,\n    getNodeMenuToAdd,\n    getLinkMenuToAdd,\n    handleGroupVisibility,\n    t\n  ]);\n\n  usePluginMethods(ref, {\n    renderRightMenu\n  });\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                     Handle Events                                    *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On Robot selection change\n   * @param {*} robotId\n   */\n  const onRobotChange = useCallback(robotId => {\n    setRobotSelected(robotId);\n  }, []);\n\n  /**\n   * On change running flow\n   * @param {*} flow\n   */\n  const onStartStopFlow = useCallback(flow => {\n    // Update state variable\n    setRunningFlow(prevState => {\n      if (prevState === flow) return prevState;\n      return flow;\n    });\n  }, []);\n\n  /**\n   * On view mode change\n   * @param {string} newViewMode : One of the following \"default\" or \"treeView\"\n   */\n  const onViewModeChange = useCallback(\n    newViewMode => {\n      if (!newViewMode || viewMode === newViewMode) return;\n      isEditableComponentRef.current = newViewMode === FLOW_VIEW_MODE.default;\n\n      setLoading(true);\n\n      // Set mode loading after changing view mode\n      setMode(EVT_NAMES.LOADING);\n\n      // Temporary fix to show loading (even though UI still freezes)\n      setTimeout(() => {\n        setViewMode(newViewMode);\n      }, 100);\n    },\n    [viewMode, setMode]\n  );\n\n  /**\n   * Toggle Warnings\n   */\n  const onToggleWarnings = useCallback(() => {\n    setWarningsVisibility(prevState => {\n      const newVisibility = !prevState;\n      getMainInterface()?.onToggleWarnings({ data: newVisibility });\n      return newVisibility;\n    });\n  }, []);\n\n  /**\n   * Update node active status\n   * @param {object} nodeStatus : Nodes to update status\n   * @param {{activeFlow: string, isOnline: boolean}} robotStatus : Robot current status\n   */\n  const onNodeStatusUpdate = useCallback((nodeStatus, robotStatus) => {\n    getMainInterface()?.nodeStatusUpdated(nodeStatus, robotStatus);\n  }, []);\n\n  /**\n   * Resets all node status\n   */\n  const onNodeCompleteStatusUpdated = useCallback(() => {\n    getMainInterface()?.resetAllNodeStatus();\n  }, []);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                  Handle Flow Events                                  *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * On flow validation\n   * @param {*} validationWarnings\n   */\n  const onFlowValidated = validationWarnings => {\n    const persistentWarns = validationWarnings.warnings.filter(\n      el => el.isPersistent\n    );\n    setWarnings(persistentWarns);\n  };\n\n  /**\n   * Remove Node Bookmark and set selectedNode to null\n   */\n  const unselectNode = useCallback(() => {\n    call(\n      PLUGINS.RIGHT_DRAWER.NAME,\n      PLUGINS.RIGHT_DRAWER.CALL.REMOVE_BOOKMARK,\n      MENUS.current.NODE.NAME,\n      MENUS.current.DETAIL.NAME\n    );\n    selectedNodeRef.current = null;\n  }, [MENUS, call, selectedNodeRef]);\n\n  /**\n   * On Node Selected\n   * @param {*} node\n   */\n  const onNodeSelected = useCallback(\n    node => {\n      clearTimeout(debounceSelection.current);\n      debounceSelection.current = setTimeout(() => {\n        if (!node) {\n          unselectNode();\n        } else {\n          selectedNodeRef.current = node;\n          activeBookmark = MENUS.current.NODE.NAME;\n          addNodeMenu(node, true);\n        }\n      }, 300);\n    },\n    [MENUS, addNodeMenu, unselectNode]\n  );\n\n  /**\n   * On Link selected\n   * @param {BaseLink} link : Link instance\n   */\n  const onLinkSelected = useCallback(\n    link => {\n      selectedLinkRef.current = link;\n      getMainInterface().selectedLink = link;\n      if (!link) {\n        call(\n          PLUGINS.RIGHT_DRAWER.NAME,\n          PLUGINS.RIGHT_DRAWER.CALL.REMOVE_BOOKMARK,\n          MENUS.current.LINK.NAME,\n          activeBookmark\n        );\n      } else {\n        activeBookmark = MENUS.current.LINK.NAME;\n        addLinkMenu(link, true);\n      }\n    },\n    [MENUS, call, addLinkMenu]\n  );\n\n  /**\n   * Close context menu\n   */\n  const handleContextClose = useCallback(() => {\n    setContextMenuOptions(null);\n    getMainInterface().setMode(EVT_NAMES.DEFAULT);\n  }, []);\n\n  /**\n   * Call broadcast method to emit event to all open flows\n   */\n  const setFlowsToDefault = useCallback(() => {\n    // Remove selected node and link bookmark\n    onNodeSelected(null);\n    onLinkSelected(null);\n    // Update render of right menu\n    renderRightMenu();\n    // broadcast event to other flows\n    call(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.CALL.BROADCAST,\n      PLUGINS.DOC_MANAGER.ON.FLOW_EDITOR,\n      { action: \"setMode\", value: EVT_NAMES.DEFAULT }\n    );\n  }, [call, onLinkSelected, onNodeSelected, renderRightMenu]);\n\n  /**\n   * Subscribe to mainInterface and canvas events\n   */\n  const onReady = useCallback(\n    mainInterface => {\n      mainInterfaceRef.current = mainInterface;\n\n      // Subscribe to on loading exit (finish) event\n      mainInterface.mode.loading.onExit.subscribe(() => {\n        // Append the document frame to the canvas\n        mainInterface.canvas.appendDocumentFragment();\n        // Reposition all nodes and subflows\n        mainInterface.graph.updateAllPositions();\n        setLoading(false);\n        // Set initial warning visibility value\n        setWarningsVisibility(true);\n      });\n\n      // Set the warning types to be used in the validations\n      mainInterface.graph.validator.setWarningActions(\n        WARNING_TYPES.INVALID_EXPOSED_PORTS,\n        invalidExposedPortsAlert\n      );\n      mainInterface.graph.validator.setWarningActions(\n        WARNING_TYPES.INVALID_LINKS,\n        invalidLinksAlert\n      );\n      mainInterface.graph.validator.setWarningActions(\n        WARNING_TYPES.INVALID_PARAMETERS,\n        invalidContainersParamAlert\n      );\n\n      // subscribe to on enter default mode\n      // When enter default mode remove other node/sub-flow bookmarks\n      mainInterface.mode.default.onEnter.subscribe(() => {\n        setFlowsToDefault();\n      });\n\n      // Subscribe to on node select event\n      mainInterface.mode.selectNode.onEnter.subscribe(() => {\n        const selectedNodes = mainInterface.selectedNodes;\n        const node = selectedNodes.length !== 1 ? null : selectedNodes[0];\n        onNodeSelected(node);\n      });\n\n      // Subscribe to flow validations\n      mainInterface.graph.onFlowValidated.subscribe(evtData => {\n        const persistentWarns = evtData.warnings.filter(el => el.isPersistent);\n\n        groupsVisibilities();\n        onFlowValidated({ warnings: persistentWarns });\n      });\n\n      // Subscribe to double click event in a node\n      mainInterface.mode.onDblClick.onEnter.subscribe(evtData => {\n        const node = evtData.node;\n        openDoc({\n          name: node.templateName,\n          scope: node.data.model\n        });\n      });\n\n      // Subscribe to node instance/sub flow context menu events\n      mainInterface.mode.nodeCtxMenu.onEnter.subscribe(evtData => {\n        const anchorPosition = {\n          left: evtData.event.clientX,\n          top: evtData.event.clientY\n        };\n        setContextMenuOptions({\n          args: evtData.node,\n          mode: evtData.node?.data?.type,\n          anchorPosition,\n          onClose: handleContextClose\n        });\n      });\n\n      mainInterface.mode.addNode.onClick.subscribe(() => {\n        const nodeName = getMainInterface().mode.current.props.node.data.name;\n        const args = {\n          title: t(\"AddNode\"),\n          submitText: t(\"Add\"),\n          value: nodeName,\n          onValidation: newName =>\n            getMainInterface().graph.validator.validateNodeName(\n              newName,\n              t(\"Node\")\n            ),\n          onClose: setFlowsToDefault,\n          onSubmit: newName => getMainInterface().addNode(newName)\n        };\n        // Open form dialog\n        call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.FORM_DIALOG, args);\n      });\n\n      mainInterface.mode.addFlow.onClick.subscribe(() => {\n        const flowName = getMainInterface().mode.current.props.node.data.name;\n        const args = {\n          title: t(\"AddSubFlow\"),\n          submitText: t(\"Add\"),\n          value: flowName,\n          onValidation: newName =>\n            getMainInterface().graph.validator.validateNodeName(\n              newName,\n              t(\"SubFlow\")\n            ),\n          onClose: setFlowsToDefault,\n          onSubmit: newName => getMainInterface().addFlow(newName)\n        };\n        // Open form dialog\n        call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.FORM_DIALOG, args);\n      });\n\n      // Subscribe to link context menu events\n      mainInterface.mode.linkCtxMenu.onEnter.subscribe(evtData => {\n        const anchorPosition = {\n          left: evtData.event.clientX,\n          top: evtData.event.clientY\n        };\n        setContextMenuOptions({\n          args: evtData,\n          mode: FLOW_CONTEXT_MODE.LINK,\n          anchorPosition,\n          onClose: handleContextClose\n        });\n      });\n\n      // Subscribe to canvas context menu\n      mainInterface.mode.canvasCtxMenu.onEnter.subscribe(evtData => {\n        const anchorPosition = {\n          left: evtData.event.clientX,\n          top: evtData.event.clientY\n        };\n        setContextMenuOptions({\n          args: evtData.position,\n          mode: FLOW_CONTEXT_MODE.CANVAS,\n          anchorPosition,\n          onClose: handleContextClose\n        });\n      });\n\n      // subscribe to port context menu event\n      mainInterface.mode.portCtxMenu.onEnter.subscribe(evtData => {\n        const anchorPosition = {\n          left: evtData.event.clientX,\n          top: evtData.event.clientY\n        };\n        setContextMenuOptions({\n          args: evtData.port,\n          mode: FLOW_CONTEXT_MODE.PORT,\n          anchorPosition,\n          onClose: handleContextClose\n        });\n      });\n\n      mainInterface.canvas.events\n        .pipe(\n          filter(\n            event =>\n              event.name === EVT_NAMES.ON_MOUSE_OVER &&\n              event.type === EVT_TYPES.LINK\n          )\n        )\n        .subscribe(evtData => mainInterface.graph.onMouseOverLink(evtData));\n\n      mainInterface.canvas.events\n        .pipe(\n          filter(\n            event =>\n              event.name === EVT_NAMES.ON_MOUSE_OUT &&\n              event.type === EVT_TYPES.LINK\n          )\n        )\n        .subscribe(evtData => mainInterface.graph.onMouseOutLink(evtData));\n\n      // Select Link event\n      mainInterface.canvas.events\n        .pipe(\n          filter(\n            event =>\n              event.name === EVT_NAMES.ON_CLICK && event.type === EVT_TYPES.LINK\n          )\n        )\n        .subscribe(event => onLinkSelected(event.data));\n\n      // subscribe to port mouseOver event\n      mainInterface.canvas.events\n        .pipe(\n          filter(\n            event =>\n              event.name === EVT_NAMES.ON_MOUSE_OVER &&\n              event.type === EVT_TYPES.PORT\n          )\n        )\n        .subscribe(evtData => {\n          const { port, event } = evtData;\n          const anchorPosition = {\n            left: event.layerX + 8,\n            top: event.layerY\n          };\n          setTooltipConfig({\n            port,\n            anchorPosition\n          });\n        });\n\n      // subscribe to port mouseOut event\n      mainInterface.canvas.events\n        .pipe(\n          filter(\n            event =>\n              event.name === EVT_NAMES.ON_MOUSE_OUT &&\n              event.type === EVT_TYPES.PORT\n          )\n        )\n        .subscribe(() => {\n          setTooltipConfig(null);\n        });\n\n      mainInterface.canvas.events\n        .pipe(\n          filter(\n            event =>\n              event.name === EVT_NAMES.ON_CHG_MOUSE_OVER &&\n              event.type === EVT_TYPES.LINK\n          )\n        )\n        .subscribe(evtData => console.log(\"onLinkErrorMouseOver\", evtData));\n    },\n    [\n      onNodeSelected,\n      onLinkSelected,\n      setFlowsToDefault,\n      groupsVisibilities,\n      invalidLinksAlert,\n      invalidExposedPortsAlert,\n      invalidContainersParamAlert,\n      openDoc,\n      handleContextClose,\n      call,\n      t\n    ]\n  );\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                       Handlers                                       *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Handler for the Flow Debug Switch\n   * @param {*} e : event\n   */\n  const handleFlowDebugChange = useCallback(\n    e => {\n      workspaceManager.setFlowIsDebugging(e.target.checked);\n      setFlowDebugging(e.target.checked);\n    },\n    [workspaceManager]\n  );\n\n  /**\n   * Handle Delete : Show confirmation dialog before performing delete action\n   * @param {{nodeId: string, callback: function}} data\n   */\n  const handleDelete = useCallback(\n    ({ message, callback }) => {\n      call(PLUGINS.DIALOG.NAME, PLUGINS.DIALOG.CALL.CONFIRMATION, {\n        submitText: t(\"Delete\"),\n        title: t(\"ConfirmDelete\"),\n        onSubmit: callback,\n        message\n      });\n    },\n    [t, call]\n  );\n\n  /**\n   * Handle copy node\n   */\n  const handleCopyNode = useCallback(\n    evt => {\n      evt && evt.preventDefault();\n      const selectedNodes = getSelectedNodes();\n      const nodesPos = selectedNodes.map(n =>\n        Vec2.of(n.center.xCenter, n.center.yCenter)\n      );\n      let center = nodesPos.reduce((e, x) => e.add(x), Vec2.ZERO);\n      center = center.scale(1 / selectedNodes.length);\n      // Nodes to copy\n      const nodesToCopy = {\n        nodes: selectedNodes.map(n => n.data),\n        flow: data.id,\n        nodesPosFromCenter: nodesPos.map(pos => pos.sub(center))\n      };\n      // Write nodes to copy to clipboard\n      clipboard.write(KEYS.NODES_TO_COPY, nodesToCopy);\n    },\n    [clipboard, getSelectedNodes, data.id]\n  );\n\n  /**\n   * Handle paste nodes in canvas\n   */\n  const handlePasteNodes = useCallback(\n    async evt => {\n      evt && evt.preventDefault();\n      const { args: position = getMainInterface().canvas.mousePosition } =\n        contextMenuOptions || {};\n      const nodesToCopy = clipboard.read(KEYS.NODES_TO_COPY);\n      if (!nodesToCopy) return;\n\n      for (const [i, node] of nodesToCopy.nodes.entries()) {\n        const nodesPosFromCenter = nodesToCopy.nodesPosFromCenter || [\n          Vec2.ZERO\n        ];\n        const newPos = Vec2.of(position.x, position.y).add(\n          nodesPosFromCenter[i]\n        );\n        // Open dialog for each node to copy\n        await pasteNodeDialog(newPos.toObject(), {\n          node: node,\n          flow: nodesToCopy.flow\n        });\n      }\n    },\n    [clipboard, contextMenuOptions, pasteNodeDialog]\n  );\n\n  /**\n   * Handle delete node\n   */\n  const handleDeleteNode = useCallback(() => {\n    const selectedNodes = getSelectedNodes();\n    if (!selectedNodes.length) return;\n    // Callback to delete all nodes\n    const callback = () => {\n      selectedNodes.forEach(node => {\n        getMainInterface().deleteNode(node.data);\n      });\n      unselectNode();\n    };\n    // Compose confirmation message\n    const message = t(\"NodeDeleteConfirmation\", {\n      nodes:\n        selectedNodes.length === 1\n          ? selectedNodes[0].data.id\n          : t(\"TheSelectedNodes\")\n    });\n    // Show confirmation before delete\n    handleDelete({ message, callback });\n\n    setContextMenuOptions(prevValue => ({ ...prevValue, anchorEl: null }));\n  }, [handleDelete, unselectNode, getSelectedNodes, t]);\n\n  /**\n   * Handle delete link\n   */\n  const handleDeleteLink = useCallback(() => {\n    const { args: link } = contextMenuOptions;\n    getMainInterface().deleteLink(link.id);\n  }, [contextMenuOptions]);\n\n  /**\n   * Toggle exposed port\n   */\n  const handleToggleExposedPort = useCallback(() => {\n    const { args: port } = contextMenuOptions;\n    getMainInterface().toggleExposedPort(port);\n  }, [contextMenuOptions]);\n\n  /**\n   * Handle zoom reset\n   */\n  const handleResetZoom = useCallback(_e => {\n    getMainInterface()?.onResetZoom();\n  }, []);\n\n  /**\n   * Handle Move Node\n   */\n  const handleMoveNode = useCallback(e => {\n    getMainInterface()?.onMoveNode(e);\n  }, []);\n\n  /*\n   * Handle search nodes\n   */\n  const handleSearchNode = useCallback(\n    node => {\n      const mainInterface = getMainInterface();\n      const nodeInstance = node && mainInterface.searchNode(node);\n      if (!nodeInstance) return;\n      nodeInstance.handleSelectionChange();\n      mainInterface.onFocusNode(nodeInstance);\n      deactivateKeyBind();\n    },\n    [deactivateKeyBind]\n  );\n\n  const handleSearchEnabled = useCallback(\n    _e => {\n      if (!searchVisible) setSearchVisible(true);\n    },\n    [searchVisible]\n  );\n\n  const handleSearchEnable = useCallback(e => {\n    e.preventDefault();\n    setSearchVisible(true);\n  }, []);\n\n  const handleSearchDisabled = useCallback(() => {\n    setSearchVisible(false);\n  }, []);\n\n  useEffect(() => {\n    if (searchVisible) {\n      return deactivateKeyBind();\n    }\n    activateKeyBind();\n  }, [searchVisible, deactivateKeyBind, activateKeyBind]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  /**\n   * Component did mount\n   */\n  useEffect(() => {\n    on(\n      PLUGINS.RIGHT_DRAWER.NAME,\n      PLUGINS.RIGHT_DRAWER.ON.CHANGE_BOOKMARK,\n      bookmark => {\n        activeBookmark = bookmark.name;\n      }\n    );\n\n    // Subscribe to docManager broadcast for flowEditor (global events)\n    on(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.FLOW_EDITOR, evt => {\n      // evt ex.: {action: \"setMode\", value: \"default\"}\n      const { action, value } = evt;\n      getMainInterface()?.[action](value);\n    });\n\n    setFlowDebugging(workspaceManager.getFlowIsDebugging());\n\n    return () => {\n      off(PLUGINS.RIGHT_DRAWER.NAME, PLUGINS.RIGHT_DRAWER.ON.CHANGE_BOOKMARK);\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.FLOW_EDITOR);\n    };\n  }, [on, off, workspaceManager]);\n\n  /**\n   * Initialize data\n   */\n  useEffect(() => {\n    const model = instance.current;\n\n    if (model) {\n      setDataFromDB(model.serializeToDB());\n    }\n  }, [instance, data]);\n\n  useEffect(() => {\n    on(\n      PLUGINS.DOC_MANAGER.NAME,\n      PLUGINS.DOC_MANAGER.ON.BEFORE_SAVE_DOC,\n      async docData => {\n        if (viewMode === FLOW_VIEW_MODE.treeView && docData.doc.name === name) {\n          const subFlows = mainInterfaceRef.current.graph.subFlows;\n\n          if (!docData.thisDoc.isDirty) {\n            call(PLUGINS.ALERT.NAME, PLUGINS.ALERT.CALL.SHOW, {\n              message: t(SUCCESS_MESSAGES.SAVED_SUCCESSFULLY),\n              severity: ALERT_SEVERITIES.SUCCESS\n            });\n          }\n\n          for (let i = 0, n = subFlows.length; i < n; i++) {\n            await call(\n              PLUGINS.DOC_MANAGER.NAME,\n              PLUGINS.DOC_MANAGER.CALL.SAVE,\n              {\n                scope,\n                name: subFlows[i].templateName\n              },\n              null,\n              // {{ignoreNew: true}} Because we don't want to show the new doc popup on missing subflows\n              // {{preventAlert: true}} Because independently of how many saves we do we just to want to show the snackbar once\n              { ignoreNew: true, preventAlert: true }\n            );\n          }\n        }\n      }\n    );\n    return () => {\n      off(PLUGINS.DOC_MANAGER.NAME, PLUGINS.DOC_MANAGER.ON.BEFORE_SAVE_DOC);\n    };\n  }, [name, scope, viewMode, on, off, call, t]);\n\n  useEffect(() => {\n    addKeyBind(KEYBINDINGS.FLOW.KEYBINDS.COPY_NODE.SHORTCUTS, handleCopyNode);\n    addKeyBind(\n      KEYBINDINGS.FLOW.KEYBINDS.PASTE_NODE.SHORTCUTS,\n      handlePasteNodes\n    );\n    addKeyBind(KEYBINDINGS.FLOW.KEYBINDS.MOVE_NODE.SHORTCUTS, handleMoveNode);\n    addKeyBind(\n      KEYBINDINGS.FLOW.KEYBINDS.SEARCH_NODE.SHORTCUTS,\n      handleSearchEnable\n    );\n    addKeyBind(KEYBINDINGS.FLOW.KEYBINDS.RESET_ZOOM.SHORTCUTS, handleResetZoom);\n\n    addKeyBind(\n      KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.CANCEL.SHORTCUTS,\n      setFlowsToDefault\n    );\n    addKeyBind(\n      KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.DELETE.SHORTCUTS,\n      handleDeleteNode\n    );\n    // remove keyBind on unmount\n    return () => {\n      removeKeyBind(KEYBINDINGS.FLOW.KEYBINDS.COPY_NODE.SHORTCUTS);\n      removeKeyBind(KEYBINDINGS.FLOW.KEYBINDS.PASTE_NODE.SHORTCUTS);\n      removeKeyBind(KEYBINDINGS.FLOW.KEYBINDS.MOVE_NODE.SHORTCUTS);\n      removeKeyBind(KEYBINDINGS.FLOW.KEYBINDS.SEARCH_NODE.SHORTCUTS);\n      removeKeyBind(KEYBINDINGS.FLOW.KEYBINDS.RESET_ZOOM.SHORTCUTS);\n      removeKeyBind(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.CANCEL.SHORTCUTS);\n      removeKeyBind(KEYBINDINGS.EDITOR_GENERAL.KEYBINDS.DELETE.SHORTCUTS);\n    };\n  }, [\n    addKeyBind,\n    removeKeyBind,\n    setFlowsToDefault,\n    handleCopyNode,\n    handlePasteNodes,\n    handleDeleteNode,\n    handleMoveNode,\n    handleSearchEnable,\n    handleResetZoom\n  ]);\n\n  //========================================================================================\n  /*                                                                                      *\n   *                                        Render                                        *\n   *                                                                                      */\n  //========================================================================================\n\n  return (\n    <div data-testid=\"section_flow-editor\" className={classes.root}>\n      <div id=\"flow-top-bar\">\n        <FlowTopBar\n          id={id}\n          call={call}\n          name={name}\n          alert={alert}\n          confirmationAlert={confirmationAlert}\n          scope={scope}\n          loading={loading}\n          viewMode={viewMode}\n          version={instance.current?.version}\n          mainInterface={mainInterfaceRef}\n          onRobotChange={onRobotChange}\n          onStartStopFlow={onStartStopFlow}\n          nodeStatusUpdated={onNodeStatusUpdate}\n          nodeCompleteStatusUpdated={onNodeCompleteStatusUpdated}\n          onViewModeChange={onViewModeChange}\n          searchProps={{\n            visible: searchVisible,\n            options: instance.current?.getSearchOptions(),\n            onChange: handleSearchNode,\n            onEnabled: handleSearchEnabled,\n            onDisabled: handleSearchDisabled\n          }}\n        ></FlowTopBar>\n      </div>\n      <BaseFlow\n        {...props}\n        graphClass={getBaseFlowClass()}\n        loading={loading}\n        viewMode={viewMode}\n        dataFromDB={dataFromDB}\n        warnings={warnings}\n        warningsVisibility={warningsVisibility}\n        flowDebugging={flowDebugging}\n        onReady={onReady}\n      />\n      <FlowBottomBar\n        openFlow={openDoc}\n        onToggleWarnings={onToggleWarnings}\n        warningVisibility={warningsVisibility}\n        robotSelected={robotSelected}\n        runningFlow={runningFlow}\n        warnings={warnings}\n        toggleFlowDebug={handleFlowDebugChange}\n        flowDebugging={flowDebugging}\n      />\n      {contextMenuOptions && isEditableComponentRef.current && (\n        <FlowContextMenu\n          onClose={handleContextClose}\n          onNodeCopy={handleCopyNode}\n          onCanvasPaste={handlePasteNodes}\n          onLinkDelete={handleDeleteLink}\n          onNodeDelete={handleDeleteNode}\n          onSubFlowDelete={handleDeleteNode}\n          onPortToggle={handleToggleExposedPort}\n          {...contextMenuOptions}\n        />\n      )}\n      {tooltipConfig && <PortTooltip {...tooltipConfig} />}\n    </div>\n  );\n};\n\nFlow.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  scope: PropTypes.string.isRequired,\n  call: PropTypes.func.isRequired,\n  on: PropTypes.func.isRequired,\n  data: PropTypes.object,\n  instance: PropTypes.object,\n  editable: PropTypes.bool,\n  alert: PropTypes.func,\n  addKeyBind: PropTypes.func,\n  removeKeyBind: PropTypes.func,\n  confirmationAlert: PropTypes.func,\n  saveDocument: PropTypes.func\n};\n\nexport default withEditorPlugin(Flow);\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@material-ui/icons/Home\");","import React, { useEffect } from \"react\";\nimport { withDefaults } from \"@mov-ai/mov-fe-lib-react\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { ApplicationTheme } from \"../themes\";\nimport BaseApp, { installEditor, installTool } from \"./BaseApp\";\n// Editors\nimport {\n  ConfigurationModel,\n  ConfigurationStore,\n  ConfigurationView\n} from \"../editors/Configuration\";\nimport {\n  CallbackModel,\n  CallbackStore,\n  CallbackView\n} from \"../editors/Callback\";\nimport { NodeStore, NodeModel, NodeView } from \"../editors/Node\";\nimport { FlowModel, FlowStore, FlowView } from \"../editors/Flow\";\nimport FlowExplorer from \"../editors/Flow/view/Components/Explorer/Explorer\";\n// Tools\nimport {\n  FLOW_EXPLORER_PROFILE,\n  HOMETAB_PROFILE,\n  SHORTCUTS_PROFILE\n} from \"../utils/Constants\";\nimport HomeTabPlugin, { getHomeTab } from \"../tools/HomeTab/HomeTab\";\nimport ShortcutsPlugin, {\n  getShortcutsTab\n} from \"../tools/AppShortcuts/AppShortcuts\";\nimport KeyboardIcon from \"@material-ui/icons/Keyboard\";\nimport HomeIcon from \"@material-ui/icons/Home\";\n\nconst AppCE = props => {\n  //========================================================================================\n  /*                                                                                      *\n   *                                    React Lifecycle                                   *\n   *                                                                                      */\n  //========================================================================================\n\n  // On component did mount\n  useEffect(() => {\n    // Install editors\n    installEditor({\n      scope: FlowModel.SCOPE,\n      store: FlowStore,\n      editorPlugin: FlowView,\n      otherPlugins: [\n        {\n          profile: FLOW_EXPLORER_PROFILE,\n          factory: profile => new FlowExplorer(profile)\n        }\n      ]\n    });\n    installEditor({\n      scope: NodeModel.SCOPE,\n      store: NodeStore,\n      editorPlugin: NodeView\n    });\n    installEditor({\n      scope: CallbackModel.SCOPE,\n      store: CallbackStore,\n      editorPlugin: CallbackView\n    });\n    installEditor({\n      scope: ConfigurationModel.SCOPE,\n      store: ConfigurationStore,\n      editorPlugin: ConfigurationView\n    });\n\n    // Install tools\n    installTool({\n      id: HOMETAB_PROFILE.name,\n      profile: HOMETAB_PROFILE,\n      Plugin: HomeTabPlugin,\n      tabData: getHomeTab(),\n      icon: HomeIcon,\n      quickAccess: false,\n      toolBar: false,\n      mainMenu: false\n    });\n    installTool({\n      id: SHORTCUTS_PROFILE.name,\n      profile: SHORTCUTS_PROFILE,\n      Plugin: ShortcutsPlugin,\n      tabData: getShortcutsTab(),\n      icon: KeyboardIcon,\n      quickAccess: false,\n      toolBar: false,\n      mainMenu: false\n    });\n  }, []);\n\n  return <BaseApp {...props} />;\n};\n\nexport default withDefaults({\n  name: \"mov-fe-app-ide-ce\",\n  component: AppCE,\n  offlineValidation: false,\n  theme: {\n    provider: ThemeProvider,\n    props: ApplicationTheme\n  }\n});\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./src/App/App\";\nimport reportWebVitals from \"./src/reportWebVitals\";\n// Import shared classes to be exported\nimport BaseApp, { installEditor, installTool } from \"./src/App/BaseApp\";\nimport { Store, DBSubscriber } from \"./src/store\";\nimport { Model, Manager } from \"./src/models\";\nimport { withAlerts, withTheme, withKeyBinds } from \"./src/decorators\";\nimport { withEditorPlugin, withViewPlugin } from \"./src/engine\";\n// Import editors\nimport {\n  CallbackModel,\n  CallbackStore,\n  CallbackView\n} from \"./src/editors/Callback\";\nimport {\n  ConfigurationModel,\n  ConfigurationStore,\n  ConfigurationView\n} from \"./src/editors/Configuration\";\nimport { NodeModel, NodeStore, NodeView } from \"./src/editors/Node\";\nimport { FlowModel, FlowStore, FlowView } from \"./src/editors/Flow\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n// Export classes to build App\nexport { BaseApp, installEditor, installTool };\nexport { Store, DBSubscriber };\nexport { Model, Manager };\nexport { withAlerts, withTheme, withKeyBinds };\nexport { withEditorPlugin, withViewPlugin };\n// Export built-in editors\nexport { CallbackModel, CallbackStore, CallbackView };\nexport { ConfigurationModel, ConfigurationStore, ConfigurationView };\nexport { NodeModel, NodeStore, NodeView };\nexport { FlowModel, FlowStore, FlowView };\n"],"names":["root","factory","exports","module","define","amd","self","leafPrototypes","getProto","___CSS_LOADER_EXPORT___","push","id","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_REPLACEMENT_0___","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","hash","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","n","getter","d","a","Object","getPrototypeOf","t","value","mode","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","forEach","key","definition","o","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","b","baseURI","location","href","commonColors","overrides","MuiAppBar","positionStatic","zIndex","overrideTheme","dark","background","topBarColor","Themes","dockLayout","backdrop","color","saveBar","backgroundColor","nodeEditor","stripeColor","robotDetails","interfaceColor","codeEditor","theme","flowEditor","diffTool","removedBackground","addedBackground","jsonEditor","readOnly","layoutEditor","gridItemDev","gridItemPreview","itemBoxColor","itemBoxColorHover","light","jsonDiff","keys","ApplicationTheme","lodash","resources","en","translation","pt","language","SERVER_DATA","Language","i18n","initReactI18next","init","lng","fallbackLng","debug","interpolation","escapeValue","GLOBAL_WORKSPACE","DEFAULT_VALUE","DISABLED_VALUE","DATA_TYPES","SCOPES","HOSTS","NAME","CALL","OPEN","CLOSE","TOGGLE","PLUGINS","APP_KEYBINDINGS","DOC_MANAGER","READ","SAVE","BROADCAST","GET_STORE","GET_DOC_FACTORY","GET_DOC_TYPES","SUBSCRIBE_TO_CHANGES","UNSUBSCRIBE_TO_CHANGES","GET_DOC_FROM_NAME_TYPE","CHECK_DOCUMENT_EXISTS","DISCARD_DOC_CHANGES","RELOAD_DOC","COPY","DELETE","CREATE","SAVE_ACTIVE_EDITOR","SAVE_DIRTIES","ON","FLOW_EDITOR","UPDATE_DOC_DIRTY","DELETE_DOC","UPDATE_DOCS","LOAD_DOCS","SAVE_DOC","BEFORE_SAVE_DOC","TABS","OPEN_EDITOR","UPDATE_TAB_ID","FOCUS_ACTIVE_TAB","GET_ACTIVE_TAB","ACTIVE_TAB_CHANGE","RIGHT_DRAWER","ADD_BOOKMARK","SET_BOOKMARK","REMOVE_BOOKMARK","RESET_BOOKMARKS","CHANGE_BOOKMARK","DIALOG","NEW_DOC","SAVE_OUTDATED_DOC","CONFIRMATION","COPY_DOC","FORM_DIALOG","SELECT_SCOPE_MODAL","CLOSE_DIRTY_DOC","CUSTOM","CUSTOM_DIALOG","ALERT","SHOW","MAIN_MENU","EXPLORER","PLACEHOLDER","FLOW_EXPLORER","ADD_NODE","SYSTEM_BAR","TABLE_KEYS_NAMES","EMPTY_MESSAGE","PARAMETERS","ENVVARS","COMMANDS","DIALOG_TITLE","SAVE_OUTDATED_DOC_ACTIONS","DEFAULT_KEY_VALUE_DATA","name","description","type","ROS_VALID_NAMES","RegExp","ROS_VALID_NAMES_VARIATION","ALERT_SEVERITIES","LINK_DEPENDENCY","ALL_DEPENDENCIES","LABEL","VALUE","COLOR","ONLY_FROM","ONLY_TO","NO_DEPENDENCIES","DOCK_POSITIONS","DOCK","WINDOW","MAX","FLOAT","DOCK_MODES","FLOW_EXPLORER_PROFILE","title","HOMETAB_PROFILE","SHORTCUTS_PROFILE","DEFAULT_TABS","Map","entries","DEFAULT_LAYOUT","dockbox","children","tabs","windowbox","maxbox","floatbox","MOVAI_FLOW_TYPES","MESSAGES","ERROR_MESSAGES","INVALID_NAME","NAME_IS_MANDATORY","SOMETHING_WENT_WRONG","DATA_VALIDATION_FAILED","FILE_DOESNT_EXIST","FAILED_TO_SAVE","ERROR_RUNNING_SPECIFIC_CALLBACK","TYPE_NAME_IS_MANDATORY","INSTANCE_NAME_IS_MANDATORY","INVALID_TYPE_NAME","INVALID_INSTANCE_NAME","MULTIPLE_ENTRIES_WITH_SAME_NAME","NO_TRANSPORT_PROTOCOL_CHOSEN","NO_PACKAGE_CHOSEN","NO_MESSAGE_CHOSEN","WARNING_MESSAGES","SUCCESS_MESSAGES","SAVED_SUCCESSFULLY","CALLBACK_CREATED","PluginManagerIDE","instance","engine","Engine","manager","PluginManager","topics","install","plugin","register","pluginName","activatePlugin","isRegistered","values","pluginTopics","_plugin","_topics","topicName","on","lambda","profile","plugins","getInstance","getPlugin","IDEPlugin","_topic","console","log","pluginManager","addTopic","Plugin","EDITORS","DocManager","methods","Array","from","Set","event","hasDirties","preventDefault","_event","getStores","store","getDirties","doc","serialize","scope","discardDocChanges","getIsNew","emit","destroy","onbeforeunload","onBeforeUnload","onunload","onUnload","docSubscriptions","saveStack","observer","onLoad","onStoreLoad","onUpdate","action","onStoreUpdate","onDocumentDirty","onDocumentDeleted","docsMap","workspace","docManager","editor","Store","docsFactory","callback","serializeToDB","set","has","docFactory","read","modelKey","getStore","checkDocExists","loadDoc","readDoc","Promise","reject","opts","thisDoc","isNew","isDirty","isOutdated","setData","Document","doSave","onSubmit","updatedDoc","onClose","ignoreNew","placeholder","newName","returnMessage","success","saveDoc","model","preventAlert","message","severity","warn","tab","save","newDoc","copyDoc","deleteDoc","some","getScope","_","defaultFunction","logToConsole","getRefComponent","Component","RefComponent","forwardRef","props","ref","randomId","c","crypto","getRandomValues","Uint8Array","getIconByScope","TAB_ICON_COLORS","Callback","Layout","Flow","Node","Configuration","getTabIconColor","homeTabIcon","src","movaiIcon","alt","maxWidth","className","Annotation","GraphicScene","HomeTab","ShortcutsTab","Default","getNameFromURL","splittedUrl","split","validateDocumentName","Utils","buildDocPath","boolToPythonOptions","true","false","PythonToBoolOptions","True","False","boolToPython","parseKeybinds","shortcuts","sep","parsedShortcuts","isArray","stopPropagation","withTheme","useState","setTheme","useEffect","currentTheme","getTheme","body","classList","add","ThemeProvider","handleToggleTheme","newTheme","appDialogTitleStyles","makeStyles","margin","padding","spacing","closeButton","position","right","top","palette","grey","appDialogStyles","_theme","dialogContent","minWidth","DialogTitle","hasCloseButton","classes","disableTypography","Typography","variant","IconButton","onClick","AppDialog","useTranslation","actions","closeOnBackdrop","submitText","testId","open","setOpen","handleClose","reason","dividers","propTypes","PropTypes","defaultProps","ConfirmationDialog","loadingContainer","height","width","display","alignItems","justifyContent","textfield","DEFAULT_VALIDATION","error","FormDialog","size","onPostValidation","multiline","loadingMessage","defaultValue","maxLength","onValidation","inputLabel","isLoading","setLoading","setValue","validation","setValidation","inputRef","useRef","setTimeout","focus","validateValue","_value","res","_closeEvent","handleSubmit","fullWidth","CircularProgress","autoFocus","helperText","label","InputLabelProps","shrink","onPaste","oldValue","selectionStart","pastedText","clipboardData","getData","trim","newValue","onKeyPress","evt","onChange","inputProps","disabled","NewDocumentDialog","err","docExists","useNewDocument","alertBeforeActionStyles","icon","float","marginRight","whiteSpace","alertDialogStyles","container","AlertDialog","AlertBeforeAction","showAlertIcon","fontSize","DialogContentText","Dialog","oldScope","targetElement","_handleDialogOpen","ReactDOM","_handleDialogClose","docName","dontSave","cancel","docType","closeModal","DialogComponent","selected","scopeList","ThemedModal","SelectScopeModal","allowArchive","onCancel","selectedItem","BODY_CLASS_NAME","containerElement","getElementById","hotkeys","Alerts","snackbar","modal","DEFAULT_PLUGIN","off","onTopic","HostReactPlugin","_profile","_view","_viewName","_viewPluginProps","withHostReactPlugin","ReactComponent","InnerHost","React","useHostReactPlugin","hostName","viewPlugins","componentRef","elements","setElements","setPlugin","InnerPlugin","_name","name2Component","initMethods","view","viewName","BottomBar","CentralPanel","ViewPlugin","existingPlugin","render","withViewPlugin","otherProps","usePluginMethods","active","bookmark","selectBookmark","handleOnClick","useCallback","placement","unselectedBookmark","loaderStyles","flexDirection","overflow","exposedMethods","DrawerPanel","isLeft","isOpen","anchor","initialOpenState","primary","drawer","transition","toggleDrawer","prevState","openDrawer","closeDrawer","Drawer","component","pluginMethods","getValidBookmark","bookmarks","setBookmarks","setActive","renderedView","setRenderedView","drawerRef","oppositeSide","getOpositeSide","side","bookmarksContainer","bookmarkHolder","panel","border","secondary","bookmarkStyles","addBookmark","activeBookmark","isDefault","shouldOpen","newActive","newBookmarks","removeBookmark","otherBookmarks","prevActiveState","resetBookmarks","setBookmark","close","toggle","renderBookmarks","withBookmarks","SidePanel","TopBar","AbstractHost","menuButtonStyles","lineHeight","textTransform","borderRadius","systemMenuStyles","popper","listHolder","marginTop","menuDivider","systemMenuItemStyles","listItem","menuButton","fontFamily","paddingLeft","opacity","verticalAlign","keybind","paddingRight","fontStyle","subMenuHolder","boxShadow","transform","helpDialogStyles","contentHolder","MenuItem","closeMenu","externalLink","renderSubMenu","subItem","handleOptionClick","SystemMenu","menuOpen","anchorEl","TransitionProps","timeout","onClickAway","menuOpened","NotInstalled","useTheme","text","APP_TOOLS","getToolTabData","tabData","tabTitle","extension","getTabData","parent","hasTool","KEYBINDINGS","GENERAL","DESCRIPTION","KEYBINDS","OPEN_WELCOME_TAB","SHORTCUTS","OPEN_SHORTCUTS_TAB","SAVE_ALL","EDITOR_GENERAL","CANCEL","MONACO_SPECIFIC","CHANGE_ALL_OCURRENCES","COMMAND_PALETTE","UNDO","REDO","CUT","PASTE","FLOW","COPY_NODE","PASTE_NODE","MOVE_NODE","SEARCH_NODE","RESET_ZOOM","APPLICATION_DATA","Application","BRANDING","AppSettings","LOGO","HELP","DOCUMENTATION","FORUM","APP_INFORMATION","VERSION","Version","LAST_UPDATE","LastUpdate","CONFIGURATION_FILE","CUSTOM_CONFIGURATION_FILE","CustomConfiguration","Description","Label","buildNewFileSubmenu","menu","docTypes","getUrl","getName","alert","confirmationAlert","LocalStorage","localStorage","parse","hasKey","Workspace","user","User","APP_NAME","USER_NAME","getUsername","storage","TABS_KEY","TAB_STACK_KEY","LAYOUT_KEY","SELECTED_ROBOT_KEY","RECENT_DOCUMENTS_KEY","DEBUGGING_FLOW_KEY","layoutAndTabs","getLayoutAndTabs","layout","tabStack","getTabStack","defaultTabStack","reduce","recentDocuments","getRecentDocuments","selectedRobot","getSelectedRobot","defaultRecentDocuments","getStoredTabs","tabsObj","fromEntries","storedTabs","dock","isFlowDebugging","robotId","sharedStyles","paper","flex","columnTitle","columnBody","flexFlow","homeTabStyles","column","footer","marginBottom","socialIconBadge","paddingBottom","movaiLogo","quickAccessStyles","link","fontWeight","cursor","main","textDecoration","linkIcon","recentDocumentsStyles","flexTitle","recentPaper","maxHeight","clearIcon","examplesDocumentsStyles","examplePaper","cardDivider","columnExample","defaultMessage","textAlign","homeTabCardStyles","card","haveImage","exampleImage","objectFit","cardHeader","cardBody","cardFooter","cardIcon","avatar","marginLeft","paragraph","externalLinkButton","externalLinkLabel","homeTabLinkStyles","deleteDocument","visibility","row","deleted","iconLink","iconFont","QuickAccess","setDocTypes","_docTypes","ContextMenu","menuList","rel","filter","tool","quickAccess","Icon","openTool","openRecentDocument","removeRecentDocument","isDeleted","rowClasses","handleOpenDocument","handleDeleteDocument","Tooltip","arrow","docUrl","disableFocusListener","disableHoverListener","disableTouchListener","underline","RecentDocuments","workspaceManager","recentDocs","setRecentDocs","setRecentDocuments","documents","filterRecentDocuments","addRecentDocument","shift","setDeletedRecentDocument","deletedDoc","find","handleRemoveRecentDocuments","reverse","example","openDocument","imageLink","endIcon","imageDescription","HOME_EXAMPLES","Examples","openExistingDocument","getExamples","getDefaultMessage","useMemo","FILE_URL","withAlerts","shortcutsStyles","smallColumn","bigColumn","shortcutsListStyles","borderBottom","listContent","shortcutsTableStyles","ShortcutsList","scopes","selectedScope","setSelectedScope","isSelectedScope","scopeId","handleChangeScope","newScope","currentTarget","Paper","Divider","materialTableStyles","tableContainer","MaterialTable","columns","editable","detailPanel","components","defaultTableRef","openedPanels","toggleDetailPanelHandler","tableRef","onToggleDetailPanel","path","state","rowStyle","rowIndex","search","searchFieldAlignment","actionsCellStyle","actionsColumnIndex","draggable","grouping","paging","localization","toolbar","searchPlaceholder","pagination","labelDisplayedRows","header","emptyDataSourceMessage","deleteTooltip","editTooltip","addTooltip","editRow","cancelTooltip","saveTooltip","ShortcutsTable","field","rd","shortcut","AppShortcuts","shortcutsData","formattedData","formatData","s","renderPopupInfo","saveDocument","saveAllDocument","aboutPopup","movaiIconWhite","openLink","toolName","buildHelpMenu","buildToolsMenu","buildMenu","buildFileMenu","tools","toolBar","hasHomeTab","hasShortcutsTab","hasDocumentation","Boolean","hasForum","el","SystemBar","debugMode","openedMenuId","setOpenedMenuId","setAnchorEl","setMenuOpen","systemMenus","setSystemMenus","systemBar","activeMenu","systemBarStyles","dialogClasses","parentElement","dataset","menuId","handleClickMenu","_prevState","newState","newMenuId","newAnchorEl","buildMenus","activeButtonClass","AlertPanel","searchStyles","input","iconButton","onSearch","searchInput","setSearchInput","TextField","InputProps","endAdornment","VirtualizedTree","itemData","rowRender","fixedHeight","fixedWidth","defaultRow","rowProps","FixedSizeList","itemCount","itemSize","listItemsTreeWithSearchStyles","itemRowStyles","spaceBetween","preContainer","boxSizing","ellipsis","textOverflow","displayContents","iconSpace","bottom","contextMenuIcon","ItemRow","showIcons","node","textElementRef","hoverStatus","setHover","compareSize","compare","scrollWidth","clientWidth","addEventListener","removeEventListener","onMouseEnter","onMouseLeave","onClickNode","onDoubleClick","onDoubleClickNode","p","inlineFlex","alignContent","expanded","styledMenuProps","anchorOrigin","vertical","horizontal","transformOrigin","_evt","handleCopyClick","handleDeleteClick","toggleExpandRow","nextData","isExpanded","elem","ListItemsTreeWithSearch","setItemData","normalizeData","dataToNormalize","finalData","sort","localeCompare","childNode","searchFilter","searchData","valueLower","toLowerCase","filteredNodes","includes","findIndex","ch","child","grandChild","j","List","dense","ListItem","searchValue","explorerStyles","typography","Explorer","pushSorted","nameA","nameB","x","docData","documentName","documentType","newData","typeIndex","documentIndex","addDocument","requestScopeVersions","handleCopy","resolve","copiedDoc","deepness","handleDelete","statusText","loadDocs","getDocs","childId","updateDocs","updateByActionMap","del","MainContext","selectedTheme","handleLogOut","mainMenuStyles","mainMenuHolder","MainMenu","useContext","isDarkTheme","MENUS","_props","isActive","getOnClick","mainMenu","handleLogoutClick","VerticalBar","unsetAccountAreaPadding","upperElement","navigationList","lowerElement","ProfileMenu","version","handleLogout","dockRef","activeTabId","firstLoad","tabsById","setLayout","removeNewTabsFromStack","thisStack","newStack","dockStack","setTabStack","removeTabFromStack","tabId","addTabToStack","getNextTabFromStack","onAppUnload","useTabStack","openNonEditorTabs","lastTabs","currentActiveTabId","setTabs","updateTab","findTab","focusExistingTab","maxboxChildren","dockMove","getDockFromTabId","panelId","v","layoutActiveIdIsValid","_layout","layoutActiveId","activeId","tabExists","newActiveTabId","applyLayout","_getFirstContainer","boxData","_getTabContainer","box","containerBox","boxChildren","_setTabInLayout","prevLayout","prevTabId","newLayout","substring","lastIndexOf","tabIndex","_el","_getCustomTab","onCloseTab","onAuxClick","_saveDoc","_discardChanges","_closeDirtyTab","triggerAction","_onLayoutRemoveTab","forceClose","_closeTab","currentLayout","saveLayout","locations","maxboxMainTab","_updateDocDirty","currentTabData","currentDirtyState","newTabData","currentTab","installTabPlugin","viewPlugin","_getTabData","EXTENSION","getDefaultTabPosition","tabPosition","dockPosition","h","w","y","z","firstContainer","openEditor","keepBookmarks","loadTab","tabFromMemory","closable","onLayoutChange","direction","updateTabId","f","getActiveTab","focusActiveTab","lastLayout","allSettled","_tabs","status","tabsStyles","borderColor","borderTopLeftRadius","borderTopRightRadius","left","Tabs","useTabLayout","contains","activeTabEl","panelActiveTab","Placeholder","installEditor","editorPlugin","otherPlugins","addEditor","pluginDescription","installTool","addTool","logo","links","appName","leftPanel","borderRight","mainGrid","flexGrow","sidePanel","centralPanel","rightDrawer","borderLeft","bottomBar","setLogo","documentation","forum","keepBase","baseShortcuts","setShortcuts","Provider","Style","onContextMenu","getHostedPlugins","symbols","timer","enabled","Model","date","enableObservables","getWorkspace","details","isLoaded","json","Reflect","setOutdated","setDirty","arguments","getId","getDetails","getVersion","args","serializeOfDB","Observable","Proxy","observables","dispatch","enable","subscribers","fn","clear","Schema","schema","validate","otherArgs","BaseModel","Manager","propName","events","subscribe","EVENTS","getItem","preventEmit","prevName","oldItem","setName","setItem","output","anyFn","object","Command","OBSERVABLE_KEYS","getValue","getDescription","Value","EnvVar","Parameter","defaults","getType","Type","TYPE","PortType","parameters","getParameters","getMessage","getCallback","Message","Port","onAny","propsUpdate","template","msgPackage","portIn","portOut","getTemplate","getPackage","getPortIn","getPortOut","Info","Template","Package","In","Out","Id","code","SCOPE","getCode","getExtension","Yaml","CODE","DETAILS","StorePluginManager","initPlugins","StoreAbstractPlugin","Subscriber","pattern","_onLoad","_onUpdate","MasterDB","unsubscribe","BaseStore","_workspace","_model","_scope","_title","Scope","Name","protectedDocs","enableSubscriber","fetchDoc","file","getDoc","setIsNew","constructor","setIsLoaded","delDoc","next","generateName","setDoc","setId","event2actionMap","updateDoc","deleteDocFromStore","docContent","isProtected","_prop","getDirty","subscriber","getUpdateDoc","onDocumentUpdate","renameDoc","_data","payload","overwrite","ofJSON","promises","DBSubscriber","iStore","getPattern","generateId","clearTimeout","updateDocument","patterns","updatedData","currentData","filteredData","_schema_version","shouldUpdate","overwriteDoc","objOne","objTwo","_isEqual","serialized","ConfigurationStore","scopeRef","activateKeyBind","addKeyBind","keysToBind","removeKeyBind","keysToUnbind","deactivateKeyBind","updateRightMenuRef","resetRightMenu","initRightMenu","editorRef","_updateRightMenu","renderRightMenu","updateRightMenu","minHeight","loaderContainer","loaderImage","linearProgress","loader","LinearProgress","loading","DataHandler","modelRef","Children","cloneElement","withDataHandler","composeDecorators","decorators","withFirstDecorator","otherDecorators","composed","withEditorPlugin","EditorComponent","editorContainer","activateEditor","activateThisKeys","onFocus","onBlur","DecoratedEditorComponent","withMenuHandler","withLoader","withKeyBinds","useDataSubscriber","keysToDisconsider","propsData","setDetails","subscriberId","newDetails","detailsMenuStyles","detailsName","sx","bgcolor","ListItemText","divider","detailsProp","configurationStyles","codeContainer","appBar","menuName","menuTitle","AppBar","Toolbar","ToggleButtonGroup","exclusive","newExtension","setExtension","ToggleButton","MonacoCodeEditor","setCode","onSave","PyLib","libClass","getModule","getClass","Module","Class","pyLibs","newPyLibs","getPyLibs","Code","Py3Lib","MESSAGE","Helper","cloudFunction","functionName","Rest","cbName","func","response","getAllLibraries","libs","getAllMessages","messages","CallbackStore","MinusSquare","PlusSquare","CloseSquare","StyledTreeItem","withStyles","iconContainer","group","alpha","MaterialTree","multiSelect","onNodeSelect","onSelectItem","recursiveObjectTree","elementId","nodeId","innerKey","parentElementId","_getObjectTreeItem","selectedNodes","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","defaultEndIcon","recursiveArrayTree","array","arePropsEqual","prevProps","nextProps","normalizeString","str","normalize","searchQuery","subject","EXCLUDED_PATHS","_normalizeString","searchImports","allImports","_children","aux","found","_searchInnerKeys","useStyles","setPyLibs","filteredLibs","setFilteredLibs","selectedLibs","setSelectedLibs","helper","_debounce","DialogContent","_selectedLibs","pyLibSelected","libPath","modulePath","_path","pop","DialogActions","Button","treeRoot","overflowY","overflowX","selectedMessage","setMessages","filteredMsg","setFilteredMsg","selectedMsg","setSelectedMsg","_updateMessages","messagesStruct","pack","idx1","idx2","isLeaf","allMessages","searchMessages","msgs","_selectedMessage","menuStyles","itemValue","itemLibValue","activeItem","setActiveItem","deleteImport","pyLib","deleteItem","addImports","setMessage","msg","handleEditMessageClick","EditMessageDialog","handleAddImportsClick","AddImportDialog","handleExpandClick","currentActiveItem","parseInt","handleRemoveMessage","_item","getComposedName","libModule","getImportsList","importList","lib","getImports","ListItemSecondaryAction","edge","button","Collapse","in","unmountOnExit","persistent","launch","remappable","packageDep","envVars","commands","ports","parameter","renameItem","updateItem","varName","setKeyValue","currName","updateKeyValueItem","getKeyValue","deleteKeyValue","portId","portName","callbackName","getPorts","setCallback","parameterName","setParameter","getPath","getPersistent","getPackageDep","getLaunch","getRemappable","getEnvVars","getCommands","Path","Persistent","Launch","Remappable","PackageDepends","CmdLine","PortsInst","PATH","PERSISTENT","LAUNCH","REMAPPABLE","PACKAGE_DEP","callbackPatterns","EMPTY_ARROW_FN","formCallbackObject","messageData","labelData","scopeCallback","getAllTransportProtocol","scopePorts","portsPattern","Ports","getPortsData","scopeSystemPortsData","getScopeCallback","NodeStore","parametersDialogStyles","valueOptions","disabledValue","keyValueEditorDialogStyles","accordion","accordionSummary","noHorizontalPadding","COMPONENTS","KeyValueEditorDialog","nameValidation","valueValidation","disableName","disableDescription","showDescription","renderCustomContent","renderValueEditor","showDefault","getValidationComponent","onChangeName","isValid","onChangeDescription","onChangeValue","FormControl","minRows","maxRows","InputLabel","expandIcon","AbstractDataType","defaultStringEditor","_toString","rowData","onLoadEditor","disableMinimap","bind","editComponent","stringEditComponent","dialog","codeEditComponent","parsedValue","AnyType","DataType","checkIfDefaultOrDisabled","ArrayType","parsed","getParsedValue","BooleanType","pyValue","booleanEditComponent","pythonToBool","usePythonValue","Checkbox","checked","boolValue","ConfigurationType","NumberType","parseValueToFloat","isNaN","parseFloat","ObjectType","StringType","editorByMode","DataTypeManager","selfProvision","dataTypes","setDataType","dataTypeInstance","getKey","dataTypeManager","getValidValue","typeInst","getLabel","dataType","getDataTypes","excluded","getTypeKeys","getEditComponent","VALUE_OPTIONS","ParameterEditorDialog","disableType","customValidation","preventRenderType","showValueOptions","valueOption","setValueOption","useDataTypes","renderValue","getValueOption","valueToRender","formData","formValue","valueToSave","onValidate","dataToValidate","dataToSubmit","handleTypeChange","handleChangeValueOption","opt","renderTypeSelector","Select","renderValueOptions","RadioGroup","FormControlLabel","control","Radio","paramType","collapsibleHeaderStyles","heading","flexBasis","CollapsibleHeader","KeyValueTable","onRowDelete","openEditDialog","tooltip","actionTitle","isFreeAction","isEditable","isDeletable","descriptionStyles","center","flexWrap","nodeTypeMini","textField","typeContainer","NODE_COLORS","nodeType","sameDescription","HtmlTooltip","accent","pxToRem","executionParamStyles","centerCheckboxTooltip","formControlLabel","noMargin","ExecutionParameters","onChangePath","onChangeExecutionParams","openTooltip","setOpenTooltip","handleTooltipClose","triggeredBy","handleTooltipToggle","renderCheckbox","keyName","checkboxValue","PopperProps","disablePortal","filtPrevProps","filtNextProps","param","ParametersTable","defaultColumns","typeColumn","tableData","columnOrder","cellStyle","dataId","configColumnsStyles","formHolder","formControl","sortByLabel","getGroupOptions","groupedObj","groupIndex","templateKey","transport","protocol","option","existingGroup","groupObj","insertInAlphabeticalOrder","getPackageOptions","dataObj","Data","getMessageOptions","useSelectOptions","renderOptions","optionIndex","renderPortIcon","inIcon","outIcon","getNameEditComponent","columnDef","getTransportEditComponent","NativeSelect","packageOptions","messageOptions","onRowDataChange","transportIndex","protocolIndex","getPackageEditComponent","getMessageEditComponent","getColumns","defaultSort","gridContainer","titleColumn","circle","callbackStyles","actionColumn","iconPadding","hoverColor","parametersStyles","ioPort","protectedCallbacks","handleNewCallback","handleOpenCallback","handleOpenSelectScopeModal","openSelectScopeModal","selectedIoPort","openCallback","createNewCallback","xs","Edit","AddBox","paramValue","handleIOPortsInputs","rowDataName","handleOnChange","ioConfigStyles","pointerEvents","toolbarComponents","IOPortStyles","ioPortTitle","portBase","paddingLR","renderIoPort","ioPortIndex","portData","disableAccordion","getPortIcon","paramIndex","classNames","IOConfig","tableContainerRef","ioConfig","onIOConfigRowSet","onIOConfigRowDelete","setScopePorts","setScopeSystemPortsData","ioData","setIOData","getEffectiveMessage","configRowData","generalMsg","generalPkg","receivedMsg1","receivedMsg2","useIOConfigColumns","updateLockRows","editingRow","dataManager","lastEditingRow","addingRow","formatPortData","effectiveMessage","setPortDataIn","setPortDataOut","handleRowAdd","handleRowUpdate","oldData","templateChanged","out","handleRowDelete","renderDetailPanel","panelData","onRowAdd","onRowUpdate","MTableToolbar","EditRow","MTableEditRow","onEditingCanceled","onEditingApproved","sameConfig","sameProtectedDocs","keyValueHookStyles","nodeStyles","setProtectedCallbacks","renderInfoIcon","sorting","useKeyValueMethods","validateName","paramName","previousData","typeName","toUpperCase","re","previousName","checkNewName","updatePortCallback","ioConfigId","setPortCallback","updateKeyValue","dataToSave","handleOpenEditDialog","objData","defaultMsg","ioConfigName","CallbackModel","modalData","selectedCallback","splitURL","setDescription","updatePort","deletePort","setPort","port","ioPortKey","setPortParameter","setPath","setExecutionParameter","ExposedPorts","removePort","addPort","PORTS","ExposedPortsManager","val","nodeTemplate","nodeInstances","nodeInstanceName","toggleExposedPort","nodeInstance","exposed","newValues","exposedPorts","addNodeInstance","getExposedPortsByTemplate","addTemplate","getOrCreateByNodeInstance","getOrCreateByTemplate","togglePort","removeEmpties","_key","_obj","templateName","nodeInstanceObj","IdBased","Group","getEnabled","IdBasedModel","ENABLED","Link","to","dependency","getFrom","getTo","getDependency","From","To","Dependency","ID","FROM","TO","DEPENDENCY","Position","getX","getY","X","Y","NodeInstance","propEvents","groups","groupId","indexOfGroupId","POSITION","getPosition","getGroups","NodeLabel","NodeLayers","Visualization","TEMPLATE","GROUPS","SubFlow","ContainerLabel","ContainerFlow","IdBasedManager","deletedLinks","getLinks","getNodes","deleteLink","getExposedPorts","deleteExposedPorts","subFlows","flowId","nodes","getNodeInstances","getSubFlows","groupName","thisGroup","getGroup","paramId","deleteNodeLinks","deleteNodeExposedPorts","subFlowId","linkId","dependecyLevel","setDependency","nodeName","getValueToSave","hasItems","NodeInst","Container","Links","Layers","getDefaultRobot","defaultRobot","robotName","sendToRobot","flowPath","FlowStore","KEYS","Clipboard","Vec2","vec","op","acc","Math","sqrt","dot","scale","fromArray","biLambda","fold","initial","vector3","MAX_MOVING_PIXELS","CANVAS_LIMITS","FLOW_VIEW_MODE","ROBOT_BLACKLIST","RobotBlackList","NODE_TYPES","TYPES","generateContainerId","EVT_NAMES","EVT_TYPES","commonStyles","headerStyles","linesHolderStyles","lineStyles","paddingTop","borderTop","warningsStyles","green","info","warning","amber","clickableSnack","iconVariant","invalidLinksWarningStyles","invalidLinksHeader","invalidLinksMessageHolder","invalidLinkHolder","fixMessage","invalidParametersWarningStyles","invalidParametersHeader","invalidParametersMessageHolder","postMessage","invalidExposedPortsWarningStyles","invalidExposedPortsHeader","invalidExposedPortsMessageHolder","parameterLineStyles","invalidParameterHolder","paramsList","linkButton","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","Warnings","warnings","isVisible","html","clsx","dependencyInfoStyles","infoContainer","colorChip","minified","setMinified","toggleMinify","dep","convertVisualization","convertTypeCss","isMiniature","clickableAreaClass","templateClass","belongLineBuilder","x1","y1","x2","y2","d3","append","attr","parseDocumentPath","splittedPath","basePath","flattenObject","prefix","separator","pre","assign","BaseNodeStruct","_ports","Max","max","portsSpacing","getNrOfPorts","nrOfPorts","getHeight","initX","initY","minSize","posX","posY","xCenter","yCenter","_visible","acceptsAny","isLinkeable","dataA","dataB","msgA","msgB","checkAny","every","portsAny","BasePortStruct","Exposed","origin","package","BasePort","availableInReadOnly","visible","callFunction","onMouseOver","onMouseOut","onContext","msgPA","msgPB","linking","unlinkeable","setClass","requiredKeys","cssExposed","addEvents","cx","cy","radius","eventsOn","nodeSize","canvas","arr","p2","BaseNodeHeader","dx","dy","unselectable","parsedText","parseText","selectAll","enter","BaseNodeStatus","_loading","_status","requestAnimationFrame","animate","statusAnimation","ease","duration","_loadingTimeout","STYLE","BaseNode","maxPadding","select","onMouseDown","onDblClick","addDrag","_drag","handler","onDragStart","onDragEnd","onDrag","inBoundaries","setPosition","targetElementType","targetClasses","baseVal","isPort","shiftKey","setMode","hoveredNode","handleSelectionChange","dbClickTimeout","delta","previous","setPreviousMode","_template","updateSize","addPorts","renderHeader","renderStatus","renderPorts","updatePosition","noReloadRequired","addToCanvas","currMode","trg","toCreate","selectNode","stroke","isNotInnerTemplate","updateTemplate","nodeGroups","hide","groupItem","pkey","_omit","setLinking","params","debounce","_header","_selected","onSelected","renderBody","containerId","headerPos","onPortClick","onPortMouseOver","elementMouseIsOver","elementFromPoint","onPortMouseOut","onPortContext","portBuilder","builder","pNode","pData","pEvents","portEvents","portInstName","fmtPortName","portSize","getPortsInitialPos","selection","visualizationData","offsetX","START_NAME","StartNode","Paramater","start","orthoPath","getBaseVars","x0","xSc","xTc","srcSize","trgSize","isLink","isFeedBack","simplePotentialV","x01","handleInOut","x11","sub","linePath","dx0","dx01","dot0","proj0","ortho0","pinSrcV","projPin0","projPinSrcV","halveHSrc","ratio0","x02","dx1","dx11","dot1","proj1","ortho1","pinTrgV","projPin1","projPinTrgV","halveHTrg","ratio1","x12","ans","dx2","isEntangled","toObject","potential","getInitialState","xOut","updateState","force","dt","isFinalState","xIn","dtBound","bound","sidePoints","potentialVars","d0","d1","forceTrg","oldForce","src_","defaultNode","trg_","min","Maybe","orSome","baseLinkStyles","_default","overWidth","SEPARATOR","BaseLinkStruct","sourceNode","sourcePort","targetNode","targetPort","sourceFullPath","targetFullPath","method","pathPoints","generatePathPoints","curve","d2","maxMovingPixels","_transparent","styleTransparent","BaseLink","flowDebugging","onLinkErrorMouseOver","calculatePath","renderPath","calculateLine","getStrokeColor","changeStrokeColor","styleMouseOver","selectedLink","activelyLinking","fadeOtherLinks","mouseover","_isSelected","styleMouseOut","removeLinksFade","linkType","refreshPath","linkExists","portA","portB","getSrcTrg","_links","nextLink","done","cond","temporaryDependency","initialize","transparent","dependecy","strokeColor","linksData","getNodePort","plink","_node","rPort","InvalidLink","MisMatchMessageLink","dataPort","fixError","sourceMessage","targetMessage","ClassicNode","BaseContainerNode","ContainerNode","postInit","failSafe","expTemplates","flattenData","templateValue","isSubFlow","isFlow","joinStr","docPath","getPort","portsInst","toLocaleLowerCase","portObj","PortsLabel","pInst","startsWith","portParts","_docPath","_portName","getNodeInstTemplate","flowName","_factory","OUTPUT","CONTAINER","flow","isNodeInst","nodeInst","containerName","subNodeName","subFlowName","errorMsg","NODE","TemporaryContainerNode","TemporaryNode","customNode","TEMPLATE_LABEL","TreeNodeHeader","templateType","ret","FILL_CLIP_RULE","InputPort","scaleTo","containerBuilder","OutputPort","Expanded","circleBuilder","Collapsed","TreeNodePortLink","templatePath","targetTemplatePath","sourceTemplatePath","xPosition","getIcon","templates","getTemplates","parseNodePort","nodePort","miniature","mini","ondblclick","onDblClickMini","onclick","textBuilder","pathLength","portArray","TreeNodePort","_linksObject","linkObj","linksHeightSum","getBBox","CollapsableItem","onToggleCollapsePorts","_timerToUpdate","_childrenContainer","renderChildren","collapse","updateBelongLines","removeBelongLine","updateChildrenPosition","TreeNode","_type","currentStatus","addLinks","renderPortsHeader","updateLinks","parentPos","previousBrotherPos","State","_displayPorts","addLink","sourceCount","targetCount","finalSourcePort","formatPort","finalTargetPort","collapsableItem","isParentExpanded","dummyNode","_collapsablePorts","_belongLine","addChild","nodePosX","nodePosY","getAbsolutePosition","nodeContainer","parentContainer","offset","childPos","lineY","getRootNode","previousBrother","statusLoading","isReady","unshift","getNodePath","renderChild","getLinkPorts","checkLink","childrenLinks","removeLink","portsHeightSum","updateLinksPosition","drawBelongLine","rootNode","getPreviousBrother","refPos","getReferenceOriginPos","getBelongLinePoints","lineX","TreeClassicNode","PreviewNode","PreviewClassicNode","PreviewContainerNode","containerTemplate","TreeContainerNode","_collapsableItem","_displayChildren","_timerToUpdateHeader","_renderingMode","getExposedName","_addPorts","updateChildrenBelongLines","childrenHeightSum","updatePortsPosition","maxWidthNode","nodeWidth","nodeHeight","is2updateParent","positionChildren","renderNodesHeader","Factory","finalObject","fact","cls","TMP_CONTAINER","aInit","PREV_NODE","PREV_FLOW","TMP_NODE","TREE_NODE","TREE_CONTAINER","WARNING_TYPES","WARNINGS","isRuntime","isPersistent","warningType","GraphValidator","graph","linksStart","linksMismatches","addDeletedLinks","linkData","isLinkFromStart","noPortsError","validatePorts","deleteLinks","invalidLinks","validateLinkMismatch","updateError","clearInvalidLinks","invalidLink","invalidExposedPorts","instExposedPorts","instName","nodeExposedPorts","invalidPorts","thisNode","exposedPort","invalidContainers","invalidParamsWarning","containerNode","instanceParams","templateParams","invalidParams","validateLinks","validateExposedPorts","validateContainerParams","instType","sourcePortPos","getPortPos","targetPortPos","extractLinkPortsPos","NODE_DATA","GraphBase","mInterface","addSubscribers","onEnter","reset","addNode","onTemplateUpdate","ep","iep","updateAll","arr1","arr2","_newState","shouldUpdateExposedPorts","setExposedPort","draggedNode","allNodes","allLinks","gnode","setPositionDelta","_link","updateTemplates","updateNodes","flowNodes","deleteNode","loadExposedPorts","validateFlow","onFlowUpdate","templateUpdatePromises","all","validator","onFlowValidated","updateNode","currentNodeData","visualizationToDB","updatedNodeData","linksToRemove","loadLinks","inst","updateData","parsedLink","parseLink","toggleTooltip","linkNodes","l","linksToDelete","wn","setParams","warningsVisibility","tempNode","Subject","onLinksValidated","getFlowIsDebugging","isDebugging","startNode","pNodes","addStartNode","loadNodes","onNodeDrag","BaseMode","onExit","AddNodeMode","InterfaceModes","_addNode","_addFlow","_addState","_linking","onMouseMove","LinkingMode","_selectNode","_nodeCtxMenu","_canvasCtxMenu","_linkCtxMenu","_portCtxMenu","_onDblClick","_onPortMouseOver","_onLinkErrorMouseOver","_onToggleWarnings","modeId","nextMode","previousMode","Events","TemporaryLink","Canvas","svg","initSvg","maxMeasures","minScale","pixMax","zoomBehavior","createZoomBehavior","brushBehavior","createBrushBehavior","addDefs","addCanvas","addLinksCanvas","el_container","docFragment","createDocumentFragment","FlowModel","docFrag","cameraUpdate","pixMin","scaleExtent","translateExtent","lowScale","maxScale","currentZoom","endBrush","extent","keyModifiers","brushCanvas","move","selectNodes","delBrushCanvas","getSvg","defs","isBrushing","onKeyDown","onKeyUp","onAddNodeEnter","onAddNodeExit","addFlow","onAddFlowEnter","onAddFlowExit","addState","onAddStateEnter","onAddStateExit","onLinkingEnter","onLinkingExit","minX","maxX","minY","maxY","lower","CustomEvent","dispatchEvent","newPosition","mousePos","invert","onAddNodeMouseMove","onLinkingMouseMove","isMouseOverNode","addBrushCanvas","templateId","modeEvent","factoryOutput","addNodeEnter","viewMode","editionCursor","getEditionCursor","xCoordinate","yCoordinate","getBoundingClientRect","_mouse","_hoveredNode","quad","minCorner","abs","maxCorner","nodesInsideQuad","greaterThanMinCorner","xValue","lessThanMaxCorner","selectedSet","NODE_PROPS","MODEL_ADD_METHOD","MODEL_DEL_METHOD","MainInterface","modelView","graphCls","loadData","setPrevious","nodeStatus","robotStatus","nodeStatusUpdated","newLink","toSave","onAddLink","addSubFlow","nodeData","NODE_PROP_DATA","nodePos","getPositionInBoundaries","updateExposedPorts","onDefault","drag","onSelectNode","pipe","onToggleWarnings","visitedLinks","selectedNodesSet","onLinking","filterNodes","updateWarningsVisibility","stateSub","onGroupsChange","hideLinks","resetStatus","onResetZoom","step","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","zoomToCoordinates","Graph","BehaviorSubject","baseFlowStyles","flowContainer","flowCanvas","BaseFlow","dataFromDB","onReady","graphClass","mainInterface","useMainInterface","getMainInterface","mInt","tagindex","common","groupRow","parametersContainer","groupItemStyles","nodeGroupStyles","propertiesStyles","gridAlign","menuDetailsStyles","nodeMenuStyles","linkMenuStyles","dependencyContainer","directionContainer","selectHolder","portStyles","portIcon","portRow","portCallbackLink","alignSelf","detailsSection","detailsContent","detailRow","keyValueSectionStyles","tableKeyValueStyles","searchHolder","rowKeyValueStyles","rowContainer","keyContainer","valueContainer","valueDefault","valueNone","RowKeyValue","allowEdit","allowDelete","handleParameterEditModal","handleParameterDeleteModal","viewOnly","valueType","handleKeyValueEditModal","handleKeyValueDeleteModal","renderParamRow","TableKeyValue","allowSearch","setSearchValue","invalid","GroupItem","editGroupName","handleGroupVisibility","handleGroupActive","toggleGroupVisibility","handleGroupEdit","editGroup","handleGroupDelete","deleteGroup","Menu","is2StringifyString","renderValueByType","string","boolean","openGroupModal","submitCallback","validateParamName","oldName","getParameter","handleSubmitParameter","addParameter","handleParameterDialog","renderType","newActiveItem","handleEditDescriptionClick","handleAddParameterClick","handleParamEdit","handleParamDelete","deleteParameter","handleAddGroupClick","addGroup","renderDescription","renderParameters","renderGroups","openDoc","onClickLink","ctrlKey","MenuDetails","PortsDetails","templateData","inputPorts","setInputPorts","outputPorts","setOutputPorts","_inputPorts","_outputPorts","inputs","outputs","callbacks","cb","getCallbackLink","getInternalData","portsData","portIndex","PropertyItem","onChangeProperties","getDefaultText","Grid","optIndex","PropertiesSection","properties","KeyValuesSection","deletable","handleTableKeyEdit","handleTableKeyDelete","instanceValues","templateValues","keyValues","setKeyValues","getTableValues","NodeGroupSection","flowGroups","handleBelongGroup","setGroups","NodeMenu","flowModel","groupsVisibilities","setTemplateData","setNodeData","setProtectedDocs","getNodeData","nodeInstanceItem","getNodeInstanceItem","subFlowInst","setNodeDataInst","addKeyValue","handleDeleteParameter","fetchData","updateKeyValueProp","handleKeyValueDialog","handleKeyValueDelete","removeGroup","renderExpandIcon","thisItem","buttonStyles","buttonPill","flowTopBarStyles","flowLink","whichFlowText","searchFlowArea","searchInputText","searchPopup","visualizationToggle","grow","treeIcon","FlowSearch","onEnabled","onDisabled","handleSearchNode","_e","handleSearchToggle","renderSearchPopup","_popperProps","Popper","renderSearchInput","startAdornment","InputAdornment","Autocomplete","getOptionLabel","groupBy","PopperComponent","renderInput","BACKEND_CALLBACK_NAME","ButtonTopBar","FlowTopBar","onRobotChange","onViewModeChange","searchProps","actionLoading","setActionLoading","robotSelected","setRobotSelected","robotList","setRobotList","nodeCompleteStatusUpdated","onStartStopFlow","activeFlow","isOnline","setRobotStatus","robotManager","RobotManager","selectedRobotRef","debounceDeltaRef","Date","now","nodeStatusViewModeRef","nodeStatusRef","allNodeStatusRef","isRobotOnline","timestamp","getNodesRunning","robotStatusData","nodesLchd","nodes_lchd","nodesPersistent","persistent_nodes_lchd","getNodesToUpdate","prevNodesStatus","runningNodes","splitContainer","nextNodesStatus","onlineAlert","resetNodeStatus","emptyNodeStatus","emptyAllNodeStatus","getFlowPath","_version","isFlowRunning","updateNodeStatus","targetValue","forceUpdate","Robot","Status","active_flow","allNodesStatus","robotSubscribe","robot","getRobot","property","robotUnsubscribe","path1","path2","useNodeStatusUpdate","buttonDOMRef","helperRef","commandRobotTimeoutRef","isMounted","flowInstanceRef","changeRobotSubscriber","initStoreHelper","initFlowInstance","initSelectedRobot","getRunningRobot","currentRobot","robots","robotToSelect","setSelectedRobot","onLoadRobotList","currentSelected","RobotName","getAll","canRunFlow","runtimeWarnings","setPermanentWarnings","handleChangeRobot","sendActionToRobot","blur","handleStartFlow","saveResponse","flowUrl","handleStopFlow","handleSaveBeforeStart","handleViewModeChange","newViewMode","renderStartButton","renderStopButton","robotIndex","isDefaultRobot","openFlow","bar","actionActive","alignRight","debugToggle","FlowBottomBar","barStatus","setBarStatus","allRobots","setRobots","selectedRobotName","setSelectedRobotName","runningFlow","warningVisibility","toggleFlowDebug","updateRobots","changedRobots","parseFlowName","toggleVisibility","subscribeToChanges","unsubscribeToChanges","Switch","anchorPosition","clientX","clientY","allElementsFromPoint","elementsFromPoint","ev","MouseEvent","bubbles","cancelable","anchorReference","FlowContextMenu","onNodeCopy","onCanvasPaste","onNodeDelete","onLinkDelete","onSubFlowDelete","onPortToggle","handleOptionsClick","getNodeOptions","getSubFlowOptions","getLinkOptions","getPortOptions","getCanvasOptions","MODE","ContainerMenu","flowData","setFlowData","setExpanded","getFlowData","containerInstance","getSubFlowItem","setFlowDataInst","toggleExpanded","keyValueData","flowExplorerHolder","previewStyles","previewHolder","Preview","renderNodePreview","innerHTML","selectedNode","setSelectedNode","shouldUpdatePreview","handleMouseEnterNode","handleMouseLeaveNode","LinkMenu","dependencyLevel","setDependencyLevel","parsePortName","onChangeDependency","setLinkDependency","setTemporaryDependency","getLinkDependency","FormHelperText","portTooltipContentStyles","PortTooltipContent","itemTextProps","primaryTypographyProps","secondaryTypographyProps","PortTooltip","getItems","elevation","subheader","isRequired","InvalidLinksWarning","buildTooltipTitle","testid","linkInfo","ParameterLine","subFlowInfo","InvalidParametersWarning","invalidContainerParams","ExposedPortLine","exposedPortInfo","InvalidExposedPortsWarning","GraphTreeView","_addLinkToNode","_addLinksToChildren","_nodeId","nodePath","nodeParent","newNodeName","_updateNodeStatus","tree","rootNodeData","raise","_addRootNode","_loadLinks","_loadNodes","subFlow","subFlowTemplate","level","parentId","_nodes","nodeKey","flowStyles","freeze","DETAIL","TITLE","LINK","setDataFromDB","setRunningFlow","setWarnings","setFlowDebugging","setWarningsVisibility","setViewMode","tooltipConfig","setTooltipConfig","contextMenuOptions","setContextMenuOptions","searchVisible","setSearchVisible","clipboard","mainInterfaceRef","debounceSelection","selectedNodeRef","selectedLinkRef","isEditableComponentRef","onGroupChange","updateLinkStroke","reStrokeLinks","getSelectedNodes","deleteInvalidLinks","deleteInvalidExposedPorts","portTemplate","invalidPort","clearInvalidExposedPorts","invalidLinksAlert","invalidExposedPortsAlert","invalidContainersParamAlert","pasteNodeDialog","nodeToCopy","nodeModel","validateNodeName","pasteNode","getMenuComponent","componentByModel","getNodeMenuToAdd","MenuComponent","addNodeMenu","nodeSelection","getLinkMenuToAdd","addLinkMenu","linkSelection","explorerView","newVisibility","onNodeStatusUpdate","onNodeCompleteStatusUpdated","resetAllNodeStatus","unselectNode","onNodeSelected","onLinkSelected","handleContextClose","setFlowsToDefault","appendDocumentFragment","updateAllPositions","setWarningActions","evtData","persistentWarns","validationWarnings","nodeCtxMenu","linkCtxMenu","FLOW_CONTEXT_MODE","canvasCtxMenu","portCtxMenu","onMouseOverLink","onMouseOutLink","layerX","layerY","handleFlowDebugChange","setFlowIsDebugging","handleCopyNode","nodesPos","nodesToCopy","nodesPosFromCenter","pos","write","handlePasteNodes","mousePosition","newPos","handleDeleteNode","prevValue","handleDeleteLink","handleToggleExposedPort","handleResetZoom","handleMoveNode","onMoveNode","searchNode","onFocusNode","handleSearchEnabled","handleSearchEnable","handleSearchDisabled","getSearchOptions","withDefaults","FlowView","FlowExplorer","NodeModel","NodeView","CallbackView","ConfigurationModel","ConfigurationView","HomeTabPlugin","isTool","HomeIcon","ShortcutsPlugin","KeyboardIcon","offlineValidation","provider","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB"],"sourceRoot":""}